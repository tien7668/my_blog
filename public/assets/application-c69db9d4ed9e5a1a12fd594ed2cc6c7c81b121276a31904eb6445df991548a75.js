function countChecked(){"check_all"==check_state&&$(".bulk_action input[name='table_records']").iCheck("check"),"uncheck_all"==check_state&&$(".bulk_action input[name='table_records']").iCheck("uncheck");var t=$(".bulk_action input[name='table_records']:checked").length;0<t?($(".column-title").hide(),$(".bulk-actions").show(),$(".action-cnt").html(t+" Records Selected")):($(".column-title").show(),$(".bulk-actions").hide())}if(function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(D,t){function s(t){var e=!!t&&"length"in t&&t.length,n=ft.type(t);return"function"!==n&&!ft.isWindow(t)&&("array"===n||0===e||"number"==typeof e&&0<e&&e-1 in t)}function e(t,n,i){if(ft.isFunction(n))return ft.grep(t,function(t,e){return!!n.call(t,e,t)!==i});if(n.nodeType)return ft.grep(t,function(t){return t===n!==i});if("string"==typeof n){if(Dt.test(n))return ft.filter(n,t,i);n=ft.filter(n,t)}return ft.grep(t,function(t){return-1<ft.inArray(t,n)!==i})}function n(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function d(t){var n={};return ft.each(t.match(wt)||[],function(t,e){n[e]=!0}),n}function o(){it.addEventListener?(it.removeEventListener("DOMContentLoaded",a),D.removeEventListener("load",a)):(it.detachEvent("onreadystatechange",a),D.detachEvent("onload",a))}function a(){(it.addEventListener||"load"===D.event.type||"complete"===it.readyState)&&(o(),ft.ready())}function l(t,e,n){if(n===undefined&&1===t.nodeType){var i="data-"+e.replace(At,"-$1").toLowerCase();if("string"==typeof(n=t.getAttribute(i))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:Nt.test(n)?ft.parseJSON(n):n)}catch(o){}ft.data(t,e,n)}else n=undefined}return n}function c(t){var e;for(e in t)if(("data"!==e||!ft.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function i(t,e,n,i){if(St(t)){var o,a,r=ft.expando,s=t.nodeType,l=s?ft.cache:t,c=s?t[r]:t[r]&&r;if(c&&l[c]&&(i||l[c].data)||n!==undefined||"string"!=typeof e)return c||(c=s?t[r]=nt.pop()||ft.guid++:r),l[c]||(l[c]=s?{}:{toJSON:ft.noop}),"object"!=typeof e&&"function"!=typeof e||(i?l[c]=ft.extend(l[c],e):l[c].data=ft.extend(l[c].data,e)),a=l[c],i||(a.data||(a.data={}),a=a.data),n!==undefined&&(a[ft.camelCase(e)]=n),"string"==typeof e?null==(o=a[e])&&(o=a[ft.camelCase(e)]):o=a,o}}function r(t,e,n){if(St(t)){var i,o,a=t.nodeType,r=a?ft.cache:t,s=a?t[ft.expando]:ft.expando;if(r[s]){if(e&&(i=n?r[s]:r[s].data)){o=(e=ft.isArray(e)?e.concat(ft.map(e,ft.camelCase)):e in i?[e]:(e=ft.camelCase(e))in i?[e]:e.split(" ")).length;for(;o--;)delete i[e[o]];if(n?!c(i):!ft.isEmptyObject(i))return}(n||(delete r[s].data,c(r[s])))&&(a?ft.cleanData([t],!0):ut.deleteExpando||r!=r.window?delete r[s]:r[s]=undefined)}}}function u(t,e,n,i){var o,a=1,r=20,s=i?function(){return i.cur()}:function(){return ft.css(t,e,"")},l=s(),c=n&&n[3]||(ft.cssNumber[e]?"":"px"),d=(ft.cssNumber[e]||"px"!==c&&+l)&&Bt.exec(ft.css(t,e));if(d&&d[3]!==c)for(c=c||d[3],n=n||[],d=+l||1;d/=a=a||".5",ft.style(t,e,d+c),a!==(a=s()/l)&&1!==a&&--r;);return n&&(d=+d||+l||0,o=n[1]?d+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=d,i.end=o)),o}function g(t){var e=Ut.split("|"),n=t.createDocumentFragment();if(n.createElement)for(;e.length;)n.createElement(e.pop());return n}function v(t,e){var n,i,o=0,a="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll(e||"*"):undefined;if(!a)for(a=[],n=t.childNodes||t;null!=(i=n[o]);o++)!e||ft.nodeName(i,e)?a.push(i):ft.merge(a,v(i,e));return e===undefined||e&&ft.nodeName(t,e)?ft.merge([t],a):a}function E(t,e){for(var n,i=0;null!=(n=t[i]);i++)ft._data(n,"globalEval",!e||ft._data(e[i],"globalEval"))}function T(t){qt.test(t.type)&&(t.defaultChecked=t.checked)}function m(t,e,n,i,o){for(var a,r,s,l,c,d,u,h=t.length,f=g(e),p=[],m=0;m<h;m++)if((r=t[m])||0===r)if("object"===ft.type(r))ft.merge(p,r.nodeType?[r]:r);else if(Gt.test(r)){for(l=l||f.appendChild(e.createElement("div")),c=(Wt.exec(r)||["",""])[1].toLowerCase(),u=Yt[c]||Yt._default,l.innerHTML=u[1]+ft.htmlPrefilter(r)+u[2],a=u[0];a--;)l=l.lastChild;if(!ut.leadingWhitespace&&Vt.test(r)&&p.push(e.createTextNode(Vt.exec(r)[0])),!ut.tbody)for(a=(r="table"!==c||Xt.test(r)?"<table>"!==u[1]||Xt.test(r)?0:l:l.firstChild)&&r.childNodes.length;a--;)ft.nodeName(d=r.childNodes[a],"tbody")&&!d.childNodes.length&&r.removeChild(d);for(ft.merge(p,l.childNodes),l.textContent="";l.firstChild;)l.removeChild(l.firstChild);l=f.lastChild}else p.push(e.createTextNode(r));for(l&&f.removeChild(l),ut.appendChecked||ft.grep(v(p,"input"),T),m=0;r=p[m++];)if(i&&-1<ft.inArray(r,i))o&&o.push(r);else if(s=ft.contains(r.ownerDocument,r),l=v(f.appendChild(r),"script"),s&&E(l),n)for(a=0;r=l[a++];)jt.test(r.type||"")&&n.push(r);return l=null,f}function h(){return!0}function f(){return!1}function p(){try{return it.activeElement}catch(t){}}function b(t,e,n,i,o,a){var r,s;if("object"==typeof e){for(s in"string"!=typeof n&&(i=i||n,n=undefined),e)b(t,s,n,i,e[s],a);return t}if(null==i&&null==o?(o=n,i=n=undefined):null==o&&("string"==typeof n?(o=i,i=undefined):(o=i,i=n,n=undefined)),!1===o)o=f;else if(!o)return t;return 1===a&&(r=o,(o=function(t){return ft().off(t),r.apply(this,arguments)}).guid=r.guid||(r.guid=ft.guid++)),t.each(function(){ft.event.add(this,e,o,i,n)})}function C(t,e){return ft.nodeName(t,"table")&&ft.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function y(t){return t.type=(null!==ft.find.attr(t,"type"))+"/"+t.type,t}function I(t){var e=se.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function O(t,e){if(1===e.nodeType&&ft.hasData(t)){var n,i,o,a=ft._data(t),r=ft._data(e,a),s=a.events;if(s)for(n in delete r.handle,r.events={},s)for(i=0,o=s[n].length;i<o;i++)ft.event.add(e,n,s[n][i]);r.data&&(r.data=ft.extend({},r.data))}}function R(t,e){var n,i,o;if(1===e.nodeType){if(n=e.nodeName.toLowerCase(),!ut.noCloneEvent&&e[ft.expando]){for(i in(o=ft._data(e)).events)ft.removeEvent(e,i,o.handle);e.removeAttribute(ft.expando)}"script"===n&&e.text!==t.text?(y(e).text=t.text,I(e)):"object"===n?(e.parentNode&&(e.outerHTML=t.outerHTML),ut.html5Clone&&t.innerHTML&&!ft.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===n&&qt.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===n?e.defaultSelected=e.selected=t.defaultSelected:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}}function k(n,i,o,a){i=at.apply([],i);var t,e,r,s,l,c,d=0,u=n.length,h=u-1,f=i[0],p=ft.isFunction(f);if(p||1<u&&"string"==typeof f&&!ut.checkClone&&re.test(f))return n.each(function(t){var e=n.eq(t);p&&(i[0]=f.call(this,t,e.html())),k(e,i,o,a)});if(u&&(t=(c=m(i,n[0].ownerDocument,!1,n,a)).firstChild,1===c.childNodes.length&&(c=t),t||a)){for(r=(s=ft.map(v(c,"script"),y)).length;d<u;d++)e=c,d!==h&&(e=ft.clone(e,!0,!0),r&&ft.merge(s,v(e,"script"))),o.call(n[d],e,d);if(r)for(l=s[s.length-1].ownerDocument,ft.map(s,I),d=0;d<r;d++)e=s[d],jt.test(e.type||"")&&!ft._data(e,"globalEval")&&ft.contains(l,e)&&(e.src?ft._evalUrl&&ft._evalUrl(e.src):ft.globalEval((e.text||e.textContent||e.innerHTML||"").replace(le,"")));c=t=null}return n}function _(t,e,n){for(var i,o=e?ft.filter(e,t):t,a=0;null!=(i=o[a]);a++)n||1!==i.nodeType||ft.cleanData(v(i)),i.parentNode&&(n&&ft.contains(i.ownerDocument,i)&&E(v(i,"script")),i.parentNode.removeChild(i));return t}function x(t,e){var n=ft(e.createElement(t)).appendTo(e.body),i=ft.css(n[0],"display");return n.detach(),i}function w(t){var e=it,n=ue[t];return n||("none"!==(n=x(t,e))&&n||((e=((de=(de||ft("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement))[0].contentWindow||de[0].contentDocument).document).write(),e.close(),n=x(t,e),de.detach()),ue[t]=n),n}function K(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}function S(t){if(t in Re)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=Oe.length;n--;)if((t=Oe[n]+e)in Re)return t}function N(t,e){for(var n,i,o,a=[],r=0,s=t.length;r<s;r++)(i=t[r]).style&&(a[r]=ft._data(i,"olddisplay"),n=i.style.display,e?(a[r]||"none"!==n||(i.style.display=""),""===i.style.display&&Ht(i)&&(a[r]=ft._data(i,"olddisplay",w(i.nodeName)))):(o=Ht(i),(n&&"none"!==n||!o)&&ft._data(i,"olddisplay",o?n:ft.css(i,"display"))));for(r=0;r<s;r++)(i=t[r]).style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?a[r]||"":"none"));return t}function A(t,e,n){var i=ye.exec(e);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):e}function M(t,e,n,i,o){for(var a=n===(i?"border":"content")?4:"width"===e?1:0,r=0;a<4;a+=2)"margin"===n&&(r+=ft.css(t,n+$t[a],!0,o)),i?("content"===n&&(r-=ft.css(t,"padding"+$t[a],!0,o)),"margin"!==n&&(r-=ft.css(t,"border"+$t[a]+"Width",!0,o))):(r+=ft.css(t,"padding"+$t[a],!0,o),"padding"!==n&&(r+=ft.css(t,"border"+$t[a]+"Width",!0,o)));return r}function L(t,e,n){var i=!0,o="width"===e?t.offsetWidth:t.offsetHeight,a=ge(t),r=ut.boxSizing&&"border-box"===ft.css(t,"boxSizing",!1,a);if(o<=0||null==o){if(((o=ve(t,e,a))<0||null==o)&&(o=t.style[e]),fe.test(o))return o;i=r&&(ut.boxSizingReliable()||o===t.style[e]),o=parseFloat(o)||0}return o+M(t,e,n||(r?"border":"content"),i,a)+"px"}function F(t,e,n,i,o){return new F.prototype.init(t,e,n,i,o)}function P(){return D.setTimeout(function(){ke=undefined}),ke=ft.now()}function B(t,e){var n,i={height:t},o=0;for(e=e?1:0;o<4;o+=2-e)i["margin"+(n=$t[o])]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function $(t,e,n){for(var i,o=(q.tweeners[e]||[]).concat(q.tweeners["*"]),a=0,r=o.length;a<r;a++)if(i=o[a].call(n,e,t))return i}function H(e,t,n){var i,o,a,r,s,l,c,d=this,u={},h=e.style,f=e.nodeType&&Ht(e),p=ft._data(e,"fxshow");for(i in n.queue||(null==(s=ft._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,d.always(function(){d.always(function(){s.unqueued--,ft.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],"inline"===("none"===(c=ft.css(e,"display"))?ft._data(e,"olddisplay")||w(e.nodeName):c)&&"none"===ft.css(e,"float")&&(ut.inlineBlockNeedsLayout&&"inline"!==w(e.nodeName)?h.zoom=1:h.display="inline-block")),n.overflow&&(h.overflow="hidden",ut.shrinkWrapBlocks()||d.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),t)if(o=t[i],Ae.exec(o)){if(delete t[i],a=a||"toggle"===o,o===(f?"hide":"show")){if("show"!==o||!p||p[i]===undefined)continue;f=!0}u[i]=p&&p[i]||ft.style(e,i)}else c=undefined;if(ft.isEmptyObject(u))"inline"===("none"===c?w(e.nodeName):c)&&(h.display=c);else for(i in p?"hidden"in p&&(f=p.hidden):p=ft._data(e,"fxshow",{}),a&&(p.hidden=!f),f?ft(e).show():d.done(function(){ft(e).hide()}),d.done(function(){var t;for(t in ft._removeData(e,"fxshow"),u)ft.style(e,t,u[t])}),u)r=$(f?p[i]:0,i,d),i in p||(p[i]=r.start,f&&(r.end=r.start,r.start="width"===i||"height"===i?1:0))}function z(t,e){var n,i,o,a,r;for(n in t)if(o=e[i=ft.camelCase(n)],a=t[n],ft.isArray(a)&&(o=a[1],a=t[n]=a[0]),n!==i&&(t[i]=a,delete t[n]),(r=ft.cssHooks[i])&&"expand"in r)for(n in a=r.expand(a),delete t[i],a)n in t||(t[n]=a[n],e[n]=o);else e[i]=o}function q(a,t,e){var n,r,i=0,o=q.prefilters.length,s=ft.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=ke||P(),e=Math.max(0,c.startTime+c.duration-t),n=1-(e/c.duration||0),i=0,o=c.tweens.length;i<o;i++)c.tweens[i].run(n);return s.notifyWith(a,[c,n,e]),n<1&&o?e:(s.resolveWith(a,[c]),!1)},c=s.promise({elem:a,props:ft.extend({},t),opts:ft.extend(!0,{specialEasing:{},easing:ft.easing._default},e),originalProperties:t,originalOptions:e,startTime:ke||P(),duration:e.duration,tweens:[],createTween:function(t,e){var n=ft.Tween(a,c.opts,t,e,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(n),n},stop:function(t){var e=0,n=t?c.tweens.length:0;if(r)return this;for(r=!0;e<n;e++)c.tweens[e].run(1);return t?(s.notifyWith(a,[c,1,0]),s.resolveWith(a,[c,t])):s.rejectWith(a,[c,t]),this}}),d=c.props;for(z(d,c.opts.specialEasing);i<o;i++)if(n=q.prefilters[i].call(c,a,d,c.opts))return ft.isFunction(n.stop)&&(ft._queueHooks(c.elem,c.opts.queue).stop=ft.proxy(n.stop,n)),n;return ft.map(d,$,c),ft.isFunction(c.opts.start)&&c.opts.start.call(a,c),ft.fx.timer(ft.extend(l,{elem:a,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function W(t){return ft.attr(t,"class")||""}function j(a){return function(t,e){"string"!=typeof t&&(e=t,t="*");var n,i=0,o=t.toLowerCase().match(wt)||[];if(ft.isFunction(e))for(;n=o[i++];)"+"===n.charAt(0)?(n=n.slice(1)||"*",(a[n]=a[n]||[]).unshift(e)):(a[n]=a[n]||[]).push(e)}}function V(e,o,a,r){function s(t){var i;return l[t]=!0,ft.each(e[t]||[],function(t,e){var n=e(o,a,r);return"string"!=typeof n||c||l[n]?c?!(i=n):void 0:(o.dataTypes.unshift(n),s(n),!1)}),i}var l={},c=e===rn;return s(o.dataTypes[0])||!l["*"]&&s("*")}function U(t,e){var n,i,o=ft.ajaxSettings.flatOptions||{};for(i in e)e[i]!==undefined&&((o[i]?t:n||(n={}))[i]=e[i]);return n&&ft.extend(!0,t,n),t}function Y(t,e,n){for(var i,o,a,r,s=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),o===undefined&&(o=t.mimeType||e.getResponseHeader("Content-Type"));if(o)for(r in s)if(s[r]&&s[r].test(o)){l.unshift(r);break}if(l[0]in n)a=l[0];else{for(r in n){if(!l[0]||t.converters[r+" "+l[0]]){a=r;break}i||(i=r)}a=a||i}if(a)return a!==l[0]&&l.unshift(a),n[a]}function G(t,e,n,i){var o,a,r,s,l,c={},d=t.dataTypes.slice();if(d[1])for(r in t.converters)c[r.toLowerCase()]=t.converters[r];for(a=d.shift();a;)if(t.responseFields[a]&&(n[t.responseFields[a]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=a,a=d.shift())if("*"===a)a=l;else if("*"!==l&&l!==a){if(!(r=c[l+" "+a]||c["* "+a]))for(o in c)if((s=o.split(" "))[1]===a&&(r=c[l+" "+s[0]]||c["* "+s[0]])){!0===r?r=c[o]:!0!==c[o]&&(a=s[0],d.unshift(s[1]));break}if(!0!==r)if(r&&t["throws"])e=r(e);else try{e=r(e)}catch(u){return{state:"parsererror",error:r?u:"No conversion from "+l+" to "+a}}}return{state:"success",data:e}}function X(t){return t.style&&t.style.display||ft.css(t,"display")}function Z(t){if(!ft.contains(t.ownerDocument||it,t))return!0;for(;t&&1===t.nodeType;){if("none"===X(t)||"hidden"===t.type)return!0;t=t.parentNode}return!1}function Q(n,t,i,o){var e;if(ft.isArray(t))ft.each(t,function(t,e){i||un.test(n)?o(n,e):Q(n+"["+("object"==typeof e&&null!=e?t:"")+"]",e,i,o)});else if(i||"object"!==ft.type(t))o(n,t);else for(e in t)Q(n+"["+e+"]",t[e],i,o)}function J(){try{return new D.XMLHttpRequest}catch(t){}}function tt(){try{return new D.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function et(t){return ft.isWindow(t)?t:9===t.nodeType&&(t.defaultView||t.parentWindow)}var nt=[],it=D.document,ot=nt.slice,at=nt.concat,rt=nt.push,st=nt.indexOf,lt={},ct=lt.toString,dt=lt.hasOwnProperty,ut={},ht="1.12.4",ft=function(t,e){return new ft.fn.init(t,e)},pt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,mt=/^-ms-/,gt=/-([\da-z])/gi,vt=function(t,e){return e.toUpperCase()};ft.fn=ft.prototype={jquery:ht,constructor:ft,selector:"",length:0,toArray:function(){return ot.call(this)},get:function(t){return null!=t?t<0?this[t+this.length]:this[t]:ot.call(this)},pushStack:function(t){var e=ft.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t){return ft.each(this,t)},map:function(n){return this.pushStack(ft.map(this,function(t,e){return n.call(t,e,t)}))},slice:function(){return this.pushStack(ot.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(0<=n&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:rt,sort:nt.sort,splice:nt.splice},ft.extend=ft.fn.extend=function(t){var e,n,i,o,a,r,s=t||{},l=1,c=arguments.length,d=!1;for("boolean"==typeof s&&(d=s,s=arguments[l]||{},l++),"object"==typeof s||ft.isFunction(s)||(s={}),l===c&&(s=this,l--);l<c;l++)if(null!=(a=arguments[l]))for(o in a)e=s[o],s!==(i=a[o])&&(d&&i&&(ft.isPlainObject(i)||(n=ft.isArray(i)))?(n?(n=!1,r=e&&ft.isArray(e)?e:[]):r=e&&ft.isPlainObject(e)?e:{},s[o]=ft.extend(d,r,i)):i!==undefined&&(s[o]=i));return s},ft.extend({expando:"jQuery"+(ht+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===ft.type(t)},isArray:Array.isArray||function(t){return"array"===ft.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){var e=t&&t.toString();return!ft.isArray(t)&&0<=e-parseFloat(e)+1},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},isPlainObject:function(t){var e;if(!t||"object"!==ft.type(t)||t.nodeType||ft.isWindow(t))return!1;try{if(t.constructor&&!dt.call(t,"constructor")&&!dt.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(!ut.ownFirst)for(e in t)return dt.call(t,e);for(e in t);return e===undefined||dt.call(t,e)},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?lt[ct.call(t)]||"object":typeof t},globalEval:function(t){t&&ft.trim(t)&&(D.execScript||function(t){D.eval.call(D,t)})(t)},camelCase:function(t){return t.replace(mt,"ms-").replace(gt,vt)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var n,i=0;if(s(t))for(n=t.length;i<n&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},trim:function(t){return null==t?"":(t+"").replace(pt,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(s(Object(t))?ft.merge(n,"string"==typeof t?[t]:t):rt.call(n,t)),n},inArray:function(t,e,n){var i;if(e){if(st)return st.call(e,t,n);for(i=e.length,n=n?n<0?Math.max(0,i+n):n:0;n<i;n++)if(n in e&&e[n]===t)return n}return-1},merge:function(t,e){for(var n=+e.length,i=0,o=t.length;i<n;)t[o++]=e[i++];if(n!=n)for(;e[i]!==undefined;)t[o++]=e[i++];return t.length=o,t},grep:function(t,e,n){for(var i=[],o=0,a=t.length,r=!n;o<a;o++)!e(t[o],o)!==r&&i.push(t[o]);return i},map:function(t,e,n){var i,o,a=0,r=[];if(s(t))for(i=t.length;a<i;a++)null!=(o=e(t[a],a,n))&&r.push(o);else for(a in t)null!=(o=e(t[a],a,n))&&r.push(o);return at.apply([],r)},guid:1,proxy:function(t,e){var n,i,o;return"string"==typeof e&&(o=t[e],e=t,t=o),ft.isFunction(t)?(n=ot.call(arguments,2),(i=function(){return t.apply(e||this,n.concat(ot.call(arguments)))}).guid=t.guid=t.guid||ft.guid++,i):undefined},now:function(){return+new Date},support:ut}),"function"==typeof Symbol&&(ft.fn[Symbol.iterator]=nt[Symbol.iterator]),ft.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){lt["[object "+e+"]"]=e.toLowerCase()});var Et=function(n){function b(t,e,n,i){var o,a,r,s,l,c,d,u,h=e&&e.ownerDocument,f=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==f&&9!==f&&11!==f)return n;if(!i&&((e?e.ownerDocument||e:$)!==S&&K(e),e=e||S,A)){if(11!==f&&(c=vt.exec(t)))if(o=c[1]){if(9===f){if(!(r=e.getElementById(o)))return n;if(r.id===o)return n.push(r),n}else if(h&&(r=h.getElementById(o))&&P(e,r)&&r.id===o)return n.push(r),n}else{if(c[2])return Q.apply(n,e.getElementsByTagName(t)),n;if((o=c[3])&&v.getElementsByClassName&&e.getElementsByClassName)return Q.apply(n,e.getElementsByClassName(o)),n}if(v.qsa&&!j[t+" "]&&(!M||!M.test(t))){if(1!==f)h=e,u=t;else if("object"!==e.nodeName.toLowerCase()){for((s=e.getAttribute("id"))?s=s.replace(Tt,"\\$&"):e.setAttribute("id",s=B),a=(d=O(t)).length,l=ht.test(s)?"#"+s:"[id='"+s+"']";a--;)d[a]=l+" "+g(d[a]);u=d.join(","),h=Et.test(t)&&m(e.parentNode)||e}if(u)try{return Q.apply(n,h.querySelectorAll(u)),n}catch(p){}finally{s===B&&e.removeAttribute("id")}}}return k(t.replace(st,"$1"),e,n,i)}function t(){function n(t,e){return i.push(t+" ")>y.cacheLength&&delete n[i.shift()],n[t+" "]=e}var i=[];return n}function l(t){return t[B]=!0,t}function o(t){var e=S.createElement("div");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function e(t,e){for(var n=t.split("|"),i=n.length;i--;)y.attrHandle[n[i]]=e}function c(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||U)-(~t.sourceIndex||U);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function i(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function a(n){return function(t){var e=t.nodeName.toLowerCase();return("input"===e||"button"===e)&&t.type===n}}function r(r){return l(function(a){return a=+a,l(function(t,e){for(var n,i=r([],t.length,a),o=i.length;o--;)t[n=i[o]]&&(t[n]=!(e[n]=t[n]))})})}function m(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function s(){}function g(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function u(s,t,e){var l=t.dir,c=e&&"parentNode"===l,d=z++;return t.first?function(t,e,n){for(;t=t[l];)if(1===t.nodeType||c)return s(t,e,n)}:function(t,e,n){var i,o,a,r=[H,d];if(n){for(;t=t[l];)if((1===t.nodeType||c)&&s(t,e,n))return!0}else for(;t=t[l];)if(1===t.nodeType||c){if((i=(o=(a=t[B]||(t[B]={}))[t.uniqueID]||(a[t.uniqueID]={}))[l])&&i[0]===H&&i[1]===d)return r[2]=i[2];if((o[l]=r)[2]=s(t,e,n))return!0}}}function h(o){return 1<o.length?function(t,e,n){for(var i=o.length;i--;)if(!o[i](t,e,n))return!1;return!0}:o[0]}function E(t,e,n){for(var i=0,o=e.length;i<o;i++)b(t,e[i],n);return n}function C(t,e,n,i,o){for(var a,r=[],s=0,l=t.length,c=null!=e;s<l;s++)(a=t[s])&&(n&&!n(a,i,o)||(r.push(a),c&&e.push(s)));return r}function T(f,p,m,g,v,t){return g&&!g[B]&&(g=T(g)),v&&!v[B]&&(v=T(v,t)),l(function(t,e,n,i){var o,a,r,s=[],l=[],c=e.length,d=t||E(p||"*",n.nodeType?[n]:n,[]),u=!f||!t&&p?d:C(d,s,f,n,i),h=m?v||(t?f:c||g)?[]:e:u;if(m&&m(u,h,n,i),g)for(o=C(h,l),g(o,[],n,i),a=o.length;a--;)(r=o[a])&&(h[l[a]]=!(u[l[a]]=r));if(t){if(v||f){if(v){for(o=[],a=h.length;a--;)(r=h[a])&&o.push(u[a]=r);v(null,h=[],o,i)}for(a=h.length;a--;)(r=h[a])&&-1<(o=v?tt(t,r):s[a])&&(t[o]=!(e[o]=r))}}else h=C(h===e?h.splice(c,h.length):h),v?v(null,e,h,i):Q.apply(e,h)})}function f(t){for(var o,e,n,i=t.length,a=y.relative[t[0].type],r=a||y.relative[" "],s=a?1:0,l=u(function(t){return t===o},r,!0),c=u(function(t){return-1<tt(o,t)},r,!0),d=[function(t,e,n){var i=!a&&(n||e!==_)||((o=e).nodeType?l(t,e,n):c(t,e,n));return o=null,i}];s<i;s++)if(e=y.relative[t[s].type])d=[u(h(d),e)];else{if((e=y.filter[t[s].type].apply(null,t[s].matches))[B]){for(n=++s;n<i&&!y.relative[t[n].type];n++);return T(1<s&&h(d),1<s&&g(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(st,"$1"),e,s<n&&f(t.slice(s,n)),n<i&&f(t=t.slice(n)),n<i&&g(t))}d.push(e)}return h(d)}function d(g,v){var E=0<v.length,T=0<g.length,t=function(t,e,n,i,o){var a,r,s,l=0,c="0",d=t&&[],u=[],h=_,f=t||T&&y.find.TAG("*",o),p=H+=null==h?1:Math.random()||.1,m=f.length;for(o&&(_=e===S||e||o);c!==m&&null!=(a=f[c]);c++){if(T&&a){for(r=0,e||a.ownerDocument===S||(K(a),n=!A);s=g[r++];)if(s(a,e||S,n)){i.push(a);break}o&&(H=p)}E&&((a=!s&&a)&&l--,t&&d.push(a))}if(l+=c,E&&c!==l){for(r=0;s=v[r++];)s(d,u,e,n);if(t){if(0<l)for(;c--;)d[c]||u[c]||(u[c]=X.call(i));u=C(u)}Q.apply(i,u),o&&!t&&0<u.length&&1<l+v.length&&b.uniqueSort(i)}return o&&(H=p,_=h),d};return E?l(t):t}var p,v,y,D,I,O,R,k,_,x,w,K,S,N,A,M,L,F,P,B="sizzle"+1*new Date,$=n.document,H=0,z=0,q=t(),W=t(),j=t(),V=function(t,e){return t===e&&(w=!0),0},U=1<<31,Y={}.hasOwnProperty,G=[],X=G.pop,Z=G.push,Q=G.push,J=G.slice,tt=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",it="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ot="\\["+nt+"*("+it+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+it+"))|)"+nt+"*\\]",at=":("+it+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ot+")*)|.*)\\)|)",rt=new RegExp(nt+"+","g"),st=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),lt=new RegExp("^"+nt+"*,"+nt+"*"),ct=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),dt=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),ut=new RegExp(at),ht=new RegExp("^"+it+"$"),ft={ID:new RegExp("^#("+it+")"),CLASS:new RegExp("^\\.("+it+")"),TAG:new RegExp("^("+it+"|[*])"),ATTR:new RegExp("^"+ot),PSEUDO:new RegExp("^"+at),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},pt=/^(?:input|select|textarea|button)$/i,mt=/^h\d$/i,gt=/^[^{]+\{\s*\[native \w/,vt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Et=/[+~]/,Tt=/'|\\/g,bt=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),Ct=function(t,e,n){var i="0x"+e-65536;return i!=i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},yt=function(){K()};try{Q.apply(G=J.call($.childNodes),$.childNodes),G[$.childNodes.length].nodeType}catch(Dt){Q={apply:G.length?function(t,e){Z.apply(t,J.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}for(p in v=b.support={},I=b.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},K=b.setDocument=function(t){var e,n,i=t?t.ownerDocument||t:$;return i!==S&&9===i.nodeType&&i.documentElement&&(N=(S=i).documentElement,A=!I(S),(n=S.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",yt,!1):n.attachEvent&&n.attachEvent("onunload",yt)),v.attributes=o(function(t){return t.className="i",!t.getAttribute("className")}),v.getElementsByTagName=o(function(t){return t.appendChild(S.createComment("")),!t.getElementsByTagName("*").length}),v.getElementsByClassName=gt.test(S.getElementsByClassName),v.getById=o(function(t){return N.appendChild(t).id=B,!S.getElementsByName||!S.getElementsByName(B).length}),v.getById?(y.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&A){var n=e.getElementById(t);return n?[n]:[]}},y.filter.ID=function(t){var e=t.replace(bt,Ct);return function(t){return t.getAttribute("id")===e}}):(delete y.find.ID,y.filter.ID=function(t){var n=t.replace(bt,Ct);return function(t){var e="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return e&&e.value===n}}),y.find.TAG=v.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):v.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],o=0,a=e.getElementsByTagName(t);if("*"!==t)return a;for(;n=a[o++];)1===n.nodeType&&i.push(n);return i},y.find.CLASS=v.getElementsByClassName&&function(t,e){if("undefined"!=typeof e.getElementsByClassName&&A)return e.getElementsByClassName(t)},L=[],M=[],(v.qsa=gt.test(S.querySelectorAll))&&(o(function(t){N.appendChild(t).innerHTML="<a id='"+B+"'></a><select id='"+B+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&M.push("[*^$]="+nt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||M.push("\\["+nt+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+B+"-]").length||M.push("~="),t.querySelectorAll(":checked").length||M.push(":checked"),t.querySelectorAll("a#"+B+"+*").length||M.push(".#.+[+~]")}),o(function(t){var e=S.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&M.push("name"+nt+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||M.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),M.push(",.*:")})),(v.matchesSelector=gt.test(F=N.matches||N.webkitMatchesSelector||N.mozMatchesSelector||N.oMatchesSelector||N.msMatchesSelector))&&o(function(t){v.disconnectedMatch=F.call(t,"div"),F.call(t,"[s!='']:x"),L.push("!=",at)}),M=M.length&&new RegExp(M.join("|")),L=L.length&&new RegExp(L.join("|")),e=gt.test(N.compareDocumentPosition),P=e||gt.test(N.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},V=e?function(t,e){if(t===e)return w=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(1&(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!v.sortDetached&&e.compareDocumentPosition(t)===n?t===S||t.ownerDocument===$&&P($,t)?-1:e===S||e.ownerDocument===$&&P($,e)?1:x?tt(x,t)-tt(x,e):0:4&n?-1:1)}:function(t,e){if(t===e)return w=!0,0;var n,i=0,o=t.parentNode,a=e.parentNode,r=[t],s=[e];if(!o||!a)return t===S?-1:e===S?1:o?-1:a?1:x?tt(x,t)-tt(x,e):0;if(o===a)return c(t,e);for(n=t;n=n.parentNode;)r.unshift(n);for(n=e;n=n.parentNode;)s.unshift(n);for(;r[i]===s[i];)i++;return i?c(r[i],s[i]):r[i]===$?-1:s[i]===$?1:0}),S},b.matches=function(t,e){return b(t,null,null,e)},b.matchesSelector=function(t,e){if((t.ownerDocument||t)!==S&&K(t),e=e.replace(dt,"='$1']"),v.matchesSelector&&A&&!j[e+" "]&&(!L||!L.test(e))&&(!M||!M.test(e)))try{var n=F.call(t,e);if(n||v.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(Dt){}return 0<b(e,S,null,[t]).length},b.contains=function(t,e){return(t.ownerDocument||t)!==S&&K(t),P(t,e)},b.attr=function(t,e){(t.ownerDocument||t)!==S&&K(t);var n=y.attrHandle[e.toLowerCase()],i=n&&Y.call(y.attrHandle,e.toLowerCase())?n(t,e,!A):undefined;return i!==undefined?i:v.attributes||!A?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},b.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},b.uniqueSort=function(t){var e,n=[],i=0,o=0;if(w=!v.detectDuplicates,x=!v.sortStable&&t.slice(0),t.sort(V),w){for(;e=t[o++];)e===t[o]&&(i=n.push(o));for(;i--;)t.splice(n[i],1)}return x=null,t},D=b.getText=function(t){var e,n="",i=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=D(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[i++];)n+=D(e);return n},(y=b.selectors={cacheLength:50,createPseudo:l,match:ft,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(bt,Ct),t[3]=(t[3]||t[4]||t[5]||"").replace(bt,Ct),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||b.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&b.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return ft.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&ut.test(n)&&(e=O(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(bt,Ct).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=q[t+" "];return e||(e=new RegExp("(^|"+nt+")"+t+"("+nt+"|$)"))&&q(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(n,i,o){return function(t){var e=b.attr(t,n);return null==e?"!="===i:!i||(e+="","="===i?e===o:"!="===i?e!==o:"^="===i?o&&0===e.indexOf(o):"*="===i?o&&-1<e.indexOf(o):"$="===i?o&&e.slice(-o.length)===o:"~="===i?-1<(" "+e.replace(rt," ")+" ").indexOf(o):"|="===i&&(e===o||e.slice(0,o.length+1)===o+"-"))}},CHILD:function(p,t,e,m,g){var v="nth"!==p.slice(0,3),E="last"!==p.slice(-4),T="of-type"===t;return 1===m&&0===g?function(t){return!!t.parentNode}:function(t,e,n){var i,o,a,r,s,l,c=v!==E?"nextSibling":"previousSibling",d=t.parentNode,u=T&&t.nodeName.toLowerCase(),h=!n&&!T,f=!1;if(d){if(v){for(;c;){for(r=t;r=r[c];)if(T?r.nodeName.toLowerCase()===u:1===r.nodeType)return!1;l=c="only"===p&&!l&&"nextSibling"}return!0}if(l=[E?d.firstChild:d.lastChild],E&&h){for(f=(s=(i=(o=(a=(r=d)[B]||(r[B]={}))[r.uniqueID]||(a[r.uniqueID]={}))[p]||[])[0]===H&&i[1])&&i[2],r=s&&d.childNodes[s];r=++s&&r&&r[c]||(f=s=0)||l.pop();)if(1===r.nodeType&&++f&&r===t){o[p]=[H,s,f];break}}else if(h&&(f=s=(i=(o=(a=(r=t)[B]||(r[B]={}))[r.uniqueID]||(a[r.uniqueID]={}))[p]||[])[0]===H&&i[1]),!1===f)for(;(r=++s&&r&&r[c]||(f=s=0)||l.pop())&&((T?r.nodeName.toLowerCase()!==u:1!==r.nodeType)||!++f||(h&&((o=(
a=r[B]||(r[B]={}))[r.uniqueID]||(a[r.uniqueID]={}))[p]=[H,f]),r!==t)););return(f-=g)===m||f%m==0&&0<=f/m}}},PSEUDO:function(t,a){var e,r=y.pseudos[t]||y.setFilters[t.toLowerCase()]||b.error("unsupported pseudo: "+t);return r[B]?r(a):1<r.length?(e=[t,t,"",a],y.setFilters.hasOwnProperty(t.toLowerCase())?l(function(t,e){for(var n,i=r(t,a),o=i.length;o--;)t[n=tt(t,i[o])]=!(e[n]=i[o])}):function(t){return r(t,0,e)}):r}},pseudos:{not:l(function(t){var i=[],o=[],s=R(t.replace(st,"$1"));return s[B]?l(function(t,e,n,i){for(var o,a=s(t,null,i,[]),r=t.length;r--;)(o=a[r])&&(t[r]=!(e[r]=o))}):function(t,e,n){return i[0]=t,s(i,null,n,o),i[0]=null,!o.pop()}}),has:l(function(e){return function(t){return 0<b(e,t).length}}),contains:l(function(e){return e=e.replace(bt,Ct),function(t){return-1<(t.textContent||t.innerText||D(t)).indexOf(e)}}),lang:l(function(n){return ht.test(n||"")||b.error("unsupported lang: "+n),n=n.replace(bt,Ct).toLowerCase(),function(t){var e;do{if(e=A?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(e=e.toLowerCase())===n||0===e.indexOf(n+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var e=n.location&&n.location.hash;return e&&e.slice(1)===t.id},root:function(t){return t===N},focus:function(t){return t===S.activeElement&&(!S.hasFocus||S.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!y.pseudos.empty(t)},header:function(t){return mt.test(t.nodeName)},input:function(t){return pt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:r(function(){return[0]}),last:r(function(t,e){return[e-1]}),eq:r(function(t,e,n){return[n<0?n+e:n]}),even:r(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:r(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:r(function(t,e,n){for(var i=n<0?n+e:n;0<=--i;)t.push(i);return t}),gt:r(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}}).pseudos.nth=y.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})y.pseudos[p]=i(p);for(p in{submit:!0,reset:!0})y.pseudos[p]=a(p);return s.prototype=y.filters=y.pseudos,y.setFilters=new s,O=b.tokenize=function(t,e){var n,i,o,a,r,s,l,c=W[t+" "];if(c)return e?0:c.slice(0);for(r=t,s=[],l=y.preFilter;r;){for(a in n&&!(i=lt.exec(r))||(i&&(r=r.slice(i[0].length)||r),s.push(o=[])),n=!1,(i=ct.exec(r))&&(n=i.shift(),o.push({value:n,type:i[0].replace(st," ")}),r=r.slice(n.length)),y.filter)!(i=ft[a].exec(r))||l[a]&&!(i=l[a](i))||(n=i.shift(),o.push({value:n,type:a,matches:i}),r=r.slice(n.length));if(!n)break}return e?r.length:r?b.error(t):W(t,s).slice(0)},R=b.compile=function(t,e){var n,i=[],o=[],a=j[t+" "];if(!a){for(e||(e=O(t)),n=e.length;n--;)(a=f(e[n]))[B]?i.push(a):o.push(a);(a=j(t,d(o,i))).selector=t}return a},k=b.select=function(t,e,n,i){var o,a,r,s,l,c="function"==typeof t&&t,d=!i&&O(t=c.selector||t);if(n=n||[],1===d.length){if(2<(a=d[0]=d[0].slice(0)).length&&"ID"===(r=a[0]).type&&v.getById&&9===e.nodeType&&A&&y.relative[a[1].type]){if(!(e=(y.find.ID(r.matches[0].replace(bt,Ct),e)||[])[0]))return n;c&&(e=e.parentNode),t=t.slice(a.shift().value.length)}for(o=ft.needsContext.test(t)?0:a.length;o--&&(r=a[o],!y.relative[s=r.type]);)if((l=y.find[s])&&(i=l(r.matches[0].replace(bt,Ct),Et.test(a[0].type)&&m(e.parentNode)||e))){if(a.splice(o,1),!(t=i.length&&g(a)))return Q.apply(n,i),n;break}}return(c||R(t,d))(i,e,!A,n,!e||Et.test(t)&&m(e.parentNode)||e),n},v.sortStable=B.split("").sort(V).join("")===B,v.detectDuplicates=!!w,K(),v.sortDetached=o(function(t){return 1&t.compareDocumentPosition(S.createElement("div"))}),o(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||e("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),v.attributes&&o(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||e("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),o(function(t){return null==t.getAttribute("disabled")})||e(et,function(t,e,n){var i;if(!n)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),b}(D);ft.find=Et,ft.expr=Et.selectors,ft.expr[":"]=ft.expr.pseudos,ft.uniqueSort=ft.unique=Et.uniqueSort,ft.text=Et.getText,ft.isXMLDoc=Et.isXML,ft.contains=Et.contains;var Tt=function(t,e,n){for(var i=[],o=n!==undefined;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(o&&ft(t).is(n))break;i.push(t)}return i},bt=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},Ct=ft.expr.match.needsContext,yt=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Dt=/^.[^:#\[\.,]*$/;ft.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?ft.find.matchesSelector(i,t)?[i]:[]:ft.find.matches(t,ft.grep(e,function(t){return 1===t.nodeType}))},ft.fn.extend({find:function(t){var e,n=[],i=this,o=i.length;if("string"!=typeof t)return this.pushStack(ft(t).filter(function(){for(e=0;e<o;e++)if(ft.contains(i[e],this))return!0}));for(e=0;e<o;e++)ft.find(t,i[e],n);return(n=this.pushStack(1<o?ft.unique(n):n)).selector=this.selector?this.selector+" "+t:t,n},filter:function(t){return this.pushStack(e(this,t||[],!1))},not:function(t){return this.pushStack(e(this,t||[],!0))},is:function(t){return!!e(this,"string"==typeof t&&Ct.test(t)?ft(t):t||[],!1).length}});var It,Ot=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(ft.fn.init=function(t,e,n){var i,o;if(!t)return this;if(n=n||It,"string"!=typeof t)return t.nodeType?(this.context=this[0]=t,this.length=1,this):ft.isFunction(t)?"undefined"!=typeof n.ready?n.ready(t):t(ft):(t.selector!==undefined&&(this.selector=t.selector,this.context=t.context),ft.makeArray(t,this));if(!(i="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&3<=t.length?[null,t,null]:Ot.exec(t))||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof ft?e[0]:e,ft.merge(this,ft.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:it,!0)),yt.test(i[1])&&ft.isPlainObject(e))for(i in e)ft.isFunction(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}if((o=it.getElementById(i[2]))&&o.parentNode){if(o.id!==i[2])return It.find(t);this.length=1,this[0]=o}return this.context=it,this.selector=t,this}).prototype=ft.fn,It=ft(it);var Rt=/^(?:parents|prev(?:Until|All))/,kt={children:!0,contents:!0,next:!0,prev:!0};ft.fn.extend({has:function(t){var e,n=ft(t,this),i=n.length;return this.filter(function(){for(e=0;e<i;e++)if(ft.contains(this,n[e]))return!0})},closest:function(t,e){for(var n,i=0,o=this.length,a=[],r=Ct.test(t)||"string"!=typeof t?ft(t,e||this.context):0;i<o;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(r?-1<r.index(n):1===n.nodeType&&ft.find.matchesSelector(n,t))){a.push(n);break}return this.pushStack(1<a.length?ft.uniqueSort(a):a)},index:function(t){return t?"string"==typeof t?ft.inArray(this[0],ft(t)):ft.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(ft.uniqueSort(ft.merge(this.get(),ft(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),ft.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return Tt(t,"parentNode")},parentsUntil:function(t,e,n){return Tt(t,"parentNode",n)},next:function(t){return n(t,"nextSibling")},prev:function(t){return n(t,"previousSibling")},nextAll:function(t){return Tt(t,"nextSibling")},prevAll:function(t){return Tt(t,"previousSibling")},nextUntil:function(t,e,n){return Tt(t,"nextSibling",n)},prevUntil:function(t,e,n){return Tt(t,"previousSibling",n)},siblings:function(t){return bt((t.parentNode||{}).firstChild,t)},children:function(t){return bt(t.firstChild)},contents:function(t){return ft.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:ft.merge([],t.childNodes)}},function(i,o){ft.fn[i]=function(t,e){var n=ft.map(this,o,t);return"Until"!==i.slice(-5)&&(e=t),e&&"string"==typeof e&&(n=ft.filter(e,n)),1<this.length&&(kt[i]||(n=ft.uniqueSort(n)),Rt.test(i)&&(n=n.reverse())),this.pushStack(n)}});var _t,xt,wt=/\S+/g;for(xt in ft.Callbacks=function(i){i="string"==typeof i?d(i):ft.extend({},i);var o,t,e,n,a=[],r=[],s=-1,l=function(){for(n=i.once,e=o=!0;r.length;s=-1)for(t=r.shift();++s<a.length;)!1===a[s].apply(t[0],t[1])&&i.stopOnFalse&&(s=a.length,t=!1);i.memory||(t=!1),o=!1,n&&(a=t?[]:"")},c={add:function(){return a&&(t&&!o&&(s=a.length-1,r.push(t)),function n(t){ft.each(t,function(t,e){ft.isFunction(e)?i.unique&&c.has(e)||a.push(e):e&&e.length&&"string"!==ft.type(e)&&n(e)})}(arguments),t&&!o&&l()),this},remove:function(){return ft.each(arguments,function(t,e){for(var n;-1<(n=ft.inArray(e,a,n));)a.splice(n,1),n<=s&&s--}),this},has:function(t){return t?-1<ft.inArray(t,a):0<a.length},empty:function(){return a&&(a=[]),this},disable:function(){return n=r=[],a=t="",this},disabled:function(){return!a},lock:function(){return n=!0,t||c.disable(),this},locked:function(){return!!n},fireWith:function(t,e){return n||(e=[t,(e=e||[]).slice?e.slice():e],r.push(e),o||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!e}};return c},ft.extend({Deferred:function(t){var a=[["resolve","done",ft.Callbacks("once memory"),"resolved"],["reject","fail",ft.Callbacks("once memory"),"rejected"],["notify","progress",ft.Callbacks("memory")]],o="pending",r={state:function(){return o},always:function(){return s.done(arguments).fail(arguments),this},then:function(){var o=arguments;return ft.Deferred(function(i){ft.each(a,function(t,e){var n=ft.isFunction(o[t])&&o[t];s[e[1]](function(){var t=n&&n.apply(this,arguments);t&&ft.isFunction(t.promise)?t.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[e[0]+"With"](this===r?i.promise():this,n?[t]:arguments)})}),o=null}).promise()},promise:function(t){return null!=t?ft.extend(t,r):r}},s={};return r.pipe=r.then,ft.each(a,function(t,e){var n=e[2],i=e[3];r[e[1]]=n.add,i&&n.add(function(){o=i},a[1^t][2].disable,a[2][2].lock),s[e[0]]=function(){return s[e[0]+"With"](this===s?r:this,arguments),this},s[e[0]+"With"]=n.fireWith}),r.promise(s),t&&t.call(s,s),s},when:function(t){var o,e,n,i=0,a=ot.call(arguments),r=a.length,s=1!==r||t&&ft.isFunction(t.promise)?r:0,l=1===s?t:ft.Deferred(),c=function(e,n,i){return function(t){n[e]=this,i[e]=1<arguments.length?ot.call(arguments):t,i===o?l.notifyWith(n,i):--s||l.resolveWith(n,i)}};if(1<r)for(o=new Array(r),e=new Array(r),n=new Array(r);i<r;i++)a[i]&&ft.isFunction(a[i].promise)?a[i].promise().progress(c(i,e,o)).done(c(i,n,a)).fail(l.reject):--s;return s||l.resolveWith(n,a),l.promise()}}),ft.fn.ready=function(t){return ft.ready.promise().done(t),this},ft.extend({isReady:!1,readyWait:1,holdReady:function(t){t?ft.readyWait++:ft.ready(!0)},ready:function(t){(!0===t?--ft.readyWait:ft.isReady)||(ft.isReady=!0)!==t&&0<--ft.readyWait||(_t.resolveWith(it,[ft]),ft.fn.triggerHandler&&(ft(it).triggerHandler("ready"),ft(it).off("ready")))}}),ft.ready.promise=function(t){if(!_t)if(_t=ft.Deferred(),"complete"===it.readyState||"loading"!==it.readyState&&!it.documentElement.doScroll)D.setTimeout(ft.ready);else if(it.addEventListener)it.addEventListener("DOMContentLoaded",a),D.addEventListener("load",a);else{it.attachEvent("onreadystatechange",a),D.attachEvent("onload",a);var e=!1;try{e=null==D.frameElement&&it.documentElement}catch(n){}e&&e.doScroll&&function i(){if(!ft.isReady){try{e.doScroll("left")}catch(n){return D.setTimeout(i,50)}o(),ft.ready()}}()}return _t.promise(t)},ft.ready.promise(),ft(ut))break;ut.ownFirst="0"===xt,ut.inlineBlockNeedsLayout=!1,ft(function(){var t,e,n,i;(n=it.getElementsByTagName("body")[0])&&n.style&&(e=it.createElement("div"),(i=it.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(e),"undefined"!=typeof e.style.zoom&&(e.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",ut.inlineBlockNeedsLayout=t=3===e.offsetWidth,t&&(n.style.zoom=1)),n.removeChild(i))}),function(){var t=it.createElement("div");ut.deleteExpando=!0;try{delete t.test}catch(e){ut.deleteExpando=!1}t=null}();var Kt,St=function(t){var e=ft.noData[(t.nodeName+" ").toLowerCase()],n=+t.nodeType||1;return(1===n||9===n)&&(!e||!0!==e&&t.getAttribute("classid")===e)},Nt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,At=/([A-Z])/g;ft.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(t){return!!(t=t.nodeType?ft.cache[t[ft.expando]]:t[ft.expando])&&!c(t)},data:function(t,e,n){return i(t,e,n)},removeData:function(t,e){return r(t,e)},_data:function(t,e,n){return i(t,e,n,!0)},_removeData:function(t,e){return r(t,e,!0)}}),ft.fn.extend({data:function(t,e){var n,i,o,a=this[0],r=a&&a.attributes;if(t!==undefined)return"object"==typeof t?this.each(function(){ft.data(this,t)}):1<arguments.length?this.each(function(){ft.data(this,t,e)}):a?l(a,t,ft.data(a,t)):undefined;if(this.length&&(o=ft.data(a),1===a.nodeType&&!ft._data(a,"parsedAttrs"))){for(n=r.length;n--;)r[n]&&0===(i=r[n].name).indexOf("data-")&&l(a,i=ft.camelCase(i.slice(5)),o[i]);ft._data(a,"parsedAttrs",!0)}return o},removeData:function(t){return this.each(function(){ft.removeData(this,t)})}}),ft.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=ft._data(t,e),n&&(!i||ft.isArray(n)?i=ft._data(t,e,ft.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=ft.queue(t,e),i=n.length,o=n.shift(),a=ft._queueHooks(t,e),r=function(){ft.dequeue(t,e)};"inprogress"===o&&(o=n.shift(),i--),o&&("fx"===e&&n.unshift("inprogress"),delete a.stop,o.call(t,r,a)),!i&&a&&a.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return ft._data(t,n)||ft._data(t,n,{empty:ft.Callbacks("once memory").add(function(){ft._removeData(t,e+"queue"),ft._removeData(t,n)})})}}),ft.fn.extend({queue:function(e,n){var t=2;return"string"!=typeof e&&(n=e,e="fx",t--),arguments.length<t?ft.queue(this[0],e):n===undefined?this:this.each(function(){var t=ft.queue(this,e,n);ft._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&ft.dequeue(this,e)})},dequeue:function(t){return this.each(function(){ft.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,o=ft.Deferred(),a=this,r=this.length,s=function(){--i||o.resolveWith(a,[a])};for("string"!=typeof t&&(e=t,t=undefined),t=t||"fx";r--;)(n=ft._data(a[r],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(s));return s(),o.promise(e)}}),ut.shrinkWrapBlocks=function(){return null!=Kt?Kt:(Kt=!1,(e=it.getElementsByTagName("body")[0])&&e.style?(t=it.createElement("div"),(n=it.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",e.appendChild(n).appendChild(t),"undefined"!=typeof t.style.zoom&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(it.createElement("div")).style.width="5px",Kt=3!==t.offsetWidth),e.removeChild(n),Kt):void 0);var t,e,n};var Mt,Lt,Ft,Pt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Bt=new RegExp("^(?:([+-])=|)("+Pt+")([a-z%]*)$","i"),$t=["Top","Right","Bottom","Left"],Ht=function(t,e){return t=e||t,"none"===ft.css(t,"display")||!ft.contains(t.ownerDocument,t)},zt=function(t,e,n,i,o,a,r){var s=0,l=t.length,c=null==n;if("object"===ft.type(n))for(s in o=!0,n)zt(t,e,s,n[s],!0,a,r);else if(i!==undefined&&(o=!0,ft.isFunction(i)||(r=!0),c&&(r?(e.call(t,i),e=null):(c=e,e=function(t,e,n){return c.call(ft(t),n)})),e))for(;s<l;s++)e(t[s],n,r?i:i.call(t[s],s,e(t[s],n)));return o?t:c?e.call(t):l?e(t[0],n):a},qt=/^(?:checkbox|radio)$/i,Wt=/<([\w:-]+)/,jt=/^$|\/(?:java|ecma)script/i,Vt=/^\s+/,Ut="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";Mt=it.createElement("div"),Lt=it.createDocumentFragment(),Ft=it.createElement("input"),Mt.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",ut.leadingWhitespace=3===Mt.firstChild.nodeType,ut.tbody=!Mt.getElementsByTagName("tbody").length,ut.htmlSerialize=!!Mt.getElementsByTagName("link").length,ut.html5Clone="<:nav></:nav>"!==it.createElement("nav").cloneNode(!0).outerHTML,Ft.type="checkbox",Ft.checked=!0,Lt.appendChild(Ft),ut.appendChecked=Ft.checked,Mt.innerHTML="<textarea>x</textarea>",ut.noCloneChecked=!!Mt.cloneNode(!0).lastChild.defaultValue,Lt.appendChild(Mt),(Ft=it.createElement("input")).setAttribute("type","radio"),Ft.setAttribute("checked","checked"),Ft.setAttribute("name","t"),Mt.appendChild(Ft),ut.checkClone=Mt.cloneNode(!0).cloneNode(!0).lastChild.checked,ut.noCloneEvent=!!Mt.addEventListener,Mt[ft.expando]=1,ut.attributes=!Mt.getAttribute(ft.expando);var Yt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ut.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]};Yt.optgroup=Yt.option,Yt.tbody=Yt.tfoot=Yt.colgroup=Yt.caption=Yt.thead,Yt.th=Yt.td;var Gt=/<|&#?\w+;/,Xt=/<tbody/i;!function(){var t,e,n=it.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})e="on"+t,(ut[t]=e in D)||(n.setAttribute(e,"t"),ut[t]=!1===n.attributes[e].expando);n=null}();var Zt=/^(?:input|select|textarea)$/i,Qt=/^key/,Jt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,te=/^(?:focusinfocus|focusoutblur)$/,ee=/^([^.]*)(?:\.(.+)|)/;ft.event={global:{},add:function(t,e,n,i,o){var a,r,s,l,c,d,u,h,f,p,m,g=ft._data(t);if(g){for(n.handler&&(n=(l=n).handler,o=l.selector),n.guid||(n.guid=ft.guid++),(r=g.events)||(r=g.events={}),(d=g.handle)||((d=g.handle=function(t){return void 0===ft||t&&ft.event.triggered===t.type?undefined:ft.event.dispatch.apply(d.elem,arguments)}).elem=t),s=(e=(e||"").match(wt)||[""]).length;s--;)f=m=(a=ee.exec(e[s])||[])[1],p=(a[2]||"").split(".").sort(),f&&(c=ft.event.special[f]||{},f=(o?c.delegateType:c.bindType)||f,c=ft.event.special[f]||{},u=ft.extend({type:f,origType:m,data:i,handler:n,guid:n.guid,selector:o,needsContext:o&&ft.expr.match.needsContext.test(o),namespace:p.join(".")},l),(h=r[f])||((h=r[f]=[]).delegateCount=0,c.setup&&!1!==c.setup.call(t,i,p,d)||(t.addEventListener?t.addEventListener(f,d,!1):t.attachEvent&&t.attachEvent("on"+f,d))),c.add&&(c.add.call(t,u),u.handler.guid||(u.handler.guid=n.guid)),o?h.splice(h.delegateCount++,0,u):h.push(u),ft.event.global[f]=!0);t=null}},remove:function(t,e,n,i,o){var a,r,s,l,c,d,u,h,f,p,m,g=ft.hasData(t)&&ft._data(t);if(g&&(d=g.events)){for(c=(e=(e||"").match(wt)||[""]).length;c--;)if(f=m=(s=ee.exec(e[c])||[])[1],p=(s[2]||"").split(".").sort(),f){for(u=ft.event.special[f]||{},h=d[f=(i?u.delegateType:u.bindType)||f]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=a=h.length;a--;)r=h[a],!o&&m!==r.origType||n&&n.guid!==r.guid||s&&!s.test(r.namespace)||i&&i!==r.selector&&("**"!==i||!r.selector)||(h.splice(a,1),r.selector&&h.delegateCount--,u.remove&&u.remove.call(t,r));l&&!h.length&&(u.teardown&&!1!==u.teardown.call(t,p,g.handle)||ft.removeEvent(t,f,g.handle),delete d[f])}else for(f in d)ft.event.remove(t,f+e[c],n,i,!0);ft.isEmptyObject(d)&&(delete g.handle,ft._removeData(t,"events"))}},trigger:function(t,e,n,i){var o,a,r,s,l,c,d,u=[n||it],h=dt.call(t,"type")?t.type:t,f=dt.call(t,"namespace")?t.namespace.split("."):[];if(r=c=n=n||it,3!==n.nodeType&&8!==n.nodeType&&!te.test(h+ft.event.triggered)&&(-1<h.indexOf(".")&&(h=(f=h.split(".")).shift(),f.sort()),a=h.indexOf(":")<0&&"on"+h,(t=t[ft.expando]?t:new ft.Event(h,"object"==typeof t&&t)).isTrigger=i?2:3,t.namespace=f.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=undefined,t.target||(t.target=n),e=null==e?[t]:ft.makeArray(e,[t]),l=ft.event.special[h]||{},i||!l.trigger||!1!==l.trigger.apply(n,e))){if(!i&&!l.noBubble&&!ft.isWindow(n)){for(s=l.delegateType||h,te.test(s+h)||(r=r.parentNode);r;r=r.parentNode)u.push(r),c=r;c===(n.ownerDocument||it)&&u.push(c.defaultView||c.parentWindow||D)}for(d=0;(r=u[d++])&&!t.isPropagationStopped();)t.type=1<d?s:l.bindType||h,(o=(ft._data(r,"events")||{})[t.type]&&ft._data(r,"handle"))&&o.apply(r,e),(o=a&&r[a])&&o.apply&&St(r)&&(t.result=o.apply(r,e),!1===t.result&&t.preventDefault());if(t.type=h,!i&&!t.isDefaultPrevented()&&(!l._default||!1===l._default.apply(u.pop(),e))&&St(n)&&a&&n[h]&&!ft.isWindow(n)){(c=n[a])&&(n[a]=null),ft.event.triggered=h;try{n[h]()}catch(p){}ft.event.triggered=undefined,c&&(n[a]=c)}return t.result}},dispatch:function(t){t=ft.event.fix(t);var e,n,i,o,a,r=[],s=ot.call(arguments),l=(ft._data(this,"events")||{})[t.type]||[],c=ft.event.special[t.type]||{};if((s[0]=t).delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,t)){for(r=ft.event.handlers.call(this,t,l),e=0;(o=r[e++])&&!t.isPropagationStopped();)for(t.currentTarget=o.elem,n=0;(a=o.handlers[n++])&&!t.isImmediatePropagationStopped();)t.rnamespace&&!t.rnamespace.test(a.namespace)||(t.handleObj=a,t.data=a.data,(i=((ft.event.special[a.origType]||{}).handle||a.handler).apply(o.elem,s))!==undefined&&!1===(t.result=i)&&(t.preventDefault(),t.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,i,o,a,r=[],s=e.delegateCount,l=t.target;if(s&&l.nodeType&&("click"!==t.type||isNaN(t.button)||t.button<1))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==t.type)){for(i=[],n=0;n<s;n++)i[o=(a=e[n]).selector+" "]===undefined&&(i[o]=a.needsContext?-1<ft(o,this).index(l):ft.find(o,this,null,[l]).length),i[o]&&i.push(a);i.length&&r.push({elem:l,handlers:i})}return s<e.length&&r.push({elem:this,handlers:e.slice(s)}),r},fix:function(t){if(t[ft.expando])return t;var e,n,i,o=t.type,a=t,r=this.fixHooks[o];for(r||(this.fixHooks[o]=r=Jt.test(o)?this.mouseHooks:Qt.test(o)?this.keyHooks:{}),i=r.props?this.props.concat(r.props):this.props,t=new ft.Event(a),e=i.length;e--;)t[n=i[e]]=a[n];return t.target||(t.target=a.srcElement||it),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,r.filter?r.filter(t,a):t},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,i,o,a=e.button,r=e.fromElement;return null==t.pageX&&null!=e.clientX&&(o=(i=t.target.ownerDocument||it).documentElement,n=i.body,t.pageX=e.clientX+(o&&o.scrollLeft||n&&n.scrollLeft||0)-(o&&o.clientLeft||n&&n.clientLeft||0),t.pageY=e.clientY+(o&&o.scrollTop||n&&n.scrollTop||0)-(o&&o.clientTop||n&&n.clientTop||0)),!t.relatedTarget&&r&&(t.relatedTarget=r===t.target?e.toElement:r),t.which||a===undefined||(t.which=1&a?1:2&a?3:4&a?2:0),t}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==p()&&this.focus)try{return this.focus(),!1}catch(t){}},delegateType:"focusin"},blur:{trigger:function(){if(this===p()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(ft.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(t){return ft.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){t.result!==undefined&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n){var i=ft.extend(new ft.Event,n,{type:t,isSimulated:!0});ft.event.trigger(i,null,e),i.isDefaultPrevented()&&n.preventDefault()}},ft.removeEvent=it.removeEventListener?function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)}:function(t,e,n){var i="on"+e;t.detachEvent&&("undefined"==typeof t[i]&&(t[i]=null),t.detachEvent(i,n))},ft.Event=function(t,e){if(!(this instanceof ft.Event))return new ft.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||t.defaultPrevented===undefined&&!1===t.returnValue?h:f):this.type=t,e&&ft.extend(this,e),this.timeStamp=t&&t.timeStamp||ft.now(),this[ft.expando]=!0},ft.Event.prototype={constructor:ft.Event,isDefaultPrevented:f,isPropagationStopped:f,isImmediatePropagationStopped:f,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=h,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=h,t&&!this.isSimulated&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=h,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},ft.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,a){ft.event.special[t]={delegateType:a,bindType:a,handle:function(t){var e,n=this,i=t.relatedTarget,o=t.handleObj;return i&&(i===n||ft.contains(n,i))||(t.type=o.origType,e=o.handler.apply(this,arguments),t.type=a),e}}}),ut.submit||(ft.event.special.submit={setup:function(){if(ft.nodeName(this,"form"))return!1;ft.event.add(this,"click._submit keypress._submit",function(t){var e=t.target,n=ft.nodeName(e,"input")||ft.nodeName(e,"button")?ft.prop(e,"form"):undefined;n&&!ft._data(n,"submit")&&(ft.event.add(n,"submit._submit",function(t){t._submitBubble=!0}),ft._data(n,"submit",!0))})},postDispatch:function(t){t._submitBubble&&(delete t._submitBubble,this.parentNode&&!t.isTrigger&&ft.event.simulate("submit",this.parentNode,t))},teardown:function(){if(ft.nodeName(this,"form"))return!1;ft.event.remove(this,"._submit")}}),ut.change||(ft.event.special.change={setup:function(){if(Zt.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||(ft.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._justChanged=!0)}),ft.event.add(this,"click._change",function(t){this._justChanged&&!t.isTrigger&&(this._justChanged=!1),ft.event.simulate("change",this,t)})),!1;ft.event.add(this,"beforeactivate._change",function(t){var e=t.target;Zt.test(e.nodeName)&&!ft._data(e,"change")&&(ft.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||ft.event.simulate("change",this.parentNode,t)}),ft._data(e,"change",!0))})},handle:function(t){var e=t.target;if(this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type)return t.handleObj.handler.apply(this,arguments)},teardown:function(){return ft.event.remove(this,"._change"),!Zt.test(this.nodeName)}}),ut.focusin||ft.each({focus:"focusin",blur:"focusout"},function(n,i){var o=function(t){ft.event.simulate(i,t.target,ft.event.fix(t))};ft.event.special[i]={setup:function(){var t=this.ownerDocument||this,e=ft._data(t,i);e||t.addEventListener(n,o,!0),ft._data(t,i,(e||0)+1)},teardown:function(){var t=this.ownerDocument||this,e=ft._data(t,i)-1;e?ft._data(t,i,e):(t.removeEventListener(n,o,!0),ft._removeData(t,i))}}}),ft.fn.extend({on:function(t,e,n,i){return b(this,t,e,n,i)},one:function(t,e,n,i){return b(this,t,e,n,i,1)},off:function(t,e,n){var i,o;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,ft(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"!=typeof t)return!1!==e&&"function"!=typeof e||(n=e,e=undefined),!1===n&&(n=f),this.each(function(){ft.event.remove(this,t,n,e)});for(o in t)this.off(o,e,t[o]);return this},trigger:function(t,e){return this.each(function(){ft.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return ft.event.trigger(t,e,n,!0)}});var ne=/ jQuery\d+="(?:null|\d+)"/g,ie=new RegExp("<(?:"+Ut+")[\\s/>]","i"),oe=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,ae=/<script|<style|<link/i,re=/checked\s*(?:[^=]|=\s*.checked.)/i,se=/^true\/(.*)/,le=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ce=g(it).appendChild(it.createElement("div"));ft.extend({htmlPrefilter:function(t){return t.replace(oe,"<$1></$2>")},clone:function(t,e,n){var i,o,a,r,s,l=ft.contains(t.ownerDocument,t);if(ut.html5Clone||ft.isXMLDoc(t)||!ie.test("<"+t.nodeName+">")?a=t.cloneNode(!0):(ce.innerHTML=t.outerHTML,ce.removeChild(a=ce.firstChild)),!(ut.noCloneEvent&&ut.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||ft.isXMLDoc(t)))for(i=v(a),s=v(t),r=0;null!=(o=s[r]);++r)i[r]&&R(o,i[r]);if(e)if(n)for(s=s||v(t),i=i||v(a),r=0;null!=(o=s[r]);r++)O(o,i[r]);else O(t,a);return 0<(i=v(a,"script")).length&&E(i,!l&&v(t,"script")),i=s=o=null,a},cleanData:function(t,e){for(var n,i,o,a,r=0,s=ft.expando,l=ft.cache,c=ut.attributes,d=ft.event.special;null!=(n=t[r]);r++)if((e||St(n))&&(a=(o=n[s])&&l[o])){if(a.events)for(i in a.events)d[i]?ft.event.remove(n,i):ft.removeEvent(n,i,a.handle);l[o]&&(delete l[o],c||"undefined"==typeof n.removeAttribute?n[s]=undefined:n.removeAttribute(s),nt.push(o))}}}),ft.fn.extend({domManip:k,detach:function(t){return _(this,t,!0)},remove:function(t){return _(this,t)},text:function(t){return zt(this,function(t){return t===undefined?ft.text(this):this.empty().append((this[0]&&this[0].ownerDocument||it).createTextNode(t))},null,t,arguments.length)},append:function(){return k(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||C(this,t).appendChild(t)})},prepend:function(){return k(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=C(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return k(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return k(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++){for(1===t.nodeType&&ft.cleanData(v(t,!1));t.firstChild;)t.removeChild(t.firstChild);t.options&&ft.nodeName(t,"select")&&(t.options.length=0)}return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return ft.clone(this,t,e)})},html:function(t){return zt(this,function(t){var e=this[0]||{},n=0,i=this.length;if(t===undefined)return 1===e.nodeType?e.innerHTML.replace(ne,""):undefined;if("string"==typeof t&&!ae.test(t)&&(ut.htmlSerialize||!ie.test(t))&&(ut.leadingWhitespace||!Vt.test(t))&&!Yt[(Wt.exec(t)||["",""])[1].toLowerCase()]){t=ft.htmlPrefilter(t);try{for(;n<i;n++)1===(e=this[n]||{}).nodeType&&(ft.cleanData(v(e,!1)),e.innerHTML=t);e=0}catch(o){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var n=[];return k(this,arguments,function(t){var e=this.parentNode;ft.inArray(this,n)<0&&(ft.cleanData(v(this)),e&&e.replaceChild(t,this))},n)}}),ft.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,r){ft.fn[t]=function(t){for(var e,n=0,i=[],o=ft(t),a=o.length-1;n<=a;n++)e=n===a?this:this.clone(!0),ft(o[n])[r](e),rt.apply(i,e.get());return this.pushStack(i)}});var de,ue={HTML:"block",BODY:"block"},he=/^margin/,fe=new RegExp("^("+Pt+")(?!px)[a-z%]+$","i"),pe=function(t,e,n,i){var o,a,r={};for(a in e)r[a]=t.style[a],t.style[a]=e[a];for(a in o=n.apply(t,i||[]),e)t.style[a]=r[a];return o},me=it.documentElement;!function(){function t(){var t,e,n=it.documentElement;n.appendChild(c),d.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",i=a=l=!1,o=s=!0,D.getComputedStyle&&(e=D.getComputedStyle(d),i="1%"!==(e||{}).top,l="2px"===(e||{}).marginLeft,a="4px"===(e||{width:"4px"}).width,d.style.marginRight="50%",o="4px"===(e||{marginRight:"4px"}).marginRight,(t=d.appendChild(it.createElement("div"))
).style.cssText=d.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",t.style.marginRight=t.style.width="0",d.style.width="1px",s=!parseFloat((D.getComputedStyle(t)||{}).marginRight),d.removeChild(t)),d.style.display="none",(r=0===d.getClientRects().length)&&(d.style.display="",d.innerHTML="<table><tr><td></td><td>t</td></tr></table>",d.childNodes[0].style.borderCollapse="separate",(t=d.getElementsByTagName("td"))[0].style.cssText="margin:0;border:0;padding:0;display:none",(r=0===t[0].offsetHeight)&&(t[0].style.display="",t[1].style.display="none",r=0===t[0].offsetHeight)),n.removeChild(c)}var i,o,a,r,s,l,c=it.createElement("div"),d=it.createElement("div");d.style&&(d.style.cssText="float:left;opacity:.5",ut.opacity="0.5"===d.style.opacity,ut.cssFloat=!!d.style.cssFloat,d.style.backgroundClip="content-box",d.cloneNode(!0).style.backgroundClip="",ut.clearCloneStyle="content-box"===d.style.backgroundClip,(c=it.createElement("div")).style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",d.innerHTML="",c.appendChild(d),ut.boxSizing=""===d.style.boxSizing||""===d.style.MozBoxSizing||""===d.style.WebkitBoxSizing,ft.extend(ut,{reliableHiddenOffsets:function(){return null==i&&t(),r},boxSizingReliable:function(){return null==i&&t(),a},pixelMarginRight:function(){return null==i&&t(),o},pixelPosition:function(){return null==i&&t(),i},reliableMarginRight:function(){return null==i&&t(),s},reliableMarginLeft:function(){return null==i&&t(),l}}))}();var ge,ve,Ee=/^(top|right|bottom|left)$/;D.getComputedStyle?(ge=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=D),e.getComputedStyle(t)},ve=function(t,e,n){var i,o,a,r,s=t.style;return""!==(r=(n=n||ge(t))?n.getPropertyValue(e)||n[e]:undefined)&&r!==undefined||ft.contains(t.ownerDocument,t)||(r=ft.style(t,e)),n&&!ut.pixelMarginRight()&&fe.test(r)&&he.test(e)&&(i=s.width,o=s.minWidth,a=s.maxWidth,s.minWidth=s.maxWidth=s.width=r,r=n.width,s.width=i,s.minWidth=o,s.maxWidth=a),r===undefined?r:r+""}):me.currentStyle&&(ge=function(t){return t.currentStyle},ve=function(t,e,n){var i,o,a,r,s=t.style;return null==(r=(n=n||ge(t))?n[e]:undefined)&&s&&s[e]&&(r=s[e]),fe.test(r)&&!Ee.test(e)&&(i=s.left,(a=(o=t.runtimeStyle)&&o.left)&&(o.left=t.currentStyle.left),s.left="fontSize"===e?"1em":r,r=s.pixelLeft+"px",s.left=i,a&&(o.left=a)),r===undefined?r:r+""||"auto"});var Te=/alpha\([^)]*\)/i,be=/opacity\s*=\s*([^)]*)/i,Ce=/^(none|table(?!-c[ea]).+)/,ye=new RegExp("^("+Pt+")(.*)$","i"),De={position:"absolute",visibility:"hidden",display:"block"},Ie={letterSpacing:"0",fontWeight:"400"},Oe=["Webkit","O","Moz","ms"],Re=it.createElement("div").style;ft.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=ve(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":ut.cssFloat?"cssFloat":"styleFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,a,r,s=ft.camelCase(e),l=t.style;if(e=ft.cssProps[s]||(ft.cssProps[s]=S(s)||s),r=ft.cssHooks[e]||ft.cssHooks[s],n===undefined)return r&&"get"in r&&(o=r.get(t,!1,i))!==undefined?o:l[e];if("string"===(a=typeof n)&&(o=Bt.exec(n))&&o[1]&&(n=u(t,e,o),a="number"),null!=n&&n==n&&("number"===a&&(n+=o&&o[3]||(ft.cssNumber[s]?"":"px")),ut.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),!(r&&"set"in r&&(n=r.set(t,n,i))===undefined)))try{l[e]=n}catch(c){}}},css:function(t,e,n,i){var o,a,r,s=ft.camelCase(e);return e=ft.cssProps[s]||(ft.cssProps[s]=S(s)||s),(r=ft.cssHooks[e]||ft.cssHooks[s])&&"get"in r&&(a=r.get(t,!0,n)),a===undefined&&(a=ve(t,e,i)),"normal"===a&&e in Ie&&(a=Ie[e]),""===n||n?(o=parseFloat(a),!0===n||isFinite(o)?o||0:a):a}}),ft.each(["height","width"],function(t,o){ft.cssHooks[o]={get:function(t,e,n){if(e)return Ce.test(ft.css(t,"display"))&&0===t.offsetWidth?pe(t,De,function(){return L(t,o,n)}):L(t,o,n)},set:function(t,e,n){var i=n&&ge(t);return A(t,e,n?M(t,o,n,ut.boxSizing&&"border-box"===ft.css(t,"boxSizing",!1,i),i):0)}}}),ut.opacity||(ft.cssHooks.opacity={get:function(t,e){return be.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var n=t.style,i=t.currentStyle,o=ft.isNumeric(e)?"alpha(opacity="+100*e+")":"",a=i&&i.filter||n.filter||"";((n.zoom=1)<=e||""===e)&&""===ft.trim(a.replace(Te,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===e||i&&!i.filter)||(n.filter=Te.test(a)?a.replace(Te,o):a+" "+o)}}),ft.cssHooks.marginRight=K(ut.reliableMarginRight,function(t,e){if(e)return pe(t,{display:"inline-block"},ve,[t,"marginRight"])}),ft.cssHooks.marginLeft=K(ut.reliableMarginLeft,function(t,e){if(e)return(parseFloat(ve(t,"marginLeft"))||(ft.contains(t.ownerDocument,t)?t.getBoundingClientRect().left-pe(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}):0))+"px"}),ft.each({margin:"",padding:"",border:"Width"},function(o,a){ft.cssHooks[o+a]={expand:function(t){for(var e=0,n={},i="string"==typeof t?t.split(" "):[t];e<4;e++)n[o+$t[e]+a]=i[e]||i[e-2]||i[0];return n}},he.test(o)||(ft.cssHooks[o+a].set=A)}),ft.fn.extend({css:function(t,e){return zt(this,function(t,e,n){var i,o,a={},r=0;if(ft.isArray(e)){for(i=ge(t),o=e.length;r<o;r++)a[e[r]]=ft.css(t,e[r],!1,i);return a}return n!==undefined?ft.style(t,e,n):ft.css(t,e)},t,e,1<arguments.length)},show:function(){return N(this,!0)},hide:function(){return N(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Ht(this)?ft(this).show():ft(this).hide()})}}),(ft.Tween=F).prototype={constructor:F,init:function(t,e,n,i,o,a){this.elem=t,this.prop=n,this.easing=o||ft.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=a||(ft.cssNumber[n]?"":"px")},cur:function(){var t=F.propHooks[this.prop];return t&&t.get?t.get(this):F.propHooks._default.get(this)},run:function(t){var e,n=F.propHooks[this.prop];return this.options.duration?this.pos=e=ft.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):F.propHooks._default.set(this),this}},F.prototype.init.prototype=F.prototype,F.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=ft.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){ft.fx.step[t.prop]?ft.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[ft.cssProps[t.prop]]&&!ft.cssHooks[t.prop]?t.elem[t.prop]=t.now:ft.style(t.elem,t.prop,t.now+t.unit)}}},F.propHooks.scrollTop=F.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},ft.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},ft.fx=F.prototype.init,ft.fx.step={};var ke,_e,xe,we,Ke,Se,Ne,Ae=/^(?:toggle|show|hide)$/,Me=/queueHooks$/;ft.Animation=ft.extend(q,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return u(n.elem,t,Bt.exec(e),n),n}]},tweener:function(t,e){ft.isFunction(t)?(e=t,t=["*"]):t=t.match(wt);for(var n,i=0,o=t.length;i<o;i++)n=t[i],q.tweeners[n]=q.tweeners[n]||[],q.tweeners[n].unshift(e)},prefilters:[H],prefilter:function(t,e){e?q.prefilters.unshift(t):q.prefilters.push(t)}}),ft.speed=function(t,e,n){var i=t&&"object"==typeof t?ft.extend({},t):{complete:n||!n&&e||ft.isFunction(t)&&t,duration:t,easing:n&&e||e&&!ft.isFunction(e)&&e};return i.duration=ft.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in ft.fx.speeds?ft.fx.speeds[i.duration]:ft.fx.speeds._default,null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){ft.isFunction(i.old)&&i.old.call(this),i.queue&&ft.dequeue(this,i.queue)},i},ft.fn.extend({fadeTo:function(t,e,n,i){return this.filter(Ht).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(e,t,n,i){var o=ft.isEmptyObject(e),a=ft.speed(t,n,i),r=function(){var t=q(this,ft.extend({},e),a);(o||ft._data(this,"finish"))&&t.stop(!0)};return r.finish=r,o||!1===a.queue?this.each(r):this.queue(a.queue,r)},stop:function(o,t,a){var r=function(t){var e=t.stop;delete t.stop,e(a)};return"string"!=typeof o&&(a=t,t=o,o=undefined),t&&!1!==o&&this.queue(o||"fx",[]),this.each(function(){var t=!0,e=null!=o&&o+"queueHooks",n=ft.timers,i=ft._data(this);if(e)i[e]&&i[e].stop&&r(i[e]);else for(e in i)i[e]&&i[e].stop&&Me.test(e)&&r(i[e]);for(e=n.length;e--;)n[e].elem!==this||null!=o&&n[e].queue!==o||(n[e].anim.stop(a),t=!1,n.splice(e,1));!t&&a||ft.dequeue(this,o)})},finish:function(r){return!1!==r&&(r=r||"fx"),this.each(function(){var t,e=ft._data(this),n=e[r+"queue"],i=e[r+"queueHooks"],o=ft.timers,a=n?n.length:0;for(e.finish=!0,ft.queue(this,r,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===r&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete e.finish})}}),ft.each(["toggle","show","hide"],function(t,i){var o=ft.fn[i];ft.fn[i]=function(t,e,n){return null==t||"boolean"==typeof t?o.apply(this,arguments):this.animate(B(i,!0),t,e,n)}}),ft.each({slideDown:B("show"),slideUp:B("hide"),slideToggle:B("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,i){ft.fn[t]=function(t,e,n){return this.animate(i,t,e,n)}}),ft.timers=[],ft.fx.tick=function(){var t,e=ft.timers,n=0;for(ke=ft.now();n<e.length;n++)(t=e[n])()||e[n]!==t||e.splice(n--,1);e.length||ft.fx.stop(),ke=undefined},ft.fx.timer=function(t){ft.timers.push(t),t()?ft.fx.start():ft.timers.pop()},ft.fx.interval=13,ft.fx.start=function(){_e||(_e=D.setInterval(ft.fx.tick,ft.fx.interval))},ft.fx.stop=function(){D.clearInterval(_e),_e=null},ft.fx.speeds={slow:600,fast:200,_default:400},ft.fn.delay=function(i,t){return i=ft.fx&&ft.fx.speeds[i]||i,t=t||"fx",this.queue(t,function(t,e){var n=D.setTimeout(t,i);e.stop=function(){D.clearTimeout(n)}})},we=it.createElement("input"),Ke=it.createElement("div"),Se=it.createElement("select"),Ne=Se.appendChild(it.createElement("option")),(Ke=it.createElement("div")).setAttribute("className","t"),Ke.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",xe=Ke.getElementsByTagName("a")[0],we.setAttribute("type","checkbox"),Ke.appendChild(we),(xe=Ke.getElementsByTagName("a")[0]).style.cssText="top:1px",ut.getSetAttribute="t"!==Ke.className,ut.style=/top/.test(xe.getAttribute("style")),ut.hrefNormalized="/a"===xe.getAttribute("href"),ut.checkOn=!!we.value,ut.optSelected=Ne.selected,ut.enctype=!!it.createElement("form").enctype,Se.disabled=!0,ut.optDisabled=!Ne.disabled,(we=it.createElement("input")).setAttribute("value",""),ut.input=""===we.getAttribute("value"),we.value="t",we.setAttribute("type","radio"),ut.radioValue="t"===we.value;var Le=/\r/g,Fe=/[\x20\t\r\n\f]+/g;ft.fn.extend({val:function(n){var i,t,o,e=this[0];return arguments.length?(o=ft.isFunction(n),this.each(function(t){var e;1===this.nodeType&&(null==(e=o?n.call(this,t,ft(this).val()):n)?e="":"number"==typeof e?e+="":ft.isArray(e)&&(e=ft.map(e,function(t){return null==t?"":t+""})),(i=ft.valHooks[this.type]||ft.valHooks[this.nodeName.toLowerCase()])&&"set"in i&&i.set(this,e,"value")!==undefined||(this.value=e))})):e?(i=ft.valHooks[e.type]||ft.valHooks[e.nodeName.toLowerCase()])&&"get"in i&&(t=i.get(e,"value"))!==undefined?t:"string"==typeof(t=e.value)?t.replace(Le,""):null==t?"":t:void 0}}),ft.extend({valHooks:{option:{get:function(t){var e=ft.find.attr(t,"value");return null!=e?e:ft.trim(ft.text(t)).replace(Fe," ")}},select:{get:function(t){for(var e,n,i=t.options,o=t.selectedIndex,a="select-one"===t.type||o<0,r=a?null:[],s=a?o+1:i.length,l=o<0?s:a?o:0;l<s;l++)if(((n=i[l]).selected||l===o)&&(ut.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!ft.nodeName(n.parentNode,"optgroup"))){if(e=ft(n).val(),a)return e;r.push(e)}return r},set:function(t,e){for(var n,i,o=t.options,a=ft.makeArray(e),r=o.length;r--;)if(i=o[r],-1<ft.inArray(ft.valHooks.option.get(i),a))try{i.selected=n=!0}catch(s){i.scrollHeight}else i.selected=!1;return n||(t.selectedIndex=-1),o}}}}),ft.each(["radio","checkbox"],function(){ft.valHooks[this]={set:function(t,e){if(ft.isArray(e))return t.checked=-1<ft.inArray(ft(t).val(),e)}},ut.checkOn||(ft.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var Pe,Be,$e=ft.expr.attrHandle,He=/^(?:checked|selected)$/i,ze=ut.getSetAttribute,qe=ut.input;ft.fn.extend({attr:function(t,e){return zt(this,ft.attr,t,e,1<arguments.length)},removeAttr:function(t){return this.each(function(){ft.removeAttr(this,t)})}}),ft.extend({attr:function(t,e,n){var i,o,a=t.nodeType;if(3!==a&&8!==a&&2!==a)return"undefined"==typeof t.getAttribute?ft.prop(t,e,n):(1===a&&ft.isXMLDoc(t)||(e=e.toLowerCase(),o=ft.attrHooks[e]||(ft.expr.match.bool.test(e)?Be:Pe)),n!==undefined?null===n?void ft.removeAttr(t,e):o&&"set"in o&&(i=o.set(t,n,e))!==undefined?i:(t.setAttribute(e,n+""),n):o&&"get"in o&&null!==(i=o.get(t,e))?i:null==(i=ft.find.attr(t,e))?undefined:i)},attrHooks:{type:{set:function(t,e){if(!ut.radioValue&&"radio"===e&&ft.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i,o=0,a=e&&e.match(wt);if(a&&1===t.nodeType)for(;n=a[o++];)i=ft.propFix[n]||n,ft.expr.match.bool.test(n)?qe&&ze||!He.test(n)?t[i]=!1:t[ft.camelCase("default-"+n)]=t[i]=!1:ft.attr(t,n,""),t.removeAttribute(ze?n:i)}}),Be={set:function(t,e,n){return!1===e?ft.removeAttr(t,n):qe&&ze||!He.test(n)?t.setAttribute(!ze&&ft.propFix[n]||n,n):t[ft.camelCase("default-"+n)]=t[n]=!0,n}},ft.each(ft.expr.match.bool.source.match(/\w+/g),function(t,e){var a=$e[e]||ft.find.attr;qe&&ze||!He.test(e)?$e[e]=function(t,e,n){var i,o;return n||(o=$e[e],$e[e]=i,i=null!=a(t,e,n)?e.toLowerCase():null,$e[e]=o),i}:$e[e]=function(t,e,n){if(!n)return t[ft.camelCase("default-"+e)]?e.toLowerCase():null}}),qe&&ze||(ft.attrHooks.value={set:function(t,e,n){if(!ft.nodeName(t,"input"))return Pe&&Pe.set(t,e,n);t.defaultValue=e}}),ze||(Pe={set:function(t,e,n){var i=t.getAttributeNode(n);if(i||t.setAttributeNode(i=t.ownerDocument.createAttribute(n)),i.value=e+="","value"===n||e===t.getAttribute(n))return e}},$e.id=$e.name=$e.coords=function(t,e,n){var i;if(!n)return(i=t.getAttributeNode(e))&&""!==i.value?i.value:null},ft.valHooks.button={get:function(t,e){var n=t.getAttributeNode(e);if(n&&n.specified)return n.value},set:Pe.set},ft.attrHooks.contenteditable={set:function(t,e,n){Pe.set(t,""!==e&&e,n)}},ft.each(["width","height"],function(t,n){ft.attrHooks[n]={set:function(t,e){if(""===e)return t.setAttribute(n,"auto"),e}}})),ut.style||(ft.attrHooks.style={get:function(t){return t.style.cssText||undefined},set:function(t,e){return t.style.cssText=e+""}});var We=/^(?:input|select|textarea|button|object)$/i,je=/^(?:a|area)$/i;ft.fn.extend({prop:function(t,e){return zt(this,ft.prop,t,e,1<arguments.length)},removeProp:function(e){return e=ft.propFix[e]||e,this.each(function(){try{this[e]=undefined,delete this[e]}catch(t){}})}}),ft.extend({prop:function(t,e,n){var i,o,a=t.nodeType;if(3!==a&&8!==a&&2!==a)return 1===a&&ft.isXMLDoc(t)||(e=ft.propFix[e]||e,o=ft.propHooks[e]),n!==undefined?o&&"set"in o&&(i=o.set(t,n,e))!==undefined?i:t[e]=n:o&&"get"in o&&null!==(i=o.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=ft.find.attr(t,"tabindex");return e?parseInt(e,10):We.test(t.nodeName)||je.test(t.nodeName)&&t.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),ut.hrefNormalized||ft.each(["href","src"],function(t,e){ft.propHooks[e]={get:function(t){return t.getAttribute(e,4)}}}),ut.optSelected||(ft.propHooks.selected={get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),ft.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ft.propFix[this.toLowerCase()]=this}),ut.enctype||(ft.propFix.enctype="encoding");var Ve=/[\t\r\n\f]/g;ft.fn.extend({addClass:function(e){var t,n,i,o,a,r,s,l=0;if(ft.isFunction(e))return this.each(function(t){ft(this).addClass(e.call(this,t,W(this)))});if("string"==typeof e&&e)for(t=e.match(wt)||[];n=this[l++];)if(o=W(n),i=1===n.nodeType&&(" "+o+" ").replace(Ve," ")){for(r=0;a=t[r++];)i.indexOf(" "+a+" ")<0&&(i+=a+" ");o!==(s=ft.trim(i))&&ft.attr(n,"class",s)}return this},removeClass:function(e){var t,n,i,o,a,r,s,l=0;if(ft.isFunction(e))return this.each(function(t){ft(this).removeClass(e.call(this,t,W(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(wt)||[];n=this[l++];)if(o=W(n),i=1===n.nodeType&&(" "+o+" ").replace(Ve," ")){for(r=0;a=t[r++];)for(;-1<i.indexOf(" "+a+" ");)i=i.replace(" "+a+" "," ");o!==(s=ft.trim(i))&&ft.attr(n,"class",s)}return this},toggleClass:function(o,e){var a=typeof o;return"boolean"==typeof e&&"string"===a?e?this.addClass(o):this.removeClass(o):ft.isFunction(o)?this.each(function(t){ft(this).toggleClass(o.call(this,t,W(this),e),e)}):this.each(function(){var t,e,n,i;if("string"===a)for(e=0,n=ft(this),i=o.match(wt)||[];t=i[e++];)n.hasClass(t)?n.removeClass(t):n.addClass(t);else o!==undefined&&"boolean"!==a||((t=W(this))&&ft._data(this,"__className__",t),ft.attr(this,"class",t||!1===o?"":ft._data(this,"__className__")||""))})},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&-1<(" "+W(n)+" ").replace(Ve," ").indexOf(e))return!0;return!1}}),ft.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,n){ft.fn[n]=function(t,e){return 0<arguments.length?this.on(n,null,t,e):this.trigger(n)}}),ft.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}});var Ue=D.location,Ye=ft.now(),Ge=/\?/,Xe=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;ft.parseJSON=function(t){if(D.JSON&&D.JSON.parse)return D.JSON.parse(t+"");var o,a=null,e=ft.trim(t+"");return e&&!ft.trim(e.replace(Xe,function(t,e,n,i){return o&&e&&(a=0),0===a?t:(o=n||e,a+=!i-!n,"")}))?Function("return "+e)():ft.error("Invalid JSON: "+t)},ft.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{D.DOMParser?e=(new D.DOMParser).parseFromString(t,"text/xml"):((e=new D.ActiveXObject("Microsoft.XMLDOM")).async="false",e.loadXML(t))}catch(n){e=undefined}return e&&e.documentElement&&!e.getElementsByTagName("parsererror").length||ft.error("Invalid XML: "+t),e};var Ze=/#.*$/,Qe=/([?&])_=[^&]*/,Je=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,tn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,en=/^(?:GET|HEAD)$/,nn=/^\/\//,on=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,an={},rn={},sn="*/".concat("*"),ln=Ue.href,cn=on.exec(ln.toLowerCase())||[];ft.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ln,type:"GET",isLocal:tn.test(cn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":sn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ft.parseJSON,"text xml":ft.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?U(U(t,ft.ajaxSettings),e):U(ft.ajaxSettings,t)},ajaxPrefilter:j(an),ajaxTransport:j(rn),ajax:function(t,e){function n(t,e,n,i){var o,a,r,s,l,c=e;2!==C&&(C=2,h&&D.clearTimeout(h),p=undefined,u=i||"",y.readyState=0<t?4:0,o=200<=t&&t<300||304===t,n&&(s=Y(m,y,n)),s=G(m,s,y,o),o?(m.ifModified&&((l=y.getResponseHeader("Last-Modified"))&&(ft.lastModified[d]=l),(l=y.getResponseHeader("etag"))&&(ft.etag[d]=l)),204===t||"HEAD"===m.type?c="nocontent":304===t?c="notmodified":(c=s.state,a=s.data,o=!(r=s.error))):(r=c,!t&&c||(c="error",t<0&&(t=0))),y.status=t,y.statusText=(e||c)+"",o?E.resolveWith(g,[a,c,y]):E.rejectWith(g,[y,c,r]),y.statusCode(b),b=undefined,f&&v.trigger(o?"ajaxSuccess":"ajaxError",[y,m,o?a:r]),T.fireWith(g,[y,c]),f&&(v.trigger("ajaxComplete",[y,m]),--ft.active||ft.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=undefined),e=e||{};var i,o,d,u,h,f,p,a,m=ft.ajaxSetup({},e),g=m.context||m,v=m.context&&(g.nodeType||g.jquery)?ft(g):ft.event,E=ft.Deferred(),T=ft.Callbacks("once memory"),b=m.statusCode||{},r={},s={},C=0,l="canceled",y={readyState:0,getResponseHeader:function(t){var e;if(2===C){if(!a)for(a={};e=Je.exec(u);)a[e[1].toLowerCase()]=e[2];e=a[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===C?u:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return C||(t=s[n]=s[n]||t,r[t]=e),this},overrideMimeType:function(t){return C||(m.mimeType=t),this},statusCode:function(t){var e;if(t)if(C<2)for(e in t)b[e]=[b[e],t[e]];else y.always(t[y.status]);return this},abort:function(t){var e=t||l;return p&&p.abort(e),n(0,e),this}};if(E.promise(y).complete=T.add,y.success=y.done,y.error=y.fail,m.url=((t||m.url||ln)+"").replace(Ze,"").replace(nn,cn[1]+"//"),m.type=e.method||e.type||m.method||m.type,m.dataTypes=ft.trim(m.dataType||"*").toLowerCase().match(wt)||[""],null==m.crossDomain&&(i=on.exec(m.url.toLowerCase()),m.crossDomain=!(!i||i[1]===cn[1]&&i[2]===cn[2]&&(i[3]||("http:"===i[1]?"80":"443"))===(cn[3]||("http:"===cn[1]?"80":"443")))),m.data&&m.processData&&"string"!=typeof m.data&&(m.data=ft.param(m.data,m.traditional)),V(an,m,e,y),2===C)return y;for(o in(f=ft.event&&m.global)&&0==ft.active++&&ft.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!en.test(m.type),d=m.url,m.hasContent||(m.data&&(d=m.url+=(Ge.test(d)?"&":"?")+m.data,delete m.data),!1===m.cache&&(m.url=Qe.test(d)?d.replace(Qe,"$1_="+Ye++):d+(Ge.test(d)?"&":"?")+"_="+Ye++)),m.ifModified&&(ft.lastModified[d]&&y.setRequestHeader("If-Modified-Since",ft.lastModified[d]),ft.etag[d]&&y.setRequestHeader("If-None-Match",ft.etag[d])),(m.data&&m.hasContent&&!1!==m.contentType||e.contentType)&&y.setRequestHeader("Content-Type",m.contentType),y.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+sn+"; q=0.01":""):m.accepts["*"]),m.headers)y.setRequestHeader(o,m.headers[o]);if(m.beforeSend&&(!1===m.beforeSend.call(g,y,m)||2===C))return y.abort();for(o in l="abort",{success:1,error:1,complete:1})y[o](m[o]);if(p=V(rn,m,e,y)){if(y.readyState=1,f&&v.trigger("ajaxSend",[y,m]),2===C)return y;m.async&&0<m.timeout&&(h=D.setTimeout(function(){y.abort("timeout")},m.timeout));try{C=1,p.send(r,n)}catch(c){if(!(C<2))throw c;n(-1,c)}}else n(-1,"No Transport");return y},getJSON:function(t,e,n){return ft.get(t,e,n,"json")},getScript:function(t,e){return ft.get(t,undefined,e,"script")}}),ft.each(["get","post"],function(t,o){ft[o]=function(t,e,n,i){return ft.isFunction(e)&&(i=i||n,n=e,e=undefined),ft.ajax(ft.extend({url:t,type:o,dataType:i,data:e,success:n},ft.isPlainObject(t)&&t))}}),ft._evalUrl=function(t){return ft.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},ft.fn.extend({wrapAll:function(e){if(ft.isFunction(e))return this.each(function(t){ft(this).wrapAll(e.call(this,t))});if(this[0]){var t=ft(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(n){return ft.isFunction(n)?this.each(function(t){ft(this).wrapInner(n.call(this,t))}):this.each(function(){var t=ft(this),e=t.contents();e.length?e.wrapAll(n):t.append(n)})},wrap:function(e){var n=ft.isFunction(e);return this.each(function(t){ft(this).wrapAll(n?e.call(this,t):e)})},unwrap:function(){return this.parent().each(function(){ft.nodeName(this,"body")||ft(this).replaceWith(this.childNodes)}).end()}}),ft.expr.filters.hidden=function(t){return ut.reliableHiddenOffsets()?t.offsetWidth<=0&&t.offsetHeight<=0&&!t.getClientRects().length:Z(t)},ft.expr.filters.visible=function(t){return!ft.expr.filters.hidden(t)};var dn=/%20/g,un=/\[\]$/,hn=/\r?\n/g,fn=/^(?:submit|button|image|reset|file)$/i,pn=/^(?:input|select|textarea|keygen)/i;ft.param=function(t,e){var n,i=[],o=function(t,e){e=ft.isFunction(e)?e():null==e?"":e,i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(e===undefined&&(e=ft.ajaxSettings&&ft.ajaxSettings.traditional),ft.isArray(t)||t.jquery&&!ft.isPlainObject(t))ft.each(t,function(){o(this.name,this.value)});else for(n in t)Q(n,t[n],e,o);return i.join("&").replace(dn,"+")},ft.fn.extend({serialize:function(){return ft.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=ft.prop(this,"elements");return t?ft.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!ft(this).is(":disabled")&&pn.test(this.nodeName)&&!fn.test(t)&&(this.checked||!qt.test(t))}).map(function(t,e){var n=ft(this).val();return null==n?null:ft.isArray(n)?ft.map(n,function(t){return{name:e.name,value:t.replace(hn,"\r\n")}}):{name:e.name,value:n.replace(hn,"\r\n")}}).get()}}),ft.ajaxSettings.xhr=D.ActiveXObject!==undefined?function(){return this.isLocal?tt():8<it.documentMode?J():/^(get|post|head|put|delete|options)$/i.test(this.type)&&J()||tt()}:J;var mn=0,gn={},vn=ft.ajaxSettings.xhr();D.attachEvent&&D.attachEvent("onunload",function(){for(var t in gn)gn[t](undefined,!0)}),ut.cors=!!vn&&"withCredentials"in vn,(vn=ut.ajax=!!vn)&&ft.ajaxTransport(function(c){var d;if(!c.crossDomain||ut.cors)return{send:function(t,r){var e,s=c.xhr(),l=++mn;if(s.open(c.type,c.url,c.async,c.username,c.password),c.xhrFields)for(e in c.xhrFields)s[e]=c.xhrFields[e];for(e in c.mimeType&&s.overrideMimeType&&s.overrideMimeType(c.mimeType),c.crossDomain||t["X-Requested-With"]||(t["X-Requested-With"]="XMLHttpRequest"),t)t[e]!==undefined&&s.setRequestHeader(e,t[e]+"");s.send(c.hasContent&&c.data||null),d=function(t,e){var n,i,o;if(d&&(e||4===s.readyState))if(delete gn[l],d=undefined,s.onreadystatechange=ft.noop,e)4!==s.readyState&&s.abort();else{o={},n=s.status,"string"==typeof s.responseText&&(o.text=s.responseText);try{i=s.statusText}catch(a){i=""}n||!c.isLocal||c.crossDomain?1223===n&&(n=204):n=o.text?200:404}o&&r(n,i,o,s.getAllResponseHeaders())},c.async?4===s.readyState?D.setTimeout(d):s.onreadystatechange=gn[l]=d:d()},abort:function(){d&&d(undefined,!0)}}}),ft.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return ft.globalEval(t),t}}}),ft.ajaxPrefilter("script",function(t){t.cache===undefined&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),ft.ajaxTransport("script",function(e){if(e.crossDomain){var i,o=it.head||ft("head")[0]||it.documentElement;return{send:function(t,n){(i=it.createElement("script")).async=!0,e.scriptCharset&&(i.charset=e.scriptCharset),i.src=e.url,i.onload=i.onreadystatechange=function(t,e){(e||!i.readyState||/loaded|complete/.test(i.readyState))&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),i=null,e||n(200,"success"))},o.insertBefore(i,o.firstChild)},abort:function(){i&&i.onload(undefined,!0)}}}});var En=[],Tn=/(=)\?(?=&|$)|\?\?/;ft.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=En.pop()||ft.expando+"_"+Ye++;return this[t]=!0,t}}),ft.ajaxPrefilter("json jsonp",function(t,e,n){var i,o,a,r=!1!==t.jsonp&&(Tn.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Tn.test(t.data)&&"data");if(r||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=ft.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,r?t[r]=t[r].replace(Tn,"$1"+i):!1!==t.jsonp&&(t.url+=(Ge.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||ft.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=D[i],D[i]=function(){a=arguments},n.always(function(){o===undefined?ft(D).removeProp(i):D[i]=o,t[i]&&(t.jsonpCallback=e.jsonpCallback,En.push(i)),a&&ft.isFunction(o)&&o(a[0]),a=o=undefined}),"script"}),ft.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||it;var i=yt.exec(t),o=!n&&[];return i?[e.createElement(i[1])]:(i=m([t],e,o),o&&o.length&&ft(o).remove(),ft.merge([],i.childNodes))};var bn=ft.fn.load;ft.fn.load=function(t,e,n){if("string"!=typeof t&&bn)return bn.apply(this,arguments);var i,o,a,r=this,s=t.indexOf(" ");return-1<s&&(i=ft.trim(t.slice(s,t.length)),t=t.slice(0,s)),ft.isFunction(e)?(n=e,e=undefined):e&&"object"==typeof e&&(o="POST"),0<r.length&&ft.ajax({url:t,type:o||"GET",dataType:"html",data:e}).done(function(t){a=arguments,r.html(i?ft("<div>").append(ft.parseHTML(t)).find(i):t)}).always(n&&function(t,e){r.each(function(){n.apply(this,a||[t.responseText,e,t])})}),this},ft.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){ft.fn[e]=function(t){return this.on(e,t)}}),ft.expr.filters.animated=function(e){return ft.grep(ft.timers,function(t){return e===t.elem}).length},ft.offset={setOffset:function(t,e,n){var i,o,a,r,s,l,c=ft.css(t,"position"),d=ft(t),u={};"static"===c&&(t.style.position="relative"),s=d.offset(),a=ft.css(t,"top"),l=ft.css(t,"left"),("absolute"===c||"fixed"===c)&&-1<ft.inArray("auto",[a,l])?(r=(i=d.position()).top,o=i.left):(r=parseFloat(a)||0,o=parseFloat(l)||0),ft.isFunction(e)&&(e=e.call(t,n,ft.extend({},s))),null!=e.top&&(u.top=e.top-s.top+r),null!=e.left&&(u.left=e.left-s.left+o),"using"in e?e.using.call(t,u):d.css(u)}},ft.fn.extend({offset:function(e){if(arguments.length)return e===undefined?this:this.each(function(t){ft.offset.setOffset(this,e,t)});var t,n,i={top:0,left:0},o=this[0],a=o&&o.ownerDocument;return a?(t=a.documentElement,ft.contains(t,o)?("undefined"!=typeof o.getBoundingClientRect&&(i=o.getBoundingClientRect()),n=et(a),{top:i.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:i.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):i):void 0},position:function(){if(this[0]){var t,e,n={top:0,left:0},i=this[0];return"fixed"===ft.css(i,"position")?e=i.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),ft.nodeName(t[0],"html")||(n=t.offset()),n.top+=ft.css(t[0],"borderTopWidth",!0),n.left+=ft.css(t[0],"borderLeftWidth",!0)),{top:e.top-n.top-ft.css(i,"marginTop",!0),left:e.left-n.left-ft.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&!ft.nodeName(t,"html")&&"static"===ft.css(t,"position");)t=t.offsetParent;return t||me})}}),ft.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,o){var a=/Y/.test(o);ft.fn[e]=function(t){return zt(this,function(t,e,n){var i=et(t);if(n===undefined)return i?o in i?i[o]:i.document.documentElement[e]:t[e];i?i.scrollTo(a?ft(i).scrollLeft():n,a?n:ft(i).scrollTop()):t[e]=n},e,t,arguments.length,null)}}),ft.each(["top","left"],function(t,n){ft.cssHooks[n]=K(ut.pixelPosition,function(t,e){if(e)return e=ve(t,n),fe.test(e)?ft(t).position()[n]+"px":e})}),ft.each({Height:"height",Width:"width"},function(a,r){ft.each({padding:"inner"+a,content:r,"":"outer"+a},function(i,t){ft.fn[t]=function(t,e){var n=arguments.length&&(i||"boolean"!=typeof t),o=i||(!0===t||!0===e?"margin":"border");return zt(this,function(t,e,n){var i;return ft.isWindow(t)?t.document.documentElement["client"+a]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+a],i["scroll"+a],t.body["offset"+a],i["offset"+a],i["client"+a])):n===undefined?ft.css(t,e,o):ft.style(t,e,n,o)},r,n?t:undefined,n,null)}})}),ft.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),ft.fn.size=function(){return this.length},ft.fn.andSelf=ft.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ft});var Cn=D.jQuery,yn=D.$;return ft.noConflict=function(t){return D.$===ft&&(D.$=yn),t&&D.jQuery===ft&&(D.jQuery=Cn),ft},
t||(D.jQuery=D.$=ft),ft}),function(d,l){"use strict";var c;d.rails!==l&&d.error("jquery-ujs has already been loaded!");var t=d(document);d.rails=c={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not([form]):not(form button), button[data-confirm]:not([form]):not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]), textarea[name][required]:not([disabled])",fileInputSelector:"input[name][type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",csrfToken:function(){return d("meta[name=csrf-token]").attr("content")},csrfParam:function(){return d("meta[name=csrf-param]").attr("content")},CSRFProtection:function(t){var e=c.csrfToken();e&&t.setRequestHeader("X-CSRF-Token",e)},refreshCSRFTokens:function(){d('form input[name="'+c.csrfParam()+'"]').val(c.csrfToken())},fire:function(t,e,n){var i=d.Event(e);return t.trigger(i,n),!1!==i.result},confirm:function(t){return confirm(t)},ajax:function(t){return d.ajax(t)},href:function(t){return t[0].href},isRemote:function(t){return t.data("remote")!==l&&!1!==t.data("remote")},handleRemote:function(i){var t,e,n,o,a,r;if(c.fire(i,"ajax:before")){if(o=i.data("with-credentials")||null,a=i.data("type")||d.ajaxSettings&&d.ajaxSettings.dataType,i.is("form")){t=i.data("ujs:submit-button-formmethod")||i.attr("method"),e=i.data("ujs:submit-button-formaction")||i.attr("action"),n=d(i[0]).serializeArray();var s=i.data("ujs:submit-button");s&&(n.push(s),i.data("ujs:submit-button",null)),i.data("ujs:submit-button-formmethod",null),i.data("ujs:submit-button-formaction",null)}else i.is(c.inputChangeSelector)?(t=i.data("method"),e=i.data("url"),n=i.serialize(),i.data("params")&&(n=n+"&"+i.data("params"))):i.is(c.buttonClickSelector)?(t=i.data("method")||"get",e=i.data("url"),n=i.serialize(),i.data("params")&&(n=n+"&"+i.data("params"))):(t=i.data("method"),e=c.href(i),n=i.data("params")||null);return r={type:t||"GET",data:n,dataType:a,beforeSend:function(t,e){if(e.dataType===l&&t.setRequestHeader("accept","*/*;q=0.5, "+e.accepts.script),!c.fire(i,"ajax:beforeSend",[t,e]))return!1;i.trigger("ajax:send",t)},success:function(t,e,n){i.trigger("ajax:success",[t,e,n])},complete:function(t,e){i.trigger("ajax:complete",[t,e])},error:function(t,e,n){i.trigger("ajax:error",[t,e,n])},crossDomain:c.isCrossDomain(e)},o&&(r.xhrFields={withCredentials:o}),e&&(r.url=e),c.ajax(r)}return!1},isCrossDomain:function(t){var e=document.createElement("a");e.href=location.href;var n=document.createElement("a");try{return n.href=t,n.href=n.href,!((!n.protocol||":"===n.protocol)&&!n.host||e.protocol+"//"+e.host==n.protocol+"//"+n.host)}catch(i){return!0}},handleMethod:function(t){var e=c.href(t),n=t.data("method"),i=t.attr("target"),o=c.csrfToken(),a=c.csrfParam(),r=d('<form method="post" action="'+e+'"></form>'),s='<input name="_method" value="'+n+'" type="hidden" />';a===l||o===l||c.isCrossDomain(e)||(s+='<input name="'+a+'" value="'+o+'" type="hidden" />'),i&&r.attr("target",i),r.hide().append(s).appendTo("body"),r.submit()},formElements:function(t,e){return t.is("form")?d(t[0].elements).filter(e):t.find(e)},disableFormElements:function(t){c.formElements(t,c.disableSelector).each(function(){c.disableFormElement(d(this))})},disableFormElement:function(t){var e,n;e=t.is("button")?"html":"val",(n=t.data("disable-with"))!==l&&(t.data("ujs:enable-with",t[e]()),t[e](n)),t.prop("disabled",!0),t.data("ujs:disabled",!0)},enableFormElements:function(t){c.formElements(t,c.enableSelector).each(function(){c.enableFormElement(d(this))})},enableFormElement:function(t){var e=t.is("button")?"html":"val";t.data("ujs:enable-with")!==l&&(t[e](t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.prop("disabled",!1),t.removeData("ujs:disabled")},allowAction:function(t){var e,n=t.data("confirm"),i=!1;if(!n)return!0;if(c.fire(t,"confirm")){try{i=c.confirm(n)}catch(o){(console.error||console.log).call(console,o.stack||o)}e=c.fire(t,"confirm:complete",[i])}return i&&e},blankInputs:function(t,e,n){var i,o,a,r=d(),s=e||"input,textarea",l=t.find(s),c={};return l.each(function(){(i=d(this)).is("input[type=radio]")?(a=i.attr("name"),c[a]||(0===t.find('input[type=radio]:checked[name="'+a+'"]').length&&(o=t.find('input[type=radio][name="'+a+'"]'),r=r.add(o)),c[a]=a)):(i.is("input[type=checkbox],input[type=radio]")?i.is(":checked"):!!i.val())===n&&(r=r.add(i))}),!!r.length&&r},nonBlankInputs:function(t,e){return c.blankInputs(t,e,!0)},stopEverything:function(t){return d(t.target).trigger("ujs:everythingStopped"),t.stopImmediatePropagation(),!1},disableElement:function(t){var e=t.data("disable-with");e!==l&&(t.data("ujs:enable-with",t.html()),t.html(e)),t.bind("click.railsDisable",function(t){return c.stopEverything(t)}),t.data("ujs:disabled",!0)},enableElement:function(t){t.data("ujs:enable-with")!==l&&(t.html(t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.unbind("click.railsDisable"),t.removeData("ujs:disabled")}},c.fire(t,"rails:attachBindings")&&(d.ajaxPrefilter(function(t,e,n){t.crossDomain||c.CSRFProtection(n)}),d(window).on("pageshow.rails",function(){d(d.rails.enableSelector).each(function(){var t=d(this);t.data("ujs:disabled")&&d.rails.enableFormElement(t)}),d(d.rails.linkDisableSelector).each(function(){var t=d(this);t.data("ujs:disabled")&&d.rails.enableElement(t)})}),t.on("ajax:complete",c.linkDisableSelector,function(){c.enableElement(d(this))}),t.on("ajax:complete",c.buttonDisableSelector,function(){c.enableFormElement(d(this))}),t.on("click.rails",c.linkClickSelector,function(t){var e=d(this),n=e.data("method"),i=e.data("params"),o=t.metaKey||t.ctrlKey;if(!c.allowAction(e))return c.stopEverything(t);if(!o&&e.is(c.linkDisableSelector)&&c.disableElement(e),c.isRemote(e)){if(o&&(!n||"GET"===n)&&!i)return!0;var a=c.handleRemote(e);return!1===a?c.enableElement(e):a.fail(function(){c.enableElement(e)}),!1}return n?(c.handleMethod(e),!1):void 0}),t.on("click.rails",c.buttonClickSelector,function(t){var e=d(this);if(!c.allowAction(e)||!c.isRemote(e))return c.stopEverything(t);e.is(c.buttonDisableSelector)&&c.disableFormElement(e);var n=c.handleRemote(e);return!1===n?c.enableFormElement(e):n.fail(function(){c.enableFormElement(e)}),!1}),t.on("change.rails",c.inputChangeSelector,function(t){var e=d(this);return c.allowAction(e)&&c.isRemote(e)?(c.handleRemote(e),!1):c.stopEverything(t)}),t.on("submit.rails",c.formSubmitSelector,function(t){var e,n,i=d(this),o=c.isRemote(i);if(!c.allowAction(i))return c.stopEverything(t);if(i.attr("novalidate")===l)if(i.data("ujs:formnovalidate-button")===l){if((e=c.blankInputs(i,c.requiredInputSelector,!1))&&c.fire(i,"ajax:aborted:required",[e]))return c.stopEverything(t)}else i.data("ujs:formnovalidate-button",l);if(o){if(n=c.nonBlankInputs(i,c.fileInputSelector)){setTimeout(function(){c.disableFormElements(i)},13);var a=c.fire(i,"ajax:aborted:file",[n]);return a||setTimeout(function(){c.enableFormElements(i)},13),a}return c.handleRemote(i),!1}setTimeout(function(){c.disableFormElements(i)},13)}),t.on("click.rails",c.formInputClickSelector,function(t){var e=d(this);if(!c.allowAction(e))return c.stopEverything(t);var n=e.attr("name"),i=n?{name:n,value:e.val()}:null,o=e.closest("form");0===o.length&&(o=d("#"+e.attr("form"))),o.data("ujs:submit-button",i),o.data("ujs:formnovalidate-button",e.attr("formnovalidate")),o.data("ujs:submit-button-formaction",e.attr("formaction")),o.data("ujs:submit-button-formmethod",e.attr("formmethod"))}),t.on("ajax:send.rails",c.formSubmitSelector,function(t){this===t.target&&c.disableFormElements(d(this))}),t.on("ajax:complete.rails",c.formSubmitSelector,function(t){this===t.target&&c.enableFormElements(d(this))}),d(function(){c.refreshCSRFTokens()}))}(jQuery),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");!function(){"use strict";var t=jQuery.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1==t[0]&&9==t[1]&&t[2]<1||2<t[0])throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 3")}(),function(i){"use strict";function t(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return{end:e[n]};return!1}i.fn.emulateTransitionEnd=function(t){var e=!1,n=this;return i(this).one("bsTransitionEnd",function(){e=!0}),setTimeout(function(){e||i(n).trigger(i.support.transition.end)},t),this},i(function(){i.support.transition=t(),i.support.transition&&(i.event.special.bsTransitionEnd={bindType:i.support.transition.end,delegateType:i.support.transition.end,handle:function(t){return i(t.target).is(this)?t.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),function(a){"use strict";function t(n){return this.each(function(){var t=a(this),e=t.data("bs.alert");e||t.data("bs.alert",e=new r(this)),"string"==typeof n&&e[n].call(t)})}var e='[data-dismiss="alert"]',r=function(t){a(t).on("click",e,this.close)};r.VERSION="3.3.6",r.TRANSITION_DURATION=150,r.prototype.close=function(t){function e(){o.detach().trigger("closed.bs.alert").remove()}var n=a(this),i=n.attr("data-target");i||(i=(i=n.attr("href"))&&i.replace(/.*(?=#[^\s]*$)/,""));var o=a(i);t&&t.preventDefault(),o.length||(o=n.closest(".alert")),o.trigger(t=a.Event("close.bs.alert")),t.isDefaultPrevented()||(o.removeClass("in"),a.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",e).emulateTransitionEnd(r.TRANSITION_DURATION):e())};var n=a.fn.alert;a.fn.alert=t,a.fn.alert.Constructor=r,a.fn.alert.noConflict=function(){return a.fn.alert=n,this},a(document).on("click.bs.alert.data-api",e,r.prototype.close)}(jQuery),function(a){"use strict";function n(i){return this.each(function(){var t=a(this),e=t.data("bs.button"),n="object"==typeof i&&i;e||t.data("bs.button",e=new o(this,n)),"toggle"==i?e.toggle():i&&e.setState(i)})}var o=function(t,e){this.$element=a(t),this.options=a.extend({},o.DEFAULTS,e),this.isLoading=!1};o.VERSION="3.3.6",o.DEFAULTS={loadingText:"loading..."},o.prototype.setState=function(t){var e="disabled",n=this.$element,i=n.is("input")?"val":"html",o=n.data();t+="Text",null==o.resetText&&n.data("resetText",n[i]()),setTimeout(a.proxy(function(){n[i](null==o[t]?this.options[t]:o[t]),"loadingText"==t?(this.isLoading=!0,n.addClass(e).attr(e,e)):this.isLoading&&(this.isLoading=!1,n.removeClass(e).removeAttr(e))},this),0)},o.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var n=this.$element.find("input");"radio"==n.prop("type")?(n.prop("checked")&&(t=!1),e.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==n.prop("type")&&(n.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),n.prop("checked",this.$element.hasClass("active")),t&&n.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var t=a.fn.button;a.fn.button=n,a.fn.button.Constructor=o,a.fn.button.noConflict=function(){return a.fn.button=t,this},a(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(t){var e=a(t.target);e.hasClass("btn")||(e=e.closest(".btn")),n.call(e,"toggle"),a(t.target).is('input[type="radio"]')||a(t.target).is('input[type="checkbox"]')||t.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){a(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery),function(u){"use strict";function r(o){return this.each(function(){var t=u(this),e=t.data("bs.carousel"),n=u.extend({},h.DEFAULTS,t.data(),"object"==typeof o&&o),i="string"==typeof o?o:n.slide;e||t.data("bs.carousel",e=new h(this,n)),"number"==typeof o?e.to(o):i?e[i]():n.interval&&e.pause().cycle()})}var h=function(t,e){this.$element=u(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=e,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",u.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",u.proxy(this.pause,this)).on("mouseleave.bs.carousel",u.proxy(this.cycle,this))};h.VERSION="3.3.6",h.TRANSITION_DURATION=600,h.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},h.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},h.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(u.proxy(this.next,this),this.options.interval)),this},h.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},h.prototype.getItemForDirection=function(t,e){var n=this.getItemIndex(e);if(("prev"==t&&0===n||"next"==t&&n==this.$items.length-1)&&!this.options.wrap)return e;var i=(n+("prev"==t?-1:1))%this.$items.length;return this.$items.eq(i)},h.prototype.to=function(t){var e=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));return t>this.$items.length-1||t<0?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):n==t?this.pause().cycle():this.slide(n<t?"next":"prev",this.$items.eq(t))},h.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&u.support.transition&&(this.$element.trigger(u.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},h.prototype.next=function(){return this.sliding?void 0:this.slide("next")},h.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},h.prototype.slide=function(t,e){var n=this.$element.find(".item.active"),i=e||this.getItemForDirection(t,n),o=this.interval,a="next"==t?"left":"right",r=this;if(i.hasClass("active"))return this.sliding=!1;var s=i[0],l=u.Event("slide.bs.carousel",{relatedTarget:s,direction:a});if(this.$element.trigger(l),!l.isDefaultPrevented()){if(this.sliding=!0,o&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var c=u(this.$indicators.children()[this.getItemIndex(i)]);c&&c.addClass("active")}var d=u.Event("slid.bs.carousel",{relatedTarget:s,direction:a});return u.support.transition&&this.$element.hasClass("slide")?(i.addClass(t),i[0].offsetWidth,n.addClass(a),i.addClass(a),n.one("bsTransitionEnd",function(){i.removeClass([t,a].join(" ")).addClass("active"),n.removeClass(["active",a].join(" ")),r.sliding=!1,setTimeout(function(){r.$element.trigger(d)},0)}).emulateTransitionEnd(h.TRANSITION_DURATION)):(n.removeClass("active"),i.addClass("active"),this.sliding=!1,this.$element.trigger(d)),o&&this.cycle(),this}};var t=u.fn.carousel;u.fn.carousel=r,u.fn.carousel.Constructor=h,u.fn.carousel.noConflict=function(){return u.fn.carousel=t,this};var e=function(t){var e,n=u(this),i=u(n.attr("data-target")||(e=n.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,""));if(i.hasClass("carousel")){var o=u.extend({},i.data(),n.data()),a=n.attr("data-slide-to");a&&(o.interval=!1),r.call(i,o),a&&i.data("bs.carousel").to(a),t.preventDefault()}};u(document).on("click.bs.carousel.data-api","[data-slide]",e).on("click.bs.carousel.data-api","[data-slide-to]",e),u(window).on("load",function(){u('[data-ride="carousel"]').each(function(){var t=u(this);r.call(t,t.data())})})}(jQuery),function(r){"use strict";function o(t){var e,n=t.attr("data-target")||(e=t.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,"");return r(n)}function s(i){return this.each(function(){var t=r(this),e=t.data("bs.collapse"),n=r.extend({},l.DEFAULTS,t.data(),"object"==typeof i&&i);!e&&n.toggle&&/show|hide/.test(i)&&(n.toggle=!1),e||t.data("bs.collapse",e=new l(this,n)),"string"==typeof i&&e[i]()})}var l=function(t,e){this.$element=r(t),this.options=r.extend({},l.DEFAULTS,e),this.$trigger=r('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};l.VERSION="3.3.6",l.TRANSITION_DURATION=350,l.DEFAULTS={toggle:!0},l.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},l.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t,e=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(e&&e.length&&((t=e.data("bs.collapse"))&&t.transitioning))){var n=r.Event("show.bs.collapse");if(this.$element.trigger(n),!n.isDefaultPrevented()){e&&e.length&&(s.call(e,"hide"),t||e.data("bs.collapse",null));var i=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[i](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var o=function(){this.$element.removeClass("collapsing").addClass("collapse in")[i](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!r.support.transition)return o.call(this);var a=r.camelCase(["scroll",i].join("-"));this.$element.one("bsTransitionEnd",r.proxy(o,this)).emulateTransitionEnd(l.TRANSITION_DURATION)[i](this.$element[0][a])}}}},l.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=r.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var e=this.dimension();this.$element[e](this.$element[e]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var n=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return r.support.transition?void this.$element[e](0).one("bsTransitionEnd",r.proxy(n,this)).emulateTransitionEnd(l.TRANSITION_DURATION):n.call(this)}}},l.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},l.prototype.getParent=function(){return r(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(r.proxy(function(t,e){var n=r(e);this.addAriaAndCollapsedClass(o(n),n)},this)).end()},l.prototype.addAriaAndCollapsedClass=function(t,e){var n=t.hasClass("in");t.attr("aria-expanded",n),e.toggleClass("collapsed",!n).attr("aria-expanded",n)};var t=r.fn.collapse;r.fn.collapse=s,r.fn.collapse.Constructor=l,r.fn.collapse.noConflict=function(){return r.fn.collapse=t,this},r(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(t){var e=r(this);e.attr("data-target")||t.preventDefault();var n=o(e),i=n.data("bs.collapse")?"toggle":e.data();s.call(n,i)})}(jQuery),function(s){"use strict";function l(t){var e=t.attr("data-target");e||(e=(e=t.attr("href"))&&/#[A-Za-z]/.test(e)&&e.replace(/.*(?=#[^\s]*$)/,""));var n=e&&s(e);return n&&n.length?n:t.parent()}function a(i){i&&3===i.which||(s(e).remove(),s(c).each(function(){var t=s(this),e=l(t),n={relatedTarget:this};e.hasClass("open")&&(i&&"click"==i.type&&/input|textarea/i.test(i.target.tagName)&&s.contains(e[0],i.target)||(e.trigger(i=s.Event("hide.bs.dropdown",n)),i.isDefaultPrevented()||(t.attr("aria-expanded","false"),e.removeClass("open").trigger(s.Event("hidden.bs.dropdown",n)))))}))}function t(n){return this.each(function(){var t=s(this),e=t.data("bs.dropdown");e||t.data("bs.dropdown",e=new i(this)),"string"==typeof n&&e[n].call(t)})}var e=".dropdown-backdrop",c='[data-toggle="dropdown"]',i=function(t){s(t).on("click.bs.dropdown",this.toggle)};i.VERSION="3.3.6",i.prototype.toggle=function(t){var e=s(this);if(!e.is(".disabled, :disabled")){var n=l(e),i=n.hasClass("open");if(a(),!i){"ontouchstart"in document.documentElement&&!n.closest(".navbar-nav").length&&s(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(s(this)).on("click",a);var o={relatedTarget:this};if(n.trigger(t=s.Event("show.bs.dropdown",o)),t.isDefaultPrevented())return;e.trigger("focus").attr("aria-expanded","true"),n.toggleClass("open").trigger(s.Event("shown.bs.dropdown",o))}return!1}},i.prototype.keydown=function(t){if(/(38|40|27|32)/.test(t.which)&&!/input|textarea/i.test(t.target.tagName)){var e=s(this);if(t.preventDefault(),t.stopPropagation(),!e.is(".disabled, :disabled")){var n=l(e),i=n.hasClass("open");if(!i&&27!=t.which||i&&27==t.which)return 27==t.which&&n.find(c).trigger("focus"),e.trigger("click");var o=" li:not(.disabled):visible a",a=n.find(".dropdown-menu"+o);if(a.length){var r=a.index(t.target);38==t.which&&0<r&&r--,40==t.which&&r<a.length-1&&r++,~r||(r=0),a.eq(r).trigger("focus")}}}};var n=s.fn.dropdown;s.fn.dropdown=t,s.fn.dropdown.Constructor=i,s.fn.dropdown.noConflict=function(){return s.fn.dropdown=n,this},s(document).on("click.bs.dropdown.data-api",a).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",c,i.prototype.toggle).on("keydown.bs.dropdown.data-api",c,i.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",i.prototype.keydown)}(jQuery),function(a){"use strict";function r(i,o){return this.each(function(){var t=a(this),e=t.data("bs.modal"),n=a.extend({},s.DEFAULTS,t.data(),"object"==typeof i&&i);e||t.data("bs.modal",e=new s(this,n)),"string"==typeof i?e[i](o):n.show&&e.show(o)})}var s=function(t,e){this.options=e,this.$body=a(document.body),this.$element=a(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,a.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};s.VERSION="3.3.6",s.TRANSITION_DURATION=300,s.BACKDROP_TRANSITION_DURATION=150,s.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},s.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},s.prototype.show=function(n){var i=this,t=a.Event("show.bs.modal",{relatedTarget:n});this.$element.trigger(t),this.isShown||t.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',a.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){i.$element.one("mouseup.dismiss.bs.modal",function(t){a(t.target).is(i.$element)&&(i.ignoreBackdropClick=!0)})}),this.backdrop(function(){var t=a.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),i.adjustDialog(),t&&i.$element[0].offsetWidth,i.$element.addClass("in"),i.enforceFocus();var e=a.Event("shown.bs.modal",{relatedTarget:n});t?i.$dialog.one("bsTransitionEnd",function(){i.$element.trigger("focus").trigger(e)}).emulateTransitionEnd(s.TRANSITION_DURATION):i.$element.trigger("focus").trigger(e)}))},s.prototype.hide=function(t){t&&t.preventDefault(),t=a.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",a.proxy(this.hideModal,this)).emulateTransitionEnd(s.TRANSITION_DURATION):this.hideModal())},s.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},s.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",a.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},s.prototype.resize=function(){this.isShown?a(window).on("resize.bs.modal",a.proxy(this.handleUpdate,this)):a(window).off("resize.bs.modal")},s.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},s.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},s.prototype.backdrop=function(t){var e=this,n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=a.support.transition&&n;if(this.$backdrop=a(document.createElement("div")).addClass("modal-backdrop "+n).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",a.proxy(function(t){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;i?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(s.BACKDROP_TRANSITION_DURATION):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var o=function(){e.removeBackdrop(),t&&t()};a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",o).emulateTransitionEnd(s.BACKDROP_TRANSITION_DURATION):o()}else t&&t()},s.prototype.handleUpdate=function(){this.adjustDialog()},s.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},s.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},s.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},s.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},s.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},s.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var t=a.fn.modal;a.fn.modal=r,a.fn.modal.Constructor=s,a.fn.modal.noConflict=function(){return a.fn.modal=t,this},a(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var e=a(this),n=e.attr("href"),i=a(e.attr("data-target")||n&&n.replace(/.*(?=#[^\s]+$)/,"")),o=i.data("bs.modal")?"toggle":a.extend({remote:!/#/.test(n)&&n},i.data(),e.data());e.is("a")&&t.preventDefault(),i.one("show.bs.modal",function(t){t.isDefaultPrevented()||i.one("hidden.bs.modal",function(){e.is(":visible")&&e.trigger("focus")})}),r.call(i,o,this)})}(jQuery),function(m){"use strict";function t(i){return this.each(function(){var t=m(this),e=t.data("bs.tooltip"),n="object"==typeof i&&i;(e||!/destroy|hide/.test(i))&&(e||t.data("bs.tooltip",e=new g(this,n)),"string"==typeof i&&e[i]())})}var g=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};g.VERSION="3.3.6",g.TRANSITION_DURATION=150,g.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},g.prototype.init=function(t,e,n){if(this.enabled=!0,this.type=t,this.$element=m(e),this.options=this.getOptions(n),this.$viewport=this.options.viewport&&m(m.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var i=this.options.trigger.split(" "),o=i.length;o--;){var a=i[o];if("click"==a)this.$element.on("click."+this.type,this.options.selector,m.proxy(this.toggle,this));else if("manual"!=a){var r="hover"==a?"mouseenter":"focusin",s="hover"==a?"mouseleave":"focusout";this.$element.on(r+"."+this.type,this.options.selector,m.proxy(this.enter,this)),this.$element.on(s+"."+this.type,this.options.selector,m.proxy(this.leave,this))}}this.options.selector?this._options=m.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},g.prototype.getDefaults=function(){return g.DEFAULTS},g.prototype.getOptions=function(t){return(t=m.extend({},this.getDefaults(),this.$element.data(),t)).delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},g.prototype.getDelegateOptions=function(){var n={},i=this.getDefaults();return this._options&&m.each(this._options,function(t,e){i[t]!=e&&(n[t]=e)}),n},g.prototype.enter=function(t){var e=t instanceof this.constructor?t:m(t.currentTarget).data("bs."+this.type);return e||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),m(t.currentTarget).data("bs."+this.type,e)),t instanceof m.Event&&(e.inState["focusin"==t.type?"focus":"hover"]=!0),e.tip().hasClass("in")||"in"==e.hoverState?void(e.hoverState="in"):(clearTimeout(e.timeout),e.hoverState="in",e.options.delay&&e.options.delay.show?void(e.timeout=setTimeout(function(){"in"==e.hoverState&&e.show()},e.options.delay.show)):e.show())},g.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},g.prototype.leave=function(t){var e=t instanceof this.constructor?t:m(t.currentTarget).data("bs."+this.type);return e||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),m(t.currentTarget).data("bs."+this.type,e)),t instanceof m.Event&&(e.inState["focusout"==t.type?"focus":"hover"]=!1),e.isInStateTrue()?void 0:(clearTimeout(e.timeout),e.hoverState="out",e.options.delay&&e.options.delay.hide?void(e.timeout=setTimeout(function(){"out"==e.hoverState&&e.hide()},e.options.delay.hide)):e.hide())},g.prototype.show=function(){var t=m.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var e=m.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!e)return;var n=this,i=this.tip(),o=this.getUID(this.type);this.setContent(),i.attr("id",o),this.$element.attr("aria-describedby",o),this.options.animation&&i.addClass("fade");var a="function"==typeof this.options.placement?this.options.placement.call(this,i[0],this.$element[0]):this.options.placement,r=/\s?auto?\s?/i,s=r.test(a);s&&(a=a.replace(r,"")||"top"),i.detach().css({top:0,left:0,display:"block"}).addClass(a).data("bs."+this.type,this),this.options.container?i.appendTo(this.options.container):i.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var l=this.getPosition(),c=i[0].offsetWidth,d=i[0].offsetHeight;if(s){var u=a,h=this.getPosition(this.$viewport);a="bottom"==a&&l.bottom+d>h.bottom?"top":"top"==a&&l.top-d<h.top?"bottom":"right"==a&&l.right+c>h.width?"left":"left"==a&&l.left-c<h.left?"right":a,i.removeClass(u).addClass(a)}var f=this.getCalculatedOffset(a,l,c,d)
;this.applyPlacement(f,a);var p=function(){var t=n.hoverState;n.$element.trigger("shown.bs."+n.type),n.hoverState=null,"out"==t&&n.leave(n)};m.support.transition&&this.$tip.hasClass("fade")?i.one("bsTransitionEnd",p).emulateTransitionEnd(g.TRANSITION_DURATION):p()}},g.prototype.applyPlacement=function(t,e){var n=this.tip(),i=n[0].offsetWidth,o=n[0].offsetHeight,a=parseInt(n.css("margin-top"),10),r=parseInt(n.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(r)&&(r=0),t.top+=a,t.left+=r,m.offset.setOffset(n[0],m.extend({using:function(t){n.css({top:Math.round(t.top),left:Math.round(t.left)})}},t),0),n.addClass("in");var s=n[0].offsetWidth,l=n[0].offsetHeight;"top"==e&&l!=o&&(t.top=t.top+o-l);var c=this.getViewportAdjustedDelta(e,t,s,l);c.left?t.left+=c.left:t.top+=c.top;var d=/top|bottom/.test(e),u=d?2*c.left-i+s:2*c.top-o+l,h=d?"offsetWidth":"offsetHeight";n.offset(t),this.replaceArrow(u,n[0][h],d)},g.prototype.replaceArrow=function(t,e,n){this.arrow().css(n?"left":"top",50*(1-t/e)+"%").css(n?"top":"left","")},g.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},g.prototype.hide=function(t){function e(){"in"!=n.hoverState&&i.detach(),n.$element.removeAttr("aria-describedby").trigger("hidden.bs."+n.type),t&&t()}var n=this,i=m(this.$tip),o=m.Event("hide.bs."+this.type);return this.$element.trigger(o),o.isDefaultPrevented()?void 0:(i.removeClass("in"),m.support.transition&&i.hasClass("fade")?i.one("bsTransitionEnd",e).emulateTransitionEnd(g.TRANSITION_DURATION):e(),this.hoverState=null,this)},g.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},g.prototype.hasContent=function(){return this.getTitle()},g.prototype.getPosition=function(t){var e=(t=t||this.$element)[0],n="BODY"==e.tagName,i=e.getBoundingClientRect();null==i.width&&(i=m.extend({},i,{width:i.right-i.left,height:i.bottom-i.top}));var o=n?{top:0,left:0}:t.offset(),a={scroll:n?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},r=n?{width:m(window).width(),height:m(window).height()}:null;return m.extend({},i,a,r,o)},g.prototype.getCalculatedOffset=function(t,e,n,i){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"==t?{top:e.top-i,left:e.left+e.width/2-n/2}:"left"==t?{top:e.top+e.height/2-i/2,left:e.left-n}:{top:e.top+e.height/2-i/2,left:e.left+e.width}},g.prototype.getViewportAdjustedDelta=function(t,e,n,i){var o={top:0,left:0};if(!this.$viewport)return o;var a=this.options.viewport&&this.options.viewport.padding||0,r=this.getPosition(this.$viewport);if(/right|left/.test(t)){var s=e.top-a-r.scroll,l=e.top+a-r.scroll+i;s<r.top?o.top=r.top-s:l>r.top+r.height&&(o.top=r.top+r.height-l)}else{var c=e.left-a,d=e.left+a+n;c<r.left?o.left=r.left-c:d>r.right&&(o.left=r.left+r.width-d)}return o},g.prototype.getTitle=function(){var t=this.$element,e=this.options;return t.attr("data-original-title")||("function"==typeof e.title?e.title.call(t[0]):e.title)},g.prototype.getUID=function(t){for(;t+=~~(1e6*Math.random()),document.getElementById(t););return t},g.prototype.tip=function(){if(!this.$tip&&(this.$tip=m(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},g.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},g.prototype.enable=function(){this.enabled=!0},g.prototype.disable=function(){this.enabled=!1},g.prototype.toggleEnabled=function(){this.enabled=!this.enabled},g.prototype.toggle=function(t){var e=this;t&&((e=m(t.currentTarget).data("bs."+this.type))||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),m(t.currentTarget).data("bs."+this.type,e))),t?(e.inState.click=!e.inState.click,e.isInStateTrue()?e.enter(e):e.leave(e)):e.tip().hasClass("in")?e.leave(e):e.enter(e)},g.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null})};var e=m.fn.tooltip;m.fn.tooltip=t,m.fn.tooltip.Constructor=g,m.fn.tooltip.noConflict=function(){return m.fn.tooltip=e,this}}(jQuery),function(o){"use strict";function t(i){return this.each(function(){var t=o(this),e=t.data("bs.popover"),n="object"==typeof i&&i;(e||!/destroy|hide/.test(i))&&(e||t.data("bs.popover",e=new a(this,n)),"string"==typeof i&&e[i]())})}var a=function(t,e){this.init("popover",t,e)};if(!o.fn.tooltip)throw new Error("Popover requires tooltip.js");a.VERSION="3.3.6",a.DEFAULTS=o.extend({},o.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),a.prototype=o.extend({},o.fn.tooltip.Constructor.prototype),(a.prototype.constructor=a).prototype.getDefaults=function(){return a.DEFAULTS},a.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},a.prototype.hasContent=function(){return this.getTitle()||this.getContent()},a.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},a.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var e=o.fn.popover;o.fn.popover=t,o.fn.popover.Constructor=a,o.fn.popover.noConflict=function(){return o.fn.popover=e,this}}(jQuery),function(a){"use strict";function o(t,e){this.$body=a(document.body),this.$scrollElement=a(a(t).is(document.body)?window:t),this.options=a.extend({},o.DEFAULTS,e),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",a.proxy(this.process,this)),this.refresh(),this.process()}function e(i){return this.each(function(){var t=a(this),e=t.data("bs.scrollspy"),n="object"==typeof i&&i;e||t.data("bs.scrollspy",e=new o(this,n)),"string"==typeof i&&e[i]()})}o.VERSION="3.3.6",o.DEFAULTS={offset:10},o.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},o.prototype.refresh=function(){var t=this,i="offset",o=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),a.isWindow(this.$scrollElement[0])||(i="position",o=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var t=a(this),e=t.data("target")||t.attr("href"),n=/^#./.test(e)&&a(e);return n&&n.length&&n.is(":visible")&&[[n[i]().top+o,e]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},o.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),i=this.options.offset+n-this.$scrollElement.height(),o=this.offsets,a=this.targets,r=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),i<=e)return r!=(t=a[a.length-1])&&this.activate(t);if(r&&e<o[0])return this.activeTarget=null,this.clear();for(t=o.length;t--;)r!=a[t]&&e>=o[t]&&(void 0===o[t+1]||e<o[t+1])&&this.activate(a[t])},o.prototype.activate=function(t){this.activeTarget=t,this.clear();var e=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',n=a(e).parents("li").addClass("active");n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate.bs.scrollspy")},o.prototype.clear=function(){a(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var t=a.fn.scrollspy;a.fn.scrollspy=e,a.fn.scrollspy.Constructor=o,a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=t,this},a(window).on("load.bs.scrollspy.data-api",function(){a('[data-spy="scroll"]').each(function(){var t=a(this);e.call(t,t.data())})})}(jQuery),function(s){"use strict";function e(n){return this.each(function(){var t=s(this),e=t.data("bs.tab");e||t.data("bs.tab",e=new r(this)),"string"==typeof n&&e[n]()})}var r=function(t){this.element=s(t)};r.VERSION="3.3.6",r.TRANSITION_DURATION=150,r.prototype.show=function(){var t=this.element,e=t.closest("ul:not(.dropdown-menu)"),n=t.data("target");if(n||(n=(n=t.attr("href"))&&n.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var i=e.find(".active:last a"),o=s.Event("hide.bs.tab",{relatedTarget:t[0]}),a=s.Event("show.bs.tab",{relatedTarget:i[0]});if(i.trigger(o),t.trigger(a),!a.isDefaultPrevented()&&!o.isDefaultPrevented()){var r=s(n);this.activate(t.closest("li"),e),this.activate(r,r.parent(),function(){i.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:i[0]})})}}},r.prototype.activate=function(t,e,n){function i(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),a?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu").length&&t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),n&&n()}var o=e.find("> .active"),a=n&&s.support.transition&&(o.length&&o.hasClass("fade")||!!e.find("> .fade").length);o.length&&a?o.one("bsTransitionEnd",i).emulateTransitionEnd(r.TRANSITION_DURATION):i(),o.removeClass("in")};var t=s.fn.tab;s.fn.tab=e,s.fn.tab.Constructor=r,s.fn.tab.noConflict=function(){return s.fn.tab=t,this};var n=function(t){t.preventDefault(),e.call(s(this),"show")};s(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',n).on("click.bs.tab.data-api",'[data-toggle="pill"]',n)}(jQuery),function(l){"use strict";function n(i){return this.each(function(){var t=l(this),e=t.data("bs.affix"),n="object"==typeof i&&i;e||t.data("bs.affix",e=new c(this,n)),"string"==typeof i&&e[i]()})}var c=function(t,e){this.options=l.extend({},c.DEFAULTS,e),this.$target=l(this.options.target).on("scroll.bs.affix.data-api",l.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",l.proxy(this.checkPositionWithEventLoop,this)),this.$element=l(t),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};c.VERSION="3.3.6",c.RESET="affix affix-top affix-bottom",c.DEFAULTS={offset:0,target:window},c.prototype.getState=function(t,e,n,i){var o=this.$target.scrollTop(),a=this.$element.offset(),r=this.$target.height();if(null!=n&&"top"==this.affixed)return o<n&&"top";if("bottom"==this.affixed)return null!=n?!(o+this.unpin<=a.top)&&"bottom":!(o+r<=t-i)&&"bottom";var s=null==this.affixed,l=s?o:a.top;return null!=n&&o<=n?"top":null!=i&&t-i<=l+(s?r:e)&&"bottom"},c.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(c.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},c.prototype.checkPositionWithEventLoop=function(){setTimeout(l.proxy(this.checkPosition,this),1)},c.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=this.$element.height(),e=this.options.offset,n=e.top,i=e.bottom,o=Math.max(l(document).height(),l(document.body).height());"object"!=typeof e&&(i=n=e),"function"==typeof n&&(n=e.top(this.$element)),"function"==typeof i&&(i=e.bottom(this.$element));var a=this.getState(o,t,n,i);if(this.affixed!=a){null!=this.unpin&&this.$element.css("top","");var r="affix"+(a?"-"+a:""),s=l.Event(r+".bs.affix");if(this.$element.trigger(s),s.isDefaultPrevented())return;this.affixed=a,this.unpin="bottom"==a?this.getPinnedOffset():null,this.$element.removeClass(c.RESET).addClass(r).trigger(r.replace("affix","affixed")+".bs.affix")}"bottom"==a&&this.$element.offset({top:o-t-i})}};var t=l.fn.affix;l.fn.affix=n,l.fn.affix.Constructor=c,l.fn.affix.noConflict=function(){return l.fn.affix=t,this},l(window).on("load",function(){l('[data-spy="affix"]').each(function(){var t=l(this),e=t.data();e.offset=e.offset||{},null!=e.offsetBottom&&(e.offset.bottom=e.offsetBottom),null!=e.offsetTop&&(e.offset.top=e.offsetTop),n.call(t,e)})})}(jQuery),function(n){"function"==typeof define&&define.amd?define(["jquery"],n):"object"==typeof module&&module.exports?module.exports=function(t,e){return void 0===e&&(e="undefined"!=typeof window?require("jquery"):require("jquery")(t)),n(e),e}:n(jQuery)}(function(N){var n={$el:null,commentsById:{},usersById:{},dataFetched:!1,currentSortKey:"",options:{},events:{click:"closeDropdowns","keydown [contenteditable]":"saveOnKeydown","focus [contenteditable]":"saveEditableContent","keyup [contenteditable]":"checkEditableContentForChange","paste [contenteditable]":"checkEditableContentForChange","input [contenteditable]":"checkEditableContentForChange","blur [contenteditable]":"checkEditableContentForChange","click .navigation li[data-sort-key]":"navigationElementClicked","click .navigation li.title":"toggleNavigationDropdown","click .commenting-field.main .textarea":"showMainCommentingField","click .commenting-field.main .close":"hideMainCommentingField","click .commenting-field .textarea":"increaseTextareaHeight","change .commenting-field .textarea":"increaseTextareaHeight textareaContentChanged","click .commenting-field:not(.main) .close":"removeCommentingField","click .commenting-field .send.enabled":"postComment","click .commenting-field .update.enabled":"putComment","click .commenting-field .delete.enabled":"deleteComment",'change .commenting-field .upload.enabled input[type="file"]':"fileInputChanged","click li.comment button.upvote":"upvoteComment","click li.comment button.delete.enabled":"deleteComment","click li.comment .hashtag":"hashtagClicked","click li.comment .ping":"pingClicked","click li.comment ul.child-comments .toggle-all":"toggleReplies","click li.comment button.reply":"replyButtonClicked","click li.comment button.edit":"editButtonClicked",dragenter:"showDroppableOverlay","dragenter .droppable-overlay":"handleDragEnter","dragleave .droppable-overlay":"handleDragLeaveForOverlay","dragenter .droppable-overlay .droppable":"handleDragEnter","dragleave .droppable-overlay .droppable":"handleDragLeaveForDroppable","dragover .droppable-overlay":"handleDragOverForOverlay","drop .droppable-overlay":"handleDrop","click .dropdown.autocomplete":"stopPropagation","mousedown .dropdown.autocomplete":"stopPropagation","touchstart .dropdown.autocomplete":"stopPropagation"},getDefaultOptions:function(){return{profilePictureURL:"",currentUserIsAdmin:!1,currentUserId:null,spinnerIconURL:"",upvoteIconURL:"",replyIconURL:"",uploadIconURL:"",attachmentIconURL:"",fileIconURL:"",noCommentsIconURL:"",textareaPlaceholderText:"Add a comment",newestText:"Newest",oldestText:"Oldest",popularText:"Popular",attachmentsText:"Attachments",sendText:"Send",replyText:"Reply",editText:"Edit",editedText:"Edited",youText:"You",saveText:"Save",deleteText:"Delete",newText:"New",viewAllRepliesText:"View all __replyCount__ replies",hideRepliesText:"Hide replies",noCommentsText:"No comments",noAttachmentsText:"No attachments",attachmentDropText:"Drop files here",textFormatter:function(t){return t},enableReplying:!0,enableEditing:!0,enableUpvoting:!0,enableDeleting:!0,enableAttachments:!1,enableHashtags:!1,enablePinging:!1,enableDeletingCommentWithReplies:!1,enableNavigation:!0,postCommentOnEnter:!1,forceResponsive:!1,readOnly:!1,defaultNavigationSortKey:"newest",highlightColor:"#2793e6",deleteButtonColor:"#C9302C",roundProfilePictures:!1,textareaRows:2,textareaRowsOnFocus:2,textareaMaxRows:5,maxRepliesVisible:2,fieldMappings:{id:"id",parent:"parent",created:"created",modified:"modified",content:"content",file:"file",fileURL:"file_url",fileMimeType:"file_mime_type",pings:"pings",creator:"creator",fullname:"fullname",profileURL:"profile_url",profilePictureURL:"profile_picture_url",isNew:"is_new",createdByAdmin:"created_by_admin",createdByCurrentUser:"created_by_current_user",upvoteCount:"upvote_count",userHasUpvoted:"user_has_upvoted"},getUsers:function(t){t([])},getComments:function(t){t([])},postComment:function(t,e){e(t)},putComment:function(t,e){e(t)},deleteComment:function(t,e){e()},upvoteComment:function(t,e){e(t)},hashtagClicked:function(){},pingClicked:function(){},uploadAttachments:function(t,e){e(t)},refresh:function(){},timeFormatter:function(t){return new Date(t).toLocaleDateString()}}},init:function(t,e){var n;this.$el=N(e),this.$el.addClass("jquery-comments"),this.undelegateEvents(),this.delegateEvents(),n=navigator.userAgent||navigator.vendor||window.opera,(jQuery.browser=jQuery.browser||{}).mobile=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(n)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(n.substr(0,4)),N.browser.mobile&&this.$el.addClass("mobile"),this.options=N.extend(!0,{},this.getDefaultOptions(),t),this.options.readOnly&&this.$el.addClass("read-only"),this.currentSortKey=this.options.defaultNavigationSortKey,this.createCssDeclarations(),this.fetchDataAndRender()},delegateEvents:function(){this.bindEvents(!1)},undelegateEvents:function(){this.bindEvents(!0)},bindEvents:function(t){var e=t?"off":"on";for(var n in this.events){var i=n.split(" ")[0],o=n.split(" ").slice(1).join(" "),a=this.events[n].split(" ");for(var r in a)if(a.hasOwnProperty(r)){var s=this[a[r]];s=N.proxy(s,this),""==o?this.$el[e](i,s):this.$el[e](i,o,s)}}},fetchDataAndRender:function(){var n=this;this.commentsById={},this.usersById={},this.$el.empty(),this.createHTML();var i=this.after(this.options.enablePinging?2:1,function(){n.dataFetched=!0,n.render()}),t=function(t){var e=t.map(function(t){return n.createCommentModel(t)});n.sortComments(e,"oldest"),N(e).each(function(t,e){n.addCommentToDataModel(e)}),i()};if(this.options.getComments(t,i),this.options.enablePinging){var e=function(t){N(t).each(function(t,e){n.usersById[e.id]=e}),i()};this.options.getUsers(e,i)}},fetchNext:function(){var n=this,e=this.createSpinner();this.$el.find("ul#comment-list").append(e);var t=function(t){N(t).each(function(t,e){n.createComment(e)}),e.remove()},i=function(){e.remove()};this.options.getComments(t,i)},createCommentModel:function(t){var e=this.applyInternalMappings(t);return e.childs=[],e},addCommentToDataModel:function(t){t.id in this.commentsById||!(this.commentsById[t.id]=t).parent||this.getOutermostParent(t.parent).childs.push(t.id)},updateCommentModel:function(t){N.extend(this.commentsById[t.id],t)},render:function(){this.dataFetched&&(this.showActiveContainer(),this.createComments(),this.options.enableAttachments&&this.createAttachments(),this.$el.find("> .spinner").remove(),this.options.refresh())},showActiveContainer:function(){var t=this.$el.find(".navigation li[data-container-name].active").data("container-name"),e=this.$el.find('[data-container="'+t+'"]');e.siblings("[data-container]").hide(),e.show()},createComments:function(){var n=this;this.$el.find("#comment-list").remove();var i=N("<ul/>",{id:"comment-list","class":"main"}),o=[],a=[];N(this.getComments()).each(function(t,e){null==e.parent?o.push(e):a.push(e)}),this.sortComments(o,this.currentSortKey),o.reverse(),N(o).each(function(t,e){n.addComment(e,i)}),this.sortComments(a,"oldest"),N(a).each(function(t,e){n.addComment(e,i)}),this.$el.find('[data-container="comments"]').prepend(i)},createAttachments:function(){var n=this;this.$el.find("#attachment-list").remove();var i=N("<ul/>",{id:"attachment-list","class":"main"}),t=this.getAttachments();this.sortComments(t,"newest"),t.reverse(),N(t).each(function(t,e){n.addAttachment(e,i)}),this.$el.find('[data-container="attachments"]').prepend(i)},addComment:function(t,e){e=e||this.$el.find("#comment-list");var n=this.createCommentElement(t);if(t.parent){var i=e.find('.comment[data-id="'+t.parent+'"]');this.reRenderCommentActionBar(t.parent);var o=i.parents(".comment").last();0==o.length&&(o=i);var a=o.find(".child-comments"),r=a.find(".commenting-field");r.length?r.before(n):a.append(n),this.updateToggleAllButton(o)}else e.prepend(n)},addAttachment:function(t,e){e=e||this.$el.find("#attachment-list");var n=this.createCommentElement(t);e.prepend(n)},removeComment:function(t){var n=this,e=this.commentsById[t],i=this.getChildComments(e.id);if(N(i).each(function(t,e){n.removeComment(e.id)}),e.parent){var o=this.getOutermostParent(e.parent),a=o.childs.indexOf(e.id);o.childs.splice(a,1)}delete this.commentsById[t];var r=this.$el.find('li.comment[data-id="'+t+'"]'),s=r.parents("li.comment").last();r.remove(),this.updateToggleAllButton(s)},uploadAttachments:function(t,e){var i=this;e||(e=this.$el.find(".commenting-field.main"));var n=!e.hasClass("main"),o=t.length;if(o){var a=e.find(".upload"),r=e.find(".textarea");a.removeClass("enabled");var s=this.createSpinner(),l=this.createSpinner();this.$el.find("ul#attachment-list").prepend(s),n?e.before(l):this.$el.find("ul#comment-list").prepend(l);var c=function(t){N(t).each(function(t,e){var n=i.createCommentModel(e);i.addCommentToDataModel(n),i.addComment(n),i.addAttachment(n)}),t.length==o&&0==i.getTextareaContent(r).length&&e.find(".close").trigger("click"),a.addClass("enabled"),l.remove(),s.remove()},d=function(){a.addClass("enabled"),l.remove(),s.remove()},u=[];N(t).each(function(t,e){var n=i.createCommentJSON(r);n.id+="-"+t,n.content="",n.file=e,n.fileURL="C:/fakepath/"+e.name,n.fileMimeType=e.type,n=i.applyExternalMappings(n),u.push(n)}),i.options.uploadAttachments(u,c,d)}a.find("input").val("")},updateToggleAllButton:function(t){if(null!=this.options.maxRepliesVisible){var e=t.find(".child-comments"),n=e.find(".comment"),i=e.find("li.toggle-all");if(n.removeClass("hidden-reply"),0===this.options.maxRepliesVisible)var o=n;else o=n.slice(0,-this.options.maxRepliesVisible);if(o.addClass("hidden-reply"),i.find("span.text").text()==this.options.textFormatter(this.options.hideRepliesText)&&o.addClass("visible"),n.length>this.options.maxRepliesVisible){if(!i.length){i=N("<li/>",{"class":"toggle-all highlight-font-bold"});var a=N("<span/>",{"class":"text"}),r=N("<span/>",{"class":"caret"});i.append(a).append(r),e.prepend(i)}this.setToggleAllButtonText(i,!1)}else i.remove()}},sortComments:function(t,o){var a=this;"popularity"==o?t.sort(function(t,e){var n=t.childs.length,i=e.childs.length;if(a.options.enableUpvoting&&(n+=t.upvoteCount,i+=e.upvoteCount),i!=n)return i-n;var o=new Date(t.created).getTime();return new Date(e.created).getTime()-o}):t.sort(function(t,e){var n=new Date(t.created).getTime(),i=new Date(e.created).getTime();return"oldest"==o?n-i:i-n})},sortUsers:function(t){t.sort(function(t,e){var n=t.fullname.toLowerCase().trim(),i=e.fullname.toLowerCase().trim();return n<i?-1:i<n?1:0})},sortAndReArrangeComments:function(t){var i=this.$el.find("#comment-list"),e=this.getComments().filter(function(t){return!t.parent});this.sortComments(e,t),N(e).each(function(t,e){var n=i.find("> li.comment[data-id="+e.id+"]");i.append(n)})},showActiveSort:function(){var t=this.$el.find('.navigation li[data-sort-key="'+this.currentSortKey+'"]');this.$el.find(".navigation li").removeClass("active"),t.addClass("active");var e=this.$el.find(".navigation .title");if("attachments"!=this.currentSortKey)e.addClass("active"),e.find("header").html(t.first().html());else{var n=this.$el.find(".navigation ul.dropdown").children().first();e.find("header").html(n.html())}this.showActiveContainer()},forceResponsive:function(){this.$el.addClass("responsive")},closeDropdowns:function(){this.$el.find(".dropdown").hide()},saveOnKeydown:function(t){if(13==t.keyCode){var e=t.metaKey||t.ctrlKey;(this.options.postCommentOnEnter||e)&&(N(t.currentTarget).siblings(".control-row").find(".save").trigger("click"),t.stopPropagation(),t.preventDefault())}},saveEditableContent:function(t){var e=N(t.currentTarget);e.data("before",e.html())},checkEditableContentForChange:function(t){var e=N(t.currentTarget);e.data("before")!=e.html()&&(e.data("before",e.html()),e.trigger("change"))},navigationElementClicked:function(t){var e=N(t.currentTarget).data().sortKey;"attachments"!=e&&this.sortAndReArrangeComments(e),this.currentSortKey=e,this.showActiveSort()},toggleNavigationDropdown:function(t){t.stopPropagation(),N(t.currentTarget).find("~ .dropdown").toggle()},showMainCommentingField:function(t){var e=N(t.currentTarget);e.siblings(".control-row").show(),e.parent().find(".close").show(),e.focus()},hideMainCommentingField:function(t){var e=N(t.currentTarget),n=this.$el.find(".commenting-field.main .textarea"),i=this.$el.find(".commenting-field.main .control-row");this.clearTextarea(n),this.adjustTextareaHeight(n,!1),i.hide(),e.hide(),n.blur()},increaseTextareaHeight:function(t){var e=N(t.currentTarget);this.adjustTextareaHeight(e,!0)},textareaContentChanged:function(t){var e=N(t.currentTarget),n=e.siblings(".control-row").find(".save");if(!e.find(".reply-to.tag").length){var i=e.attr("data-comment");if(i){var o=e.parents("li.comment");if(1<o.length){var a=o.last().data("id");e.attr("data-parent",a)}}else{a=e.parents("li.comment").last().data("id");e.attr("data-parent",a)}}var r=e.parents(".commenting-field").first();e[0].scrollHeight>e.outerHeight()?r.addClass("scrollable"):r.removeClass("scrollable");var s=!0,l=this.getTextareaContent(e,!0);if(i=e.attr("data-comment")){var c,d=l!=this.commentsById[i].content;this.commentsById[i].parent&&(c=this.commentsById[i].parent.toString());var u=e.attr("data-parent")!=c;s=d||u}l.length&&s?n.addClass("enabled"):n.removeClass("enabled")},removeCommentingField:function(t){var e=N(t.currentTarget);e.siblings(".textarea").attr("data-comment")&&e.parents("li.comment").first().removeClass("edit"),e.parents(".commenting-field").first().remove()},postComment:function(t){var e=this,n=N(t.currentTarget),i=n.parents(".commenting-field").first(),o=i.find(".textarea");n.removeClass("enabled");var a=this.createCommentJSON(o);a=this.applyExternalMappings(a);var r=function(t){e.createComment(t),i.find(".close").trigger("click")},s=function(){n.addClass("enabled")};this.options.postComment(a,r,s)},createComment:function(t){var e=this.createCommentModel(t);this.addCommentToDataModel(e),this.addComment(e)},putComment:function(t){var n=this,e=N(t.currentTarget),i=e.parents(".commenting-field").first(),o=i.find(".textarea");e.removeClass("enabled");var a=N.extend({},this.commentsById[o.attr("data-comment")]);N.extend(a,{parent:o.attr("data-parent")||null,content:this.getTextareaContent(o),pings:this.getPings(o),modified:(new Date).getTime()}),a=this.applyExternalMappings(a);var r=function(t){var e=n.createCommentModel(t);delete e.childs,n.updateCommentModel(e),i.find(".close").trigger("click"),n.reRenderComment(e.id)},s=function(){e.addClass("enabled")};this.options.putComment(a,r,s)},deleteComment:function(t){var e=this,n=N(t.currentTarget),i=n.parents(".comment").first(),o=N.extend({},this.commentsById[i.attr("data-id")]),a=o.id,r=o.parent;n.removeClass("enabled"),o=this.applyExternalMappings(o);var s=function(){e.removeComment(a),r&&e.reRenderCommentActionBar(r)},l=function(){n.addClass("enabled")};this.options.deleteComment(o,s,l)},hashtagClicked:function(t){var e=N(t.currentTarget).attr("data-value");this.options.hashtagClicked(e)},pingClicked:function(t){var e=N(t.currentTarget).attr("data-value");this.options.pingClicked(e)},fileInputChanged:function(t,e){e=t.currentTarget.files;var n=N(t.currentTarget).parents(".commenting-field").first();this.uploadAttachments(e,n)},upvoteComment:function(t){var e,n=this,i=N(t.currentTarget).parents("li.comment").first().data().model,o=i.upvoteCount;e=i.userHasUpvoted?o-1:o+1,i.userHasUpvoted=!i.userHasUpvoted,i.upvoteCount=e,this.reRenderUpvotes(i.id);var a=N.extend({},i);a=this.applyExternalMappings(a);var r=function(t){var e=n.createCommentModel(t);n.updateCommentModel(e),n.reRenderUpvotes(e.id)},s=function(){i.userHasUpvoted=!i.userHasUpvoted,i.upvoteCount=o,n.reRenderUpvotes(i.id)};this.options.upvoteComment(a,r,s)},toggleReplies:function(t){var e=N(t.currentTarget);e.siblings(".hidden-reply").toggleClass("visible"),this.setToggleAllButtonText(e,!0)},replyButtonClicked:function(t){var e=N(t.currentTarget),n=e.parents("li.comment").last(),i=e.parents(".comment").first().data().id,o=n.find(".child-comments > .commenting-field");if(o.length&&o.remove(),o.find(".textarea").attr("data-parent")!=i){o=this.createCommentingFieldElement(i),n.find(".child-comments").append(o);var a=o.find(".textarea");this.moveCursorToEnd(a)}},editButtonClicked:function(t){var e=N(t.currentTarget).parents("li.comment").first(),n=e.data().model;e.addClass("edit");var i=this.createCommentingFieldElement(n.parent,n.id);e.find(".comment-wrapper").first().append(i);var o=i.find(".textarea");o.attr("data-comment",n.id),o.append(this.getFormattedCommentContent(n,!0)),this.moveCursorToEnd(o)},showDroppableOverlay:function(){this.options.enableAttachments&&(this.$el.find(".droppable-overlay").css("top",this.$el[0].scrollTop),this.$el.find(".droppable-overlay").show(),this.$el.addClass("drag-ongoing"))},handleDragEnter:function(t){var e=N(t.currentTarget).data("dnd-count")||0;e++,N(t.currentTarget).data("dnd-count",e),N(t.currentTarget).addClass("drag-over")},handleDragLeave:function(t,e){var n=N(t.currentTarget).data("dnd-count");n--,N(t.currentTarget).data("dnd-count",n),0==n&&(N(t.currentTarget).removeClass("drag-over"),e&&e())},handleDragLeaveForOverlay:function(t){var e=this;this.handleDragLeave(t,function(){e.hideDroppableOverlay()})},handleDragLeaveForDroppable:function(t){this.handleDragLeave(t)},handleDragOverForOverlay:function(t){t.stopPropagation(),t.preventDefault(),t.originalEvent.dataTransfer.dropEffect="copy"},hideDroppableOverlay:function(){this.$el.find(".droppable-overlay").hide(),this.$el.removeClass("drag-ongoing")},handleDrop:function(t){t.preventDefault(),N(t.target).trigger("dragleave"),this.hideDroppableOverlay(),this.uploadAttachments(t.originalEvent.dataTransfer.files)},stopPropagation:function(t){t.stopPropagation()},createHTML:function(){var t=this.createCommentingFieldElement();t.addClass("main"),this.$el.append(t),t.find(".control-row").hide(),t.find(".close").hide(),this.options.enableNavigation&&(this.$el.append(this.createNavigationElement()),this.showActiveSort());var e=this.createSpinner();this.$el.append(e);var n=N("<div/>",{"class":"data-container","data-container":"comments"});this.$el.append(n);var i=N("<div/>",{"class":"no-comments no-data",text:this.options.textFormatter(this.options.noCommentsText)}),o=N("<i/>",{"class":"fa fa-comments fa-2x"});if(
this.options.noCommentsIconURL.length&&(o.css("background-image",'url("'+this.options.noCommentsIconURL+'")'),o.addClass("image")),i.prepend(N("<br/>")).prepend(o),n.append(i),this.options.enableAttachments){var a=N("<div/>",{"class":"data-container","data-container":"attachments"});this.$el.append(a);var r=N("<div/>",{"class":"no-attachments no-data",text:this.options.textFormatter(this.options.noAttachmentsText)}),s=N("<i/>",{"class":"fa fa-paperclip fa-2x"});this.options.attachmentIconURL.length&&(s.css("background-image",'url("'+this.options.attachmentIconURL+'")'),s.addClass("image")),r.prepend(N("<br/>")).prepend(s),a.append(r);var l=N("<div/>",{"class":"droppable-overlay"}),c=N("<div/>",{"class":"droppable-container"}),d=N("<div/>",{"class":"droppable"}),u=N("<i/>",{"class":"fa fa-upload fa-4x"});this.options.uploadIconURL.length&&(u.css("background-image",'url("'+this.options.uploadIconURL+'")'),u.addClass("image"));var h=N("<div/>",{text:this.options.textFormatter(this.options.attachmentDropText)});d.append(u),d.append(h),l.html(c.html(d)).hide(),this.$el.append(l)}},createProfilePictureElement:function(t){if(t)var e=N("<img/>",{src:t});else e=N("<i/>",{"class":"fa fa-user"});return e.addClass("profile-picture"),this.options.roundProfilePictures&&e.addClass("round"),e},createCommentingFieldElement:function(t,e){var o=this,n=N("<div/>",{"class":"commenting-field"});if(e)var i=this.commentsById[e].profilePictureURL;else i=this.options.profilePictureURL;var a=this.createProfilePictureElement(i),r=N("<div/>",{"class":"textarea-wrapper"}),s=N("<div/>",{"class":"control-row"}),l=N("<div/>",{"class":"textarea","data-placeholder":this.options.textFormatter(this.options.textareaPlaceholderText),contenteditable:!0});this.adjustTextareaHeight(l,!1);var c=N("<span/>",{"class":"close"}).append(N('<span class="left"/>')).append(N('<span class="right"/>'));if(e){var d=this.options.textFormatter(this.options.saveText),u=N("<span/>",{"class":"delete",text:this.options.textFormatter(this.options.deleteText)}).css("background-color",this.options.deleteButtonColor);s.append(u),this.isAllowedToDelete(e)&&u.addClass("enabled")}else{d=this.options.textFormatter(this.options.sendText);if(this.options.enableAttachments){var h=N("<span/>",{"class":"enabled upload"}),f=N("<i/>",{"class":"fa fa-upload"}),p=N("<input/>",{type:"file","data-role":"none"});N.browser.mobile||p.attr("multiple","multiple"),this.options.uploadIconURL.length&&(f.css("background-image",'url("'+this.options.uploadIconURL+'")'),f.addClass("image")),h.append(f).append(p),s.append(h)}}var m=N("<span/>",{"class":(e?"update":"send")+" save highlight-background",text:d});if(s.prepend(m),r.append(c).append(l).append(s),n.append(a).append(r),t){l.attr("data-parent",t);var g=this.commentsById[t];if(g.parent){l.html("&nbsp;");var v="@"+g.fullname,E=this.createTagElement(v,"reply-to",g.creator);l.prepend(E)}}return this.options.enablePinging&&(l.textcomplete([{match:/(^|\s)@(([a-z\xe4\xf6\xfc\xdf]|\s)*)$/im,search:function(n,t){n=o.normalizeSpaces(n);var i=o.getPings(l),e=o.getUsers().filter(function(t){var e=t.id==o.options.currentUserId,n=-1!=i.indexOf(t.id);return!e&&!n});o.sortUsers(e),t(N.map(e,function(t){var e=n.toLowerCase();return-1!=t.fullname.toLowerCase().indexOf(e)?t:null}))},template:function(t){var e=N("<div/>"),n=N("<img/>",{src:t.profile_picture_url,"class":"profile-picture round"}),i=N("<div/>",{"class":"details"}),o=N("<div/>",{"class":"name"}).html(t.fullname),a=N("<div/>",{"class":"email"}).html(t.email);return t.email?i.append(o).append(a):(i.addClass("no-email"),i.append(o)),e.append(n).append(i),e.html()},replace:function(t){return" "+o.createTagElement("@"+t.fullname,"ping",t.id)[0].outerHTML+" "}}],{appendTo:".jquery-comments",dropdownClassName:"dropdown autocomplete",maxCount:5,rightEdgeOffset:0}),l.on({"textComplete:show":function(){var i=N(this).data("textComplete").dropdown.$el;i.hide();var t=function(){return!i.is(":empty")},e=function(){var t=parseInt(i.css("left"));i.css("left",0);var e=o.$el.width()-i.width(),n=Math.min(e,t);i.css("left",n),i.show()};o.waitUntil(t,e)}})),n},createNavigationElement:function(){var t=N("<ul/>",{"class":"navigation"}),e=N("<div/>",{"class":"navigation-wrapper"});t.append(e);var n=N("<li/>",{text:this.options.textFormatter(this.options.newestText),"data-sort-key":"newest","data-container-name":"comments"}),i=N("<li/>",{text:this.options.textFormatter(this.options.oldestText),"data-sort-key":"oldest","data-container-name":"comments"}),o=N("<li/>",{text:this.options.textFormatter(this.options.popularText),"data-sort-key":"popularity","data-container-name":"comments"}),a=N("<li/>",{text:this.options.textFormatter(this.options.attachmentsText),"data-sort-key":"attachments","data-container-name":"attachments"}),r=N("<i/>",{"class":"fa fa-paperclip"});this.options.attachmentIconURL.length&&(r.css("background-image",'url("'+this.options.attachmentIconURL+'")'),r.addClass("image")),a.prepend(r);var s=N("<div/>",{"class":"navigation-wrapper responsive"}),l=N("<ul/>",{"class":"dropdown"}),c=N("<li/>",{"class":"title"}),d=N("<header/>");return c.append(d),s.append(c),s.append(l),t.append(s),e.append(n).append(i),l.append(n.clone()).append(i.clone()),(this.options.enableReplying||this.options.enableUpvoting)&&(e.append(o),l.append(o.clone())),this.options.enableAttachments&&(e.append(a),s.append(a.clone())),this.options.forceResponsive&&this.forceResponsive(),t},createSpinner:function(){var t=N("<div/>",{"class":"spinner"}),e=N("<i/>",{"class":"fa fa-spinner fa-spin"});return this.options.spinnerIconURL.length&&(e.css("background-image",'url("'+this.options.spinnerIconURL+'")'),e.addClass("image")),t.html(e),t},createCommentElement:function(t){var e=N("<li/>",{"data-id":t.id,"class":"comment"}).data("model",t);t.createdByCurrentUser&&e.addClass("by-current-user"),t.createdByAdmin&&e.addClass("by-admin");var n=N("<ul/>",{"class":"child-comments"}),i=this.createCommentWrapperElement(t);return e.append(i),null==t.parent&&e.append(n),e},createCommentWrapperElement:function(t){var e=N("<div/>",{"class":"comment-wrapper"}),n=this.createProfilePictureElement(t.profilePictureURL),i=N("<time/>",{text:this.options.timeFormatter(t.created),"data-original":t.created}),o=t.createdByCurrentUser?this.options.textFormatter(this.options.youText):t.fullname,a=N("<div/>",{"class":"name"});if(t.profileURL){var r=N("<a/>",{href:t.profileURL,text:o});a.html(r)}else a.text(o);if((t.createdByCurrentUser||t.createdByAdmin)&&a.addClass("highlight-font-bold"),t.parent){var s=this.commentsById[t.parent];if(s.parent){var l=N("<span/>",{"class":"reply-to",text:s.fullname}),c=N("<i/>",{"class":"fa fa-share"});this.options.replyIconURL.length&&(c.css("background-image",'url("'+this.options.replyIconURL+'")'),c.addClass("image")),l.prepend(c),a.append(l)}}if(t.isNew){var d=N("<span/>",{"class":"new highlight-background",text:this.options.newText});a.append(d)}var u=N("<div/>",{"class":"wrapper"}),h=N("<div/>",{"class":"content"}),f=null!=t.fileURL;if(f){var p=null,m=null;if(t.fileMimeType){var g=t.fileMimeType.split("/");2==g.length&&(p=g[1],m=g[0])}r=N("<a/>",{"class":"attachment",href:t.fileURL,target:"_blank"});if("image"==m){var v=N("<img/>",{src:t.fileURL});r.html(v)}else if("video"==m){var E=N("<video/>",{src:t.fileURL,type:t.fileMimeType,controls:"controls"});r.html(E)}else{var T=["archive","audio","code","excel","image","movie","pdf","photo","picture","powerpoint","sound","video","word","zip"],b="fa fa-file-o";0<T.indexOf(p)?b="fa fa-file-"+p+"-o":0<T.indexOf(m)&&(b="fa fa-file-"+m+"-o");var C=N("<i/>",{"class":b});this.options.fileIconURL.length&&(C.css("background-image",'url("'+this.options.fileIconURL+'")'),C.addClass("image"));var y=t.fileURL.split("/"),D=y[y.length-1];D=D.split("?")[0],D=decodeURIComponent(D),r.text(D),r.prepend(C)}h.html(r)}else h.html(this.getFormattedCommentContent(t));if(t.modified&&t.modified!=t.created){var I=this.options.timeFormatter(t.modified),O=N("<time/>",{"class":"edited",text:this.options.textFormatter(this.options.editedText)+" "+I,"data-original":t.modified});h.append(O)}var R=N("<span/>",{"class":"actions"}),k=N("<span/>",{"class":"separator",text:"\xb7"}),_=N("<button/>",{"class":"action reply",type:"button",text:this.options.textFormatter(this.options.replyText)}),x=N("<i/>",{"class":"fa fa-thumbs-up"});this.options.upvoteIconURL.length&&(x.css("background-image",'url("'+this.options.upvoteIconURL+'")'),x.addClass("image"));var w=this.createUpvoteElement(t);if(this.options.enableReplying&&R.append(_),this.options.enableUpvoting&&R.append(w),t.createdByCurrentUser||this.options.currentUserIsAdmin)if(f&&this.isAllowedToDelete(t.id)){var K=N("<button/>",{"class":"action delete enabled",text:this.options.textFormatter(this.options.deleteText)});R.append(K)}else if(!f&&this.options.enableEditing){var S=N("<button/>",{"class":"action edit",text:this.options.textFormatter(this.options.editText)});R.append(S)}return R.children().each(function(t,e){N(e).is(":last-child")||N(e).after(k.clone())}),u.append(h),u.append(R),e.append(n).append(i).append(a).append(u),e},createUpvoteElement:function(t){var e=N("<i/>",{"class":"fa fa-thumbs-up"});return this.options.upvoteIconURL.length&&(e.css("background-image",'url("'+this.options.upvoteIconURL+'")'),e.addClass("image")),N("<button/>",{"class":"action upvote"+(t.userHasUpvoted?" highlight-font":"")}).append(N("<span/>",{text:t.upvoteCount,"class":"upvote-count"})).append(e)},createTagElement:function(t,e,n){var i=N("<input/>",{"class":"tag",type:"button","data-role":"none"});return e&&i.addClass(e),i.val(t),i.attr("data-value",n),i},reRenderComment:function(t){var i=this.commentsById[t],o=this;this.$el.find('li.comment[data-id="'+i.id+'"]').each(function(t,e){var n=o.createCommentWrapperElement(i);N(e).find(".comment-wrapper").first().replaceWith(n)})},reRenderCommentActionBar:function(t){var i=this.commentsById[t],o=this;this.$el.find('li.comment[data-id="'+i.id+'"]').each(function(t,e){var n=o.createCommentWrapperElement(i);N(e).find(".actions").first().replaceWith(n.find(".actions"))})},reRenderUpvotes:function(t){var i=this.commentsById[t],o=this;this.$el.find('li.comment[data-id="'+i.id+'"]').each(function(t,e){var n=o.createUpvoteElement(i);N(e).find(".upvote").first().replaceWith(n)})},createCssDeclarations:function(){N("head style.jquery-comments-css").remove(),this.createCss(".jquery-comments ul.navigation li.active:after {background: "+this.options.highlightColor+" !important;",NaN),this.createCss(".jquery-comments ul.navigation ul.dropdown li.active {background: "+this.options.highlightColor+" !important;",NaN),this.createCss(".jquery-comments .highlight-background {background: "+this.options.highlightColor+" !important;",NaN),this.createCss(".jquery-comments .highlight-font {color: "+this.options.highlightColor+" !important;}"),this.createCss(".jquery-comments .highlight-font-bold {color: "+this.options.highlightColor+" !important;font-weight: bold;}")},createCss:function(t){var e=N("<style/>",{type:"text/css","class":"jquery-comments-css",text:t});N("head").append(e)},getComments:function(){var e=this;return Object.keys(this.commentsById).map(function(t){return e.commentsById[t]})},getUsers:function(){var e=this;return Object.keys(this.usersById).map(function(t){return e.usersById[t]})},getChildComments:function(e){return this.getComments().filter(function(t){return t.parent==e})},getAttachments:function(){return this.getComments().filter(function(t){return null!=t.fileURL})},getOutermostParent:function(t){var e=t;do{var n=this.commentsById[e];e=n.parent}while(null!=n.parent);return n},createCommentJSON:function(t){var e=(new Date).toISOString();return{id:"c"+(this.getComments().length+1),parent:t.attr("data-parent")||null,created:e,modified:e,content:this.getTextareaContent(t),pings:this.getPings(t),fullname:this.options.textFormatter(this.options.youText),profilePictureURL:this.options.profilePictureURL,createdByCurrentUser:!0,upvoteCount:0,userHasUpvoted:!1}},isAllowedToDelete:function(n){if(this.options.enableDeleting){var i=!0;return this.options.enableDeletingCommentWithReplies||N(this.getComments()).each(function(t,e){e.parent==n&&(i=!1)}),i}return!1},setToggleAllButtonText:function(n,t){var i=this,o=n.find("span.text"),e=n.find(".caret"),a=function(){var t=i.options.textFormatter(i.options.viewAllRepliesText),e=n.siblings(".comment").length;t=t.replace("__replyCount__",e),o.text(t)},r=this.options.textFormatter(this.options.hideRepliesText);t?(o.text()==r?a():o.text(r),e.toggleClass("up")):o.text()!=r&&a()},adjustTextareaHeight:function(n,t){var i=2.2,o=1.45,e=function(t){var e=i+(t-1)*o;n.css("height",e+"em")};n=N(n);var a=1==t?this.options.textareaRowsOnFocus:this.options.textareaRows;do{e(a),a++;var r=n[0].scrollHeight>n.outerHeight(),s=0!=this.options.textareaMaxRows&&a>this.options.textareaMaxRows}while(r&&!s)},clearTextarea:function(t){t.empty().trigger("input")},getTextareaContent:function(t,e){var n=t.clone();n.find(".reply-to.tag").remove(),n.find(".tag.hashtag").replaceWith(function(){return e?N(this).val():"#"+N(this).attr("data-value")}),n.find(".tag.ping").replaceWith(function(){return e?N(this).val():"@"+N(this).attr("data-value")});var i=N("<pre/>").html(n.html());i.find("div, p, br").replaceWith(function(){return"\n"+this.innerHTML});var o=i.text().replace(/^\s+/g,"");return o=this.normalizeSpaces(o)},getFormattedCommentContent:function(t,e){var n=this.escape(t.content);return n=this.linkify(n),n=this.highlightTags(t,n),e&&(n=n.replace(/(?:\n)/g,"<br>")),n},getPings:function(t){return N.map(t.find(".ping"),function(t){return parseInt(N(t).attr("data-value"))})},moveCursorToEnd:function(t){if(t=N(t)[0],N(t).trigger("input"),N(t).scrollTop(t.scrollHeight),void 0!==window.getSelection&&void 0!==document.createRange){var e=document.createRange();e.selectNodeContents(t),e.collapse(!1);var n=window.getSelection();n.removeAllRanges(),n.addRange(e)}else if(void 0!==document.body.createTextRange){var i=document.body.createTextRange();i.moveToElementText(t),i.collapse(!1),i.select()}t.focus()},escape:function(t){return N("<pre/>").text(this.normalizeSpaces(t)).html()},normalizeSpaces:function(t){return t.replace(new RegExp("\xa0","g")," ")},after:function(t,e){var n=this;return function(){if(0==--t)return e.apply(n,arguments)}},highlightTags:function(t,e){return this.options.enableHashtags&&(e=this.highlightHashtags(t,e)),this.options.enablePinging&&(e=this.highlightPings(t,e)),e},highlightHashtags:function(t,e){var n=this;if(-1!=e.indexOf("#")){var i=function(t){return(t=n.createTagElement("#"+t,"hashtag",t))[0].outerHTML},o=/(^|\s)#([a-z\xe4\xf6\xfc\xdf\d-_]+)/gim;e=e.replace(o,function(t,e,n){return e+i(n)})}return e},highlightPings:function(t,r){var s=this;if(-1==r.indexOf("@"))return r;var l=function(t){return s.createTagElement("@"+t.fullname,"ping",t.id)[0].outerHTML},c="";return N(t.pings).each(function(t,e){if(e in s.usersById){var n=s.usersById[e],i="@"+n.fullname,o=r.indexOf(i)+i.length,a=r.slice(0,o);c+=a.replace(i,l(n)),r=r.slice(o)}}),c+=r},linkify:function(t){var e,n,i,o;if(n=/(^|\s)((https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gim,i=/(^|\s)(www\.[\S]+(\b|$))/gim,o=/(^|\s)(([a-zA-Z0-9\-\_\.]+)@[a-zA-Z\_]+?(\.[a-zA-Z]{2,6})+)/gim,e=(e=(e=t.replace(n,'$1<a href="$2" target="_blank">$2</a>')).replace(i,'$1<a href="http://$2" target="_blank">$2</a>')).replace(o,'$1<a href="mailto:$2">$2</a>'),0<(t.match(/<a href/g)||[]).length){for(var a=t.split(/(<\/a>)/g),r=0;r<a.length;r++)null==a[r].match(/<a href/g)&&(a[r]=a[r].replace(n,'<a href="$1" target="_blank">$1</a>').replace(i,'$1<a href="http://$2" target="_blank">$2</a>').replace(o,'<a href="mailto:$1">$1</a>'));return a.join("")}return e},waitUntil:function(t,e){var n=this;t()?e():setTimeout(function(){n.waitUntil(t,e)},100)},applyInternalMappings:function(t){var e={},n=this.options.fieldMappings;for(var i in n)n.hasOwnProperty(i)&&(e[n[i]]=i);return this.applyMappings(e,t)},applyExternalMappings:function(t){var e=this.options.fieldMappings;return this.applyMappings(e,t)},applyMappings:function(t,e){var n={};for(var i in e)if(i in t){n[t[i]]=e[i]}return n}};N.fn.comments=function(e){return this.each(function(){var t=Object.create(n);N.data(this,"comments",t),t.init(e||{},this)})}}),function(){"use strict";var n,a,e,i=function(t,e){return function(){return t.apply(e,arguments)}};n=jQuery,a=function(){function t(){}return t.transitions={webkitTransition:"webkitTransitionEnd",mozTransition:"mozTransitionEnd",oTransition:"oTransitionEnd",transition:"transitionend"},t.transition=function(t){var e,n,i,o;for(o in e=t[0],n=this.transitions)if(i=n[o],null!=e.style[o])return i},t}(),e=function(){function e(t){null==t&&(t={}),this.container=i(this.container,this),this.content=i(this.content,this),this.html=i(this.html,this),this.$growl=i(this.$growl,this),this.$growls=i(this.$growls,this),this.animate=i(this.animate,this),this.remove=i(this.remove,this),this.dismiss=i(this.dismiss,this),this.present=i(this.present,this),this.waitAndDismiss=i(this.waitAndDismiss,this),this.cycle=i(this.cycle,this),this.close=i(this.close,this),this.click=i(this.click,this),this.mouseLeave=i(this.mouseLeave,this),this.mouseEnter=i(this.mouseEnter,this),this.unbind=i(this.unbind,this),this.bind=i(this.bind,this),this.render=i(this.render,this),this.settings=n.extend({},e.settings,t),this.$growls().attr("class",this.settings.location),this.render()}return e.settings={namespace:"growl",duration:3200,close:"&#215;",location:"default",style:"default",size:"medium",delayOnHover:!0},e.growl=function(t){return null==t&&(t={}),this.initialize(),new e(t)},e.initialize=function(){return n("body:not(:has(#growls))").append('<div id="growls" />')},e.prototype.render=function(){var t;t=this.$growl(),this.$growls().append(t),this.settings.fixed?this.present():this.cycle()},e.prototype.bind=function(t){return null==t&&(t=this.$growl()),t.on("click",this.click),this.settings.delayOnHover&&(t.on("mouseenter",this.mouseEnter),t.on("mouseleave",this.mouseLeave)),t.on("contextmenu",this.close).find("."+this.settings.namespace+"-close").on("click",this.close)},e.prototype.unbind=function(t){return null==t&&(t=this.$growl()),t.off("click",this.click),this.settings.delayOnHover&&(t.off("mouseenter",this.mouseEnter),t.off("mouseleave",this.mouseLeave)),t.off("contextmenu",this.close).find("."+this.settings.namespace+"-close").off("click",this.close)},e.prototype.mouseEnter=function(){return this.$growl().stop(!0,!0)},e.prototype.mouseLeave=function(){return this.waitAndDismiss()},e.prototype.click=function(t){if(null!=this.settings.url)return t.preventDefault(),t.stopPropagation(),window.open(this.settings.url)},e.prototype.close=function(t){return t.preventDefault(),t.stopPropagation(),this.$growl().stop().queue(this.dismiss).queue(this.remove)},e.prototype.cycle=function(){return this.$growl().queue(this.present).queue(this.waitAndDismiss())},e.prototype.waitAndDismiss=function(){return this.$growl().delay(this.settings.duration).queue(this.dismiss).queue(this.remove)},e.prototype.present=function(t){var e;return e=this.$growl(),this.bind(e),this.animate(e,this.settings.namespace+"-incoming","out",t)},e.prototype.dismiss=function(t){var e;return e=this.$growl(),this.unbind(e),this.animate(e,this.settings.namespace+"-outgoing","in",t)},e.prototype.remove=function(t){return this.$growl().remove(),"function"==typeof t?t():void 0},e.prototype.animate=function(t,e,n,i){var o;null==n&&(n="in"),o=a.transition(t),t["in"===n?"removeClass":"addClass"](e),t.offset().position,t["in"===n?"addClass":"removeClass"](e),null!=i&&(null!=o?t.one(o,i):i())},e.prototype.$growls=function(){return null!=this.$_growls?this.$_growls:this.$_growls=n("#growls")},e.prototype.$growl=function(){return null!=this.$_growl?this.$_growl:this.$_growl=n(this.html())},e.prototype.html=function(){return this.container(this.content())},e.prototype.content=function(){return"<div class='"+this.settings.namespace+"-close'>"+this.settings.close+"</div>\n<div class='"+this.settings.namespace+"-title'>"+this.settings.title+"</div>\n<div class='"+this.settings.namespace+"-message'>"+this.settings.message+"</div>"},e.prototype.container=function(t){return"<div class='"+this.settings.namespace+" "+this.settings.namespace+"-"+this.settings.style+" "+this.settings.namespace+"-"+this.settings.size+"'>\n  "+t+"\n</div>"},e}(),this.Growl=e,n.growl=function(t){return null==t&&(t={}),e.growl(t)},n.growl.error=function(t){var e;return null==t&&(t={}),e={title:"Error!",style:"error"},n.growl(n.extend(e,t))},n.growl.notice=function(t){var e;return null==t&&(t={}),e={title:"Notice!",style:"notice"},n.growl(n.extend(e,t))},n.growl.warning=function(t){var e;return null==t&&(t={}),e={title:"Warning!",style:"warning"},n.growl(n.extend(e,t))}}.call(this),function(a){a.color={},a.color.make=function(t,e,n,i){var o={};return o.r=t||0,o.g=e||0,o.b=n||0,o.a=null!=i?i:1,o.add=function(t,e){for(var n=0;n<t.length;++n)o[t.charAt(n)]+=e;return o.normalize()},o.scale=function(t,e){for(var n=0;n<t.length;++n)o[t.charAt(n)]*=e;return o.normalize()},o.toString=function(){return 1<=o.a?"rgb("+[o.r,o.g,o.b].join(",")+")":"rgba("+[o.r,o.g,o.b,o.a].join(",")+")"},o.normalize=function(){function t(t,e,n){return e<t?t:n<e?n:e}return o.r=t(0,parseInt(o.r),255),o.g=t(0,parseInt(o.g),255),o.b=t(0,parseInt(o.b),255),o.a=t(0,o.a,1),o},o.clone=function(){return a.color.make(o.r,o.b,o.g,o.a)},o.normalize()},a.color.extract=function(t,e){var n;do{if(""!=(n=t.css(e).toLowerCase())&&"transparent"!=n)break;t=t.parent()}while(t.length&&!a.nodeName(t.get(0),"body"));return"rgba(0, 0, 0, 0)"==n&&(n="transparent"),a.color.parse(n)},a.color.parse=function(t){var e,n=a.color.make;if(e=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(t))return n(parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3],10));if(e=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(t))return n(parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3],10),parseFloat(e[4]));if(e=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(t))return n(2.55*parseFloat(e[1]),2.55*parseFloat(e[2]),2.55*parseFloat(e[3]));if(e=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(t))return n(2.55*parseFloat(e[1]),2.55*parseFloat(e[2]),2.55*parseFloat(e[3]),parseFloat(e[4]));if(e=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(t))return n(parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16));if(e=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(t))return n(parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16));var i=a.trim(t).toLowerCase();return"transparent"==i?n(255,255,255,0):n((e=o[i]||[0,0,0])[0],e[1],e[2])};var o={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}}(jQuery),function(gt){function vt(t,e){var n=e.children("."+t)[0];if(null==n&&((n=document.createElement("canvas")).className=t,gt(n).css({direction:"ltr",position:"absolute",left:0,top:0}).appendTo(e),!n.getContext)){if(!window.G_vmlCanvasManager)throw new Error("Canvas is not available. If you're using IE with a fall-back such as Excanvas, then there's either a mistake in your conditional include, or the page has no DOCTYPE and is rendering in Quirks Mode.");n=window.G_vmlCanvasManager.initElement(n)}this.element=n;var i=this.context=n.getContext("2d"),o=window.devicePixelRatio||1,a=i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||1;this.pixelRatio=o/a,this.resize(e.width(),e.height()),this.textContainer=null,this.text={},this._textCache={}}function i(g,t,e,i){function I(t,e){e=[ft].concat(e);for(var n=0;n<t.length;++n)t[n].apply(this,e)}function n(){for(var t={Canvas:vt},e=0;e<i.length;++e){var n=i[e];n.init(ft,t),n.options&&gt.extend(!0,et,n.options)}}function o(t){gt.extend(!0,et,t),t&&t.colors&&(et.colors=t.colors),null==et.xaxis.color&&(et.xaxis.color=gt.color.parse(et.grid.color).scale("a",.22).toString()),null==et.yaxis.color&&(et.yaxis.color=gt.color.parse(et.grid.color).scale("a",.22).toString()),null==et.xaxis.tickColor&&(et.xaxis.tickColor=et.grid.tickColor||et.xaxis.color),null==et.yaxis.tickColor&&(et.yaxis.tickColor=et.grid.tickColor||et.yaxis.color),null==et.grid.borderColor&&(et.grid.borderColor=et.grid.color),null==et.grid.tickColor&&(et.grid.tickColor=gt.color.parse(et.grid.color).scale("a",.22).toString());var e,n,i,o=g.css("font-size"),a=o?+o.replace("px",""):13,r={style:g.css("font-style"),size:Math.round(.8*a),variant:g.css("font-variant"),weight:g.css("font-weight"),family:g.css("font-family")};for(i=et.xaxes.length||1,e=0;e<i;++e)(n=et.xaxes[e])&&!n.tickColor&&(n.tickColor=n.color),n=gt.extend(!0,{},et.xaxis,n),(et.xaxes[e]=n).font&&(n.font=gt.extend({},r,n.font),n.font.color||(n.font.color=n.color),n.font.lineHeight||(n.font.lineHeight=Math.round(1.15*n.font.size)));for(i=et.yaxes.length||1,e=0;e<i;++e)(n=et.yaxes[e])&&!n.tickColor&&(n.tickColor=n.color),n=gt.extend(!0,{},et.yaxis,n),(et.yaxes[e]=n).font&&(n.font=gt.extend({},r,n.font),n.font.color||(n.font.color=n.color),n.font.lineHeight||(n.font.lineHeight=Math.round(1.15*n.font.size)));for(et.xaxis.noTicks&&null==et.xaxis.ticks&&(et.xaxis.ticks=et.xaxis.noTicks),et.yaxis.noTicks&&null==et.yaxis.ticks&&(et.yaxis.ticks=et.yaxis.noTicks),et.x2axis&&(et.xaxes[1]=gt.extend(!0,{},et.xaxis,et.x2axis),et.xaxes[1].position="top",null==et.x2axis.min&&(et.xaxes[1].min=null),null==et.x2axis.max&&(et.xaxes[1].max=null)),et.y2axis&&(et.yaxes[1]=gt.extend(!0,{},et.yaxis,et.y2axis),et.yaxes[1].position="right",null==et.y2axis.min&&(et.yaxes[1].min=null),null==et.y2axis.max&&(et.yaxes[1].max=null)),et.grid.coloredAreas&&(et.grid.markings=et.grid.coloredAreas),et.grid.coloredAreasColor&&(et.grid.markingsColor=et.grid.coloredAreasColor),et.lines&&gt.extend(!0,et.series.lines,et.lines),et.points&&gt.extend(!0,et.series.points,et.points),et.bars&&gt.extend(!0,et.series.bars,et.bars),null!=et.shadowSize&&(et.series.shadowSize=et.shadowSize),null!=et.highlightColor&&(et.series.highlightColor=et.highlightColor),e=0;e<et.xaxes.length;++e)p(st,e+1).options=et.xaxes[e];for(e=0;e<et.yaxes.length;++e)p(lt,e+1).options=et.yaxes[e];for(var s in ht)et.hooks[s]&&et.hooks[s].length&&(ht[s]=ht[s].concat(et.hooks[s]));I(ht.processOptions,[et])}function a(t){tt=r(t),l(),c()}function r(t){for(var e=[],n=0;n<t.length;++n){var i=gt.extend(!0,{},et.series);null!=t[n].data?(i.data=t[n].data,delete t[n].data,gt.extend(!0,i,t[n]),t[n].data=i.data):i.data=t[n],e.push(i)}return e}function f(t,e){var n=t[e+"axis"];return"object"==typeof n&&(n=n.n),"number"!=typeof n&&(n=1),n}function O(){return gt.grep(st.concat(lt),function(t){return t})}function d(t){var e,n,i={};for(e=0;e<st.length;++e)(n=st[e])&&n.used&&(i["x"+n.n]=n.c2p(t.left));for(e=0;e<lt.length;++e)(n=lt[e])&&n.used&&(i["y"+n.n]=n.c2p(t.top));return void 0!==i.x1&&(i.x=i.x1),void 0!==i.y1&&(i.y=i.y1),i}function s(t){var e,n,i,o={};for(e=0;e<st.length;++e)if((n=st[e])&&n.used&&(null==t[i="x"+n.n]&&1==n.n&&(i="x"),null!=t[i])){o.left=n.p2c(t[i]);break}for(e=0;e<lt.length;++e)if((n=lt[e])&&n.used&&(null==t[i="y"+n.n]&&1==n.n&&(i="y"),null!=t[i])){o.top=n.p2c(t[i]);break}return o}function p(t,e){return t[e-1]||(t[e-1]={n:e,direction:t==st?"x":"y",options:gt.extend(!0,{},t==st?et.xaxis:et.yaxis)}),t[e-1]}function l(){var t,e=tt.length,n=-1;for(t=0;t<tt.length;++t){var i=tt[t].color;null!=i&&(e--,"number"==typeof i&&n<i&&(n=i))}e<=n&&(e=n+1);var o,a=[],r=et.colors,s=r.length,l=0;for(t=0;t<e;t++)o=gt.color.parse(r[t%s]||"#666"),t%s==0&&t&&(l=0<=l?l<.5?-l-.2:0:-l),a[t]=o.scale("rgb",1+l);var c,d=0;for(t=0;t<tt.length;++t){if(null==(c=tt[t]).color?(c.color=a[d].toString(),++d):"number"==typeof c.color&&(c.color=a[c.color].toString()),null==c.lines.show){var u,h=!0;for(u in c)if(c[u]&&c[u].show){h=!1;break}h&&(c.lines.show=!0)}null==c.lines.zero&&(c.lines.zero=!!c.lines.fill),c.xaxis=p(st,f(c,"x")),c.yaxis=p(lt,f(c,"y"))}}function c(){function t(t,e,n){e<t.datamin&&e!=-m&&(t.datamin=e),n>t.datamax&&n!=m&&(t.datamax=n)}var e,n,i,o,a,r,s,l,c,d,u,h,f=Number.POSITIVE_INFINITY,p=Number.NEGATIVE_INFINITY,m=Number.MAX_VALUE;for(gt.each(O(),function(t,e){e.datamin=f,e.datamax=p,e.used=!1}),e=0;e<tt.length;++e)(a=tt[e]).datapoints={points:[]},I(ht.processRawData,[a,a.data,a.datapoints]);for(e=0;e<tt.length;++e){if(u=(a=tt[e]).data,!(h=a.datapoints.format)){if((h=[]).push({x:!0,number:!0,required:!0}),h.push({y:!0,number:!0,required:!0}),a.bars.show||a.lines.show&&a.lines.fill){var g=!!(a.bars.show&&a.bars.zero||a.lines.show&&a.lines.zero);h.push({y:!0,number:!0,required:!1,defaultValue:0,autoscale:g}),a.bars.horizontal&&(delete h[h.length-1].y,h[h.length-1].x=!0)}a.datapoints.format=h}if(null==a.datapoints.pointsize){a.datapoints.pointsize=h.length,s=a.datapoints.pointsize,r=a.datapoints.points;var v=a.lines.show&&a.lines.steps;for(a.xaxis.used=a.yaxis.used=!0,n=i=0;n<u.length;++n,i+=s){var E=null==(d=u[n]);if(!E)for(o=0;o<s;++o)l=d[o],(c=h[o])&&(c.number&&null!=l&&(l=+l,isNaN(l)?l=null:1/0==l?l=m:l==-1/0&&(l=-m)),null==l&&(c.required&&(E=!0),null!=c.defaultValue&&(l=c.defaultValue))),r[i+o]=l;if(E)for(o=0;o<s;++o)null!=(l=r[i+o])&&(!1!==(c=h[o]).autoscale&&(c.x&&t(a.xaxis,l,l),c.y&&t(a.yaxis,l,l))),r[i+o]=null;else if(v&&0<i&&null!=r[i-s]&&r[i-s]!=r[i]&&r[i-s+1]!=r[i+1]){for(o=0;o<s;++o)r[i+s+o]=r[i+o];r[i+1]=r[i-s+1],i+=s}}}}for(e=0;e<tt.length;++e)a=tt[e],I(ht.processDatapoints,[a,a.datapoints]);for(e=0;e<tt.length;++e){r=(a=tt[e]).datapoints.points,s=a.datapoints.pointsize,h=a.datapoints.format;var T=f,b=f,C=p,y=p;for(n=0;n<r.length;n+=s)if(null!=r[n])for(o=0;o<s;++o)l=r[n+o],(c=h[o])&&!1!==c.autoscale&&l!=m&&l!=-m&&(c.x&&(l<T&&(T=l),C<l&&(C=l)),c.y&&(l<b&&(b=l),y<l&&(y=l)));if(a.bars.show){var D;switch(a.bars.align){case"left":D=0;break;case"right":D=-a.bars.barWidth;break;default:D=-a.bars.barWidth/2}a.bars.horizontal?(b+=D,y+=D+a.bars.barWidth):(T+=D,C+=D+a.bars.barWidth)}t(a.xaxis,T,C),t(a.yaxis,b,y)}gt.each(O(),function(t,e){e.datamin==f&&(e.datamin=null),e.datamax==p&&(e.datamax=null)})}function u(){g.css("padding",0).children().filter(function(){return!gt(this).hasClass("flot-overlay")&&!gt(this).hasClass("flot-base")}).remove(),"static"==g.css("position")&&g.css("position","relative"),nt=new vt("flot-base",g),it=new vt("flot-overlay",g),at=nt.context,rt=it.context,ot=gt(it.element).unbind();var t=g.data("plot");t&&(t.shutdown(),it.clear()),g.data("plot",ft)}function h(){et.grid.hoverable&&(ot.mousemove(z),ot.bind("mouseleave",q)),et.grid.clickable&&ot.click(W),I(ht.bindEvents,[ot])}function m(){mt&&clearTimeout(mt),ot.unbind("mousemove",z),ot.unbind("mouseleave",q),ot.unbind("click",W),I(ht.shutdown,[ot])}function v(t){function e(t){return t}var n,i,o=t.options.transform||e,a=t.options.inverseTransform;"x"==t.direction?(n=t.scale=dt/Math.abs(o(t.max)-o(t.min)),i=Math.min(o(t.max),o(t.min))):(n=-(n=t.scale=ut/Math.abs(o(t.max)-o(t.min))),i=Math.max(o(t.max),o(t.min))),t.p2c=o==e?function(t){return(t-i)*n}:function(t){return(o(t)-i)*n},t.c2p=a?function(t){return a(i+t/n)}:function(t){return i+t/n}}function E(t){for(var e=t.options,n=t.ticks||[],i=e.labelWidth||0,o=e.labelHeight||0,a=i||("x"==t.direction?Math.floor(nt.width/(n.length||1)):null),r=t.direction+"Axis "+t.direction+t.n+"Axis",s="flot-"+t.direction+"-axis flot-"+t.direction+t.n+"-axis "+r,l=e.font||"flot-tick-label tickLabel",c=0;c<n.length;++c){var d=n[c];if(d.label){var u=nt.getTextInfo(s,d.label,l,null,a);i=Math.max(i,u.width),o=Math.max(o,u.height)}}t.labelWidth=e.labelWidth||i,t.labelHeight=e.labelHeight||o}function T(n){var t=n.labelWidth,e=n.labelHeight,i=n.options.position,o="x"===n.direction,a=n.options.tickLength,r=et.grid.axisMargin,
s=et.grid.labelMargin,l=!0,c=!0,d=!0,u=!1;gt.each(o?st:lt,function(t,e){e&&(e.show||e.reserveSpace)&&(e===n?u=!0:e.options.position===i&&(u?c=!1:l=!1),u||(d=!1))}),c&&(r=0),null==a&&(a=d?"full":5),isNaN(+a)||(s+=+a),o?(e+=s,"bottom"==i?(ct.bottom+=e+r,n.box={top:nt.height-ct.bottom,height:e}):(n.box={top:ct.top+r,height:e},ct.top+=e+r)):(t+=s,"left"==i?(n.box={left:ct.left+r,width:t},ct.left+=t+r):(ct.right+=t+r,n.box={left:nt.width-ct.right,width:t})),n.position=i,n.tickLength=a,n.box.padding=s,n.innermost=l}function b(t){"x"==t.direction?(t.box.left=ct.left-t.labelWidth/2,t.box.width=nt.width-ct.left-ct.right+t.labelWidth):(t.box.top=ct.top-t.labelHeight/2,t.box.height=nt.height-ct.bottom-ct.top+t.labelHeight)}function C(){var t,e=et.grid.minBorderMargin;if(null==e)for(t=e=0;t<tt.length;++t)e=Math.max(e,2*(tt[t].points.radius+tt[t].points.lineWidth/2));var n={left:e,right:e,top:e,bottom:e};gt.each(O(),function(t,e){e.reserveSpace&&e.ticks&&e.ticks.length&&("x"===e.direction?(n.left=Math.max(n.left,e.labelWidth/2),n.right=Math.max(n.right,e.labelWidth/2)):(n.bottom=Math.max(n.bottom,e.labelHeight/2),n.top=Math.max(n.top,e.labelHeight/2)))}),ct.left=Math.ceil(Math.max(n.left,ct.left)),ct.right=Math.ceil(Math.max(n.right,ct.right)),ct.top=Math.ceil(Math.max(n.top,ct.top)),ct.bottom=Math.ceil(Math.max(n.bottom,ct.bottom))}function y(){var t,e=O(),n=et.grid.show;for(var i in ct){var o=et.grid.margin||0;ct[i]="number"==typeof o?o:o[i]||0}for(var i in I(ht.processOffset,[ct]),ct)ct[i]+="object"==typeof et.grid.borderWidth?n?et.grid.borderWidth[i]:0:n?et.grid.borderWidth:0;if(gt.each(e,function(t,e){var n=e.options;e.show=null==n.show?e.used:n.show,e.reserveSpace=null==n.reserveSpace?e.show:n.reserveSpace,D(e)}),n){var a=gt.grep(e,function(t){return t.show||t.reserveSpace});for(gt.each(a,function(t,e){R(e),k(e),_(e,e.ticks),E(e)}),t=a.length-1;0<=t;--t)T(a[t]);C(),gt.each(a,function(t,e){b(e)})}dt=nt.width-ct.left-ct.right,ut=nt.height-ct.bottom-ct.top,gt.each(e,function(t,e){v(e)}),n&&N(),$()}function D(t){var e=t.options,n=+(null!=e.min?e.min:t.datamin),i=+(null!=e.max?e.max:t.datamax),o=i-n;if(0==o){var a=0==i?1:.01;null==e.min&&(n-=a),(null==e.max||null!=e.min)&&(i+=a)}else{var r=e.autoscaleMargin;null!=r&&(null==e.min&&((n-=o*r)<0&&null!=t.datamin&&0<=t.datamin&&(n=0)),null==e.max&&(0<(i+=o*r)&&null!=t.datamax&&t.datamax<=0&&(i=0)))}t.min=n,t.max=i}function R(t){var e,n=t.options;e="number"==typeof n.ticks&&0<n.ticks?n.ticks:.3*Math.sqrt("x"==t.direction?nt.width:nt.height);var i=(t.max-t.min)/e,o=-Math.floor(Math.log(i)/Math.LN10),a=n.tickDecimals;null!=a&&a<o&&(o=a);var r,s=Math.pow(10,-o),l=i/s;if(l<1.5?r=1:l<3?(r=2,2.25<l&&(null==a||o+1<=a)&&(r=2.5,++o)):r=l<7.5?5:10,r*=s,null!=n.minTickSize&&r<n.minTickSize&&(r=n.minTickSize),t.delta=i,t.tickDecimals=Math.max(0,null!=a?a:o),t.tickSize=n.tickSize||r,"time"==n.mode&&!t.tickGenerator)throw new Error("Time mode requires the flot.time plugin.");if(t.tickGenerator||(t.tickGenerator=function(t){for(var e,n=[],i=Et(t.min,t.tickSize),o=0,a=Number.NaN;e=a,a=i+o*t.tickSize,n.push(a),++o,a<t.max&&a!=e;);return n},t.tickFormatter=function(t,e){var n=e.tickDecimals?Math.pow(10,e.tickDecimals):1,i=""+Math.round(t*n)/n;if(null!=e.tickDecimals){var o=i.indexOf("."),a=-1==o?0:i.length-o-1;if(a<e.tickDecimals)return(a?i:i+".")+(""+n).substr(1,e.tickDecimals-a)}return i}),gt.isFunction(n.tickFormatter)&&(t.tickFormatter=function(t,e){return""+n.tickFormatter(t,e)}),null!=n.alignTicksWithAxis){var c=("x"==t.direction?st:lt)[n.alignTicksWithAxis-1];if(c&&c.used&&c!=t){var d=t.tickGenerator(t);if(0<d.length&&(null==n.min&&(t.min=Math.min(t.min,d[0])),null==n.max&&1<d.length&&(t.max=Math.max(t.max,d[d.length-1]))),t.tickGenerator=function(t){var e,n,i=[];for(n=0;n<c.ticks.length;++n)e=(c.ticks[n].v-c.min)/(c.max-c.min),e=t.min+e*(t.max-t.min),i.push(e);return i},!t.mode&&null==n.tickDecimals){var u=Math.max(0,1-Math.floor(Math.log(t.delta)/Math.LN10)),h=t.tickGenerator(t);1<h.length&&/\..*0$/.test((h[1]-h[0]).toFixed(u))||(t.tickDecimals=u)}}}}function k(t){var e,n,i=t.options.ticks,o=[];for(null==i||"number"==typeof i&&0<i?o=t.tickGenerator(t):i&&(o=gt.isFunction(i)?i(t):i),t.ticks=[],e=0;e<o.length;++e){var a=null,r=o[e];"object"==typeof r?(n=+r[0],1<r.length&&(a=r[1])):n=+r,null==a&&(a=t.tickFormatter(n,t)),isNaN(n)||t.ticks.push({v:n,label:a})}}function _(t,e){t.options.autoscaleMargin&&0<e.length&&(null==t.options.min&&(t.min=Math.min(t.min,e[0].v)),null==t.options.max&&1<e.length&&(t.max=Math.max(t.max,e[e.length-1].v)))}function x(){nt.clear(),I(ht.drawBackground,[at]);var t=et.grid;t.show&&t.backgroundColor&&K(),t.show&&!t.aboveData&&S();for(var e=0;e<tt.length;++e)I(ht.drawSeries,[at,tt[e]]),A(tt[e]);I(ht.draw,[at]),t.show&&t.aboveData&&S(),nt.render(),V()}function w(t,e){for(var n,i,o,a,r=O(),s=0;s<r.length;++s)if((n=r[s]).direction==e&&(t[a=e+n.n+"axis"]||1!=n.n||(a=e+"axis"),t[a])){i=t[a].from,o=t[a].to;break}if(t[a]||(n="x"==e?st[0]:lt[0],i=t[e+"1"],o=t[e+"2"]),null!=i&&null!=o&&o<i){var l=i;i=o,o=l}return{from:i,to:o,axis:n}}function K(){at.save(),at.translate(ct.left,ct.top),at.fillStyle=J(et.grid.backgroundColor,ut,0,"rgba(255, 255, 255, 0)"),at.fillRect(0,0,dt,ut),at.restore()}function S(){var t,e,n,i;at.save(),at.translate(ct.left,ct.top);var o=et.grid.markings;if(o)for(gt.isFunction(o)&&((e=ft.getAxes()).xmin=e.xaxis.min,e.xmax=e.xaxis.max,e.ymin=e.yaxis.min,e.ymax=e.yaxis.max,o=o(e)),t=0;t<o.length;++t){var a=o[t],r=w(a,"x"),s=w(a,"y");if(null==r.from&&(r.from=r.axis.min),null==r.to&&(r.to=r.axis.max),null==s.from&&(s.from=s.axis.min),null==s.to&&(s.to=s.axis.max),!(r.to<r.axis.min||r.from>r.axis.max||s.to<s.axis.min||s.from>s.axis.max)){r.from=Math.max(r.from,r.axis.min),r.to=Math.min(r.to,r.axis.max),s.from=Math.max(s.from,s.axis.min),s.to=Math.min(s.to,s.axis.max);var l=r.from===r.to,c=s.from===s.to;if(!l||!c)if(r.from=Math.floor(r.axis.p2c(r.from)),r.to=Math.floor(r.axis.p2c(r.to)),s.from=Math.floor(s.axis.p2c(s.from)),s.to=Math.floor(s.axis.p2c(s.to)),l||c){var d=a.lineWidth||et.grid.markingsLineWidth,u=d%2?.5:0;at.beginPath(),at.strokeStyle=a.color||et.grid.markingsColor,at.lineWidth=d,l?(at.moveTo(r.to+u,s.from),at.lineTo(r.to+u,s.to)):(at.moveTo(r.from,s.to+u),at.lineTo(r.to,s.to+u)),at.stroke()}else at.fillStyle=a.color||et.grid.markingsColor,at.fillRect(r.from,s.to,r.to-r.from,s.from-s.to)}}e=O(),n=et.grid.borderWidth;for(var h=0;h<e.length;++h){var f,p,m,g,v=e[h],E=v.box,T=v.tickLength;if(v.show&&0!=v.ticks.length){for(at.lineWidth=1,"x"==v.direction?(f=0,p="full"==T?"top"==v.position?0:ut:E.top-ct.top+("top"==v.position?E.height:0)):(p=0,f="full"==T?"left"==v.position?0:dt:E.left-ct.left+("left"==v.position?E.width:0)),v.innermost||(at.strokeStyle=v.options.color,at.beginPath(),m=g=0,"x"==v.direction?m=dt+1:g=ut+1,1==at.lineWidth&&("x"==v.direction?p=Math.floor(p)+.5:f=Math.floor(f)+.5),at.moveTo(f,p),at.lineTo(f+m,p+g),at.stroke()),at.strokeStyle=v.options.tickColor,at.beginPath(),t=0;t<v.ticks.length;++t){var b=v.ticks[t].v;m=g=0,isNaN(b)||b<v.min||b>v.max||"full"==T&&("object"==typeof n&&0<n[v.position]||0<n)&&(b==v.min||b==v.max)||("x"==v.direction?(f=v.p2c(b),g="full"==T?-ut:T,"top"==v.position&&(g=-g)):(p=v.p2c(b),m="full"==T?-dt:T,"left"==v.position&&(m=-m)),1==at.lineWidth&&("x"==v.direction?f=Math.floor(f)+.5:p=Math.floor(p)+.5),at.moveTo(f,p),at.lineTo(f+m,p+g))}at.stroke()}}n&&(i=et.grid.borderColor,"object"==typeof n||"object"==typeof i?("object"!=typeof n&&(n={top:n,right:n,bottom:n,left:n}),"object"!=typeof i&&(i={top:i,right:i,bottom:i,left:i}),0<n.top&&(at.strokeStyle=i.top,at.lineWidth=n.top,at.beginPath(),at.moveTo(0-n.left,0-n.top/2),at.lineTo(dt,0-n.top/2),at.stroke()),0<n.right&&(at.strokeStyle=i.right,at.lineWidth=n.right,at.beginPath(),at.moveTo(dt+n.right/2,0-n.top),at.lineTo(dt+n.right/2,ut),at.stroke()),0<n.bottom&&(at.strokeStyle=i.bottom,at.lineWidth=n.bottom,at.beginPath(),at.moveTo(dt+n.right,ut+n.bottom/2),at.lineTo(0,ut+n.bottom/2),at.stroke()),0<n.left&&(at.strokeStyle=i.left,at.lineWidth=n.left,at.beginPath(),at.moveTo(0-n.left/2,ut+n.bottom),at.lineTo(0-n.left/2,0),at.stroke())):(at.lineWidth=n,at.strokeStyle=et.grid.borderColor,at.strokeRect(-n/2,-n/2,dt+n,ut+n))),at.restore()}function N(){gt.each(O(),function(t,e){var n,i,o,a,r,s=e.box,l=e.direction+"Axis "+e.direction+e.n+"Axis",c="flot-"+e.direction+"-axis flot-"+e.direction+e.n+"-axis "+l,d=e.options.font||"flot-tick-label tickLabel";if(nt.removeText(c),e.show&&0!=e.ticks.length)for(var u=0;u<e.ticks.length;++u)!(n=e.ticks[u]).label||n.v<e.min||n.v>e.max||("x"==e.direction?(a="center",i=ct.left+e.p2c(n.v),"bottom"==e.position?o=s.top+s.padding:(o=s.top+s.height-s.padding,r="bottom")):(r="middle",o=ct.top+e.p2c(n.v),"left"==e.position?(i=s.left+s.width-s.padding,a="right"):i=s.left+s.padding),nt.addText(c,i,o,n.label,d,null,null,a,r))})}function A(t){t.lines.show&&M(t),t.bars.show&&P(t),t.points.show&&L(t)}function M(t){function e(t,e,n,i,o){var a=t.points,r=t.pointsize,s=null,l=null;at.beginPath();for(var c=r;c<a.length;c+=r){var d=a[c-r],u=a[c-r+1],h=a[c],f=a[c+1];if(null!=d&&null!=h){if(u<=f&&u<o.min){if(f<o.min)continue;d=(o.min-u)/(f-u)*(h-d)+d,u=o.min}else if(f<=u&&f<o.min){if(u<o.min)continue;h=(o.min-u)/(f-u)*(h-d)+d,f=o.min}if(f<=u&&u>o.max){if(f>o.max)continue;d=(o.max-u)/(f-u)*(h-d)+d,u=o.max}else if(u<=f&&f>o.max){if(u>o.max)continue;h=(o.max-u)/(f-u)*(h-d)+d,f=o.max}if(d<=h&&d<i.min){if(h<i.min)continue;u=(i.min-d)/(h-d)*(f-u)+u,d=i.min}else if(h<=d&&h<i.min){if(d<i.min)continue;f=(i.min-d)/(h-d)*(f-u)+u,h=i.min}if(h<=d&&d>i.max){if(h>i.max)continue;u=(i.max-d)/(h-d)*(f-u)+u,d=i.max}else if(d<=h&&h>i.max){if(d>i.max)continue;f=(i.max-d)/(h-d)*(f-u)+u,h=i.max}(d!=s||u!=l)&&at.moveTo(i.p2c(d)+e,o.p2c(u)+n),s=h,l=f,at.lineTo(i.p2c(h)+e,o.p2c(f)+n)}}at.stroke()}function n(t,e,n){for(var i=t.points,o=t.pointsize,a=Math.min(Math.max(0,n.min),n.max),r=0,s=!1,l=1,c=0,d=0;!(0<o&&r>i.length+o);){var u=i[(r+=o)-o],h=i[r-o+l],f=i[r],p=i[r+l];if(s){if(0<o&&null!=u&&null==f){d=r,o=-o,l=2;continue}if(o<0&&r==c+o){at.fill(),s=!1,l=1,r=c=d+(o=-o);continue}}if(null!=u&&null!=f){if(u<=f&&u<e.min){if(f<e.min)continue;h=(e.min-u)/(f-u)*(p-h)+h,u=e.min}else if(f<=u&&f<e.min){if(u<e.min)continue;p=(e.min-u)/(f-u)*(p-h)+h,f=e.min}if(f<=u&&u>e.max){if(f>e.max)continue;h=(e.max-u)/(f-u)*(p-h)+h,u=e.max}else if(u<=f&&f>e.max){if(u>e.max)continue;p=(e.max-u)/(f-u)*(p-h)+h,f=e.max}if(s||(at.beginPath(),at.moveTo(e.p2c(u),n.p2c(a)),s=!0),h>=n.max&&p>=n.max)at.lineTo(e.p2c(u),n.p2c(n.max)),at.lineTo(e.p2c(f),n.p2c(n.max));else if(h<=n.min&&p<=n.min)at.lineTo(e.p2c(u),n.p2c(n.min)),at.lineTo(e.p2c(f),n.p2c(n.min));else{var m=u,g=f;h<=p&&h<n.min&&p>=n.min?(u=(n.min-h)/(p-h)*(f-u)+u,h=n.min):p<=h&&p<n.min&&h>=n.min&&(f=(n.min-h)/(p-h)*(f-u)+u,p=n.min),p<=h&&h>n.max&&p<=n.max?(u=(n.max-h)/(p-h)*(f-u)+u,h=n.max):h<=p&&p>n.max&&h<=n.max&&(f=(n.max-h)/(p-h)*(f-u)+u,p=n.max),u!=m&&at.lineTo(e.p2c(m),n.p2c(h)),at.lineTo(e.p2c(u),n.p2c(h)),at.lineTo(e.p2c(f),n.p2c(p)),f!=g&&(at.lineTo(e.p2c(f),n.p2c(p)),at.lineTo(e.p2c(g),n.p2c(p)))}}}}at.save(),at.translate(ct.left,ct.top),at.lineJoin="round";var i=t.lines.lineWidth,o=t.shadowSize;if(0<i&&0<o){at.lineWidth=o,at.strokeStyle="rgba(0,0,0,0.1)";var a=Math.PI/18;e(t.datapoints,Math.sin(a)*(i/2+o/2),Math.cos(a)*(i/2+o/2),t.xaxis,t.yaxis),at.lineWidth=o/2,e(t.datapoints,Math.sin(a)*(i/2+o/4),Math.cos(a)*(i/2+o/4),t.xaxis,t.yaxis)}at.lineWidth=i,at.strokeStyle=t.color;var r=B(t.lines,t.color,0,ut);r&&(at.fillStyle=r,n(t.datapoints,t.xaxis,t.yaxis)),0<i&&e(t.datapoints,0,0,t.xaxis,t.yaxis),at.restore()}function L(t){function e(t,e,n,i,o,a,r,s){for(var l=t.points,c=t.pointsize,d=0;d<l.length;d+=c){var u=l[d],h=l[d+1];null==u||u<a.min||u>a.max||h<r.min||h>r.max||(at.beginPath(),u=a.p2c(u),h=r.p2c(h)+i,"circle"==s?at.arc(u,h,e,0,o?Math.PI:2*Math.PI,!1):s(at,u,h,e,o),at.closePath(),n&&(at.fillStyle=n,at.fill()),at.stroke())}}at.save(),at.translate(ct.left,ct.top);var n=t.points.lineWidth,i=t.shadowSize,o=t.points.radius,a=t.points.symbol;if(0==n&&(n=1e-4),0<n&&0<i){var r=i/2;at.lineWidth=r,at.strokeStyle="rgba(0,0,0,0.1)",e(t.datapoints,o,null,r+r/2,!0,t.xaxis,t.yaxis,a),at.strokeStyle="rgba(0,0,0,0.2)",e(t.datapoints,o,null,r/2,!0,t.xaxis,t.yaxis,a)}at.lineWidth=n,at.strokeStyle=t.color,e(t.datapoints,o,B(t.points,t.color),0,!1,t.xaxis,t.yaxis,a),at.restore()}function F(t,e,n,i,o,a,r,s,l,c,d){var u,h,f,p,m,g,v,E,T;c?(E=g=v=!0,m=!1,p=e+i,f=e+o,(h=t)<(u=n)&&(T=h,h=u,u=T,g=!(m=!0))):(m=g=v=!0,E=!1,u=t+i,h=t+o,(p=e)<(f=n)&&(T=p,p=f,f=T,v=!(E=!0))),h<r.min||u>r.max||p<s.min||f>s.max||(u<r.min&&(u=r.min,m=!1),h>r.max&&(h=r.max,g=!1),f<s.min&&(f=s.min,E=!1),p>s.max&&(p=s.max,v=!1),u=r.p2c(u),f=s.p2c(f),h=r.p2c(h),p=s.p2c(p),a&&(l.fillStyle=a(f,p),l.fillRect(u,p,h-u,f-p)),0<d&&(m||g||v||E)&&(l.beginPath(),l.moveTo(u,f),m?l.lineTo(u,p):l.moveTo(u,p),v?l.lineTo(h,p):l.moveTo(h,p),g?l.lineTo(h,f):l.moveTo(h,f),E?l.lineTo(u,f):l.moveTo(u,f),l.stroke()))}function P(c){function t(t,e,n,i,o,a){for(var r=t.points,s=t.pointsize,l=0;l<r.length;l+=s)null!=r[l]&&F(r[l],r[l+1],r[l+2],e,n,i,o,a,at,c.bars.horizontal,c.bars.lineWidth)}var e;switch(at.save(),at.translate(ct.left,ct.top),at.lineWidth=c.bars.lineWidth,at.strokeStyle=c.color,c.bars.align){case"left":e=0;break;case"right":e=-c.bars.barWidth;break;default:e=-c.bars.barWidth/2}var n=c.bars.fill?function(t,e){return B(c.bars,c.color,t,e)}:null;t(c.datapoints,e,e+c.bars.barWidth,n,c.xaxis,c.yaxis),at.restore()}function B(t,e,n,i){var o=t.fill;if(!o)return null;if(t.fillColor)return J(t.fillColor,n,i,e);var a=gt.color.parse(e);return a.a="number"==typeof o?o:.4,a.normalize(),a.toString()}function $(){if(null!=et.legend.container?gt(et.legend.container).html(""):g.find(".legend").remove(),et.legend.show){for(var t,e,n=[],i=[],o=!1,a=et.legend.labelFormatter,r=0;r<tt.length;++r)(t=tt[r]).label&&((e=a?a(t.label,t):t.label)&&i.push({label:e,color:t.color}));if(et.legend.sorted)if(gt.isFunction(et.legend.sorted))i.sort(et.legend.sorted);else if("reverse"==et.legend.sorted)i.reverse();else{var s="descending"!=et.legend.sorted;i.sort(function(t,e){return t.label==e.label?0:t.label<e.label!=s?1:-1})}for(r=0;r<i.length;++r){var l=i[r];r%et.legend.noColumns==0&&(o&&n.push("</tr>"),n.push("<tr>"),o=!0),n.push('<td class="legendColorBox"><div style="border:1px solid '+et.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+l.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+l.label+"</td>")}if(o&&n.push("</tr>"),0!=n.length){var c='<table style="font-size:smaller;color:'+et.grid.color+'">'+n.join("")+"</table>";if(null!=et.legend.container)gt(et.legend.container).html(c);else{var d="",u=et.legend.position,h=et.legend.margin;null==h[0]&&(h=[h,h]),"n"==u.charAt(0)?d+="top:17px;":"s"==u.charAt(0)&&(d+="bottom:"+(h[1]+ct.bottom)+"px;"),"e"==u.charAt(1)?d+="right:"+(h[0]+ct.right)+"px;":"w"==u.charAt(1)&&(d+="left:"+(h[0]+ct.left)+"px;");var f=gt('<div class="legend">'+c.replace('style="','style="position:absolute;'+d+";")+"</div>").appendTo(g);if(0!=et.legend.backgroundOpacity){var p=et.legend.backgroundColor;null==p&&((p=(p=et.grid.backgroundColor)&&"string"==typeof p?gt.color.parse(p):gt.color.extract(f,"background-color")).a=1,p=p.toString());var m=f.children();gt('<div style="position:absolute;width:'+m.width()+"px;height:"+m.height()+"px;"+d+"background-color:"+p+';"> </div>').prependTo(f).css("opacity",et.legend.backgroundOpacity)}}}}}function H(t,e,n){var i,o,a,r=et.grid.mouseActiveRadius,s=r*r+1,l=null;for(i=tt.length-1;0<=i;--i)if(n(tt[i])){var c=tt[i],d=c.xaxis,u=c.yaxis,h=c.datapoints.points,f=d.c2p(t),p=u.c2p(e),m=r/d.scale,g=r/u.scale;if(a=c.datapoints.pointsize,d.options.inverseTransform&&(m=Number.MAX_VALUE),u.options.inverseTransform&&(g=Number.MAX_VALUE),c.lines.show||c.points.show)for(o=0;o<h.length;o+=a){var v=h[o],E=h[o+1];if(null!=v&&!(m<v-f||v-f<-m||g<E-p||E-p<-g)){var T=Math.abs(d.p2c(v)-t),b=Math.abs(u.p2c(E)-e),C=T*T+b*b;C<s&&(s=C,l=[i,o/a])}}if(c.bars.show&&!l){var y,D;switch(c.bars.align){case"left":y=0;break;case"right":y=-c.bars.barWidth;break;default:y=-c.bars.barWidth/2}for(D=y+c.bars.barWidth,o=0;o<h.length;o+=a){v=h[o],E=h[o+1];var I=h[o+2];null!=v&&(tt[i].bars.horizontal?f<=Math.max(I,v)&&f>=Math.min(I,v)&&E+y<=p&&p<=E+D:v+y<=f&&f<=v+D&&p>=Math.min(I,E)&&p<=Math.max(I,E))&&(l=[i,o/a])}}}return l?(i=l[0],o=l[1],a=tt[i].datapoints.pointsize,{datapoint:tt[i].datapoints.points.slice(o*a,(o+1)*a),dataIndex:o,series:tt[i],seriesIndex:i}):null}function z(t){et.grid.hoverable&&j("plothover",t,function(t){return 0!=t.hoverable})}function q(t){et.grid.hoverable&&j("plothover",t,function(){return!1})}function W(t){j("plotclick",t,function(t){return 0!=t.clickable})}function j(t,e,n){var i=ot.offset(),o=e.pageX-i.left-ct.left,a=e.pageY-i.top-ct.top,r=d({left:o,top:a});r.pageX=e.pageX,r.pageY=e.pageY;var s=H(o,a,n);if(s&&(s.pageX=parseInt(s.series.xaxis.p2c(s.datapoint[0])+i.left+ct.left,10),s.pageY=parseInt(s.series.yaxis.p2c(s.datapoint[1])+i.top+ct.top,10)),et.grid.autoHighlight){for(var l=0;l<pt.length;++l){var c=pt[l];c.auto!=t||s&&c.series==s.series&&c.point[0]==s.datapoint[0]&&c.point[1]==s.datapoint[1]||G(c.series,c.point)}s&&Y(s.series,s.datapoint,t)}g.trigger(t,[r,s])}function V(){var t=et.interaction.redrawOverlayInterval;return-1==t?void U():void(mt||(mt=setTimeout(U,t)))}function U(){var t,e;for(mt=null,rt.save(),it.clear(),rt.translate(ct.left,ct.top),t=0;t<pt.length;++t)(e=pt[t]).series.bars.show?Q(e.series,e.point):Z(e.series,e.point);rt.restore(),I(ht.drawOverlay,[rt])}function Y(t,e,n){if("number"==typeof t&&(t=tt[t]),"number"==typeof e){var i=t.datapoints.pointsize;e=t.datapoints.points.slice(i*e,i*(e+1))}var o=X(t,e);-1==o?(pt.push({series:t,point:e,auto:n}),V()):n||(pt[o].auto=!1)}function G(t,e){if(null==t&&null==e)return pt=[],void V();if("number"==typeof t&&(t=tt[t]),"number"==typeof e){var n=t.datapoints.pointsize;e=t.datapoints.points.slice(n*e,n*(e+1))}var i=X(t,e);-1!=i&&(pt.splice(i,1),V())}function X(t,e){for(var n=0;n<pt.length;++n){var i=pt[n];if(i.series==t&&i.point[0]==e[0]&&i.point[1]==e[1])return n}return-1}function Z(t,e){var n=e[0],i=e[1],o=t.xaxis,a=t.yaxis,r="string"==typeof t.highlightColor?t.highlightColor:gt.color.parse(t.color).scale("a",.5).toString();if(!(n<o.min||n>o.max||i<a.min||i>a.max)){var s=t.points.radius+t.points.lineWidth/2;rt.lineWidth=s,rt.strokeStyle=r;var l=1.5*s;n=o.p2c(n),i=a.p2c(i),rt.beginPath(),"circle"==t.points.symbol?rt.arc(n,i,l,0,2*Math.PI,!1):t.points.symbol(rt,n,i,l,!1),rt.closePath(),rt.stroke()}}function Q(t,e){var n,i="string"==typeof t.highlightColor?t.highlightColor:gt.color.parse(t.color).scale("a",.5).toString(),o=i;switch(t.bars.align){case"left":n=0;break;case"right":n=-t.bars.barWidth;break;default:n=-t.bars.barWidth/2}rt.lineWidth=t.bars.lineWidth,rt.strokeStyle=i,F(e[0],e[1],e[2]||0,n,n+t.bars.barWidth,function(){return o},t.xaxis,t.yaxis,rt,t.bars.horizontal,t.bars.lineWidth)}function J(t,e,n,i){if("string"==typeof t)return t;for(var o=at.createLinearGradient(0,n,0,e),a=0,r=t.colors.length;a<r;++a){var s=t.colors[a];if("string"!=typeof s){var l=gt.color.parse(i);null!=s.brightness&&(l=l.scale("rgb",s.brightness)),null!=s.opacity&&(l.a*=s.opacity),s=l.toString()}o.addColorStop(a/(r-1),s)}return o}var tt=[],et={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:!0,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:.85,sorted:null},xaxis:{show:null,position:"bottom",mode:null,font:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null},yaxis:{autoscaleMargin:.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:"left",horizontal:!1,zero:!0},shadowSize:3,highlightColor:null},grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,margin:0,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:10},interaction:{redrawOverlayInterval:1e3/60},hooks:{}},nt=null,it=null,ot=null,at=null,rt=null,st=[],lt=[],ct={left:0,right:0,top:0,bottom:0},dt=0,ut=0,ht={processOptions:[],processRawData:[],processDatapoints:[],processOffset:[],drawBackground:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},ft=this;ft.setData=a,ft.setupGrid=y,ft.draw=x,ft.getPlaceholder=function(){return g},ft.getCanvas=function(){return nt.element},ft.getPlotOffset=function(){return ct},ft.width=function(){return dt},ft.height=function(){return ut},ft.offset=function(){var t=ot.offset();return t.left+=ct.left,t.top+=ct.top,t},ft.getData=function(){return tt},ft.getAxes=function(){var n={};return gt.each(st.concat(lt),function(t,e){e&&(n[e.direction+(1!=e.n?e.n:"")+"axis"]=e)}),n},ft.getXAxes=function(){return st},ft.getYAxes=function(){return lt},ft.c2p=d,ft.p2c=s,ft.getOptions=function(){return et},ft.highlight=Y,ft.unhighlight=G,ft.triggerRedrawOverlay=V,ft.pointOffset=function(t){return{left:parseInt(st[f(t,"x")-1].p2c(+t.x)+ct.left,10),top:parseInt(lt[f(t,"y")-1].p2c(+t.y)+ct.top,10)}},ft.shutdown=m,ft.destroy=function(){m(),g.removeData("plot").empty(),tt=[],st=[],lt=[],pt=[],ft=ht=rt=at=ot=it=nt=et=null},ft.resize=function(){var t=g.width(),e=g.height();nt.resize(t,e),it.resize(t,e)},ft.hooks=ht,n(ft),o(e),u(),a(t),y(),x(),h();var pt=[],mt=null}function Et(t,e){return e*Math.floor(t/e)}var f=Object.prototype.hasOwnProperty;gt.fn.detach||(gt.fn.detach=function(){return this.each(function(){this.parentNode&&this.parentNode.removeChild(this)})}),vt.prototype.resize=function(t,e){if(t<=0||e<=0)throw new Error("Invalid dimensions for plot, width = "+t+", height = "+e);var n=this.element,i=this.context,o=this.pixelRatio;this.width!=t&&(n.width=t*o,n.style.width=t+"px",this.width=t),this.height!=e&&(n.height=e*o,n.style.height=e+"px",this.height=e),i.restore(),i.save(),i.scale(o,o)},vt.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)},vt.prototype.render=function(){var t=this._textCache;for(var e in t)if(f.call(t,e)){var n=this.getTextLayer(e),i=t[e];for(var o in n.hide(),i)if(f.call(i,o)){var a=i[o];for(var r in a)if(f.call(a,r)){for(var s,l=a[r].positions,c=0;s=l[c];c++)s.active?s.rendered||(n.append(s.element),s.rendered=!0):(l.splice(c--,1),s.rendered&&s.element.detach());0==l.length&&delete a[r]}}n.show()}},vt.prototype.getTextLayer=function(t){var e=this.text[t];return null==e&&(null==this.textContainer&&(this.textContainer=gt("<div class='flot-text'></div>").css({position:"absolute",top:0,left:0,bottom:0,right:0,"font-size":"smaller",color:"#545454"}).insertAfter(this.element)),e=this.text[t]=gt("<div></div>").addClass(t).css({position:"absolute",top:0,left:0,bottom:0,right:0}).appendTo(this.textContainer)),e},vt.prototype.getTextInfo=function(t,e,n,i,o){var a,r,s,l;if(e=""+e,a="object"==typeof n?n.style+" "+n.variant+" "+n.weight+" "+n.size+"px/"+n.lineHeight+"px "+n.family:n,null==(r=this._textCache[t])&&(r=this._textCache[t]={}),null==(s=r[a])&&(s=r[a]={}),null==(l=s[e])){var c=gt("<div></div>").html(e).css({position:"absolute","max-width":o,top:-9999}).appendTo(this.getTextLayer(t));"object"==typeof n?c.css({font:a,color:n.color}):"string"==typeof n&&c.addClass(n),l=s[e]={width:c.outerWidth(!0),height:c.outerHeight(!0),element:c,positions:[]},c.detach()}return l},vt.prototype.addText=function(t,e,n,i,o,a,r,s,l){var c=this.getTextInfo(t,i,o,a,r),d=c.positions;"center"==s?e-=c.width/2:"right"==s&&(e-=c.width),"middle"==l?n-=c.height/2:"bottom"==l&&(n-=c.height);for(var u,h=0;u=d[h];h++)if(u.x==e&&u.y==n)return void(u.active=!0);u={active:!0,rendered:!1,element:d.length?c.element.clone():c.element,x:e,y:n},d.push(u),u.element.css({top:Math.round(n),left:Math.round(e),"text-align":s})},vt.prototype.removeText=function(t,e,n,i,o,a){if(null==i){var r=this._textCache[t];if(null!=r)for(var s in r)if(f.call(r,s)){var l=r[s];for(var c in l)if(f.call(l,c))for(var d=l[c].positions,u=0;h=d[u];u++)h.active=!1}}else{var h;for(d=this.getTextInfo(t,i,o,a).positions,u=0;h=d[u];u++)h.x==e&&h.y==n&&(h.active=!1)}},gt.plot=function(t,e,n){return new i(gt(t),e,n,gt.plot.plugins)},gt.plot.version="0.8.3",gt.plot.plugins=[],gt.fn.plot=function(t,e){return this.each(function(){gt.plot(this,t,e)})}}(jQuery),function(O){function t(c){function o(t){D||(D=!0,m=t.getCanvas(),E=O(m).parent(),T=t.getOptions(),t.setData(e(t.getData())))}function e(t){for(var e=0,n=0,i=0,o=T.series.pie.combine.color,a=[],r=0;r<t.length;++r){var s=t[r].data;O.isArray(s)&&1==s.length&&(s=s[0]),O.isArray(s)?!isNaN(parseFloat(s[1]))&&isFinite(s[1])?s[1]=+s[1]:s[1]=0:s=!isNaN(parseFloat(s))&&isFinite(s)?[1,+s]:[1,0],t[r].data=[s]}for(r=0;r<t.length;++r)e+=t[r].data[0][1];for(r=0;r<t.length;++r){(s=t[r].data[0][1])/e<=T.series.pie.combine.threshold&&(n+=s,i++,o||(o=t[r].color))}for(r=0;r<t.length;++r){s=t[r].data[0][1];(i<2||s/e>T.series.pie.combine.threshold)&&a.push(O.extend(t[r],{data:[[1,s]],color:t[r].color,label:t[r].label,angle:s*Math.PI*2/e,percent:s/(e/100)}))}return 1<i&&a.push({data:[[1,n]],color:o,label:T.series.pie.combine.label,angle:n*Math.PI*2/e,percent:n/(e/100)}),a}function n(t,e){function n(){I.clearRect(0,0,g,v),E.children().filter(".pieLabel, .pieLabelBackground").remove()}function i(){var t=T.series.pie.shadow.left,e=T.series.pie.shadow.top,n=10,i=T.series.pie.shadow.alpha,o=1<T.series.pie.radius?T.series.pie.radius:b*T.series.pie.radius;if(!(g/2-t<=o||o*T.series.pie.tilt>=v/2-e||o<=n)){I.save(),I.translate(t,e),I.globalAlpha=i,I.fillStyle="#000",I.translate(C,y),I.scale(1,T.series.pie.tilt);for(var a=1;a<=n;a++)I.beginPath(),I.arc(0,0,o,0,2*Math.PI,!1),I.fill(),o-=a;I.restore()}}function o(){function t(t,e,n){t<=0||isNaN(t)||(n?I.fillStyle=e:(I.strokeStyle=e,I.lineJoin="round"),I.beginPath(),1e-9<Math.abs(t-2*Math.PI)&&I.moveTo(0,0),I.arc(0,0,o,a,a+t/2,!1),I.arc(0,0,o,a+t/2,a+t,!1),I.closePath(),a+=t,n?I.fill():I.stroke())}function e(){function t(t,e,n){if(0==t.data[0][1])return!0;var i,o=T.legend.labelFormatter,a=T.series.pie.label.formatter;i=o?o(t.label,t):t.label,a&&(i=a(i,t));var r=(e+t.angle+e)/2,s=C+Math.round(Math.cos(r)*m),l=y+Math.round(Math.sin(r)*m)*T.series.pie.tilt,c="<span class='pieLabel' id='pieLabel"+n+"' style='position:absolute;top:"+l+"px;left:"+s+"px;'>"+i+"</span>";E.append(c);var d=E.children("#pieLabel"+n),u=l-d.height()/2,h=s-d.width()/2;if(d.css("top",u),d.css("left",h),0<0-u||0<0-h||v-(u+d.height())<0||g-(h+d.width())<0)return!1;if(0!=T.series.pie.label.background.opacity){var f=T.series.pie.label.background.color;null==f&&(f=t.color);var p="top:"+u+"px;left:"+h+"px;";O("<div class='pieLabelBackground' style='position:absolute;width:"+d.width()+"px;height:"+d.height()+"px;"+p+"background-color:"+f+";'></div>").css("opacity",T.series.pie.label.background.opacity).insertBefore(d)}return!0}for(var e=i,m=1<T.series.pie.label.radius?T.series.pie.label.radius:b*T.series.pie.label.radius,n=0;n<r.length;++n){if(r[n].percent>=100*T.series.pie.label.threshold&&!t(r[n],e,n))return!1;e+=r[n].angle}return!0}var i=Math.PI*T.series.pie.startAngle,o=1<T.series.pie.radius?T.series.pie.radius:b*T.series.pie.radius;I.save(),I.translate(C,y),I.scale(1,T.series.pie.tilt),I.save();for(var a=i,n=0;n<r.length;++n)r[n].startAngle=a,t(r[n].angle,r[n].color,!0);if(I.restore(),0<T.series.pie.stroke.width){I.save(),I.lineWidth=T.series.pie.stroke.width,a=i;for(n=0;n<r.length;++n)t(r[n].angle,T.series.pie.stroke.color,!1);I.restore()}return l(I),I.restore(),!T.series.pie.label.show||e()}if(E){var g=t.getPlaceholder().width(),v=t.getPlaceholder().height(),a=E.children().filter(".legend").children().width()||0;I=e,D=!1,b=Math.min(g,v/T.series.pie.tilt)/2,y=v/2+T.series.pie.offset.top,C=g/2,"auto"==T.series.pie.offset.left?(T.legend.position.match("w")?C+=a/2:C-=a/2,C<b?C=b:g-b<C&&(C=g-b)):C+=T.series.pie.offset.left;for(var r=t.getData(),s=0;0<s&&(b*=k),s+=1,n(),T.series.pie.tilt<=.8&&i(),!o()&&s<R;);R<=s&&(n(),E.prepend("<div class='error'>Could not draw pie with labels contained inside canvas</div>")),t.setSeries&&t.insertLegend&&(t.setSeries(r),t.insertLegend())}}function l(t){if(0<T.series.pie.innerRadius){t.save();var e=1<T.series.pie.innerRadius?T.series.pie.innerRadius:b*T.series.pie.innerRadius;t.globalCompositeOperation="destination-out",t.beginPath(),t.fillStyle=T.series.pie.stroke.color,t.arc(0,0,e,0,2*Math.PI,!1),t.fill(),t.closePath(),t.restore(),t.save(),t.beginPath(),t.strokeStyle=T.series.pie.stroke.color,t.arc(0,0,e,0,2*Math.PI,!1),t.stroke(),t.closePath(),t.restore()}}function d(t,e){for(var n=!1,i=-1,o=t.length,a=o-1;++i<o;a=i)(t[i][1]<=e[1]&&e[1]<t[a][1]||t[a][1]<=e[1]&&e[1]<t[i][1])&&e[0]<(t[a][0]-t[i][0])*(e[1]-t[i][1])/(t[a][1]-t[i][1])+t[i][0]&&(n=!n);return n}function s(t,e){for(var n,i,o=c.getData(),a=c.getOptions(),r=1<a.series.pie.radius?a.series.pie.radius:b*a.series.pie.radius,s=0;s<o.length;++s){var l=o[s];if(l.pie.show){if(I.save(),I.beginPath(),I.moveTo(0,0),I.arc(0,0,r,l.startAngle,l.startAngle+l.angle/2,!1),I.arc(0,0,r,l.startAngle+l.angle/2,l.startAngle+l.angle,!1),I.closePath(),n=t-C,i=e-y,I.isPointInPath){if(I.isPointInPath(t-C,e-y))return I.restore(),{datapoint:[l.percent,l.data],dataIndex:0,series:l,seriesIndex:s}}else if(d([[0,0],[r*Math.cos(l.startAngle),r*Math.sin(l.startAngle)],[r*Math.cos(l.startAngle+l.angle/4),r*Math.sin(l.startAngle+l.angle/4)],[r*Math.cos(l.startAngle+l.angle/2),r*Math.sin(l.startAngle+l.angle/2)],[r*Math.cos(l.startAngle+l.angle/1.5),r*Math.sin(l.startAngle+l.angle/1.5)],[r*Math.cos(l.startAngle+l.angle),r*Math.sin(l.startAngle+l.angle)]],[n,i]))return I.restore(),{datapoint:[l.percent,l.data],dataIndex:0,series:l,seriesIndex:s};I.restore()}}return null}function i(t){r("plothover",t)}function a(t){r("plotclick",t)}function r(t,e){var n=c.offset(),i=s(parseInt(e.pageX-n.left),parseInt(e.pageY-n.top));if(T.grid.autoHighlight)for(var o=0;o<g.length;++o){var a=g[o];a.auto!=t||i&&a.series==i.series||h(a.series)}i&&u(i.series,t);var r={pageX:e.pageX,pageY:e.pageY};E.trigger(t,[r,i])}function u(t,e){var n=f(t);-1==n?(g.push({series:t,auto:e}),c.triggerRedrawOverlay()):e||(g[n].auto=!1)}function h(t){null==t&&(g=[],c.triggerRedrawOverlay());var e=f(t);-1!=e&&(g.splice(e,1),c.triggerRedrawOverlay())}function f(t){for(var e=0;e<g.length;++e){if(g[e].series==t)return e}return-1}function p(t,e){function n(t){t.angle<=0||isNaN(t.angle)||(e.fillStyle="rgba(255, 255, 255, "+i.series.pie.highlight.opacity+")",e.beginPath(),1e-9<Math.abs(t.angle-2*Math.PI)&&e.moveTo(0,0),e.arc(0,0,o,t.startAngle,t.startAngle+t.angle/2,!1),e.arc(0,0,o,t.startAngle+t.angle/2,t.startAngle+t.angle,!1),e.closePath(),e.fill())}var i=t.getOptions(),o=1<i.series.pie.radius?i.series.pie.radius:b*i.series.pie.radius;e.save(),e.translate(C,y),e.scale(1,i.series.pie.tilt);for(var a=0;a<g.length;++a)n(g[a].series);l(e),e.restore()}var m=null,E=null,T=null,b=null,C=null,y=null,D=!1,I=null,g=[];c.hooks.processOptions.push(function(t,e){e.series.pie.show&&(e.grid.show=!1,"auto"==e.series.pie.label.show&&(e.legend.show?e.series.pie.label.show=!1:e.series.pie.label.show=!0),"auto"==e.series.pie.radius&&(e.series.pie.label.show?e.series.pie.radius=.75:e.series.pie.radius=1),1<e.series.pie.tilt?e.series.pie.tilt=1:e.series.pie.tilt<0&&(e.series.pie.tilt=0))}),c.hooks.bindEvents.push(function(t,e){var n=t.getOptions();n.series.pie.show&&(n.grid.hoverable&&e.unbind("mousemove").mousemove(i),n.grid.clickable&&e.unbind("click").click(a))}),c.hooks.processDatapoints.push(function(t,e,n,i){t.getOptions().series.pie.show&&o(t,e,n,i)}),c.hooks.drawOverlay.push(function(t,e){t.getOptions().series.pie.show&&p(t,e)}),c.hooks.draw.push(function(t,e){t.getOptions().series.pie.show&&n(t,e)})}var R=10,k=.95,e={series:{pie:{show:!1,radius:"auto",innerRadius:0,startAngle:1.5,tilt:1,shadow:{left:5,top:15,alpha:.02},offset:{top:0,left:"auto"},stroke:{color:"#fff",width:1},label:{show:"auto",formatter:function(t,e){return"<div style='font-size:13px;text-align:center;padding:2px;color:"+e.color+";'>"+t+" "+Math.round(e.percent)+"%</div>"},radius:1,background:{color:null,opacity:0},threshold:0},combine:{threshold:-1,color:null,label:"Other"},highlight:{opacity:.5}}}};O.plot.plugins.push({init:t,options:e,name:"pie",version:"1.1"})}(jQuery),function(){
function t(t){function e(t,e,n){var i=null;if(r(e)&&(d(e),s(t),l(t),c(e),2<=v)){var o=u(e),a=h();"undefined"==typeof C[e.bars.order]&&(f(o)?C[e.bars.order]=-1*p(g,o-1,Math.floor(v/2)-1)-a:C[e.bars.order]=p(g,Math.ceil(v/2),o-2)+a+2*E),i=m(n,e,C[e.bars.order]),n.points=i}return i}function r(t){return null!=t.bars&&t.bars.show&&null!=t.bars.order}function s(t){var e=b?t.getPlaceholder().innerHeight():t.getPlaceholder().innerWidth(),n=o(t.getData(),b?1:0),i=n[1]-n[0];T=i/e}function o(t,e){for(var n=new Array,i=0;i<t.length;i++)n[0]=t[i].data[0]?t[i].data[0][e]:null,n[1]=t[i].data[t[i].data.length-1]?t[i].data[t[i].data.length-1][e]:null;return n}function l(t){g=n(t.getData()),v=g.length}function n(t){for(var e=new Array,n=[],i=0;i<t.length;i++)null!=t[i].bars.order&&t[i].bars.show&&n.indexOf(t[i].bars.order)<0&&(n.push(t[i].bars.order),e.push(t[i]));return e.sort(a)}function a(t,e){var n=t.bars.order,i=e.bars.order;return n<i?-1:i<n?1:0}function c(t){i="undefined"!=typeof t.bars.lineWidth?t.bars.lineWidth:2,E=i*T}function d(t){t.bars.horizontal&&(b=!0)}function u(t){for(var e=0,n=0;n<g.length;++n)if(t==g[n]){e=n;break}return e+1}function h(){var t=0;return v%2!=0&&(t=g[Math.ceil(v/2)].bars.barWidth/2),t}function f(t){return t<=Math.ceil(v/2)}function p(t,e,n){for(var i=0,o=e;o<=n;o++)i+=t[o].bars.barWidth+2*E;return i}function m(t,e,n){for(var i=t.pointsize,o=t.points,a=0,r=b?1:0;r<o.length;r+=i)o[r]+=n,e.data[a][3]=o[r],a++;return o}var g,v,i,E,T=1,b=!1,C={};t.hooks.processDatapoints.push(e)}var e={series:{bars:{order:null}}};jQuery.plot.plugins.push({init:t,options:e,name:"orderBars",version:"0.2"})}(),function(e){function v(t,e){return e*Math.floor(t/e)}function s(t,e,n,i){if("function"==typeof t.strftime)return t.strftime(e);var o,a=function(t,e){return e=""+(null==e?"0":e),1==(t=""+t).length?e+t:t},r=[],s=!1,l=t.getHours(),c=l<12;null==n&&(n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),null==i&&(i=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]),o=12<l?l-12:0==l?12:l;for(var d=0;d<e.length;++d){var u=e.charAt(d);if(s){switch(u){case"a":u=""+i[t.getDay()];break;case"b":u=""+n[t.getMonth()];break;case"d":u=a(t.getDate());break;case"e":u=a(t.getDate()," ");break;case"H":u=a(l);break;case"I":u=a(o);break;case"l":u=a(o," ");break;case"m":u=a(t.getMonth()+1);break;case"M":u=a(t.getMinutes());break;case"S":u=a(t.getSeconds());break;case"y":u=a(t.getFullYear()%100);break;case"Y":u=""+t.getFullYear();break;case"p":u=c?"am":"pm";break;case"P":u=c?"AM":"PM";break;case"w":u=""+t.getDay()}r.push(u),s=!1}else"%"==u?s=!0:r.push(u)}return r.join("")}function i(t){function e(t,e,n,i){t[e]=function(){return n[i].apply(n,arguments)}}var n={date:t};t.strftime!=undefined&&e(n,"strftime",t,"strftime"),e(n,"getTime",t,"getTime"),e(n,"setTime",t,"setTime");for(var i=["Date","Day","FullYear","Hours","Milliseconds","Minutes","Month","Seconds"],o=0;o<i.length;o++)e(n,"get"+i[o],t,"getUTC"+i[o]),e(n,"set"+i[o],t,"setUTC"+i[o]);return n}function E(t,e){if("browser"==e.timezone)return new Date(t);if(e.timezone&&"utc"!=e.timezone){if("undefined"==typeof timezoneJS||"undefined"==typeof timezoneJS.Date)return i(new Date(t));var n=new timezoneJS.Date;return n.setTimezone(e.timezone),n.setTime(t),n}return i(new Date(t))}function t(t){t.hooks.processDatapoints.push(function(t){e.each(t.getAxes(),function(t,e){var g=e.options;"time"==g.mode&&(e.tickGenerator=function(t){var e=[],n=E(t.min,g),i=0;null!=g.minTickSize&&(i="number"==typeof g.tickSize?g.tickSize:g.minTickSize[0]*T[g.minTickSize[1]]);for(var o=0;o<b.length-1&&!(t.delta<(b[o][0]*T[b[o][1]]+b[o+1][0]*T[b[o+1][1]])/2&&b[o][0]*T[b[o][1]]>=i);++o);var a=b[o][0],r=b[o][1];if("year"==r){if(null!=g.minTickSize&&"year"==g.minTickSize[1])a=Math.floor(g.minTickSize[0]);else{var s=Math.pow(10,Math.floor(Math.log(t.delta/T.year)/Math.LN10)),l=t.delta/T.year/s;a=l<1.5?1:l<3?2:l<7.5?5:10,a*=s}a<1&&(a=1)}t.tickSize=g.tickSize||[a,r];var c=t.tickSize[0];r=t.tickSize[1];var d=c*T[r];"second"==r&&n.setSeconds(v(n.getSeconds(),c)),"minute"==r&&n.setMinutes(v(n.getMinutes(),c)),"hour"==r&&n.setHours(v(n.getHours(),c)),"month"==r&&n.setMonth(v(n.getMonth(),c)),"year"==r&&n.setFullYear(v(n.getFullYear(),c)),n.setMilliseconds(0),d>=T.minute&&n.setSeconds(0),d>=T.hour&&n.setMinutes(0),d>=T.day&&n.setHours(0),d>=4*T.day&&n.setDate(1),d>=T.year&&n.setMonth(0);var u,h=0,f=Number.NaN;do{if(u=f,f=n.getTime(),e.push(f),"month"==r)if(c<1){n.setDate(1);var p=n.getTime();n.setMonth(n.getMonth()+1);var m=n.getTime();n.setTime(f+h*T.hour+(m-p)*c),h=n.getHours(),n.setHours(0)}else n.setMonth(n.getMonth()+c);else"year"==r?n.setFullYear(n.getFullYear()+c):n.setTime(f+d)}while(f<t.max&&f!=u);return e},e.tickFormatter=function(t,e){var n=E(t,e.options);if(null!=g.timeformat)return s(n,g.timeformat,g.monthNames,g.dayNames);var i=e.tickSize[0]*T[e.tickSize[1]],o=e.max-e.min,a=g.twelveHourClock?" %p":"",r=g.twelveHourClock?"%I":"%H";return i<T.minute?fmt=r+":%M:%S"+a:i<T.day?o<2*T.day?fmt=r+":%M"+a:fmt="%b %d "+r+":%M"+a:i<T.month?fmt="%b %d":i<T.year?o<T.year?fmt="%b":fmt="%b %Y":fmt="%Y",s(n,fmt,g.monthNames,g.dayNames)})})})}var n={},T={second:1e3,minute:6e4,hour:36e5,day:864e5,month:2592e6,year:525949.2*60*1e3},b=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[.25,"month"],[.5,"month"],[1,"month"],[2,"month"],[3,"month"],[6,"month"],[1,"year"]];e.plot.plugins.push({init:t,options:n,name:"time",version:"1.0"})}(jQuery),Date.CultureInfo={name:"en-US",englishName:"English (United States)",nativeName:"English (United States)",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],abbreviatedDayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],shortestDayNames:["Su","Mo","Tu","We","Th","Fr","Sa"],firstLetterDayNames:["S","M","T","W","T","F","S"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],abbreviatedMonthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],amDesignator:"AM",pmDesignator:"PM",firstDayOfWeek:0,twoDigitYearMax:2029,dateElementOrder:"mdy",formatPatterns:{shortDate:"M/d/yyyy",longDate:"dddd, MMMM dd, yyyy",shortTime:"h:mm tt",longTime:"h:mm:ss tt",fullDateTime:"dddd, MMMM dd, yyyy h:mm:ss tt",sortableDateTime:"yyyy-MM-ddTHH:mm:ss",universalSortableDateTime:"yyyy-MM-dd HH:mm:ssZ",rfc1123:"ddd, dd MMM yyyy HH:mm:ss GMT",monthDay:"MMMM dd",yearMonth:"MMMM, yyyy"},regexPatterns:{jan:/^jan(uary)?/i,feb:/^feb(ruary)?/i,mar:/^mar(ch)?/i,apr:/^apr(il)?/i,may:/^may/i,jun:/^jun(e)?/i,jul:/^jul(y)?/i,aug:/^aug(ust)?/i,sep:/^sep(t(ember)?)?/i,oct:/^oct(ober)?/i,nov:/^nov(ember)?/i,dec:/^dec(ember)?/i,sun:/^su(n(day)?)?/i,mon:/^mo(n(day)?)?/i,tue:/^tu(e(s(day)?)?)?/i,wed:/^we(d(nesday)?)?/i,thu:/^th(u(r(s(day)?)?)?)?/i,fri:/^fr(i(day)?)?/i,sat:/^sa(t(urday)?)?/i,future:/^next/i,past:/^last|past|prev(ious)?/i,add:/^(\+|after|from)/i,subtract:/^(\-|before|ago)/i,yesterday:/^yesterday/i,today:/^t(oday)?/i,tomorrow:/^tomorrow/i,now:/^n(ow)?/i,millisecond:/^ms|milli(second)?s?/i,second:/^sec(ond)?s?/i,minute:/^min(ute)?s?/i,hour:/^h(ou)?rs?/i,week:/^w(ee)?k/i,month:/^m(o(nth)?s?)?/i,day:/^d(ays?)?/i,year:/^y((ea)?rs?)?/i,shortMeridian:/^(a|p)/i,longMeridian:/^(a\.?m?\.?|p\.?m?\.?)/i,timezone:/^((e(s|d)t|c(s|d)t|m(s|d)t|p(s|d)t)|((gmt)?\s*(\+|\-)\s*\d\d\d\d?)|gmt)/i,ordinalSuffix:/^\s*(st|nd|rd|th)/i,timeContext:/^\s*(\:|a|p)/i},abbreviatedTimeZoneStandard:{GMT:"-000",EST:"-0400",CST:"-0500",MST:"-0600",PST:"-0700"},abbreviatedTimeZoneDST:{GMT:"-000",EDT:"-0500",CDT:"-0600",MDT:"-0700",PDT:"-0800"}},Date.getMonthNumberFromName=function(t){for(var e=Date.CultureInfo.monthNames,n=Date.CultureInfo.abbreviatedMonthNames,i=t.toLowerCase(),o=0;o<e.length;o++)if(e[o].toLowerCase()==i||n[o].toLowerCase()==i)return o;return-1},Date.getDayNumberFromName=function(t){for(var e=Date.CultureInfo.dayNames,n=Date.CultureInfo.abbreviatedDayNames,i=(Date.CultureInfo.shortestDayNames,t.toLowerCase()),o=0;o<e.length;o++)if(e[o].toLowerCase()==i||n[o].toLowerCase()==i)return o;return-1},Date.isLeapYear=function(t){return t%4==0&&t%100!=0||t%400==0},Date.getDaysInMonth=function(t,e){return[31,Date.isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},Date.getTimezoneOffset=function(t,e){return e?Date.CultureInfo.abbreviatedTimeZoneDST[t.toUpperCase()]:Date.CultureInfo.abbreviatedTimeZoneStandard[t.toUpperCase()]},Date.getTimezoneAbbreviation=function(t,e){var n,i=e?Date.CultureInfo.abbreviatedTimeZoneDST:Date.CultureInfo.abbreviatedTimeZoneStandard;for(n in i)if(i[n]===t)return n;return null},Date.prototype.clone=function(){return new Date(this.getTime())},Date.prototype.compareTo=function(t){if(isNaN(this))throw new Error(this);if(t instanceof Date&&!isNaN(t))return t<this?1:this<t?-1:0;throw new TypeError(t)},Date.prototype.equals=function(t){return 0===this.compareTo(t)},Date.prototype.between=function(t,e){var n=this.getTime();return n>=t.getTime()&&n<=e.getTime()},Date.prototype.addMilliseconds=function(t){return this.setMilliseconds(this.getMilliseconds()+t),this},Date.prototype.addSeconds=function(t){return this.addMilliseconds(1e3*t)},Date.prototype.addMinutes=function(t){return this.addMilliseconds(6e4*t)},Date.prototype.addHours=function(t){return this.addMilliseconds(36e5*t)},Date.prototype.addDays=function(t){return this.addMilliseconds(864e5*t)},Date.prototype.addWeeks=function(t){return this.addMilliseconds(6048e5*t)},Date.prototype.addMonths=function(t){var e=this.getDate();return this.setDate(1),this.setMonth(this.getMonth()+t),this.setDate(Math.min(e,this.getDaysInMonth())),this},Date.prototype.addYears=function(t){return this.addMonths(12*t)},Date.prototype.add=function(t){if("number"==typeof t)return this._orient=t,this;var e=t;return(e.millisecond||e.milliseconds)&&this.addMilliseconds(e.millisecond||e.milliseconds),(e.second||e.seconds)&&this.addSeconds(e.second||e.seconds),(e.minute||e.minutes)&&this.addMinutes(e.minute||e.minutes),(e.hour||e.hours)&&this.addHours(e.hour||e.hours),(e.month||e.months)&&this.addMonths(e.month||e.months),(e.year||e.years)&&this.addYears(e.year||e.years),(e.day||e.days)&&this.addDays(e.day||e.days),this},Date._validate=function(t,e,n,i){if("number"!=typeof t)throw new TypeError(t+" is not a Number.");if(t<e||n<t)throw new RangeError(t+" is not a valid value for "+i+".");return!0},Date.validateMillisecond=function(t){return Date._validate(t,0,999,"milliseconds")},Date.validateSecond=function(t){return Date._validate(t,0,59,"seconds")},Date.validateMinute=function(t){return Date._validate(t,0,59,"minutes")},Date.validateHour=function(t){return Date._validate(t,0,23,"hours")},Date.validateDay=function(t,e,n){return Date._validate(t,1,Date.getDaysInMonth(e,n),"days")},Date.validateMonth=function(t){return Date._validate(t,0,11,"months")},Date.validateYear=function(t){return Date._validate(t,1,9999,"seconds")},Date.prototype.set=function(t){var e=t;return e.millisecond||0===e.millisecond||(e.millisecond=-1),e.second||0===e.second||(e.second=-1),e.minute||0===e.minute||(e.minute=-1),e.hour||0===e.hour||(e.hour=-1),e.day||0===e.day||(e.day=-1),e.month||0===e.month||(e.month=-1),e.year||0===e.year||(e.year=-1),-1!=e.millisecond&&Date.validateMillisecond(e.millisecond)&&this.addMilliseconds(e.millisecond-this.getMilliseconds()),-1!=e.second&&Date.validateSecond(e.second)&&this.addSeconds(e.second-this.getSeconds()),-1!=e.minute&&Date.validateMinute(e.minute)&&this.addMinutes(e.minute-this.getMinutes()),-1!=e.hour&&Date.validateHour(e.hour)&&this.addHours(e.hour-this.getHours()),-1!==e.month&&Date.validateMonth(e.month)&&this.addMonths(e.month-this.getMonth()),-1!=e.year&&Date.validateYear(e.year)&&this.addYears(e.year-this.getFullYear()),-1!=e.day&&Date.validateDay(e.day,this.getFullYear(),this.getMonth())&&this.addDays(e.day-this.getDate()),e.timezone&&this.setTimezone(e.timezone),e.timezoneOffset&&this.setTimezoneOffset(e.timezoneOffset),this},Date.prototype.clearTime=function(){return this.setHours(0),this.setMinutes(0),this.setSeconds(0),this.setMilliseconds(0),this},Date.prototype.isLeapYear=function(){var t=this.getFullYear();return t%4==0&&t%100!=0||t%400==0},Date.prototype.isWeekday=function(){return!(this.is().sat()||this.is().sun())},Date.prototype.getDaysInMonth=function(){return Date.getDaysInMonth(this.getFullYear(),this.getMonth())},Date.prototype.moveToFirstDayOfMonth=function(){return this.set({day:1})},Date.prototype.moveToLastDayOfMonth=function(){return this.set({day:this.getDaysInMonth()})},Date.prototype.moveToDayOfWeek=function(t,e){var n=(t-this.getDay()+7*(e||1))%7;return this.addDays(0===n?n+=7*(e||1):n)},Date.prototype.moveToMonth=function(t,e){var n=(t-this.getMonth()+12*(e||1))%12;return this.addMonths(0===n?n+=12*(e||1):n)},Date.prototype.getDayOfYear=function(){return Math.floor((this-new Date(this.getFullYear(),0,1))/864e5)},Date.prototype.getWeekOfYear=function(t){var e=this.getFullYear(),n=this.getMonth(),i=this.getDate(),o=t||Date.CultureInfo.firstDayOfWeek,a=8-new Date(e,0,1).getDay();8==a&&(a=1);var r=(Date.UTC(e,n,i,0,0,0)-Date.UTC(e,0,1,0,0,0))/864e5+1,s=Math.floor((r-a+7)/7);if(s===o){e--;var l=8-new Date(e,0,1).getDay();s=2==l||8==l?53:52}return s},Date.prototype.isDST=function(){return console.log("isDST"),"D"==this.toString().match(/(E|C|M|P)(S|D)T/)[2]},Date.prototype.getTimezone=function(){return Date.getTimezoneAbbreviation(this.getUTCOffset,this.isDST())},Date.prototype.setTimezoneOffset=function(t){var e=this.getTimezoneOffset(),n=-6*Number(t)/10;return this.addMinutes(n-e),this},Date.prototype.setTimezone=function(t){return this.setTimezoneOffset(Date.getTimezoneOffset(t))},Date.prototype.getUTCOffset=function(){var t,e=-10*this.getTimezoneOffset()/6;return e<0?(t=(e-1e4).toString())[0]+t.substr(2):"+"+(t=(e+1e4).toString()).substr(1)},Date.prototype.getDayName=function(t){return t?Date.CultureInfo.abbreviatedDayNames[this.getDay()]:Date.CultureInfo.dayNames[this.getDay()]},Date.prototype.getMonthName=function(t){return t?Date.CultureInfo.abbreviatedMonthNames[this.getMonth()]:Date.CultureInfo.monthNames[this.getMonth()]},Date.prototype._toString=Date.prototype.toString,Date.prototype.toString=function(t){var e=this,n=function n(t){return 1==t.toString().length?"0"+t:t};return t?t.replace(/dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?/g,function(t){switch(t){case"hh":return n(e.getHours()<13?e.getHours():e.getHours()-12);case"h":return e.getHours()<13?e.getHours():e.getHours()-12;case"HH":return n(e.getHours());case"H":return e.getHours();case"mm":return n(e.getMinutes());case"m":return e.getMinutes();case"ss":return n(e.getSeconds());case"s":return e.getSeconds();case"yyyy":return e.getFullYear();case"yy":return e.getFullYear().toString().substring(2,4);case"dddd":return e.getDayName();case"ddd":return e.getDayName(!0);case"dd":return n(e.getDate());case"d":return e.getDate().toString();case"MMMM":return e.getMonthName();case"MMM":return e.getMonthName(!0);case"MM":return n(e.getMonth()+1);case"M":return e.getMonth()+1;case"t":return e.getHours()<12?Date.CultureInfo.amDesignator.substring(0,1):Date.CultureInfo.pmDesignator.substring(0,1);case"tt":return e.getHours()<12?Date.CultureInfo.amDesignator:Date.CultureInfo.pmDesignator;case"zzz":case"zz":case"z":return""}}):this._toString()},Date.now=function(){return new Date},Date.today=function(){return Date.now().clearTime()},Date.prototype._orient=1,Date.prototype.next=function(){return this._orient=1,this},Date.prototype.last=Date.prototype.prev=Date.prototype.previous=function(){return this._orient=-1,this},Date.prototype._is=!1,Date.prototype.is=function(){return this._is=!0,this},Number.prototype._dateElement="day",Number.prototype.fromNow=function(){var t={};return t[this._dateElement]=this,Date.now().add(t)},Number.prototype.ago=function(){var t={};return t[this._dateElement]=-1*this,Date.now().add(t)},function(){for(var t,e=Date.prototype,n=Number.prototype,i="sunday monday tuesday wednesday thursday friday saturday".split(/\s/),o="january february march april may june july august september october november december".split(/\s/),a="Millisecond Second Minute Hour Day Week Month Year".split(/\s/),r=function(t){return function(){return this._is?(this._is=!1,this.getDay()==t):this.moveToDayOfWeek(t,this._orient)}},s=0;s<i.length;s++)e[i[s]]=e[i[s].substring(0,3)]=r(s);for(var l=function(t){return function(){return this._is?(this._is=!1,this.getMonth()===t):this.moveToMonth(t,this._orient)}},c=0;c<o.length;c++)e[o[c]]=e[o[c].substring(0,3)]=l(c);for(var d=function(t){return function(){return"s"!=t.substring(t.length-1)&&(t+="s"),this["add"+t](this._orient)}},u=function(t){return function(){return this._dateElement=t,this}},h=0;h<a.length;h++)e[t=a[h].toLowerCase()]=e[t+"s"]=d(a[h]),n[t]=n[t+"s"]=u(t)}(),Date.prototype.toJSONString=function(){return this.toString("yyyy-MM-ddThh:mm:ssZ")},Date.prototype.toShortDateString=function(){return this.toString(Date.CultureInfo.formatPatterns.shortDatePattern)},Date.prototype.toLongDateString=function(){return this.toString(Date.CultureInfo.formatPatterns.longDatePattern)},Date.prototype.toShortTimeString=function(){return this.toString(Date.CultureInfo.formatPatterns.shortTimePattern)},Date.prototype.toLongTimeString=function(){return this.toString(Date.CultureInfo.formatPatterns.longTimePattern)},Date.prototype.getOrdinal=function(){switch(this.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}},function(){Date.Parsing={Exception:function(t){this.message="Parse error at '"+t.substring(0,10)+" ...'"}};for(var g=Date.Parsing,v=g.Operators={rtoken:function(n){return function(t){var e=t.match(n);if(e)return[e[0],t.substring(e[0].length)];throw new g.Exception(t)}},token:function(){return function(t){return v.rtoken(new RegExp("^s*"+t+"s*"))(t)}},stoken:function(t){return v.rtoken(new RegExp("^"+t))},until:function(o){return function(t){for(var e=[],n=null;t.length;){try{n=o.call(this,t)}catch(i){e.push(n[0]),t=n[1];continue}break}return[e,t]}},many:function(o){return function(t){for(var e=[],n=null;t.length;){try{n=o.call(this,t)}catch(i){return[e,t]}e.push(n[0]),t=n[1]}return[e,t]}},optional:function(i){return function(t){var e=null;try{e=i.call(this,t)}catch(n){return[null,t]}return[e[0],e[1]]}},not:function(n){return function(t){try{n.call(this,t)}catch(e){return[null,t]}throw new g.Exception(t)}},ignore:function(e){return e?function(t){return[null,e.call(this,t)[1]]}:null},product:function(t){for(var e=t,n=Array.prototype.slice.call(arguments,1),i=[],o=0;o<e.length;o++)i.push(v.each(e[o],n));return i},cache:function(n){var i={},o=null;return function(t){try{o=i[t]=i[t]||n.call(this,t)}catch(e){o=i[t]=e}if(o instanceof g.Exception)throw o;return o}},any:function(){var o=arguments;return function(t){for(var e=null,n=0;n<o.length;n++)if(null!=o[n]){try{e=o[n].call(this,t)}catch(i){e=null}if(e)return e}throw new g.Exception(t)}},each:function(){var a=arguments;return function(t){for(var e=[],n=null,i=0;i<a.length;i++)if(null!=a[i]){try{n=a[i].call(this,t)}catch(o){throw new g.Exception(t)}e.push(n[0]),t=n[1]}return[e,t]}},all:function(){var t=arguments,e=e;return e.each(e.optional(t))},sequence:function(l,c,d){return c=c||v.rtoken(/^\s*/),d=d||null,1==l.length?l[0]:function(t){for(var e=null,n=null,i=[],o=0;o<l.length;o++){try{e=l[o].call(this,t)}catch(a){break}i.push(e[0]);try{n=c.call(this,e[1])}catch(r){n=null;break}t=n[1]}if(!e)throw new g.Exception(t);if(n)throw new g.Exception(n[1]);if(d)try{e=d.call(this,e[1])}catch(s){throw new g.Exception(e[1])}return[i,e?e[1]:t]}},between:function(t,e,n){n=n||t;var i=v.each(v.ignore(t),e,v.ignore(n));return function(t){var e=i.call(this,t);return[[e[0][0],r[0][2]],e[1]]}},list:function(t,e,n){return e=e||v.rtoken(/^\s*/),n=n||null,t instanceof Array?v.each(v.product(t.slice(0,-1),v.ignore(e)),t.slice(-1),v.ignore(n)):v.each(v.many(v.each(t,v.ignore(e))),px,v.ignore(n))},set:function(f,p,m){return p=p||v.rtoken(/^\s*/),m=m||null,function(t){for(var e=null,n=null,i=null,o=null,a=[[],t],r=!1,s=0;s<f.length;s++){e=n=i=null,r=1==f.length;try{e=f[s].call(this,t)}catch(d){continue}if(o=[[e[0]],e[1]],0<e[1].length&&!r)try{i=p.call(this,e[1])}catch(u){r=!0}else r=!0;if(r||0!==i[1].length||(r=!0),!r){for(var l=[],c=0;c<f.length;c++)s!=c&&l.push(f[c]);0<(n=v.set(l,p).call(this,i[1]))[0].length&&(o[0]=o[0].concat(n[0]),o[1]=n[1])}if(o[1].length<a[1].length&&(a=o),0===a[1].length)break}if(0===a[0].length)return a;if(m){try{i=m.call(this,a[1])}catch(h){throw new g.Exception(a[1])}a[1]=i[1]}return a}},forward:function(e,n){return function(t){return e[n].call(this,t)}},replace:function(n,i){return function(t){var e=n.call(this,t);return[i,e[1]]}},process:function(n,i){return function(t){var e=n.call(this,t);return[i.call(this,e[0]),e[1]]}},min:function(n,i){return function(t){var e=i.call(this,t);if(e[0].length<n)throw new g.Exception(t);return e}}},t=function(a){return function(t){var e=null,n=[];if(1<arguments.length?e=Array.prototype.slice.call(arguments):t instanceof Array&&(e=t),!e)return a.apply(null,arguments);for(var i=0,o=e.shift();i<o.length;i++)return e.unshift(o[i]),n.push(a.apply(null,e)),e.shift(),n}},e="optional not ignore cache".split(/\s/),n=0;n<e.length;n++)v[e[n]]=t(v[e[n]]);for(var i=function(e){return function(t){return t instanceof Array?e.apply(null,t):e.apply(null,arguments)}},o="each any all".split(/\s/),a=0;a<o.length;a++)v[o[a]]=i(v[o[a]])}(),function(){var r=function(t){for(var e=[],n=0;n<t.length;n++)t[n]instanceof Array?e=e.concat(r(t[n])):t[n]&&e.push(t[n]);return e};Date.Grammar={},Date.Translator={hour:function(t){return function(){this.hour=Number(t)}},minute:function(t){return function(){this.minute=Number(t)}},second:function(t){return function(){this.second=Number(t)}},meridian:function(t){return function(){this.meridian=t.slice(0,1).toLowerCase()}},timezone:function(e){return function(){var t=e.replace(/[^\d\+\-]/g,"");t.length?this.timezoneOffset=Number(t):this.timezone=e.toLowerCase()}},day:function(t){var e=t[0];return function(){this.day=Number(e.match(/\d+/)[0])}},month:function(t){return function(){this.month=3==t.length?Date.getMonthNumberFromName(t):Number(t)-1}},year:function(e){return function(){var t=Number(e);this.year=2<e.length?t:t+(t+2e3<Date.CultureInfo.twoDigitYearMax?2e3:1900)}},rday:function(t){return function(){switch(t){case"yesterday":this.days=-1;break;case"tomorrow":this.days=1;break;case"today":this.days=0;break;case"now":this.days=0,this.now=!0}}},finishExact:function(t){t=t instanceof Array?t:[t];var e=new Date;this.year=e.getFullYear(),this.month=e.getMonth(),this.day=1,this.hour=0,this.minute=0;for(var n=this.second=0;n<t.length;n++)t[n]&&t[n].call(this);if(this.hour="p"==this.meridian&&this.hour<13?this.hour+12:this.hour,this.day>Date.getDaysInMonth(this.year,this.month))throw new RangeError(this.day+" is not a valid value for days.");var i=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second);return this.timezone?i.set({timezone:this.timezone}):this.timezoneOffset&&i.set({timezoneOffset:this.timezoneOffset}),i},finish:function(t){if(0===(t=t instanceof Array?r(t):[t]).length)return null;for(var e=0;e<t.length;e++)"function"==typeof t[e]&&t[e].call(this);if(this.now)return new Date;var n,i,o,a=Date.today();return!(null==this.days&&!this.orient&&!this.operator)?(o="past"==this.orient||"subtract"==this.operator?-1:1,this.weekday&&(this.unit="day",n=Date.getDayNumberFromName(this.weekday)-a.getDay(),i=7,this.days=n?(n+o*i)%i:o*i),this.month&&(this.unit="month",n=this.month-a.getMonth(),i=12,this.months=n?(n+o*i)%i:o*i,this.month=null),this.unit||(this.unit="day"),null!=this[this.unit+"s"]&&null==this.operator||(this.value||(this.value=1),"week"==this.unit&&(this.unit="day",this.value=7*this.value),this[this.unit+"s"]=this.value*o),a.add(this)):(this.meridian&&this.hour&&(this.hour=this.hour<13&&"p"==this.meridian?this.hour+12:this.hour),this.weekday&&!this.day&&(this.day=a.addDays(Date.getDayNumberFromName(this.weekday)-a.getDay()).getDate()),this.month&&!this.day&&(this.day=1),a.set(this))}};var t,s=Date.Parsing.Operators,i=Date.Grammar,e=Date.Translator;i.datePartDelimiter=s.rtoken(/^([\s\-\.\,\/\x27]+)/),i.timePartDelimiter=s.stoken(":"),i.whiteSpace=s.rtoken(/^\s*/),i.generalDelimiter=s.rtoken(/^(([\s\,]|at|on)+)/);var l={};i.ctoken=function(t){var e=l[t];if(!e){for(var n=Date.CultureInfo.regexPatterns,i=t.split(/\s+/),o=[],a=0;a<i.length;a++)o.push(s.replace(s.rtoken(n[i[a]]),i[a]));e=l[t]=s.any.apply(null,o)}return e},i.ctoken2=function(t){return s.rtoken(Date.CultureInfo.regexPatterns[t])},i.h=s.cache(s.process(s.rtoken(/^(0[0-9]|1[0-2]|[1-9])/),e.hour)),i.hh=s.cache(s.process(s.rtoken(/^(0[0-9]|1[0-2])/),e.hour)),i.H=s.cache(s.process(s.rtoken(/^([0-1][0-9]|2[0-3]|[0-9])/),e.hour)),i.HH=s.cache(s.process(s.rtoken(/^([0-1][0-9]|2[0-3])/),e.hour)),i.m=s.cache(s.process(s.rtoken(/^([0-5][0-9]|[0-9])/),e.minute)),i.mm=s.cache(s.process(s.rtoken(/^[0-5][0-9]/),e.minute)),i.s=s.cache(s.process(s.rtoken(/^([0-5][0-9]|[0-9])/),e.second)),i.ss=s.cache(s.process(s.rtoken(/^[0-5][0-9]/),e.second)),i.hms=s.cache(s.sequence([i.H,i.mm,i.ss],i.timePartDelimiter)),i.t=s.cache(s.process(i.ctoken2("shortMeridian"),e.meridian)),i.tt=s.cache(s.process(i.ctoken2("longMeridian"),e.meridian)),i.z=s.cache(s.process(s.rtoken(/^(\+|\-)?\s*\d\d\d\d?/),e.timezone)),i.zz=s.cache(s.process(s.rtoken(/^(\+|\-)\s*\d\d\d\d/),e.timezone)),i.zzz=s.cache(s.process(i.ctoken2("timezone"),e.timezone)),i.timeSuffix=s.each(s.ignore(i.whiteSpace),s.set([i.tt,i.zzz])),i.time=s.each(s.optional(s.ignore(s.stoken("T"))),i.hms,i.timeSuffix),i.d=s.cache(s.process(s.each(s.rtoken(/^([0-2]\d|3[0-1]|\d)/),s.optional(i.ctoken2("ordinalSuffix"))),e.day)),i.dd=s.cache(s.process(s.each(s.rtoken(/^([0-2]\d|3[0-1])/),s.optional(i.ctoken2("ordinalSuffix"))),e.day)),i.ddd=i.dddd=s.cache(s.process(i.ctoken("sun mon tue wed thu fri sat"),function(t){return function(){this.weekday=t}})),i.M=s.cache(s.process(s.rtoken(/^(1[0-2]|0\d|\d)/),e.month)),i.MM=s.cache(s.process(s.rtoken(/^(1[0-2]|0\d)/),e.month)),i.MMM=i.MMMM=s.cache(s.process(i.ctoken("jan feb mar apr may jun jul aug sep oct nov dec"),e.month)),i.y=s.cache(s.process(s.rtoken(/^(\d\d?)/),e.year)),i.yy=s.cache(s.process(s.rtoken(/^(\d\d)/),e.year)),i.yyy=s.cache(s.process(s.rtoken(/^(\d\d?\d?\d?)/),e.year)),i.yyyy=s.cache(s.process(s.rtoken(/^(\d\d\d\d)/),e.year)),t=function(){return s.each(s.any.apply(null,arguments),s.not(i.ctoken2("timeContext")))},i.day=t(i.d,i.dd),i.month=t(i.M,i.MMM),i.year=t(i.yyyy,i.yy),i.orientation=s.process(i.ctoken("past future"),function(t){return function(){this.orient=t}}),i.operator=s.process(i.ctoken("add subtract"),function(t){return function(){this.operator=t}}),i.rday=s.process(i.ctoken("yesterday tomorrow today now"),e.rday),i.unit=s.process(i.ctoken("minute hour day week month year"),function(t){return function(){this.unit=t}}),i.value=s.process(s.rtoken(/^\d\d?(st|nd|rd|th)?/),function(t){return function(){this.value=t.replace(/\D/g,"")}}),i.expression=s.set([i.rday,i.operator,i.value,i.unit,i.orientation,i.ddd,i.MMM]),t=function(){return s.set(arguments,i.datePartDelimiter)},i.mdy=t(i.ddd,i.month,i.day,i.year),i.ymd=t(i.ddd,i.year,i.month,i.day),i.dmy=t(i.ddd,i.day,i.month,i.year),i.date=function(t){return(i[Date.CultureInfo.dateElementOrder]||i.mdy).call(this,t)},i.format=s.process(s.many(s.any(s.process(s.rtoken(/^(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?)/),function(t){if(i[t])return i[t];throw Date.Parsing.Exception(t)}),s.process(s.rtoken(/^[^dMyhHmstz]+/),function(t){return s.ignore(s.stoken(t))}))),function(t){return s.process(s.each.apply(null,t),e.finishExact)});var n={},o=function(t){return n[t]=n[t]||i.format(t)[0]};i.formats=function(t){if(t instanceof Array){for(var e=[],n=0;n<t.length;n++)e.push(o(t[n]));return s.any.apply(null,e)}return o(t)},i._formats=i.formats(["yyyy-MM-ddTHH:mm:ss","ddd, MMM dd, yyyy H:mm:ss tt","ddd MMM d yyyy HH:mm:ss zzz","d"]),i._start=s.process(s.set([i.date,i.time,i.expression],i.generalDelimiter,i.whiteSpace),e.finish),i.start=function(t){try{var e=i._formats.call({},t);if(0===e[1].length)return e}catch(n){}return i._start.call({},t)}}(),Date._parse=Date.parse,Date.parse=function(t){var e=null;if(!t)return null;try{e=Date.Grammar.start.call({},t)}catch(n){return null}return 0===e[1].length?e[0]:null},Date.getParseFunction=function(t){var i=Date.Grammar.formats(t);return function(t){var e=null;try{e=i.call({},t)}catch(n){return null}return 0===e[1].length?e[0]:null}},Date.parseExact=function(t,e){return Date.getParseFunction(e)(t)},function(f){"use strict";function p(t,e,n,i,o,a,r){var s,l,c,d=Math.pow,u=Math.sqrt;return[n+(l=r*(s=u(d(n-t,2)+d(i-e,2)))/(s+u(d(o-n,2)+d(a-i,2))))*(t-o),i+l*(e-a),n-(c=r-l)*(t-o),i-c*(e-a)]}function m(t,e,n,i,o){var a=f.color.parse(o);a.a="number"==typeof i?i:.3,a.normalize(),a=a.toString(),e.beginPath(),e.moveTo(t[0][0],t[0][1]);for(var r=t.length,s=0;s<r;s++)e[t[s][3]].apply(e,t[s][2]);e.stroke(),e.lineWidth=0,e.lineTo(t[r-1][0],n),e.lineTo(t[0][0],n),e.closePath(),!1!==i&&(e.fillStyle=a,e.fill())}function g(t,e,n,i){(void 0===e||"bezier"!==e&&"quadratic"!==e)&&(e="quadratic"),e+="CurveTo",0==v.length?v.push([n[0],n[1],i.concat(n.slice(2)),e]):"quadraticCurveTo"==e&&2==n.length?(i=i.slice(0,2).concat(n),v.push([n[0],n[1],i,e])):v.push([n[2],n[3],i.concat(n.slice(2)),e])}function e(t,e,n){if(!0===n.splines.show){var i,o,a,r=[],s=n.splines.tension||.5,l=n.datapoints.points,c=n.datapoints.pointsize,d=t.getPlotOffset(),u=l.length,h=[];if(v=[],u/c<4)f.extend(n.lines,n.splines);else{for(i=0;i<u;i+=c)o=l[i],a=l[i+1],null==o||o<n.xaxis.min||o>n.xaxis.max||a<n.yaxis.min||a>n.yaxis.max||h.push(n.xaxis.p2c(o)+d.left,n.yaxis.p2c(a)+d.top);for(u=h.length,i=0;i<u-2;i+=2)r=r.concat(p.apply(this,h.slice(i,i+6).concat([s])));for(e.save(),e.strokeStyle=n.color,e.lineWidth=n.splines.lineWidth,g(e,"quadratic",h.slice(0,4),r.slice(0,2)),i=2;i<u-3;i+=2)g(e,"bezier",h.slice(i,i+4),r.slice(2*i-2,2*i+2));g(e,"quadratic",h.slice(u-2,u),[r[2*u-10],r[2*u-9],h[u-4],h[u-3]]),m(v,e,t.height()+10,n.splines.fill,n.color),e.restore()}}}var v=[];f.plot.plugins.push({init:function(t){t.hooks.drawSeries.push(e)},options:{series:{splines:{show:!1,lineWidth:2,tension:.5,fill:!1}}},name:"spline",version:"0.8.2"})}(jQuery),function(){function t(t){function R(t,e){for(var n=null,i=0;i<e.length&&t!=e[i];++i)e[i].stack==t.stack&&(n=e[i]);return n}function e(t,e,n){if(null!=e.stack&&!1!==e.stack){var i=R(e,t.getData());if(i){for(var o,a,r,s,l,c,d,u,h=n.pointsize,f=n.points,p=i.datapoints.pointsize,m=i.datapoints.points,g=[],v=e.lines.show,E=e.bars.horizontal,T=2<h&&(E?n.format[2].x:n.format[2].y),b=v&&e.lines.steps,C=!0,y=E?1:0,D=E?0:1,I=0,O=0;!(I>=f.length);){if(d=g.length,null==f[I]){for(u=0;u<h;++u)g.push(f[I+u]);I+=h}else if(O>=m.length){if(!v)for(u=0;u<h;++u)g.push(f[I+u]);I+=h}else if(null==m[O]){for(u=0;u<h;++u)g.push(null);C=!0,O+=p}else{if(o=f[I+y],a=f[I+D],s=m[O+y],l=m[O+D],c=0,o==s){for(u=0;u<h;++u)g.push(f[I+u]);g[d+D]+=l,c=l,I+=h,O+=p}else if(s<o){if(v&&0<I&&null!=f[I-h]){for(r=a+(f[I-h+D]-a)*(s-o)/(f[I-h+y]-o),g.push(s),g.push(r+l),u=2;u<h;++u)g.push(f[I+u]);c=l}O+=p}else{if(C&&v){I+=h;continue}for(u=0;u<h;++u)g.push(f[I+u]);v&&0<O&&null!=m[O-p]&&(c=l+(m[O-p+D]-l)*(o-s)/(m[O-p+y]-s)),g[d+D]+=c,I+=h}C=!1,d!=g.length&&T&&(g[d+2]+=c)}if(b&&d!=g.length&&0<d&&null!=g[d]&&g[d]!=g[d-h]&&g[d+1]!=g[d-h+1]){for(u=0;u<h;++u)g[d+h+u]=g[d+u];g[d+1]=g[d-h+1]}}n.points=g}}}t.hooks.processDatapoints.push(e)}var e={series:{stack:null}};jQuery.plot.plugins.push({init:t,options:e,name:"stack",version:"1.2"})}(),function(t){function e(t){function e(t,e){e.series.curvedLines.active&&t.hooks.processDatapoints.unshift(n)}function n(t,e,n){var i=n.points.length/n.pointsize,o=.005;if(!h(e.curvedLines)&&1==e.curvedLines.apply&&e.originSeries===undefined&&1+o<i)if(e.lines.fill){var a=u(n,e.curvedLines,1),r=u(n,e.curvedLines,2);n.pointsize=3,n.points=[];for(var s=0,l=0,c=0,d=2;c<a.length||s<r.length;)a[c]==r[s]?(n.points[l]=a[c],n.points[l+1]=a[c+1],n.points[l+2]=r[s+1],s+=d,c+=d):a[c]<r[s]?(n.points[l]=a[c],n.points[l+1]=a[c+1],n.points[l+2]=0<l?n.points[l-1]:null,c+=d):(n.points[l]=r[s],n.points[l+1]=1<l?n.points[l-2]:null,n.points[l+2]=r[s+1],s+=d),l+=3}else 0<e.lines.lineWidth&&(n.points=u(n,e.curvedLines,1),n.pointsize=2)}function u(t,e,n){if("undefined"==typeof e.legacyOverride||0==e.legacyOverride)return o(t,e,n);var i={fit:!1,curvePointFactor:20,fitPointDist:undefined};return a(t,jQuery.extend(i,e.legacyOverride),n)}
function o(t,e,n){for(var i=t.points,o=t.pointsize,a=m(t,e,n),r=[],s=0,l=0;l<i.length-o;l+=o){var c=l,d=l+n,u=i[c],h=i[c+o],f=(h-u)/Number(e.nrSplinePoints);r.push(i[c]),r.push(i[d]);for(var p=u+=f;p<h;p+=f)r.push(p),r.push(a[s](p));s++}return r.push(i[i.length-o]),r.push(i[i.length-o+n]),r}function m(t,e,n){for(var i=t.points,o=t.pointsize,a=[],r=[],s=0;s<i.length-o;s+=o){var l=s+n,c=i[(v=s)+o]-i[v],d=i[l+o]-i[l];a.push(c),r.push(d/c)}var u=[r[0]];if(e.monotonicFit)for(s=1;s<a.length;s++){var h=r[s],f=r[s-1];if(h*f<=0)u.push(0);else{var p=a[s],m=a[s-1],g=p+m;u.push(3*g/((g+p)/f+(g+m)/h))}}else for(s=o;s<i.length-o;s+=o){var v=s;l=s+n;u.push(Number(e.tension)*(i[l+o]-i[l-o])/(i[v+o]-i[v-o]))}u.push(r[r.length-1]);var E=[],T=[];for(s=0;s<a.length;s++){var b=u[s],C=u[s+1],y=(h=r[s],1/a[s]);g=b+C-h-h;E.push(g*y*y),T.push((h-g-b)*y)}var D=[];for(s=0;s<a.length;s++){var I=function(i,o,a,r,s){return function(t){var e=t-i,n=e*e;return o*e*n+a*n+r*e+s}};D.push(I(i[s*o],E[s],T[s],u[s],i[s*o+n]))}return D}function a(t,e,n){var i=t.points,o=t.pointsize,a=Number(e.curvePointFactor)*(i.length/o),r=new Array,s=new Array,l=-1,c=-1,d=0;if(e.fit){var u;if("undefined"==typeof e.fitPointDist){var h=i[0];u=(i[i.length-o]-h)/5e4}else u=Number(e.fitPointDist);for(var f=0;f<i.length;f+=o){var p,m;c=(l=f)+n,p=i[l]-u,m=i[l]+u;for(var g=2;p==i[l]||m==i[l];)p=i[l]-u*g,m=i[l]+u*g,g++;r[d]=p,s[d]=i[c],r[++d]=i[l],s[d]=i[c],r[++d]=m,s[d]=i[c],d++}}else for(f=0;f<i.length;f+=o)c=(l=f)+n,r[d]=i[l],s[d]=i[c],d++;var v=r.length,E=new Array,T=new Array;E[0]=0,T[E[v-1]=0]=0;for(f=1;f<v-1;++f){var b=r[f+1]-r[f-1];if(0==b)return[];var C=(r[f]-r[f-1])/b,y=C*E[f-1]+2;E[f]=(C-1)/y,T[f]=(s[f+1]-s[f])/(r[f+1]-r[f])-(s[f]-s[f-1])/(r[f]-r[f-1]),T[f]=(6*T[f]/(r[f+1]-r[f-1])-C*T[f-1])/y}for(d=v-2;0<=d;--d)E[d]=E[d]*E[d+1]+T[d];var D=(r[v-1]-r[0])/(a-1),I=new Array,O=new Array,R=new Array;for(I[0]=r[0],O[0]=s[0],R.push(I[0]),R.push(O[0]),d=1;d<a;++d){I[d]=I[0]+d*D;for(var k=v-1,_=0;1<k-_;){var x=Math.round((k+_)/2);r[x]>I[d]?k=x:_=x}var w=r[k]-r[_];if(0==w)return[];var K=(r[k]-I[d])/w,S=(I[d]-r[_])/w;O[d]=K*s[_]+S*s[k]+((K*K*K-K)*E[_]+(S*S*S-S)*E[k])*(w*w)/6,R.push(I[d]),R.push(O[d])}return R}function h(t){if("undefined"!=typeof t.fit||"undefined"!=typeof t.curvePointFactor||"undefined"!=typeof t.fitPointDist)throw new Error("CurvedLines detected illegal parameters. The CurvedLines API changed with version 1.0.0 please check the options object.");return!1}t.hooks.processOptions.push(e)}var n={series:{curvedLines:{active:!1,apply:!1,monotonicFit:!1,tension:.5,nrSplinePoints:20,legacyOverride:undefined}}};t.plot.plugins.push({init:e,options:n,name:"curvedLines",version:"1.1.1"})}(jQuery),function(r,t,s){function e(){n=t[l](function(){i.each(function(){var t=r(this),e=t.width(),n=t.height(),i=r.data(this,c);e===i.w&&n===i.h||t.trigger(a,[i.w=e,i.h=n])}),e()},o[d])}var n,i=r([]),o=r.resize=r.extend(r.resize,{}),l="setTimeout",a="resize",c=a+"-special-event",d="delay",u="throttleWindow";o[d]=250,o[u]=!0,r.event.special[a]={setup:function(){if(!o[u]&&this[l])return!1;var t=r(this);i=i.add(t),r.data(this,c,{w:t.width(),h:t.height()}),1===i.length&&e()},teardown:function(){if(!o[u]&&this[l])return!1;var t=r(this);i=i.not(t),t.removeData(c),i.length||clearTimeout(n)},add:function(t){function e(t,e,n){var i=r(this),o=r.data(this,c);o.w=e!==s?e:i.width(),o.h=n!==s?n:i.height(),a.apply(this,arguments)}return!(!o[u]&&this[l])&&(r.isFunction(t)?(a=t,e):(a=t.handler,void(t.handler=e)));var a}}}(jQuery,this),function(n){function t(t){function e(e){function t(){var t=e.getPlaceholder();0!=t.width()&&0!=t.height()&&(++i,n.plot(t,e.getData(),e.getOptions()),--i)}i||e.getPlaceholder().resize(t)}t.hooks.bindEvents.push(e)}var i=0,e={};n.plot.plugins.push({init:t,options:e,name:"resize",version:"1.0"})}(jQuery),function(o){"use strict";var a=function(t,e){this.$element=o(t),this.options=o.extend({},a.defaults,e)};a.defaults={transition_delay:300,refresh_speed:50,display_text:"none",use_percentage:!0,percent_format:function(t){return t+"%"},amount_format:function(t,e){return t+" / "+e},update:o.noop,done:o.noop,fail:o.noop},a.prototype.transition=function(){var r=this.$element,s=r.parent(),l=this.$back_text,c=this.$front_text,d=this.options,u=parseInt(r.attr("data-transitiongoal")),h=parseInt(r.attr("aria-valuemin"))||0,f=parseInt(r.attr("aria-valuemax"))||100,p=s.hasClass("vertical"),m=d.update&&"function"==typeof d.update?d.update:a.defaults.update,g=d.done&&"function"==typeof d.done?d.done:a.defaults.done,t=d.fail&&"function"==typeof d.fail?d.fail:a.defaults.fail;if(isNaN(u))t("data-transitiongoal not set");else{var e,v=Math.round(100*(u-h)/(f-h));if("center"===d.display_text&&!l&&!c)this.$back_text=l=o("<span>").addClass("progressbar-back-text").prependTo(s),this.$front_text=c=o("<span>").addClass("progressbar-front-text").prependTo(r),p?(e=s.css("height"),l.css({height:e,"line-height":e}),c.css({height:e,"line-height":e}),o(window).resize(function(){e=s.css("height"),l.css({height:e,"line-height":e}),c.css({height:e,"line-height":e})})):(e=s.css("width"),c.css({width:e}),o(window).resize(function(){e=s.css("width"),c.css({width:e})}));setTimeout(function(){var t,e,n,i,o;p?r.css("height",v+"%"):r.css("width",v+"%");var a=setInterval(function(){p?(n=r.height(),i=s.height()):(n=r.width(),i=s.width()),t=Math.round(100*n/i),e=Math.round(h+n/i*(f-h)),v<=t&&(t=v,e=u,g(r),clearInterval(a)),"none"!==d.display_text&&(o=d.use_percentage?d.percent_format(t):d.amount_format(e,f,h),"fill"===d.display_text?r.text(o):"center"===d.display_text&&(l.text(o),c.text(o))),r.attr("aria-valuenow",e),m(t,r)},d.refresh_speed)},d.transition_delay)}};var t=o.fn.progressbar;o.fn.progressbar=function(i){return this.each(function(){var t=o(this),e=t.data("bs.progressbar"),n="object"==typeof i&&i;e||t.data("bs.progressbar",e=new a(this,n)),e.transition()})},o.fn.progressbar.Constructor=a,o.fn.progressbar.noConflict=function(){return o.fn.progressbar=t,this}}(window.jQuery),function(v){function E(t,e,n){var i=t[0],o=/er/.test(n)?_indeterminate:/bl/.test(n)?R:O,a=n==_update?{checked:i[O],disabled:i[R],indeterminate:"true"==t.attr(_indeterminate)||"false"==t.attr(_determinate)}:i[o];if(/^(ch|di|in)/.test(n)&&!a)T(t,o);else if(/^(un|en|de)/.test(n)&&a)b(t,o);else if(n==_update)for(var r in a)a[r]?T(t,r,!0):b(t,r,!0);else e&&"toggle"!=n||(e||t[_callback]("ifClicked"),a?i[_type]!==I&&b(t,o):T(t,o))}function T(t,e,n){var i=t[0],o=t.parent(),a=e==O,r=e==_indeterminate,s=e==R,l=r?_determinate:a?g:"enabled",c=f(t,l+p(i[_type])),d=f(t,e+p(i[_type]));if(!0!==i[e]){if(!n&&e==O&&i[_type]==I&&i.name){var u=t.closest("form"),h='input[name="'+i.name+'"]';(h=u.length?u.find(h):v(h)).each(function(){this!==i&&v(this).data(y)&&b(v(this),e)})}r?(i[e]=!0,i[O]&&b(t,O,"force")):(n||(i[e]=!0),a&&i[_indeterminate]&&b(t,_indeterminate,!1)),m(t,a,e,n)}i[R]&&f(t,_cursor,!0)&&o.find("."+D).css(_cursor,"default"),o[_add](d||f(t,e)||""),o.attr("role")&&!r&&o.attr("aria-"+(s?R:O),"true"),o[_remove](c||f(t,l)||"")}function b(t,e,n){var i=t[0],o=t.parent(),a=e==O,r=e==_indeterminate,s=e==R,l=r?_determinate:a?g:"enabled",c=f(t,l+p(i[_type])),d=f(t,e+p(i[_type]));!1!==i[e]&&(!r&&n&&"force"!=n||(i[e]=!1),m(t,a,l,n)),!i[R]&&f(t,_cursor,!0)&&o.find("."+D).css(_cursor,"pointer"),o[_remove](d||f(t,e)||""),o.attr("role")&&!r&&o.attr("aria-"+(s?R:O),"false"),o[_add](c||f(t,l)||"")}function C(t,e){t.data(y)&&(t.parent().html(t.attr("style",t.data(y).s||"")),e&&t[_callback](e),t.off(".i").unwrap(),v(_label+'[for="'+t[0].id+'"]').add(t.closest(_label)).off(".i"))}function f(t,e,n){if(t.data(y))return t.data(y).o[e+(n?"":"Class")]}function p(t){return t.charAt(0).toUpperCase()+t.slice(1)}function m(t,e,n,i){i||(e&&t[_callback]("ifToggled"),t[_callback]("ifChanged")[_callback]("if"+p(n)))}var y="iCheck",D=y+"-helper",I="radio",O="checked",g="un"+O,R="disabled";_determinate="determinate",_indeterminate="in"+_determinate,_update="update",_type="type",_click="click",_touch="touchbegin.i touchend.i",_add="addClass",_remove="removeClass",_callback="trigger",_label="label",_cursor="cursor",_mobile=/ipad|iphone|ipod|android|blackberry|windows phone|opera mini|silk/i.test(navigator.userAgent),v.fn[y]=function(e,n){var i='input[type="checkbox"], input[type="'+I+'"]',o=v(),t=function(t){t.each(function(){var t=v(this);o=t.is(i)?o.add(t):o.add(t.find(i))})};if(/^(check|uncheck|toggle|indeterminate|determinate|disable|enable|update|destroy)$/i.test(e))return e=e.toLowerCase(),t(this),o.each(function(){var t=v(this);"destroy"==e?C(t,"ifDestroyed"):E(t,!0,e),v.isFunction(n)&&n()});if("object"!=typeof e&&e)return this;var d=v.extend({checkedClass:O,disabledClass:R,indeterminateClass:_indeterminate,labelHover:!0},e),a=d.handle,u=d.hoverClass||"hover",h=d.focusClass||"focus",f=d.activeClass||"active",p=!!d.labelHover,m=d.labelHoverClass||"hover",g=0|(""+d.increaseArea).replace("%","");return"checkbox"!=a&&a!=I||(i='input[type="'+a+'"]'),g<-50&&(g=-50),t(this),o.each(function(){var i=v(this);C(i);var o=this,t=o.id,e={position:"absolute",top:n=-g+"%",left:n,display:"block",width:e=100+2*g+"%",height:e,margin:0,padding:0,background:"#fff",border:0,opacity:0},n=_mobile?{position:"absolute",visibility:"hidden"}:g?e:{position:"absolute",opacity:0},a="checkbox"==o[_type]?d.checkboxClass||"icheckbox":d.radioClass||"i"+I,r=v(_label+'[for="'+t+'"]').add(i.closest(_label)),s=!!d.aria,l=y+"-"+Math.random().toString(36).substr(2,6),c='<div class="'+a+'" '+(s?'role="'+o[_type]+'" ':"");s&&r.each(function(){c+='aria-labelledby="',this.id?c+=this.id:(this.id=l,c+=l),c+='"'}),c=i.wrap(c+"/>")[_callback]("ifCreated").parent().append(d.insert),e=v('<ins class="'+D+'"/>').css(e).appendTo(c),i.data(y,{o:d,s:i.attr("style")}).css(n),d.inheritClass&&c[_add](o.className||""),d.inheritID&&t&&c.attr("id",y+"-"+t),"static"==c.css("position")&&c.css("position","relative"),E(i,!0,_update),r.length&&r.on(_click+".i mouseover.i mouseout.i "+_touch,function(t){var e=t[_type],n=v(this);if(!o[R]){if(e==_click){if(v(t.target).is("a"))return;E(i,!1,!0)}else p&&(/ut|nd/.test(e)?(c[_remove](u),n[_remove](m)):(c[_add](u),n[_add](m)));if(!_mobile)return!1;t.stopPropagation()}}),i.on(_click+".i focus.i blur.i keyup.i keydown.i keypress.i",function(t){var e=t[_type];return t=t.keyCode,e!=_click&&("keydown"==e&&32==t?(o[_type]==I&&o[O]||(o[O]?b(i,O):T(i,O)),!1):void("keyup"==e&&o[_type]==I?!o[O]&&T(i,O):/us|ur/.test(e)&&c["blur"==e?_remove:_add](h)))}),e.on(_click+" mousedown mouseup mouseover mouseout "+_touch,function(t){var e=t[_type],n=/wn|up/.test(e)?f:u;if(!o[R]){if(e==_click?E(i,!1,!0):(/wn|er|in/.test(e)?c[_add](n):c[_remove](n+" "+f),r.length&&p&&n==u&&r[/ut|nd/.test(e)?_remove:_add](m)),!_mobile)return!1;t.stopPropagation()}})})}}(window.jQuery||window.Zepto),function(c){function l(t,e,n){switch(arguments.length){case 2:return null!=t?t:e;case 3:return null!=t?t:null!=e?e:n;default:throw new Error("Implement me")}}function d(t,e){return kt.call(t,e)}function r(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function i(t){!1===Ct.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function e(t,e){var n=!0;return p(function(){return n&&(i(t),n=!1),e.apply(this,arguments)},e)}function a(t,e){Ee[t]||(i(e),Ee[t]=!0)}function t(e,n){return function(t){return v(e.call(this,t),n)}}function n(e,n){return function(t){return this.localeData().ordinal(e.call(this,t),n)}}function s(t,e){var n,i=12*(e.year()-t.year())+(e.month()-t.month()),o=t.clone().add(i,"months");return e-o<0?n=(e-o)/(o-t.clone().add(i-1,"months")):n=(e-o)/(t.clone().add(i+1,"months")-o),-(i+n)}function u(t,e,n){var i;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):(null!=t.isPM&&((i=t.isPM(n))&&e<12&&(e+=12),i||12!==e||(e=0)),e)}function o(){}function h(t,e){!1!==e&&N(t),m(this,t),this._d=new Date(+t._d),!1===be&&(be=!0,Ct.updateOffset(this),be=!1)}function f(t){var e=R(t),n=e.year||0,i=e.quarter||0,o=e.month||0,a=e.week||0,r=e.day||0,s=e.hour||0,l=e.minute||0,c=e.second||0,d=e.millisecond||0;this._milliseconds=+d+1e3*c+6e4*l+36e5*s,this._days=+r+7*a,this._months=+o+3*i+12*n,this._data={},this._locale=Ct.localeData(),this._bubble()}function p(t,e){for(var n in e)d(e,n)&&(t[n]=e[n]);return d(e,"toString")&&(t.toString=e.toString),d(e,"valueOf")&&(t.valueOf=e.valueOf),t}function m(t,e){var n,i,o;if("undefined"!=typeof e._isAMomentObject&&(t._isAMomentObject=e._isAMomentObject),"undefined"!=typeof e._i&&(t._i=e._i),"undefined"!=typeof e._f&&(t._f=e._f),"undefined"!=typeof e._l&&(t._l=e._l),"undefined"!=typeof e._strict&&(t._strict=e._strict),"undefined"!=typeof e._tzm&&(t._tzm=e._tzm),"undefined"!=typeof e._isUTC&&(t._isUTC=e._isUTC),"undefined"!=typeof e._offset&&(t._offset=e._offset),"undefined"!=typeof e._pf&&(t._pf=e._pf),"undefined"!=typeof e._locale&&(t._locale=e._locale),0<Lt.length)for(n in Lt)void 0!==(o=e[i=Lt[n]])&&(t[i]=o);return t}function g(t){return t<0?Math.ceil(t):Math.floor(t)}function v(t,e,n){for(var i=""+Math.abs(t),o=0<=t;i.length<e;)i="0"+i;return(o?n?"+":"":"-")+i}function E(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function T(t,e){var n;return e=P(e,t),t.isBefore(e)?n=E(t,e):((n=E(e,t)).milliseconds=-n.milliseconds,n.months=-n.months),n}function b(i,o){return function(t,e){var n;return null===e||isNaN(+e)||(a(o,"moment()."+o+"(period, number) is deprecated. Please use moment()."+o+"(number, period)."),n=t,t=e,e=n),t="string"==typeof t?+t:t,C(this,Ct.duration(t,e),i),this}}function C(t,e,n,i){var o=e._milliseconds,a=e._days,r=e._months;i=null==i||i,o&&t._d.setTime(+t._d+o*n),a&&mt(t,"Date",pt(t,"Date")+a*n),r&&ft(t,pt(t,"Month")+r*n),i&&Ct.updateOffset(t,a||r)}function y(t){return"[object Array]"===Object.prototype.toString.call(t)}function D(t){return"[object Date]"===Object.prototype.toString.call(t)||t instanceof Date}function I(t,e,n){var i,o=Math.min(t.length,e.length),a=Math.abs(t.length-e.length),r=0;for(i=0;i<o;i++)(n&&t[i]!==e[i]||!n&&_(t[i])!==_(e[i]))&&r++;return r+a}function O(t){if(t){var e=t.toLowerCase().replace(/(.)s$/,"$1");t=ue[t]||he[e]||e}return t}function R(t){var e,n,i={};for(n in t)d(t,n)&&((e=O(n))&&(i[e]=t[n]));return i}function k(r){var s,l;if(0===r.indexOf("week"))s=7,l="day";else{if(0!==r.indexOf("month"))return;s=12,l="month"}Ct[r]=function(n,t){var e,i,o=Ct._locale[r],a=[];if("number"==typeof n&&(t=n,n=c),i=function(t){var e=Ct().utc().set(l,t);return o.call(Ct._locale,e,n||"")},null!=t)return i(t);for(e=0;e<s;e++)a.push(i(e));return a}}function _(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=0<=e?Math.floor(e):Math.ceil(e)),n}function x(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function w(t,e,n){return ct(Ct([t,11,31+e-n]),e,n).week}function K(t){return S(t)?366:365}function S(t){return t%4==0&&t%100!=0||t%400==0}function N(t){var e;t._a&&-2===t._pf.overflow&&(e=t._a[xt]<0||11<t._a[xt]?xt:t._a[wt]<1||t._a[wt]>x(t._a[_t],t._a[xt])?wt:t._a[Kt]<0||24<t._a[Kt]||24===t._a[Kt]&&(0!==t._a[St]||0!==t._a[Nt]||0!==t._a[At])?Kt:t._a[St]<0||59<t._a[St]?St:t._a[Nt]<0||59<t._a[Nt]?Nt:t._a[At]<0||999<t._a[At]?At:-1,t._pf._overflowDayOfYear&&(e<_t||wt<e)&&(e=wt),t._pf.overflow=e)}function A(t){return null==t._isValid&&(t._isValid=!isNaN(t._d.getTime())&&t._pf.overflow<0&&!t._pf.empty&&!t._pf.invalidMonth&&!t._pf.nullInput&&!t._pf.invalidFormat&&!t._pf.userInvalidated,t._strict&&(t._isValid=t._isValid&&0===t._pf.charsLeftOver&&0===t._pf.unusedTokens.length&&t._pf.bigHour===c)),t._isValid}function M(t){return t?t.toLowerCase().replace("_","-"):t}function L(t){for(var e,n,i,o,a=0;a<t.length;){for(e=(o=M(t[a]).split("-")).length,n=(n=M(t[a+1]))?n.split("-"):null;0<e;){if(i=F(o.slice(0,e).join("-")))return i;if(n&&n.length>=e&&I(o,n,!0)>=e-1)break;e--}a++}return null}function F(t){var e=null;if(!Mt[t]&&Ft)try{e=Ct.locale(),require("./locale/"+t),Ct.locale(e)}catch(d){}return Mt[t]}function P(t,e){var n,i;return e._isUTC?(n=e.clone(),i=(Ct.isMoment(t)||D(t)?+t:+Ct(t))-+n,n._d.setTime(+n._d+i),Ct.updateOffset(n,!1),n):Ct(t).local()}function B(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function $(n){var i,o,a=n.match(Ht);for(i=0,o=a.length;i<o;i++)a[i]=ve[a[i]]?ve[a[i]]:B(a[i]);return function(t){var e="";for(i=0;i<o;i++)e+=a[i]instanceof Function?a[i].call(t,n):a[i];return e}}function H(t,e){return t.isValid()?(e=z(e,t.localeData()),fe[e]||(fe[e]=$(e)),fe[e](t)):t.localeData().invalidDate()}function z(t,e){function n(t){return e.longDateFormat(t)||t}var i=5;for(zt.lastIndex=0;0<=i&&zt.test(t);)t=t.replace(zt,n),zt.lastIndex=0,i-=1;return t}function q(t,e){var n=e._strict;switch(t){case"Q":return Jt;case"DDDD":return ee;case"YYYY":case"GGGG":case"gggg":return n?ne:jt;case"Y":case"G":case"g":return oe;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return n?ie:Vt;case"S":if(n)return Jt;case"SS":if(n)return te;case"SSS":if(n)return ee;case"DDD":return Wt;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return Yt;case"a":case"A":return e._locale._meridiemParse;case"x":return Zt;case"X":return Qt;case"Z":case"ZZ":return Gt;case"T":return Xt;case"SSSS":return Ut;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return n?te:qt;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return qt;case"Do":return n?e._locale._ordinalParse:e._locale._ordinalParseLenient;default:return new RegExp(Q(Z(t.replace("\\","")),"i"))}}function W(t){var e=(t=t||"").match(Gt)||[],n=((e[e.length-1]||[])+"").match(ce)||["-",0,0],i=60*n[1]+_(n[2]);return"+"===n[0]?i:-i}function j(t,e,n){var i,o=n._a;switch(t){case"Q":null!=e&&(o[xt]=3*(_(e)-1));break;case"M":case"MM":null!=e&&(o[xt]=_(e)-1);break;case"MMM":case"MMMM":null!=(i=n._locale.monthsParse(e,t,n._strict))?o[xt]=i:n._pf.invalidMonth=e;break;case"D":case"DD":null!=e&&(o[wt]=_(e));break;case"Do":null!=e&&(o[wt]=_(parseInt(e.match(/\d{1,2}/)[0],10)));break;case"DDD":case"DDDD":null!=e&&(n._dayOfYear=_(e));break;case"YY":o[_t]=Ct.parseTwoDigitYear(e);break;case"YYYY":case"YYYYY":case"YYYYYY":o[_t]=_(e);break;case"a":case"A":n._meridiem=e;break;case"h":case"hh":n._pf.bigHour=!0;case"H":case"HH":o[Kt]=_(e);break;case"m":case"mm":o[St]=_(e);break;case"s":case"ss":o[Nt]=_(e);break;case"S":case"SS":case"SSS":case"SSSS":o[At]=_(1e3*("0."+e));break;case"x":n._d=new Date(_(e));break;case"X":n._d=new Date(1e3*parseFloat(e));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=W(e);break;case"dd":case"ddd":case"dddd":null!=(i=n._locale.weekdaysParse(e))?(n._w=n._w||{},n._w.d=i):n._pf.invalidWeekday=e;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":t=t.substr(0,1);case"gggg":case"GGGG":case"GGGGG":t=t.substr(0,2),e&&(n._w=n._w||{},n._w[t]=_(e));break;case"gg":case"GG":n._w=n._w||{},n._w[t]=Ct.parseTwoDigitYear(e)}}function V(t){var e,n,i,o,a,r,s;null!=(e=t._w).GG||null!=e.W||null!=e.E?(a=1,r=4,n=l(e.GG,t._a[_t],ct(Ct(),1,4).year),i=l(e.W,1),o=l(e.E,1)):(a=t._locale._week.dow,r=t._locale._week.doy,n=l(e.gg,t._a[_t],ct(Ct(),a,r).year),i=l(e.w,1),null!=e.d?(o=e.d)<a&&++i:o=null!=e.e?e.e+a:a),s=dt(n,i,o,r,a),t._a[_t]=s.year,t._dayOfYear=s.dayOfYear}function U(t){var e,n,i,o,a=[];if(!t._d){for(i=G(t),t._w&&null==t._a[wt]&&null==t._a[xt]&&V(t),t._dayOfYear&&(o=l(t._a[_t],i[_t]),t._dayOfYear>K(o)&&(t._pf._overflowDayOfYear=!0),n=at(o,0,t._dayOfYear),t._a[xt]=n.getUTCMonth(),t._a[wt]=n.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=a[e]=i[e];for(;e<7;e++)t._a[e]=a[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[Kt]&&0===t._a[St]&&0===t._a[Nt]&&0===t._a[At]&&(t._nextDay=!0,t._a[Kt]=0),t._d=(t._useUTC?at:ot).apply(null,a),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Kt]=24)}}function Y(t){var e;t._d||(e=R(t._i),t._a=[e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],U(t))}function G(t){var e=new Date;return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function X(t){if(t._f!==Ct.ISO_8601){t._a=[],t._pf.empty=!0;var e,n,i,o,a,r=""+t._i,s=r.length,l=0;for(i=z(t._f,t._locale).match(Ht)||[],e=0;e<i.length;e++)o=i[e],(n=(r.match(q(o,t))||[])[0])&&(0<(a=r.substr(0,r.indexOf(n))).length&&t._pf.unusedInput.push(a),r=r.slice(r.indexOf(n)+n.length),l+=n.length),ve[o]?(n?t._pf.empty=!1:t._pf.unusedTokens.push(o),j(o,n,t)):t._strict&&!n&&t._pf.unusedTokens.push(o);t._pf.charsLeftOver=s-l,0<r.length&&t._pf.unusedInput.push(r),!0===t._pf.bigHour&&t._a[Kt]<=12&&(t._pf.bigHour=c),t._a[Kt]=u(t._locale,t._a[Kt],t._meridiem),U(t),N(t)}else tt(t)}function Z(t){return t.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,i,o){return e||n||i||o})}function Q(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function J(t){var e,n,i,o,a;if(0===t._f.length)return t._pf.invalidFormat=!0,void(t._d=new Date(NaN));for(o=0;o<t._f.length;o++)a=0,e=m({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._pf=r(),e._f=t._f[o],X(e),A(e)&&(a+=e._pf.charsLeftOver,a+=10*e._pf.unusedTokens.length,e._pf.score=a,(null==i||a<i)&&(i=a,n=e));p(t,n||e)}function tt(t){var e,n,i=t._i,o=ae.exec(i);if(o){for(t._pf.iso=!0,e=0,n=se.length;e<n;e++)if(se[e][1].exec(i)){t._f=se[e][0]+(o[6]||" ");break}for(e=0,n=le.length;e<n;e++)if(le[e][1].exec(i)){t._f+=le[e][0];break}i.match(Gt)&&(t._f+="Z"),X(t)}else t._isValid=!1}function et(t){tt(t),!1===t._isValid&&(delete t._isValid,Ct.createFromInputFallback(t))}function nt(t,e){var n,i=[];for(n=0;n<t.length;++n)i.push(e(t[n],n));return i}function it(t){var e,n=t._i;n===c?t._d=new Date:D(n)?t._d=new Date(+n):null!==(e=Pt.exec(n))?t._d=new Date(+e[1]):"string"==typeof n?et(t):y(n)?(t._a=nt(n.slice(0),function(t){return parseInt(t,10)}),U(t)):"object"==typeof n?Y(t):"number"==typeof n?t._d=new Date(n):Ct.createFromInputFallback(t)}function ot(t,e,n,i,o,a,r){var s=new Date(t,e,n,i,o,a,r);return t<1970&&s.setFullYear(t),s}function at(t){var e=new Date(Date.UTC.apply(null,arguments));return t<1970&&e.setUTCFullYear(t),e}function rt(t,e){if("string"==typeof t)if(isNaN(t)){if("number"!=typeof(t=e.weekdaysParse(t)))return null}else t=parseInt(t,10);return t}function st(t,e,n,i,o){return o.relativeTime(e||1,!!n,t,i)}function lt(t,e,n){var i=Ct.duration(t).abs(),o=Rt(i.as("s")),a=Rt(i.as("m")),r=Rt(i.as("h")),s=Rt(i.as("d")),l=Rt(i.as("M")),c=Rt(i.as("y")),d=o<pe.s&&["s",o]||1===a&&["m"]||a<pe.m&&["mm",a]||1===r&&["h"]||r<pe.h&&["hh",r]||1===s&&["d"]||s<pe.d&&["dd",s]||1===l&&["M"]||l<pe.M&&["MM",l]||1===c&&["y"]||["yy",c];return d[2]=e,d[3]=0<+t,d[4]=n,st.apply({},d)}function ct(t,e,n){var i,o=n-e,a=n-t.day();return o<a&&(a-=7),a<o-7&&(a+=7),i=Ct(t).add(a,"d"),{week:Math.ceil(i.dayOfYear()/7),year:i.year()}}function dt(t,e,n,i,o){var a,r=at(t,0,1).getUTCDay();return{year:0<(a=7*(e-1)+((n=null!=n?n:o)-o)+(o-(r=0===r?7:r)+(i<r?7:0)-(r<o?7:0))+1)?t:t-1,dayOfYear:0<a?a:K(t-1)+a}}function ut(t){var e,n=t._i,i=t._f;return t._locale=t._locale||Ct.localeData(t._l),null===n||i===c&&""===n?Ct.invalid({nullInput:!0}):("string"==typeof n&&(t._i=n=t._locale.preparse(n)),Ct.isMoment(n)?new h(n,!0):(i?y(i)?J(t):X(t):it(t),(e=new h(t))._nextDay&&(e.add(1,"d"),e._nextDay=c),e))}function ht(t,e){var n,i;if(1===e.length&&y(e[0])&&(e=e[0]),!e.length)return Ct();for(n=e[0],i=1;i<e.length;++i)e[i][t](n)&&(n=e[i]);return n}function ft(t,e){var n;return"string"==typeof e&&"number"!=typeof(e=t.localeData().monthsParse(e))||(n=Math.min(t.date(),x(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n)),t}function pt(t,e){return t._d["get"+(t._isUTC?"UTC":"")+e]()}function mt(t,e,n){return"Month"===e?ft(t,n):t._d["set"+(t._isUTC?"UTC":"")+e](n)}function gt(e,n){return function(t){return null!=t?(mt(this,e,t),Ct.updateOffset(this,n),this):pt(this,e)}}function vt(t){return 400*t/146097}function Et(t){return 146097*t/400}function Tt(t){Ct.duration.fn[t]=function(){return this._data[t]}}function bt(t){"undefined"==typeof ender&&(yt=Ot.moment,Ot.moment=t?e("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",Ct):Ct)}for(var Ct,yt,Dt,It="2.9.0",Ot="undefined"==typeof global||"undefined"!=typeof window&&window!==global.window?this:global,Rt=Math.round,kt=Object.prototype.hasOwnProperty,_t=0,xt=1,wt=2,Kt=3,St=4,Nt=5,At=6,Mt={},Lt=[],Ft="undefined"!=typeof module&&module&&module.exports,Pt=/^\/?Date\((\-?\d+)/i,Bt=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,$t=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,Ht=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,zt=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,qt=/\d\d?/,Wt=/\d{1,3}/,jt=/\d{1,4}/,Vt=/[+\-]?\d{1,6}/,Ut=/\d+/,Yt=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Gt=/Z|[\+\-]\d\d:?\d\d/gi,Xt=/T/i,Zt=/[\+\-]?\d+/,Qt=/[\+\-]?\d+(\.\d{1,3})?/,Jt=/\d/,te=/\d\d/,ee=/\d{3}/,ne=/\d{4}/,ie=/[+-]?\d{6}/,oe=/[+-]?\d+/,ae=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,re="YYYY-MM-DDTHH:mm:ssZ",se=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],le=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],ce=/([\+\-]|\d\d)/gi,de=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),ue={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},he={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},fe={},pe={s:45,m:45,h:22,d:26,M:11},me="DDD w W M D d".split(" "),ge="M D H h m s w W".split(" "),ve={M:function(){return this.month()+1},MMM:function(t){return this.localeData().monthsShort(this,t)},MMMM:function(t){return this.localeData().months(this,t)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(t){return this.localeData().weekdaysMin(this,t)},ddd:function(t){return this.localeData().weekdaysShort(this,t)},dddd:function(t){return this.localeData().weekdays(this,t)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return v(this.year()%100,2)},YYYY:function(){return v(this.year(),4)},YYYYY:function(){return v(this.year(),5)},YYYYYY:function(){var t=this.year();return(0<=t?"+":"-")+v(Math.abs(t),6)},gg:function(){return v(this.weekYear()%100,2)},gggg:function(){return v(this.weekYear(),4)},ggggg:function(){return v(this.weekYear(),5)},GG:function(){return v(this.isoWeekYear()%100,2)},GGGG:function(){return v(this.isoWeekYear(),4)},GGGGG:function(){return v(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return _(this.milliseconds()/100)},SS:function(){return v(_(this.milliseconds()/10),2)},SSS:function(){return v(this.milliseconds(),3)},SSSS:function(){return v(this.milliseconds(),3)},Z:function(){var t=this.utcOffset(),e="+";return t<0&&(t=-t,e="-"),e+v(_(t/60),2)+":"+v(_(t)%60,2)},ZZ:function(){var t=this.utcOffset(),e="+";return t<0&&(t=-t,e="-"),e+v(_(t/60),2)+v(_(t)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},x:function(){return this.valueOf()},X:function(){return this.unix()},Q:function(){return this.quarter()}},Ee={},Te=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"],be=!1;me.length;)Dt=me.pop(),ve[Dt+"o"]=n(ve[Dt],Dt);for(;ge.length;)Dt=ge.pop(),ve[Dt+Dt]=t(ve[Dt],2);for(ve.DDDD=t(ve.DDD,3),p(o.prototype,{set:function(t){var e,n;for(n in t)"function"==typeof(e=t[n])?this[n]=e:this["_"+n]=e;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(t){return this._months[t.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(t){return this._monthsShort[t.month()]},monthsParse:function(t,e,n){var i,o,a;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(o=Ct.utc([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(a="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[i]=new RegExp(a.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(n&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(t){return this._weekdays[t.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(t){return this._weekdaysShort[t.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(t){return this._weekdaysMin[t.day()]},weekdaysParse:function(t){var e,n,i;for(this._weekdaysParse||(this._weekdaysParse=[]),e=0;e<7;e++)if(this._weekdaysParse[e]||(n=Ct([2e3,1]).day(e),i="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[e]=new RegExp(i.replace(".",""),"i")),this._weekdaysParse[e].test(t))return e},_longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(t){var e=this._longDateFormat[t];return!e&&this._longDateFormat[t.toUpperCase()]&&(e=this._longDateFormat[t.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t]=e),e},isPM:function(t){return"p"===(t+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(t,e,n){return 11<t?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(t,e,n){var i=this._calendar[t];return"function"==typeof i?i.apply(e,[n]):i},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(t,e,n,i){var o=this._relativeTime[n];return"function"==typeof o?o(t,e,n,i):o.replace(/%d/i,t)},pastFuture:function(t,e){var n=this._relativeTime[0<t?"future":"past"];return"function"==typeof n?n(e):n.replace(/%s/i,e)},ordinal:function(t){return this._ordinal.replace("%d",t)},_ordinal:"%d",_ordinalParse:/\d{1,2}/,preparse:function(t){return t},postformat:function(t){return t},week:function(t){return ct(t,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},firstDayOfWeek:function(){return this._week.dow},firstDayOfYear:function(){return this._week.doy},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),(Ct=function(t,e,n,i){var o;return"boolean"==typeof n&&(i=n,n=c),(o={_isAMomentObject:!0})._i=t,o._f=e,o._l=n,o._strict=i,o._isUTC=!1,o._pf=r(),ut(o)}).suppressDeprecationWarnings=!1,Ct.createFromInputFallback=e("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),Ct.min=function(){return ht("isBefore",[].slice.call(arguments,0))},Ct.max=function(){return ht("isAfter",[].slice.call(arguments,0))},Ct.utc=function(t,e,n,i){var o;return"boolean"==typeof n&&(i=n,n=c),(o={_isAMomentObject:!0,_useUTC:!0,_isUTC:!0})._l=n,o._i=t,o._f=e,o._strict=i,o._pf=r(),ut(o).utc()},Ct.unix=function(t){return Ct(1e3*t)},
Ct.duration=function(t,e){var n,i,o,a,r=t,s=null;return Ct.isDuration(t)?r={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(r={},e?r[e]=t:r.milliseconds=t):(s=Bt.exec(t))?(n="-"===s[1]?-1:1,r={y:0,d:_(s[wt])*n,h:_(s[Kt])*n,m:_(s[St])*n,s:_(s[Nt])*n,ms:_(s[At])*n}):(s=$t.exec(t))?(n="-"===s[1]?-1:1,r={y:(o=function(t){var e=t&&parseFloat(t.replace(",","."));return(isNaN(e)?0:e)*n})(s[2]),M:o(s[3]),d:o(s[4]),h:o(s[5]),m:o(s[6]),s:o(s[7]),w:o(s[8])}):null==r?r={}:"object"==typeof r&&("from"in r||"to"in r)&&(a=T(Ct(r.from),Ct(r.to)),(r={}).ms=a.milliseconds,r.M=a.months),i=new f(r),Ct.isDuration(t)&&d(t,"_locale")&&(i._locale=t._locale),i},Ct.version=It,Ct.defaultFormat=re,Ct.ISO_8601=function(){},Ct.momentProperties=Lt,Ct.updateOffset=function(){},Ct.relativeTimeThreshold=function(t,e){return pe[t]!==c&&(e===c?pe[t]:(pe[t]=e,!0))},Ct.lang=e("moment.lang is deprecated. Use moment.locale instead.",function(t,e){return Ct.locale(t,e)}),Ct.locale=function(t,e){var n;return t&&((n=void 0!==e?Ct.defineLocale(t,e):Ct.localeData(t))&&(Ct.duration._locale=Ct._locale=n)),Ct._locale._abbr},Ct.defineLocale=function(t,e){return null!==e?(e.abbr=t,Mt[t]||(Mt[t]=new o),Mt[t].set(e),Ct.locale(t),Mt[t]):(delete Mt[t],null)},Ct.langData=e("moment.langData is deprecated. Use moment.localeData instead.",function(t){return Ct.localeData(t)}),Ct.localeData=function(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Ct._locale;if(!y(t)){if(e=F(t))return e;t=[t]}return L(t)},Ct.isMoment=function(t){return t instanceof h||null!=t&&d(t,"_isAMomentObject")},Ct.isDuration=function(t){return t instanceof f},Dt=Te.length-1;0<=Dt;--Dt)k(Te[Dt]);for(Dt in Ct.normalizeUnits=function(t){return O(t)},Ct.invalid=function(t){var e=Ct.utc(NaN);return null!=t?p(e._pf,t):e._pf.userInvalidated=!0,e},Ct.parseZone=function(){return Ct.apply(null,arguments).parseZone()},Ct.parseTwoDigitYear=function(t){return _(t)+(68<_(t)?1900:2e3)},Ct.isDate=D,p(Ct.fn=h.prototype,{clone:function(){return Ct(this)},valueOf:function(){return+this._d-6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var t=Ct(this).utc();return 0<t.year()&&t.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():H(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):H(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var t=this;return[t.year(),t.month(),t.date(),t.hours(),t.minutes(),t.seconds(),t.milliseconds()]},isValid:function(){return A(this)},isDSTShifted:function(){return!!this._a&&(this.isValid()&&0<I(this._a,(this._isUTC?Ct.utc(this._a):Ct(this._a)).toArray()))},parsingFlags:function(){return p({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(t){return this.utcOffset(0,t)},local:function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(this._dateUtcOffset(),"m")),this},format:function(t){var e=H(this,t||Ct.defaultFormat);return this.localeData().postformat(e)},add:b(1,"add"),subtract:b(-1,"subtract"),diff:function(t,e,n){var i,o,a=P(t,this),r=6e4*(a.utcOffset()-this.utcOffset());return"year"===(e=O(e))||"month"===e||"quarter"===e?(o=s(this,a),"quarter"===e?o/=3:"year"===e&&(o/=12)):(i=this-a,o="second"===e?i/1e3:"minute"===e?i/6e4:"hour"===e?i/36e5:"day"===e?(i-r)/864e5:"week"===e?(i-r)/6048e5:i),n?o:g(o)},from:function(t,e){return Ct.duration({to:this,from:t}).locale(this.locale()).humanize(!e)},fromNow:function(t){return this.from(Ct(),t)},calendar:function(t){var e=t||Ct(),n=P(e,this).startOf("day"),i=this.diff(n,"days",!0),o=i<-6?"sameElse":i<-1?"lastWeek":i<0?"lastDay":i<1?"sameDay":i<2?"nextDay":i<7?"nextWeek":"sameElse";return this.format(this.localeData().calendar(o,this,Ct(e)))},isLeapYear:function(){return S(this.year())},isDST:function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},day:function(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=rt(t,this.localeData()),this.add(t-e,"d")):e},month:gt("Month",!0),startOf:function(t){switch(t=O(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t?this.weekday(0):"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(t){return(t=O(t))===c||"millisecond"===t?this:this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms")},isAfter:function(t,e){return"millisecond"===(e=O(void 0!==e?e:"millisecond"))?+(t=Ct.isMoment(t)?t:Ct(t))<+this:(Ct.isMoment(t)?+t:+Ct(t))<+this.clone().startOf(e)},isBefore:function(t,e){var n;return"millisecond"===(e=O(void 0!==e?e:"millisecond"))?+this<+(t=Ct.isMoment(t)?t:Ct(t)):(n=Ct.isMoment(t)?+t:+Ct(t),+this.clone().endOf(e)<n)},isBetween:function(t,e,n){return this.isAfter(t,n)&&this.isBefore(e,n)},isSame:function(t,e){var n;return"millisecond"===(e=O(e||"millisecond"))?+this==+(t=Ct.isMoment(t)?t:Ct(t)):(n=+Ct(t),+this.clone().startOf(e)<=n&&n<=+this.clone().endOf(e))},min:e("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(t){return(t=Ct.apply(null,arguments))<this?this:t}),max:e("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(t){return this<(t=Ct.apply(null,arguments))?this:t}),zone:e("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",function(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}),utcOffset:function(t,e){var n,i=this._offset||0;return null!=t?("string"==typeof t&&(t=W(t)),Math.abs(t)<16&&(t*=60),!this._isUTC&&e&&(n=this._dateUtcOffset()),this._offset=t,this._isUTC=!0,null!=n&&this.add(n,"m"),i!==t&&(!e||this._changeInProgress?C(this,Ct.duration(t-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,Ct.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?i:this._dateUtcOffset()},isLocal:function(){return!this._isUTC},isUtcOffset:function(){return this._isUTC},isUtc:function(){return this._isUTC&&0===this._offset},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(W(this._i)),this},hasAlignedHourOffset:function(t){return t=t?Ct(t).utcOffset():0,(this.utcOffset()-t)%60==0},daysInMonth:function(){return x(this.year(),this.month())},dayOfYear:function(t){var e=Rt((Ct(this).startOf("day")-Ct(this).startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},quarter:function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},weekYear:function(t){var e=ct(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==t?e:this.add(t-e,"y")},isoWeekYear:function(t){var e=ct(this,1,4).year;return null==t?e:this.add(t-e,"y")},week:function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},isoWeek:function(t){var e=ct(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},weekday:function(t){var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},isoWeekday:function(t){return null==t?this.day()||7:this.day(this.day()%7?t:t-7)},isoWeeksInYear:function(){return w(this.year(),1,4)},weeksInYear:function(){var t=this.localeData()._week;return w(this.year(),t.dow,t.doy)},get:function(t){return this[t=O(t)]()},set:function(t,e){var n;if("object"==typeof t)for(n in t)this.set(n,t[n]);else"function"==typeof this[t=O(t)]&&this[t](e);return this},locale:function(t){var e;return t===c?this._locale._abbr:(null!=(e=Ct.localeData(t))&&(this._locale=e),this)},lang:e("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===c?this.localeData():this.locale(t)}),localeData:function(){return this._locale},_dateUtcOffset:function(){return 15*-Math.round(this._d.getTimezoneOffset()/15)}}),Ct.fn.millisecond=Ct.fn.milliseconds=gt("Milliseconds",!1),Ct.fn.second=Ct.fn.seconds=gt("Seconds",!1),Ct.fn.minute=Ct.fn.minutes=gt("Minutes",!1),Ct.fn.hour=Ct.fn.hours=gt("Hours",!0),Ct.fn.date=gt("Date",!0),Ct.fn.dates=e("dates accessor is deprecated. Use date instead.",gt("Date",!0)),Ct.fn.year=gt("FullYear",!0),Ct.fn.years=e("years accessor is deprecated. Use year instead.",gt("FullYear",!0)),Ct.fn.days=Ct.fn.day,Ct.fn.months=Ct.fn.month,Ct.fn.weeks=Ct.fn.week,Ct.fn.isoWeeks=Ct.fn.isoWeek,Ct.fn.quarters=Ct.fn.quarter,Ct.fn.toJSON=Ct.fn.toISOString,Ct.fn.isUTC=Ct.fn.isUtc,p(Ct.duration.fn=f.prototype,{_bubble:function(){var t,e,n,i=this._milliseconds,o=this._days,a=this._months,r=this._data,s=0;r.milliseconds=i%1e3,t=g(i/1e3),r.seconds=t%60,e=g(t/60),r.minutes=e%60,n=g(e/60),r.hours=n%24,o+=g(n/24),a+=g((o-=g(Et(s=g(vt(o)))))/30),o%=30,s+=g(a/12),a%=12,r.days=o,r.months=a,r.years=s},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return g(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*_(this._months/12)},humanize:function(t){var e=lt(this,!t,this.localeData());return t&&(e=this.localeData().pastFuture(+this,e)),this.localeData().postformat(e)},add:function(t,e){var n=Ct.duration(t,e);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},subtract:function(t,e){var n=Ct.duration(t,e);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},get:function(t){return this[(t=O(t)).toLowerCase()+"s"]()},as:function(t){var e,n;if("month"===(t=O(t))||"year"===t)return e=this._days+this._milliseconds/864e5,n=this._months+12*vt(e),"month"===t?n:n/12;switch(e=this._days+Math.round(Et(this._months/12)),t){case"week":return e/7+this._milliseconds/6048e5;case"day":return e+this._milliseconds/864e5;case"hour":return 24*e+this._milliseconds/36e5;case"minute":return 24*e*60+this._milliseconds/6e4;case"second":return 24*e*60*60+this._milliseconds/1e3;case"millisecond":return Math.floor(24*e*60*60*1e3)+this._milliseconds;default:throw new Error("Unknown unit "+t)}},lang:Ct.fn.lang,locale:Ct.fn.locale,toIsoString:e("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var t=Math.abs(this.years()),e=Math.abs(this.months()),n=Math.abs(this.days()),i=Math.abs(this.hours()),o=Math.abs(this.minutes()),a=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(t?t+"Y":"")+(e?e+"M":"")+(n?n+"D":"")+(i||o||a?"T":"")+(i?i+"H":"")+(o?o+"M":"")+(a?a+"S":""):"P0D"},localeData:function(){return this._locale},toJSON:function(){return this.toISOString()}}),Ct.duration.fn.toString=Ct.duration.fn.toISOString,de)d(de,Dt)&&Tt(Dt.toLowerCase());Ct.duration.fn.asMilliseconds=function(){return this.as("ms")},Ct.duration.fn.asSeconds=function(){return this.as("s")},Ct.duration.fn.asMinutes=function(){return this.as("m")},Ct.duration.fn.asHours=function(){return this.as("h")},Ct.duration.fn.asDays=function(){return this.as("d")},Ct.duration.fn.asWeeks=function(){return this.as("weeks")},Ct.duration.fn.asMonths=function(){return this.as("M")},Ct.duration.fn.asYears=function(){return this.as("y")},Ct.locale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===_(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),Ft?module.exports=Ct:"function"==typeof define&&define.amd?(define(function(t,e,n){return n.config&&n.config()&&!0===n.config().noGlobal&&(Ot.moment=yt),Ct}),bt(!0)):bt()}.call(this),function(i,o){if("function"==typeof define&&define.amd)define(["moment","jquery","exports"],function(t,e,n){i.daterangepicker=o(i,n,t,e)});else if("undefined"!=typeof exports){var t,e=require("moment");try{t=require("jquery")}catch(n){if(!(t=window.jQuery))throw new Error("jQuery dependency not found")}o(i,exports,e,t)}else i.daterangepicker=o(i,{},i.moment,i.jQuery||i.Zepto||i.ender||i.$)}(this,function(t,e,T,y){var i=function(t,e,n){("object"!=typeof e||null===e)&&(e={});var i="";"string"==typeof e.calender_style&&(i=e.calender_style),this.parentEl="body",this.element=y(t),this.isShowing=!1;var o='<div class="daterangepicker dropdown-menu '+i+'"><div class="calendar first left"></div><div class="calendar second right"></div><div class="ranges"><div class="range_inputs"><div class="daterangepicker_start_input"><label for="daterangepicker_start"></label><input class="input-mini" type="text" name="daterangepicker_start" value="" /></div><div class="daterangepicker_end_input"><label for="daterangepicker_end"></label><input class="input-mini" type="text" name="daterangepicker_end" value="" /></div><button class="applyBtn" disabled="disabled"></button>&nbsp;<button class="cancelBtn"></button></div></div></div>';this.parentEl=y("object"==typeof e&&e.parentEl&&y(e.parentEl).length?e.parentEl:this.parentEl),this.container=y(o).appendTo(this.parentEl),this.setOptions(e,n);var a=this.container;y.each(this.buttonClasses,function(t,e){a.find("button").addClass(e)}),this.container.find(".daterangepicker_start_input label").html(this.locale.fromLabel),this.container.find(".daterangepicker_end_input label").html(this.locale.toLabel),this.applyClass.length&&this.container.find(".applyBtn").addClass(this.applyClass),this.cancelClass.length&&this.container.find(".cancelBtn").addClass(this.cancelClass),this.container.find(".applyBtn").html(this.locale.applyLabel),this.container.find(".cancelBtn").html(this.locale.cancelLabel),this.container.find(".calendar").on("click.daterangepicker",".prev",y.proxy(this.clickPrev,this)).on("click.daterangepicker",".next",y.proxy(this.clickNext,this)).on("click.daterangepicker","td.available",y.proxy(this.clickDate,this)).on("mouseenter.daterangepicker","td.available",y.proxy(this.hoverDate,this)).on("mouseleave.daterangepicker","td.available",y.proxy(this.updateFormInputs,this)).on("change.daterangepicker","select.yearselect",y.proxy(this.updateMonthYear,this)).on("change.daterangepicker","select.monthselect",y.proxy(this.updateMonthYear,this)).on("change.daterangepicker","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",y.proxy(this.updateTime,this)),this.container.find(".ranges").on("click.daterangepicker","button.applyBtn",y.proxy(this.clickApply,this)).on("click.daterangepicker","button.cancelBtn",y.proxy(this.clickCancel,this)).on("click.daterangepicker",".daterangepicker_start_input,.daterangepicker_end_input",y.proxy(this.showCalendars,this)).on("change.daterangepicker",".daterangepicker_start_input,.daterangepicker_end_input",y.proxy(this.inputsChanged,this)).on("keydown.daterangepicker",".daterangepicker_start_input,.daterangepicker_end_input",y.proxy(this.inputsKeydown,this)).on("click.daterangepicker","li",y.proxy(this.clickRange,this)).on("mouseenter.daterangepicker","li",y.proxy(this.enterRange,this)).on("mouseleave.daterangepicker","li",y.proxy(this.updateFormInputs,this)),this.element.is("input")?this.element.on({"click.daterangepicker":y.proxy(this.show,this),"focus.daterangepicker":y.proxy(this.show,this),"keyup.daterangepicker":y.proxy(this.updateFromControl,this)}):this.element.on("click.daterangepicker",y.proxy(this.toggle,this))};i.prototype={constructor:i,setOptions:function(t,e){if(this.startDate=T().startOf("day"),this.endDate=T().endOf("day"),this.timeZone=T().zone(),this.minDate=!1,this.maxDate=!1,this.dateLimit=!1,this.showDropdowns=!1,this.showWeekNumbers=!1,this.timePicker=!1,this.timePickerSeconds=!1,this.timePickerIncrement=30,this.timePicker12Hour=!0,this.singleDatePicker=!1,this.ranges={},this.opens="right",this.element.hasClass("pull-right")&&(this.opens="left"),this.buttonClasses=["btn","btn-small btn-sm"],this.applyClass="btn-success",this.cancelClass="btn-default",this.format="MM/DD/YYYY",this.separator=" - ",this.locale={applyLabel:"Apply",cancelLabel:"Cancel",fromLabel:"From",toLabel:"To",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:T.weekdaysMin(),monthNames:T.monthsShort(),firstDay:T.localeData()._week.dow},this.cb=function(){},"string"==typeof t.format&&(this.format=t.format),"string"==typeof t.separator&&(this.separator=t.separator),"string"==typeof t.startDate&&(this.startDate=T(t.startDate,this.format)),"string"==typeof t.endDate&&(this.endDate=T(t.endDate,this.format)),"string"==typeof t.minDate&&(this.minDate=T(t.minDate,this.format)),"string"==typeof t.maxDate&&(this.maxDate=T(t.maxDate,this.format)),"object"==typeof t.startDate&&(this.startDate=T(t.startDate)),"object"==typeof t.endDate&&(this.endDate=T(t.endDate)),"object"==typeof t.minDate&&(this.minDate=T(t.minDate)),"object"==typeof t.maxDate&&(this.maxDate=T(t.maxDate)),"string"==typeof t.applyClass&&(this.applyClass=t.applyClass),"string"==typeof t.cancelClass&&(this.cancelClass=t.cancelClass),"object"==typeof t.dateLimit&&(this.dateLimit=t.dateLimit),"object"==typeof t.locale&&("object"==typeof t.locale.daysOfWeek&&(this.locale.daysOfWeek=t.locale.daysOfWeek.slice()),"object"==typeof t.locale.monthNames&&(this.locale.monthNames=t.locale.monthNames.slice()),"number"==typeof t.locale.firstDay&&(this.locale.firstDay=t.locale.firstDay),"string"==typeof t.locale.applyLabel&&(this.locale.applyLabel=t.locale.applyLabel),"string"==typeof t.locale.cancelLabel&&(this.locale.cancelLabel=t.locale.cancelLabel),"string"==typeof t.locale.fromLabel&&(this.locale.fromLabel=t.locale.fromLabel),"string"==typeof t.locale.toLabel&&(this.locale.toLabel=t.locale.toLabel),"string"==typeof t.locale.weekLabel&&(this.locale.weekLabel=t.locale.weekLabel),"string"==typeof t.locale.customRangeLabel&&(this.locale.customRangeLabel=t.locale.customRangeLabel)),"string"==typeof t.opens&&(this.opens=t.opens),"boolean"==typeof t.showWeekNumbers&&(this.showWeekNumbers=t.showWeekNumbers),"string"==typeof t.buttonClasses&&(this.buttonClasses=[t.buttonClasses]),"object"==typeof t.buttonClasses&&(this.buttonClasses=t.buttonClasses),"boolean"==typeof t.showDropdowns&&(this.showDropdowns=t.showDropdowns),"boolean"==typeof t.singleDatePicker&&(this.singleDatePicker=t.singleDatePicker,this.singleDatePicker&&(this.endDate=this.startDate.clone())),"boolean"==typeof t.timePicker&&(this.timePicker=t.timePicker),"boolean"==typeof t.timePickerSeconds&&(this.timePickerSeconds=t.timePickerSeconds),"number"==typeof t.timePickerIncrement&&(this.timePickerIncrement=t.timePickerIncrement),"boolean"==typeof t.timePicker12Hour&&(this.timePicker12Hour=t.timePicker12Hour),0!=this.locale.firstDay)for(var n=this.locale.firstDay;0<n;)this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()),n--;var i,o,a;if("undefined"==typeof t.startDate&&"undefined"==typeof t.endDate&&y(this.element).is("input[type=text]")){var r=y(this.element).val(),s=r.split(this.separator);i=o=null,2==s.length?(i=T(s[0],this.format),o=T(s[1],this.format)):this.singleDatePicker&&""!==r&&(i=T(r,this.format),o=T(r,this.format)),null!==i&&null!==o&&(this.startDate=i,this.endDate=o)}if("string"==typeof t.timeZone||"number"==typeof t.timeZone?(this.timeZone=t.timeZone,this.startDate.zone(this.timeZone),this.endDate.zone(this.timeZone)):this.timeZone=T(this.startDate).zone(),"object"==typeof t.ranges){for(a in t.ranges)i="string"==typeof t.ranges[a][0]?T(t.ranges[a][0],this.format):T(t.ranges[a][0]),o="string"==typeof t.ranges[a][1]?T(t.ranges[a][1],this.format):T(t.ranges[a][1]),this.minDate&&i.isBefore(this.minDate)&&(i=T(this.minDate)),this.maxDate&&o.isAfter(this.maxDate)&&(o=T(this.maxDate)),this.minDate&&o.isBefore(this.minDate)||this.maxDate&&i.isAfter(this.maxDate)||(this.ranges[a]=[i,o]);var l="<ul>";for(a in this.ranges)l+="<li>"+a+"</li>";l+="<li>"+this.locale.customRangeLabel+"</li>",l+="</ul>",this.container.find(".ranges ul").remove(),this.container.find(".ranges").prepend(l)}if("function"==typeof e&&(this.cb=e),this.timePicker||(this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.endOf("day")),this.singleDatePicker?(this.opens="right",this.container.addClass("single"),this.container.find(".calendar.right").show(),this.container.find(".calendar.left").hide(),this.timePicker?this.container.find(".ranges .daterangepicker_start_input, .ranges .daterangepicker_end_input").hide():this.container.find(".ranges").hide(),this.container.find(".calendar.right").hasClass("single")||this.container.find(".calendar.right").addClass("single")):(this.container.removeClass("single"),this.container.find(".calendar.right").removeClass("single"),this.container.find(".ranges").show()),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.oldChosenLabel=this.chosenLabel,this.leftCalendar={month:T([this.startDate.year(),this.startDate.month(),1,this.startDate.hour(),this.startDate.minute(),this.startDate.second()]),calendar:[]},this.rightCalendar={month:T([this.endDate.year(),this.endDate.month(),1,this.endDate.hour(),this.endDate.minute(),this.endDate.second()]),calendar:[]},"right"==this.opens||"center"==this.opens){var c=this.container.find(".calendar.first"),d=this.container.find(".calendar.second");d.hasClass("single")&&(d.removeClass("single"),c.addClass("single")),c.removeClass("left").addClass("right"),d.removeClass("right").addClass("left"),this.singleDatePicker&&(c.show(),d.hide())}"undefined"!=typeof t.ranges||this.singleDatePicker||this.container.addClass("show-calendar"),this.container.addClass("opens"+this.opens),this.updateView(),this.updateCalendars()},setStartDate:function(t){"string"==typeof t&&(this.startDate=T(t,this.format).zone(this.timeZone)),"object"==typeof t&&(this.startDate=T(t)),this.timePicker||(this.startDate=this.startDate.startOf("day")),this.oldStartDate=this.startDate.clone(),this.updateView(),this.updateCalendars(),this.updateInputText()},setEndDate:function(t){"string"==typeof t&&(this.endDate=T(t,this.format).zone(this.timeZone)),"object"==typeof t&&(this.endDate=T(t)),this.timePicker||(this.endDate=this.endDate.endOf("day")),this.oldEndDate=this.endDate.clone(),this.updateView(),this.updateCalendars(),this.updateInputText()},updateView:function(){this.leftCalendar.month.month(this.startDate.month()).year(this.startDate.year()).hour(this.startDate.hour()).minute(this.startDate.minute()),this.rightCalendar.month.month(this.endDate.month()).year(this.endDate.year()).hour(this.endDate.hour()).minute(this.endDate.minute()),this.updateFormInputs()},updateFormInputs:function(){this.container.find("input[name=daterangepicker_start]").val(this.startDate.format(this.format)),this.container.find("input[name=daterangepicker_end]").val(this.endDate.format(this.format)),this.startDate.isSame(this.endDate)||this.startDate.isBefore(this.endDate)?this.container.find("button.applyBtn").removeAttr("disabled"):this.container.find("button.applyBtn").attr("disabled","disabled")},updateFromControl:function(){if(this.element.is("input")&&this.element.val().length){var t=this.element.val().split(this.separator),e=null,n=null;2===t.length&&(e=T(t[0],this.format).zone(this.timeZone),n=T(t[1],this.format).zone(this.timeZone)),(this.singleDatePicker||null===e||null===n)&&(n=e=T(this.element.val(),this.format).zone(this.timeZone)),n.isBefore(e)||(this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.startDate=e,this.endDate=n,this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.notify(),this.updateCalendars())}},notify:function(){this.updateView(),this.cb(this.startDate,this.endDate,this.chosenLabel)},move:function(){var t={top:0,left:0},e=y(window).width();this.parentEl.is("body")||(t={top:this.parentEl.offset().top-this.parentEl.scrollTop(),left:this.parentEl.offset().left-this.parentEl.scrollLeft()},e=this.parentEl[0].clientWidth+this.parentEl.offset().left),"left"==this.opens?(this.container.css({top:this.element.offset().top+this.element.outerHeight()-t.top,right:e-this.element.offset().left-this.element.outerWidth(),left:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):"center"==this.opens?(this.container.css({top:this.element.offset().top+this.element.outerHeight()-t.top,left:this.element.offset().left-t.left+this.element.outerWidth()/2-this.container.outerWidth()/2,right:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):(this.container.css({top:this.element.offset().top+this.element.outerHeight()-t.top,left:this.element.offset().left-t.left,right:"auto"}),this.container.offset().left+this.container.outerWidth()>y(window).width()&&this.container.css({left:"auto",right:0}))},toggle:function(){this.element.hasClass("active")?this.hide():this.show()},show:function(){this.isShowing||(this.element.addClass("active"),this.container.show(),this.move(),this._outsideClickProxy=y.proxy(function(t){this.outsideClick(t)},this),y(document).on("mousedown.daterangepicker",this._outsideClickProxy).on("touchend.daterangepicker",this._outsideClickProxy).on("click.daterangepicker","[data-toggle=dropdown]",this._outsideClickProxy).on("focusin.daterangepicker",this._outsideClickProxy),this.isShowing=!0,this.element.trigger("show.daterangepicker",this))},outsideClick:function(t){var e=y(t.target);"focusin"==t.type||e.closest(this.element).length||e.closest(this.container).length||e.closest(".calendar-date").length||this.hide()},hide:function(){this.isShowing&&(y(document).off(".daterangepicker"),this.element.removeClass("active"),this.container.hide(),this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.notify(),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.isShowing=!1,this.element.trigger("hide.daterangepicker",this))},enterRange:function(t){var e=t.target.innerHTML;if(e==this.locale.customRangeLabel)this.updateView();else{var n=this.ranges[e];this.container.find("input[name=daterangepicker_start]").val(n[0].format(this.format)),this.container.find("input[name=daterangepicker_end]").val(n[1].format(this.format))}},showCalendars:function(){this.container.addClass("show-calendar"),this.move(),this.element.trigger("showCalendar.daterangepicker",this)},hideCalendars:function(){this.container.removeClass("show-calendar"),this.element.trigger("hideCalendar.daterangepicker",this)},inputsChanged:function(t){var e,n,i=y(t.target),o=T(i.val(),this.format);o.isValid()&&("daterangepicker_start"===i.attr("name")?(e=o,n=this.endDate):(e=this.startDate,n=o),this.setCustomDates(e,n))},inputsKeydown:function(t){13===t.keyCode&&(this.inputsChanged(t),this.notify())},updateInputText:function(){this.element.is("input")&&!this.singleDatePicker?this.element.val(this.startDate.format(this.format)+this.separator+this.endDate.format(this.format)):this.element.is("input")&&this.element.val(this.endDate.format(this.format))},clickRange:function(t){var e=t.target.innerHTML;if((this.chosenLabel=e)==this.locale.customRangeLabel)this.showCalendars();else{var n=this.ranges[e];this.startDate=n[0],this.endDate=n[1],this.timePicker||(this.startDate.startOf("day"),this.endDate.endOf("day")),this.leftCalendar.month.month(this.startDate.month()).year(this.startDate.year()).hour(this.startDate.hour()).minute(this.startDate.minute()),this.rightCalendar.month.month(this.endDate.month()).year(this.endDate.year()).hour(this.endDate.hour()).minute(this.endDate.minute()),this.updateCalendars(),this.updateInputText(),this.hideCalendars(),this.hide(),this.element.trigger("apply.daterangepicker",this)}},clickPrev:function(t){y(t.target).parents(".calendar").hasClass("left")?this.leftCalendar.month.subtract(1,"month"):this.rightCalendar.month.subtract(1,"month"),this.updateCalendars()},clickNext:function(t){y(t.target).parents(".calendar").hasClass("left")?this.leftCalendar.month.add(1,"month"):this.rightCalendar.month.add(1,"month"),this.updateCalendars()},hoverDate:function(t){var e=y(t.target).attr("data-title"),n=e.substr(1,1),i=e.substr(3,1);y(t.target).parents(".calendar").hasClass("left")?this.container.find("input[name=daterangepicker_start]").val(this.leftCalendar.calendar[n][i].format(this.format)):this.container.find("input[name=daterangepicker_end]").val(this.rightCalendar.calendar[n][i].format(this.format))},setCustomDates:function(t,e){if(this.chosenLabel=this.locale.customRangeLabel,t.isAfter(e)){var n=this.endDate.diff(this.startDate);e=T(t).add(n,"ms")}this.startDate=t,this.endDate=e,this.updateView(),this.updateCalendars()},clickDate:function(t){var e,n,i=y(t.target).attr("data-title"),o=i.substr(1,1),a=i.substr(3,1),r=y(t.target).parents(".calendar");if(r.hasClass("left")){if(e=this.leftCalendar.calendar[o][a],n=this.endDate,"object"==typeof this.dateLimit){var s=T(e).add(this.dateLimit).startOf("day");n.isAfter(s)&&(n=s)}}else if(e=this.startDate,n=this.rightCalendar.calendar[o][a],"object"==typeof this.dateLimit){var l=T(n).subtract(this.dateLimit).startOf("day");e.isBefore(l)&&(e=l)}this.singleDatePicker&&r.hasClass("left")?n=e.clone():this.singleDatePicker&&r.hasClass("right")&&(e=n.clone()),r.find("td").removeClass("active"),y(t.target).addClass("active"),this.setCustomDates(e,n),this.timePicker||n.endOf("day"),this.singleDatePicker&&!this.timePicker&&this.clickApply()},clickApply:function(){this.updateInputText(),this.hide(),this.element.trigger("apply.daterangepicker",this)},clickCancel:function(){this.startDate=this.oldStartDate,this.endDate=this.oldEndDate,this.chosenLabel=this.oldChosenLabel,this.updateView(),this.updateCalendars(),this.hide(),this.element.trigger("cancel.daterangepicker",this)},updateMonthYear:function(t){var e=y(t.target).closest(".calendar").hasClass("left")?"left":"right",n=this.container.find(".calendar."+e),i=parseInt(n.find(".monthselect").val(),10),o=n.find(".yearselect").val();this[e+"Calendar"].month.month(i).year(o),this.updateCalendars()},updateTime:function(t){var e=y(t.target).closest(".calendar"),n=e.hasClass("left"),i=parseInt(e.find(".hourselect").val(),10),o=parseInt(e.find(".minuteselect").val(),10),a=0;if(this.timePickerSeconds&&(a=parseInt(e.find(".secondselect").val(),10)),this.timePicker12Hour){var r=e.find(".ampmselect").val();"PM"===r&&i<12&&(i+=12),"AM"===r&&12===i&&(i=0)}if(n){var s=this.startDate.clone();s.hour(i),s.minute(o),s.second(a),this.startDate=s,this.leftCalendar.month.hour(i).minute(o).second(a),this.singleDatePicker&&(this.endDate=s.clone())}else{var l=this.endDate.clone();l.hour(i),l.minute(o),l.second(a),this.endDate=l,this.singleDatePicker&&(this.startDate=l.clone()),this.rightCalendar.month.hour(i).minute(o).second(a)}this.updateView(),this.updateCalendars()},updateCalendars:function(){this.leftCalendar.calendar=this.buildCalendar(this.leftCalendar.month.month(),this.leftCalendar.month.year(),this.leftCalendar.month.hour(),this.leftCalendar.month.minute(),this.leftCalendar.month.second(),"left"),this.rightCalendar.calendar=this.buildCalendar(this.rightCalendar.month.month(),this.rightCalendar.month.year(),this.rightCalendar.month.hour(),this.rightCalendar.month.minute(),this.rightCalendar.month.second(),"right"),this.container.find(".calendar.left").empty().html(this.renderCalendar(this.leftCalendar.calendar,this.startDate,this.minDate,this.maxDate,"left")),this.container.find(".calendar.right").empty().html(this.renderCalendar(this.rightCalendar.calendar,this.endDate,this.singleDatePicker?this.minDate:this.startDate,this.maxDate,"right")),this.container.find(".ranges li").removeClass("active");var t=!0,e=0;for(var n in this.ranges)this.timePicker?this.startDate.isSame(this.ranges[n][0])&&this.endDate.isSame(this.ranges[n][1])&&(t=!1,this.chosenLabel=this.container.find(".ranges li:eq("+e+")").addClass("active").html()):this.startDate.format("YYYY-MM-DD")==this.ranges[n][0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")==this.ranges[n][1].format("YYYY-MM-DD")&&(t=!1,this.chosenLabel=this.container.find(".ranges li:eq("+e+")").addClass("active").html()),e++;t&&(
this.chosenLabel=this.container.find(".ranges li:last").addClass("active").html(),this.showCalendars())},buildCalendar:function(t,e,n,i,o,a){var r,s=T([e,t]).daysInMonth(),l=T([e,t,1]),c=T([e,t,s]),d=T(l).subtract(1,"month").month(),u=T(l).subtract(1,"month").year(),h=T([u,d]).daysInMonth(),f=l.day(),p=[];for(p.firstDay=l,p.lastDay=c,r=0;r<6;r++)p[r]=[];var m=h-f+this.locale.firstDay+1;h<m&&(m-=7),f==this.locale.firstDay&&(m=h-6);var g,v,E=T([u,d,m,12,i,o]).zone(this.timeZone);for(v=g=r=0;r<42;r++,g++,E=T(E).add(24,"hour"))0<r&&g%7==0&&(g=0,v++),p[v][g]=E.clone().hour(n),E.hour(12),this.minDate&&p[v][g].format("YYYY-MM-DD")==this.minDate.format("YYYY-MM-DD")&&p[v][g].isBefore(this.minDate)&&"left"==a&&(p[v][g]=this.minDate.clone()),this.maxDate&&p[v][g].format("YYYY-MM-DD")==this.maxDate.format("YYYY-MM-DD")&&p[v][g].isAfter(this.maxDate)&&"right"==a&&(p[v][g]=this.maxDate.clone());return p},renderDropdowns:function(t,e,n){for(var i=t.month(),o=t.year(),a=n&&n.year()||o+5,r=e&&e.year()||o-50,s='<select class="monthselect">',l=o==r,c=o==a,d=0;d<12;d++)(!l||d>=e.month())&&(!c||d<=n.month())&&(s+="<option value='"+d+"'"+(d===i?" selected='selected'":"")+">"+this.locale.monthNames[d]+"</option>");s+="</select>";for(var u='<select class="yearselect">',h=r;h<=a;h++)u+='<option value="'+h+'"'+(h===o?' selected="selected"':"")+">"+h+"</option>";return s+(u+="</select>")},renderCalendar:function(t,e,n,i,o){var a='<div class="calendar-date">';a+='<table class="table-condensed">',a+="<thead>",a+="<tr>",this.showWeekNumbers&&(a+="<th></th>"),a+=!n||n.isBefore(t.firstDay)?'<th class="prev available"><i class="fa fa-arrow-left icon icon-arrow-left glyphicon glyphicon-arrow-left"></i></th>':"<th></th>";var r,s=this.locale.monthNames[t[1][1].month()]+t[1][1].format(" YYYY");this.showDropdowns&&(s=this.renderDropdowns(t[1][1],n,i)),a+='<th colspan="5" class="month">'+s+"</th>",a+=!i||i.isAfter(t.lastDay)?'<th class="next available"><i class="fa fa-arrow-right icon icon-arrow-right glyphicon glyphicon-arrow-right"></i></th>':"<th></th>",a+="</tr>",a+="<tr>",this.showWeekNumbers&&(a+='<th class="week">'+this.locale.weekLabel+"</th>"),y.each(this.locale.daysOfWeek,function(t,e){a+="<th>"+e+"</th>"}),a+="</tr>",a+="</thead>",a+="<tbody>";for(var l=0;l<6;l++){a+="<tr>",this.showWeekNumbers&&(a+='<td class="week">'+t[l][0].week()+"</td>");for(var c=0;c<7;c++){var d="available ";d+=t[l][c].month()==t[1][1].month()?"":"off",n&&t[l][c].isBefore(n,"day")||i&&t[l][c].isAfter(i,"day")?d=" off disabled ":t[l][c].format("YYYY-MM-DD")==e.format("YYYY-MM-DD")?(d+=" active ",t[l][c].format("YYYY-MM-DD")==this.startDate.format("YYYY-MM-DD")&&(d+=" start-date "),t[l][c].format("YYYY-MM-DD")==this.endDate.format("YYYY-MM-DD")&&(d+=" end-date ")):t[l][c]>=this.startDate&&t[l][c]<=this.endDate&&(d+=" in-range ",t[l][c].isSame(this.startDate)&&(d+=" start-date "),t[l][c].isSame(this.endDate)&&(d+=" end-date "));var u="r"+l+"c"+c;a+='<td class="'+d.replace(/\s+/g," ").replace(/^\s?(.*?)\s?$/,"$1")+'" data-title="'+u+'">'+t[l][c].date()+"</td>"}a+="</tr>"}if(a+="</tbody>",a+="</table>",a+="</div>",this.timePicker){a+='<div class="calendar-time">',a+='<select class="hourselect">';var h=0,f=23;n&&("left"==o||this.singleDatePicker)&&e.format("YYYY-MM-DD")==n.format("YYYY-MM-DD")&&(h=n.hour(),e.hour()<h&&e.hour(h),this.timePicker12Hour&&12<=h&&12<=e.hour()&&(h-=12),this.timePicker12Hour&&12==h&&(h=1)),i&&("right"==o||this.singleDatePicker)&&e.format("YYYY-MM-DD")==i.format("YYYY-MM-DD")&&(f=i.hour(),e.hour()>f&&e.hour(f),this.timePicker12Hour&&12<=f&&12<=e.hour()&&(f-=12));var p=0,m=23,g=e.hour();for(this.timePicker12Hour&&(p=1,(m=12)<=g&&(g-=12),0===g&&(g=12)),r=p;r<=m;r++)a+=r==g?'<option value="'+r+'" selected="selected">'+r+"</option>":r<h||f<r?'<option value="'+r+'" disabled="disabled" class="disabled">'+r+"</option>":'<option value="'+r+'">'+r+"</option>";a+="</select> : ",a+='<select class="minuteselect">';var v=0,E=59;for(n&&("left"==o||this.singleDatePicker)&&e.format("YYYY-MM-DD h A")==n.format("YYYY-MM-DD h A")&&(v=n.minute(),e.minute()<v&&e.minute(v)),i&&("right"==o||this.singleDatePicker)&&e.format("YYYY-MM-DD h A")==i.format("YYYY-MM-DD h A")&&(E=i.minute(),e.minute()>E&&e.minute(E)),r=0;r<60;r+=this.timePickerIncrement){(T=r)<10&&(T="0"+T),a+=r==e.minute()?'<option value="'+r+'" selected="selected">'+T+"</option>":r<v||E<r?'<option value="'+r+'" disabled="disabled" class="disabled">'+T+"</option>":'<option value="'+r+'">'+T+"</option>"}if(a+="</select> ",this.timePickerSeconds){for(a+=': <select class="secondselect">',r=0;r<60;r+=this.timePickerIncrement){var T;(T=r)<10&&(T="0"+T),a+=r==e.second()?'<option value="'+r+'" selected="selected">'+T+"</option>":'<option value="'+r+'">'+T+"</option>"}a+="</select>"}if(this.timePicker12Hour){a+='<select class="ampmselect">';var b="",C="";n&&("left"==o||this.singleDatePicker)&&e.format("YYYY-MM-DD")==n.format("YYYY-MM-DD")&&12<=n.hour()&&(b=' disabled="disabled" class="disabled"'),i&&("right"==o||this.singleDatePicker)&&e.format("YYYY-MM-DD")==i.format("YYYY-MM-DD")&&i.hour()<12&&(C=' disabled="disabled" class="disabled"'),a+=12<=e.hour()?'<option value="AM"'+b+'>AM</option><option value="PM" selected="selected"'+C+">PM</option>":'<option value="AM" selected="selected"'+b+'>AM</option><option value="PM"'+C+">PM</option>",a+="</select>"}a+="</div>"}return a},remove:function(){this.container.remove(),this.element.off(".daterangepicker"),this.element.removeData("daterangepicker")}},y.fn.daterangepicker=function(e,n){return this.each(function(){var t=y(this);t.data("daterangepicker")&&t.data("daterangepicker").remove(),t.data("daterangepicker",new i(t,e,n))}),this}}),function t(r,s,l){function c(n,e){if(!s[n]){if(!r[n]){var i="function"==typeof require&&require;if(!e&&i)return i(n,!0);if(d)return d(n,!0);var o=new Error("Cannot find module '"+n+"'");throw o.code="MODULE_NOT_FOUND",o}var a=s[n]={exports:{}};r[n][0].call(a.exports,function(t){var e=r[n][1][t];return c(e||t)},a,a.exports,t,r,s,l)}return s[n].exports}for(var d="function"==typeof require&&require,e=0;e<l.length;e++)c(l[e]);return c}({1:[function(){},{}],2:[function(t,e){var c=t("color-convert"),n=t("color-string"),i=function(t){if(t instanceof i)return t;if(!(this instanceof i))return new i(t);if(this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1},"string"==typeof t)if(e=n.getRgba(t))this.setValues("rgb",e);else if(e=n.getHsla(t))this.setValues("hsl",e);else{if(!(e=n.getHwb(t)))throw new Error('Unable to parse color from string "'+t+'"');this.setValues("hwb",e)}else if("object"==typeof t){var e;if(void 0!==(e=t).r||void 0!==e.red)this.setValues("rgb",e);else if(void 0!==e.l||void 0!==e.lightness)this.setValues("hsl",e);else if(void 0!==e.v||void 0!==e.value)this.setValues("hsv",e);else if(void 0!==e.w||void 0!==e.whiteness)this.setValues("hwb",e);else{if(void 0===e.c&&void 0===e.cyan)throw new Error("Unable to parse color from object "+JSON.stringify(t));this.setValues("cmyk",e)}}};i.prototype={rgb:function(t){return this.setSpace("rgb",arguments)},hsl:function(t){return this.setSpace("hsl",arguments)},hsv:function(t){return this.setSpace("hsv",arguments)},hwb:function(t){return this.setSpace("hwb",arguments)},cmyk:function(t){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){return 1!==this.values.alpha?this.values.hwb.concat([this.values.alpha]):this.values.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){return this.values.rgb.concat([this.values.alpha])},hslaArray:function(){return this.values.hsl.concat([this.values.alpha])},alpha:function(t){return void 0===t?this.values.alpha:(this.setValues("alpha",t),this)},red:function(t){return this.setChannel("rgb",0,t)},green:function(t){return this.setChannel("rgb",1,t)},blue:function(t){return this.setChannel("rgb",2,t)},hue:function(t){return this.setChannel("hsl",0,t)},saturation:function(t){return this.setChannel("hsl",1,t)},lightness:function(t){return this.setChannel("hsl",2,t)},saturationv:function(t){return this.setChannel("hsv",1,t)},whiteness:function(t){return this.setChannel("hwb",1,t)},blackness:function(t){return this.setChannel("hwb",2,t)},value:function(t){return this.setChannel("hsv",2,t)},cyan:function(t){return this.setChannel("cmyk",0,t)},magenta:function(t){return this.setChannel("cmyk",1,t)},yellow:function(t){return this.setChannel("cmyk",2,t)},black:function(t){return this.setChannel("cmyk",3,t)},hexString:function(){return n.hexString(this.values.rgb)},rgbString:function(){return n.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return n.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return n.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return n.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return n.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return n.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return n.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){return this.values.rgb[0]<<16|this.values.rgb[1]<<8|this.values.rgb[2]},luminosity:function(){for(var t=this.values.rgb,e=[],n=0;n<t.length;n++){var i=t[n]/255;e[n]=i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4)}return.2126*e[0]+.7152*e[1]+.0722*e[2]},contrast:function(t){var e=this.luminosity(),n=t.luminosity();return n<e?(e+.05)/(n+.05):(n+.05)/(e+.05)},level:function(t){var e=this.contrast(t);return 7.1<=e?"AAA":4.5<=e?"AA":""},dark:function(){var t=this.values.rgb;return(299*t[0]+587*t[1]+114*t[2])/1e3<128},light:function(){return!this.dark()},negate:function(){for(var t=[],e=0;e<3;e++)t[e]=255-this.values.rgb[e];return this.setValues("rgb",t),this},lighten:function(t){return this.values.hsl[2]+=this.values.hsl[2]*t,this.setValues("hsl",this.values.hsl),this},darken:function(t){return this.values.hsl[2]-=this.values.hsl[2]*t,this.setValues("hsl",this.values.hsl),this},saturate:function(t){return this.values.hsl[1]+=this.values.hsl[1]*t,this.setValues("hsl",this.values.hsl),this},desaturate:function(t){return this.values.hsl[1]-=this.values.hsl[1]*t,this.setValues("hsl",this.values.hsl),this},whiten:function(t){return this.values.hwb[1]+=this.values.hwb[1]*t,this.setValues("hwb",this.values.hwb),this},blacken:function(t){return this.values.hwb[2]+=this.values.hwb[2]*t,this.setValues("hwb",this.values.hwb),this},greyscale:function(){var t=this.values.rgb,e=.3*t[0]+.59*t[1]+.11*t[2];return this.setValues("rgb",[e,e,e]),this},clearer:function(t){return this.setValues("alpha",this.values.alpha-this.values.alpha*t),this},opaquer:function(t){return this.setValues("alpha",this.values.alpha+this.values.alpha*t),this},rotate:function(t){var e=this.values.hsl[0];return e=(e=(e+t)%360)<0?360+e:e,this.values.hsl[0]=e,this.setValues("hsl",this.values.hsl),this},mix:function(t,e){for(var n=2*(e=1-(null==e?.5:e))-1,i=this.alpha()-t.alpha(),o=((n*i==-1?n:(n+i)/(1+n*i))+1)/2,a=1-o,r=this.rgbArray(),s=t.rgbArray(),l=0;l<r.length;l++)r[l]=r[l]*o+s[l]*a;this.setValues("rgb",r);var c=this.alpha()*e+t.alpha()*(1-e);return this.setValues("alpha",c),this},toJSON:function(){return this.rgb()},clone:function(){return new i(this.rgb())}},i.prototype.getValues=function(t){for(var e={},n=0;n<t.length;n++)e[t.charAt(n)]=this.values[t][n];return 1!=this.values.alpha&&(e.a=this.values.alpha),e},i.prototype.setValues=function(t,e){var n={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},i={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},o=1;if("alpha"==t)o=e;else if(e.length)this.values[t]=e.slice(0,t.length),o=e[t.length];else if(void 0!==e[t.charAt(0)]){for(var a=0;a<t.length;a++)this.values[t][a]=e[t.charAt(a)];o=e.a}else if(void 0!==e[n[t][0]]){var r=n[t];for(a=0;a<t.length;a++)this.values[t][a]=e[r[a]];o=e.alpha}if(this.values.alpha=Math.max(0,Math.min(1,void 0!==o?o:this.values.alpha)),"alpha"!=t){for(a=0;a<t.length;a++){var s=Math.max(0,Math.min(i[t][a],this.values[t][a]));this.values[t][a]=Math.round(s)}for(var l in n){l!=t&&(this.values[l]=c[t][l](this.values[t]));for(a=0;a<l.length;a++){s=Math.max(0,Math.min(i[l][a],this.values[l][a]));this.values[l][a]=Math.round(s)}}return!0}},i.prototype.setSpace=function(t,e){var n=e[0];return void 0===n?this.getValues(t):("number"==typeof n&&(n=Array.prototype.slice.call(e)),this.setValues(t,n),this)},i.prototype.setChannel=function(t,e,n){return void 0===n?this.values[t][e]:(this.values[t][e]=n,this.setValues(t,this.values[t]),this)},window.Color=e.exports=i},{"color-convert":4,"color-string":6}],3:[function(t,e){function o(t){var e,n,i=t[0]/255,o=t[1]/255,a=t[2]/255,r=Math.min(i,o,a),s=Math.max(i,o,a),l=s-r;return s==r?e=0:i==s?e=(o-a)/l:o==s?e=2+(a-i)/l:a==s&&(e=4+(i-o)/l),(e=Math.min(60*e,360))<0&&(e+=360),n=(r+s)/2,[e,100*(s==r?0:n<=.5?l/(s+r):l/(2-s-r)),100*n]}function n(t){var e,n,i=t[0],o=t[1],a=t[2],r=Math.min(i,o,a),s=Math.max(i,o,a),l=s-r;return n=0==s?0:l/s*1e3/10,s==r?e=0:i==s?e=(o-a)/l:o==s?e=2+(a-i)/l:a==s&&(e=4+(i-o)/l),(e=Math.min(60*e,360))<0&&(e+=360),[e,n,s/255*1e3/10]}function i(t){var e=t[0],n=t[1],i=t[2];return[o(t)[0],100*(1/255*Math.min(e,Math.min(n,i))),100*(i=1-1/255*Math.max(e,Math.max(n,i)))]}function a(t){var e,n=t[0]/255,i=t[1]/255,o=t[2]/255;return[100*((1-n-(e=Math.min(1-n,1-i,1-o)))/(1-e)||0),100*((1-i-e)/(1-e)||0),100*((1-o-e)/(1-e)||0),100*e]}function s(t){return X[JSON.stringify(t)]}function l(t){var e=t[0]/255,n=t[1]/255,i=t[2]/255;return[100*(.4124*(e=.04045<e?Math.pow((e+.055)/1.055,2.4):e/12.92)+.3576*(n=.04045<n?Math.pow((n+.055)/1.055,2.4):n/12.92)+.1805*(i=.04045<i?Math.pow((i+.055)/1.055,2.4):i/12.92)),100*(.2126*e+.7152*n+.0722*i),100*(.0193*e+.1192*n+.9505*i)]}function c(t){var e=l(t),n=e[0],i=e[1],o=e[2];return i/=100,o/=108.883,n=.008856<(n/=95.047)?Math.pow(n,1/3):7.787*n+16/116,[116*(i=.008856<i?Math.pow(i,1/3):7.787*i+16/116)-16,500*(n-i),200*(i-(o=.008856<o?Math.pow(o,1/3):7.787*o+16/116))]}function d(t){return F(c(t))}function u(t){var e,n,i,o,a,r=t[0]/360,s=t[1]/100,l=t[2]/100;if(0==s)return[a=255*l,a,a];e=2*l-(n=l<.5?l*(1+s):l+s-l*s),o=[0,0,0];for(var c=0;c<3;c++)(i=r+1/3*-(c-1))<0&&i++,1<i&&i--,a=6*i<1?e+6*(n-e)*i:2*i<1?n:3*i<2?e+(n-e)*(2/3-i)*6:e,o[c]=255*a;return o}function h(t){var e=t[0],n=t[1]/100,i=t[2]/100;return 0===i?[0,0,0]:[e,100*(2*(n*=(i*=2)<=1?i:2-i)/(i+n)),100*((i+n)/2)]}function f(t){return i(u(t))}function p(t){return a(u(t))}function m(t){return s(u(t))}function v(t){var e=t[0]/60,n=t[1]/100,i=t[2]/100,o=Math.floor(e)%6,a=e-Math.floor(e),r=255*i*(1-n),s=255*i*(1-n*a),l=255*i*(1-n*(1-a));i*=255;switch(o){case 0:return[i,l,r];case 1:return[s,i,r];case 2:return[r,i,l];case 3:return[r,s,i];case 4:return[l,r,i];case 5:return[i,r,s]}}function E(t){var e,n,i=t[0],o=t[1]/100,a=t[2]/100;return e=o*a,[i,100*(e=(e/=(n=(2-o)*a)<=1?n:2-n)||0),100*(n/=2)]}function T(t){return i(v(t))}function C(t){return a(v(t))}function y(t){return s(v(t))}function D(t){var e,n,i,o,a=t[0]/360,s=t[1]/100,l=t[2]/100,c=s+l;switch(1<c&&(s/=c,l/=c),i=6*a-(e=Math.floor(6*a)),0!=(1&e)&&(i=1-i),o=s+i*((n=1-l)-s),e){default:case 6:case 0:r=n,g=o,b=s;break;case 1:r=o,g=n,b=s;break;case 2:r=s,g=n,b=o;break;case 3:r=s,g=o,b=n;break;case 4:r=o,g=s,b=n;break;case 5:r=n,g=s,b=o}return[255*r,255*g,255*b]}function I(t){return o(D(t))}function O(t){return n(D(t))}function R(t){return a(D(t))}function k(t){return s(D(t))}function _(t){var e=t[0]/100,n=t[1]/100,i=t[2]/100,o=t[3]/100;return[255*(1-Math.min(1,e*(1-o)+o)),255*(1-Math.min(1,n*(1-o)+o)),255*(1-Math.min(1,i*(1-o)+o))]}function x(t){return o(_(t))}function w(t){return n(_(t))}function K(t){return i(_(t))}function S(t){return s(_(t))}function N(t){var e,n,i,o=t[0]/100,a=t[1]/100,r=t[2]/100;return n=-.9689*o+1.8758*a+.0415*r,i=.0557*o+-.204*a+1.057*r,e=.0031308<(e=3.2406*o+-1.5372*a+-.4986*r)?1.055*Math.pow(e,1/2.4)-.055:e*=12.92,n=.0031308<n?1.055*Math.pow(n,1/2.4)-.055:n*=12.92,i=.0031308<i?1.055*Math.pow(i,1/2.4)-.055:i*=12.92,[255*(e=Math.min(Math.max(0,e),1)),255*(n=Math.min(Math.max(0,n),1)),255*(i=Math.min(Math.max(0,i),1))]}function A(t){var e=t[0],n=t[1],i=t[2];return n/=100,i/=108.883,e=.008856<(e/=95.047)?Math.pow(e,1/3):7.787*e+16/116,[116*(n=.008856<n?Math.pow(n,1/3):7.787*n+16/116)-16,500*(e-n),200*(n-(i=.008856<i?Math.pow(i,1/3):7.787*i+16/116))]}function M(t){return F(A(t))}function L(t){var e,n,i,o,a=t[0],r=t[1],s=t[2];return a<=8?o=(n=100*a/903.3)/100*7.787+16/116:(n=100*Math.pow((a+16)/116,3),o=Math.pow(n/100,1/3)),[e=e/95.047<=.008856?e=95.047*(r/500+o-16/116)/7.787:95.047*Math.pow(r/500+o,3),n,i=i/108.883<=.008859?i=108.883*(o-s/200-16/116)/7.787:108.883*Math.pow(o-s/200,3)]}function F(t){var e,n=t[0],i=t[1],o=t[2];return(e=360*Math.atan2(o,i)/2/Math.PI)<0&&(e+=360),[n,Math.sqrt(i*i+o*o),e]}function P(t){return N(L(t))}function B(t){var e,n=t[0],i=t[1];return e=t[2]/360*2*Math.PI,[n,i*Math.cos(e),i*Math.sin(e)]}function $(t){return L(B(t))}function H(t){return P(B(t))}function z(t){return G[t]}function q(t){return o(z(t))}function W(t){return n(z(t))}function j(t){return i(z(t))}function V(t){return a(z(t))}function U(t){return c(z(t))}function Y(t){return l(z(t))}e.exports={rgb2hsl:o,rgb2hsv:n,rgb2hwb:i,rgb2cmyk:a,rgb2keyword:s,rgb2xyz:l,rgb2lab:c,rgb2lch:d,hsl2rgb:u,hsl2hsv:h,hsl2hwb:f,hsl2cmyk:p,hsl2keyword:m,hsv2rgb:v,hsv2hsl:E,hsv2hwb:T,hsv2cmyk:C,hsv2keyword:y,hwb2rgb:D,hwb2hsl:I,hwb2hsv:O,hwb2cmyk:R,hwb2keyword:k,cmyk2rgb:_,cmyk2hsl:x,cmyk2hsv:w,cmyk2hwb:K,cmyk2keyword:S,keyword2rgb:z,keyword2hsl:q,keyword2hsv:W,keyword2hwb:j,keyword2cmyk:V,keyword2lab:U,keyword2xyz:Y,xyz2rgb:N,xyz2lab:A,xyz2lch:M,lab2xyz:L,lab2rgb:P,lab2lch:F,lch2lab:B,lch2xyz:$,lch2rgb:H};var G={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},X={};for(var Z in G)X[JSON.stringify(G[Z])]=Z},{}],4:[function(t,e){var o=t("./conversions"),a=function(){return new l};for(var n in o){a[n+"Raw"]=function(e){return function(t){return"number"==typeof t&&(t=Array.prototype.slice.call(arguments)),o[e](t)}}(n);var i=/(\w+)2(\w+)/.exec(n),r=i[1],s=i[2];a[r]=a[r]||{},a[r][s]=a[n]=function(i){return function(t){"number"==typeof t&&(t=Array.prototype.slice.call(arguments));var e=o[i](t);if("string"==typeof e||void 0===e)return e;for(var n=0;n<e.length;n++)e[n]=Math.round(e[n]);return e}}(n)}var l=function(){this.convs={}};l.prototype.routeSpace=function(t,e){var n=e[0];return void 0===n?this.getValues(t):("number"==typeof n&&(n=Array.prototype.slice.call(e)),this.setValues(t,n))},l.prototype.setValues=function(t,e){return this.space=t,this.convs={},this.convs[t]=e,this},l.prototype.getValues=function(t){var e=this.convs[t];if(!e){var n=this.space,i=this.convs[n];e=a[n][t](i),this.convs[t]=e}return e},["rgb","hsl","hsv","cmyk","keyword"].forEach(function(e){l.prototype[e]=function(t){return this.routeSpace(e,arguments)}}),e.exports=a},{"./conversions":3}],5:[function(t,e){e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},{}],6:[function(t,e){function n(t){if(t){var e=/^#([a-fA-F0-9]{3})$/,n=/^#([a-fA-F0-9]{6})$/,i=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,o=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,a=/(\w+)/,r=[0,0,0],s=1,l=t.match(e);if(l){l=l[1];for(var c=0;c<r.length;c++)r[c]=parseInt(l[c]+l[c],16)}else if(l=t.match(n)){l=l[1];for(c=0;c<r.length;c++)r[c]=parseInt(l.slice(2*c,2*c+2),16)}else if(l=t.match(i)){for(c=0;c<r.length;c++)r[c]=parseInt(l[c+1]);s=parseFloat(l[4])}else if(l=t.match(o)){for(c=0;c<r.length;c++)r[c]=Math.round(2.55*parseFloat(l[c+1]));s=parseFloat(l[4])}else if(l=t.match(a)){if("transparent"==l[1])return[0,0,0,0];if(!(r=T[l[1]]))return}for(c=0;c<r.length;c++)r[c]=v(r[c],0,255);return s=s||0==s?v(s,0,1):1,r[3]=s,r}}function i(t){if(t){var e=/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,n=t.match(e);if(n){var i=parseFloat(n[4]);return[v(parseInt(n[1]),0,360),v(parseFloat(n[2]),0,100),v(parseFloat(n[3]),0,100),v(isNaN(i)?1:i,0,1)]}}}function o(t){if(t){var e=/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,n=t.match(e);if(n){var i=parseFloat(n[4]);return[v(parseInt(n[1]),0,360),v(parseFloat(n[2]),0,100),v(parseFloat(n[3]),0,100),v(isNaN(i)?1:i,0,1)]}}}function a(t){var e=n(t);return e&&e.slice(0,3)}function r(t){var e=i(t);return e&&e.slice(0,3)}function s(t){var e=n(t);return e?e[3]:(e=i(t))?e[3]:(e=o(t))?e[3]:void 0}function l(t){return"#"+E(t[0])+E(t[1])+E(t[2])}function c(t,e){return e<1||t[3]&&t[3]<1?d(t,e):"rgb("+t[0]+", "+t[1]+", "+t[2]+")"}function d(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"rgba("+t[0]+", "+t[1]+", "+t[2]+", "+e+")"}function u(t,e){return e<1||t[3]&&t[3]<1?h(t,e):"rgb("+Math.round(t[0]/255*100)+"%, "+Math.round(t[1]/255*100)+"%, "+Math.round(t[2]/255*100)+"%)"}function h(t,e){return"rgba("+Math.round(t[0]/255*100)+"%, "+Math.round(t[1]/255*100)+"%, "+Math.round(t[2]/255*100)+"%, "+(e||t[3]||1)+")"}function f(t,e){return e<1||t[3]&&t[3]<1?p(t,e):"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)"}function p(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+e+")"}function m(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+(void 0!==e&&1!==e?", "+e:"")+")"}function g(t){return b[t.slice(0,3)]}function v(t,e,n){return Math.min(Math.max(e,t),n)}function E(t){var e=t.toString(16).toUpperCase();return e.length<2?"0"+e:e}var T=t("color-name");e.exports={getRgba:n,getHsla:i,getRgb:a,getHsl:r,getHwb:o,getAlpha:s,hexString:l,rgbString:c,rgbaString:d,percentString:u,percentaString:h,hslString:f,hslaString:p,hwbString:m,keyword:g};var b={};for(var C in T)b[T[C]]=C},{"color-name":5}],7:[function(t,e){var n=t("./core/core.js")();t("./core/core.helpers")(n),t("./core/core.element")(n),t("./core/core.animation")(n),t("./core/core.controller")(n),t("./core/core.datasetController")(n),t("./core/core.layoutService")(n),t("./core/core.legend")(n),t("./core/core.plugin.js")(n),t("./core/core.scale")(n),t("./core/core.scaleService")(n),t("./core/core.title")(n),t("./core/core.tooltip")(n),t("./controllers/controller.bar")(n),t("./controllers/controller.bubble")(n),t("./controllers/controller.doughnut")(n),t("./controllers/controller.line")(n),t("./controllers/controller.polarArea")(n),t("./controllers/controller.radar")(n),t("./scales/scale.category")(n),t("./scales/scale.linear")(n),t("./scales/scale.logarithmic")(n),t("./scales/scale.radialLinear")(n),t("./scales/scale.time")(n),t("./elements/element.arc")(n),t("./elements/element.line")(n),t("./elements/element.point")(n),t("./elements/element.rectangle")(n),t("./charts/Chart.Bar")(n),t("./charts/Chart.Bubble")(n),t("./charts/Chart.Doughnut")(n),t("./charts/Chart.Line")(n),t("./charts/Chart.PolarArea")(n),t("./charts/Chart.Radar")(n),t("./charts/Chart.Scatter")(n),window.Chart=e.exports=n},{"./charts/Chart.Bar":8,"./charts/Chart.Bubble":9,"./charts/Chart.Doughnut":10,"./charts/Chart.Line":11,"./charts/Chart.PolarArea":12,"./charts/Chart.Radar":13,"./charts/Chart.Scatter":14,"./controllers/controller.bar":15,"./controllers/controller.bubble":16,"./controllers/controller.doughnut":17,"./controllers/controller.line":18,"./controllers/controller.polarArea":19,"./controllers/controller.radar":20,"./core/core.animation":21,"./core/core.controller":22,"./core/core.datasetController":23,"./core/core.element":24,"./core/core.helpers":25,"./core/core.js":26,"./core/core.layoutService":27,"./core/core.legend":28,"./core/core.plugin.js":29,"./core/core.scale":30,"./core/core.scaleService":31,"./core/core.title":32,"./core/core.tooltip":33,"./elements/element.arc":34,"./elements/element.line":35,"./elements/element.point":36,"./elements/element.rectangle":37,"./scales/scale.category":38,"./scales/scale.linear":39,"./scales/scale.logarithmic":40,"./scales/scale.radialLinear":41,"./scales/scale.time":42}],8:[function(t,e){"use strict";e.exports=function(n){n.Bar=function(t,e){return e.type="bar",new n(t,e)}}},{}],9:[function(t,e){"use strict";e.exports=function(n){n.Bubble=function(t,e){return e.type="bubble",new n(t,e)}}},{}],10:[function(t,e){"use strict";e.exports=function(n){n.Doughnut=function(t,e){return e.type="doughnut",new n(t,e)}}},{}],11:[function(t,e){"use strict";e.exports=function(n){n.Line=function(t,e){return e.type="line",new n(t,e)}}},{}],12:[function(t,e){"use strict";e.exports=function(n){n.PolarArea=function(t,e){return e.type="polarArea",new n(t,e)}}},{}],13:[function(t,e){"use strict";e.exports=function(n){var i=n.helpers,o={aspectRatio:1};n.Radar=function(t,e){return e.options=i.configMerge(o,e.options),e.type="radar",new n(t,e)}}},{}],14:[function(t,e){"use strict";e.exports=function(n){var t={hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-1"}],yAxes:[{type:"linear",position:"left",id:"y-axis-1"}]},tooltips:{callbacks:{title:function(){return""},label:function(t){return"("+t.xLabel+", "+t.yLabel+")"}}}};n.defaults.scatter=t,n.controllers.scatter=n.controllers.line,n.Scatter=function(t,e){return e.type="scatter",new n(t,e)}}},{}],15:[function(t,e){"use strict";e.exports=function(i){var l=i.helpers;i.defaults.bar={hover:{mode:"label"},scales:{xAxes:[{type:"category",categoryPercentage:.8,barPercentage:.9,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}},i.controllers.bar=i.DatasetController.extend({initialize:function(t,e){i.DatasetController.prototype.initialize.call(this,t,e),this.getDataset().bar=!0},getBarCount:function(){var e=0;return l.each(this.chart.data.datasets,function(t){l.isDatasetVisible(t)&&t.bar&&++e}),e},addElements:function(){this.getDataset().metaData=this.getDataset().metaData||[],l.each(this.getDataset().data,function(t,e){
this.getDataset().metaData[e]=this.getDataset().metaData[e]||new i.elements.Rectangle({_chart:this.chart.chart,_datasetIndex:this.index,_index:e})},this)},addElementAndReset:function(t){this.getDataset().metaData=this.getDataset().metaData||[];var e=new i.elements.Rectangle({_chart:this.chart.chart,_datasetIndex:this.index,_index:t}),n=this.getBarCount();this.updateElement(e,t,!0,n),this.getDataset().metaData.splice(t,0,e)},update:function(n){var i=this.getBarCount();l.each(this.getDataset().metaData,function(t,e){this.updateElement(t,e,n,i)},this)},updateElement:function(t,e,n,i){var o,a=this.getScaleForId(this.getDataset().xAxisID),r=this.getScaleForId(this.getDataset().yAxisID);o=r.min<0&&r.max<0?r.getPixelForValue(r.max):0<r.min&&0<r.max?r.getPixelForValue(r.min):r.getPixelForValue(0),l.extend(t,{_chart:this.chart.chart,_xScale:a,_yScale:r,_datasetIndex:this.index,_index:e,_model:{x:this.calculateBarX(e,this.index),y:n?o:this.calculateBarY(e,this.index),label:this.chart.data.labels[e],datasetLabel:this.getDataset().label,base:n?o:this.calculateBarBase(this.index,e),width:this.calculateBarWidth(i),backgroundColor:t.custom&&t.custom.backgroundColor?t.custom.backgroundColor:l.getValueAtIndexOrDefault(this.getDataset().backgroundColor,e,this.chart.options.elements.rectangle.backgroundColor),borderSkipped:t.custom&&t.custom.borderSkipped?t.custom.borderSkipped:this.chart.options.elements.rectangle.borderSkipped,borderColor:t.custom&&t.custom.borderColor?t.custom.borderColor:l.getValueAtIndexOrDefault(this.getDataset().borderColor,e,this.chart.options.elements.rectangle.borderColor),borderWidth:t.custom&&t.custom.borderWidth?t.custom.borderWidth:l.getValueAtIndexOrDefault(this.getDataset().borderWidth,e,this.chart.options.elements.rectangle.borderWidth)}}),t.pivot()},calculateBarBase:function(t,e){var n=(this.getScaleForId(this.getDataset().xAxisID),this.getScaleForId(this.getDataset().yAxisID)),i=0;if(n.options.stacked){if(this.chart.data.datasets[t].data[e]<0)for(var o=0;o<t;o++){var a=this.chart.data.datasets[o];l.isDatasetVisible(a)&&a.yAxisID===n.id&&a.bar&&(i+=a.data[e]<0?a.data[e]:0)}else for(var r=0;r<t;r++){var s=this.chart.data.datasets[r];l.isDatasetVisible(s)&&s.yAxisID===n.id&&s.bar&&(i+=0<s.data[e]?s.data[e]:0)}return n.getPixelForValue(i)}return i=n.getPixelForValue(n.min),n.beginAtZero||n.min<=0&&0<=n.max||0<=n.min&&n.max<=0?i=n.getPixelForValue(0,0):n.min<0&&n.max<0&&(i=n.getPixelForValue(n.max)),i},getRuler:function(){var n=this.getScaleForId(this.getDataset().xAxisID),t=(this.getScaleForId(this.getDataset().yAxisID),this.getBarCount()),e=function(){for(var t=n.getPixelForTick(1)-n.getPixelForTick(0),e=2;e<this.getDataset().data.length;e++)t=Math.min(n.getPixelForTick(e)-n.getPixelForTick(e-1),t);return t}.call(this),i=e*n.options.categoryPercentage,o=i/t;return{datasetCount:t,tickWidth:e,categoryWidth:i,categorySpacing:(e-e*n.options.categoryPercentage)/2,fullBarWidth:o,barWidth:o*n.options.barPercentage,barSpacing:o-o*n.options.barPercentage}},calculateBarWidth:function(){var t=this.getScaleForId(this.getDataset().xAxisID),e=this.getRuler();return t.options.stacked?e.categoryWidth:e.barWidth},getBarIndex:function(t){for(var e=0,n=0;n<t;++n)l.isDatasetVisible(this.chart.data.datasets[n])&&this.chart.data.datasets[n].bar&&++e;return e},calculateBarX:function(t,e){var n=(this.getScaleForId(this.getDataset().yAxisID),this.getScaleForId(this.getDataset().xAxisID)),i=this.getBarIndex(e),o=this.getRuler(),a=n.getPixelForValue(null,t,e,this.chart.isCombo);return a-=this.chart.isCombo?o.tickWidth/2:0,n.options.stacked?a+o.categoryWidth/2+o.categorySpacing:a+o.barWidth/2+o.categorySpacing+o.barWidth*i+o.barSpacing/2+o.barSpacing*i},calculateBarY:function(t,e){var n=(this.getScaleForId(this.getDataset().xAxisID),this.getScaleForId(this.getDataset().yAxisID)),i=this.getDataset().data[t];if(n.options.stacked){for(var o=0,a=0,r=0;r<e;r++){var s=this.chart.data.datasets[r];l.isDatasetVisible(s)&&s.bar&&s.yAxisID===n.id&&(s.data[t]<0?a+=s.data[t]||0:o+=s.data[t]||0)}return i<0?n.getPixelForValue(a+i):n.getPixelForValue(o+i)}return n.getPixelForValue(i)},draw:function(t){var i=t||1;l.each(this.getDataset().metaData,function(t,e){var n=this.getDataset().data[e];null==n||isNaN(n)||t.transition(i).draw()},this)},setHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],n=t._index;t._model.backgroundColor=t.custom&&t.custom.hoverBackgroundColor?t.custom.hoverBackgroundColor:l.getValueAtIndexOrDefault(e.hoverBackgroundColor,n,l.color(t._model.backgroundColor).saturate(.5).darken(.1).rgbString()),t._model.borderColor=t.custom&&t.custom.hoverBorderColor?t.custom.hoverBorderColor:l.getValueAtIndexOrDefault(e.hoverBorderColor,n,l.color(t._model.borderColor).saturate(.5).darken(.1).rgbString()),t._model.borderWidth=t.custom&&t.custom.hoverBorderWidth?t.custom.hoverBorderWidth:l.getValueAtIndexOrDefault(e.hoverBorderWidth,n,t._model.borderWidth)},removeHoverStyle:function(t){var e=(this.chart.data.datasets[t._datasetIndex],t._index);t._model.backgroundColor=t.custom&&t.custom.backgroundColor?t.custom.backgroundColor:l.getValueAtIndexOrDefault(this.getDataset().backgroundColor,e,this.chart.options.elements.rectangle.backgroundColor),t._model.borderColor=t.custom&&t.custom.borderColor?t.custom.borderColor:l.getValueAtIndexOrDefault(this.getDataset().borderColor,e,this.chart.options.elements.rectangle.borderColor),t._model.borderWidth=t.custom&&t.custom.borderWidth?t.custom.borderWidth:l.getValueAtIndexOrDefault(this.getDataset().borderWidth,e,this.chart.options.elements.rectangle.borderWidth)}})}},{}],16:[function(t,e){"use strict";e.exports=function(n){var r=n.helpers;n.defaults.bubble={hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(){return""},label:function(t,e){var n=e.datasets[t.datasetIndex].label||"",i=e.datasets[t.datasetIndex].data[t.index];return n+": ("+i.x+", "+i.y+", "+i.r+")"}}}},n.controllers.bubble=n.DatasetController.extend({addElements:function(){this.getDataset().metaData=this.getDataset().metaData||[],r.each(this.getDataset().data,function(t,e){this.getDataset().metaData[e]=this.getDataset().metaData[e]||new n.elements.Point({_chart:this.chart.chart,_datasetIndex:this.index,_index:e})},this)},addElementAndReset:function(t){this.getDataset().metaData=this.getDataset().metaData||[];var e=new n.elements.Point({_chart:this.chart.chart,_datasetIndex:this.index,_index:t});this.updateElement(e,t,!0),this.getDataset().metaData.splice(t,0,e)},update:function(n){var t=this.getDataset().metaData,e=this.getScaleForId(this.getDataset().yAxisID);this.getScaleForId(this.getDataset().xAxisID),e.min<0&&e.max<0?e.getPixelForValue(e.max):0<e.min&&0<e.max?e.getPixelForValue(e.min):e.getPixelForValue(0),r.each(t,function(t,e){this.updateElement(t,e,n)},this)},updateElement:function(t,e,n){var i,o=this.getScaleForId(this.getDataset().yAxisID),a=this.getScaleForId(this.getDataset().xAxisID);i=o.min<0&&o.max<0?o.getPixelForValue(o.max):0<o.min&&0<o.max?o.getPixelForValue(o.min):o.getPixelForValue(0),r.extend(t,{_chart:this.chart.chart,_xScale:a,_yScale:o,_datasetIndex:this.index,_index:e,_model:{x:n?a.getPixelForDecimal(.5):a.getPixelForValue(this.getDataset().data[e],e,this.index,this.chart.isCombo),y:n?i:o.getPixelForValue(this.getDataset().data[e],e,this.index),radius:n?0:t.custom&&t.custom.radius?t.custom.radius:this.getRadius(this.getDataset().data[e]),backgroundColor:t.custom&&t.custom.backgroundColor?t.custom.backgroundColor:r.getValueAtIndexOrDefault(this.getDataset().backgroundColor,e,this.chart.options.elements.point.backgroundColor),borderColor:t.custom&&t.custom.borderColor?t.custom.borderColor:r.getValueAtIndexOrDefault(this.getDataset().borderColor,e,this.chart.options.elements.point.borderColor),borderWidth:t.custom&&t.custom.borderWidth?t.custom.borderWidth:r.getValueAtIndexOrDefault(this.getDataset().borderWidth,e,this.chart.options.elements.point.borderWidth),hitRadius:t.custom&&t.custom.hitRadius?t.custom.hitRadius:r.getValueAtIndexOrDefault(this.getDataset().hitRadius,e,this.chart.options.elements.point.hitRadius)}}),t._model.skip=t.custom&&t.custom.skip?t.custom.skip:isNaN(t._model.x)||isNaN(t._model.y),t.pivot()},getRadius:function(t){return t.r||this.chart.options.elements.point.radius},draw:function(t){var e=t||1;r.each(this.getDataset().metaData,function(t){t.transition(e),t.draw()})},setHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],n=t._index;t._model.radius=t.custom&&t.custom.hoverRadius?t.custom.hoverRadius:r.getValueAtIndexOrDefault(e.hoverRadius,n,this.chart.options.elements.point.hoverRadius)+this.getRadius(this.getDataset().data[t._index]),t._model.backgroundColor=t.custom&&t.custom.hoverBackgroundColor?t.custom.hoverBackgroundColor:r.getValueAtIndexOrDefault(e.hoverBackgroundColor,n,r.color(t._model.backgroundColor).saturate(.5).darken(.1).rgbString()),t._model.borderColor=t.custom&&t.custom.hoverBorderColor?t.custom.hoverBorderColor:r.getValueAtIndexOrDefault(e.hoverBorderColor,n,r.color(t._model.borderColor).saturate(.5).darken(.1).rgbString()),t._model.borderWidth=t.custom&&t.custom.hoverBorderWidth?t.custom.hoverBorderWidth:r.getValueAtIndexOrDefault(e.hoverBorderWidth,n,t._model.borderWidth)},removeHoverStyle:function(t){var e=(this.chart.data.datasets[t._datasetIndex],t._index);t._model.radius=t.custom&&t.custom.radius?t.custom.radius:this.getRadius(this.getDataset().data[t._index]),t._model.backgroundColor=t.custom&&t.custom.backgroundColor?t.custom.backgroundColor:r.getValueAtIndexOrDefault(this.getDataset().backgroundColor,e,this.chart.options.elements.point.backgroundColor),t._model.borderColor=t.custom&&t.custom.borderColor?t.custom.borderColor:r.getValueAtIndexOrDefault(this.getDataset().borderColor,e,this.chart.options.elements.point.borderColor),t._model.borderWidth=t.custom&&t.custom.borderWidth?t.custom.borderWidth:r.getValueAtIndexOrDefault(this.getDataset().borderWidth,e,this.chart.options.elements.point.borderWidth)}})}},{}],17:[function(t,e){"use strict";e.exports=function(i){var v=i.helpers;i.defaults.doughnut={animation:{animateRotate:!0,animateScale:!1},aspectRatio:1,hover:{mode:"single"},legendCallback:function(t){var e=[];if(e.push('<ul class="'+t.id+'-legend">'),t.data.datasets.length)for(var n=0;n<t.data.datasets[0].data.length;++n)e.push('<li><span style="background-color:'+t.data.datasets[0].backgroundColor[n]+'">'),t.data.labels[n]&&e.push(t.data.labels[n]),e.push("</span></li>");return e.push("</ul>"),e.join("")},legend:{labels:{generateLabels:function(o){return o.labels.length&&o.datasets.length?o.labels.map(function(t,e){var n=o.datasets[0],i=n.metaData[e];return{text:t,fillStyle:i.custom&&i.custom.backgroundColor?i.custom.backgroundColor:v.getValueAtIndexOrDefault(n.backgroundColor,e,this.chart.options.elements.arc.backgroundColor),strokeStyle:i.custom&&i.custom.borderColor?i.custom.borderColor:v.getValueAtIndexOrDefault(n.borderColor,e,this.chart.options.elements.arc.borderColor),lineWidth:i.custom&&i.custom.borderWidth?i.custom.borderWidth:v.getValueAtIndexOrDefault(n.borderWidth,e,this.chart.options.elements.arc.borderWidth),hidden:isNaN(o.datasets[0].data[e]),index:e}},this):[]}},onClick:function(t,n){v.each(this.chart.data.datasets,function(t){t.metaHiddenData=t.metaHiddenData||[];var e=n.index;isNaN(t.data[e])?isNaN(t.metaHiddenData[e])||(t.data[e]=t.metaHiddenData[e]):(t.metaHiddenData[e]=t.data[e],t.data[e]=NaN)}),this.chart.update()}},cutoutPercentage:50,rotation:-.5*Math.PI,circumference:2*Math.PI,tooltips:{callbacks:{title:function(){return""},label:function(t,e){return e.labels[t.index]+": "+e.datasets[t.datasetIndex].data[t.index]}}}},i.defaults.pie=v.clone(i.defaults.doughnut),v.extend(i.defaults.pie,{cutoutPercentage:0}),i.controllers.doughnut=i.controllers.pie=i.DatasetController.extend({linkScales:function(){},addElements:function(){this.getDataset().metaData=this.getDataset().metaData||[],v.each(this.getDataset().data,function(t,e){this.getDataset().metaData[e]=this.getDataset().metaData[e]||new i.elements.Arc({_chart:this.chart.chart,_datasetIndex:this.index,_index:e})},this)},addElementAndReset:function(t,e){this.getDataset().metaData=this.getDataset().metaData||[];var n=new i.elements.Arc({_chart:this.chart.chart,_datasetIndex:this.index,_index:t});e&&v.isArray(this.getDataset().backgroundColor)&&this.getDataset().backgroundColor.splice(t,0,e),this.updateElement(n,t,!0),this.getDataset().metaData.splice(t,0,n)},getVisibleDatasetCount:function(){return v.where(this.chart.data.datasets,function(t){return v.isDatasetVisible(t)}).length},getRingIndex:function(t){for(var e=0,n=0;n<t;++n)v.isDatasetVisible(this.chart.data.datasets[n])&&++e;return e},update:function(n){var t=this.chart.chartArea.right-this.chart.chartArea.left-this.chart.options.elements.arc.borderWidth,e=this.chart.chartArea.bottom-this.chart.chartArea.top-this.chart.options.elements.arc.borderWidth,i=Math.min(t,e),o={x:0,y:0};if(this.chart.options.circumference<2*Math.PI){var a=this.chart.options.rotation%(2*Math.PI),r=(a+=2*Math.PI*(a>=Math.PI?-1:a<-Math.PI?1:0))+this.chart.options.circumference,s={x:Math.cos(a),y:Math.sin(a)},l={x:Math.cos(r),y:Math.sin(r)},c=a<=0&&0<=r||a<=2*Math.PI&&2*Math.PI<=r,d=a<=.5*Math.PI&&.5*Math.PI<=r||a<=2.5*Math.PI&&2.5*Math.PI<=r,u=a<=-Math.PI&&-Math.PI<=r||a<=Math.PI&&Math.PI<=r,h=a<=.5*-Math.PI&&.5*-Math.PI<=r||a<=1.5*Math.PI&&1.5*Math.PI<=r,f=this.chart.options.cutoutPercentage/100,p={x:u?-1:Math.min(s.x*(s.x<0?1:f),l.x*(l.x<0?1:f)),y:h?-1:Math.min(s.y*(s.y<0?1:f),l.y*(l.y<0?1:f))},m={x:c?1:Math.max(s.x*(0<s.x?1:f),l.x*(0<l.x?1:f)),y:d?1:Math.max(s.y*(0<s.y?1:f),l.y*(0<l.y?1:f))},g={width:.5*(m.x-p.x),height:.5*(m.y-p.y)};i=Math.min(t/g.width,e/g.height),o={x:-.5*(m.x+p.x),y:-.5*(m.y+p.y)}}this.chart.outerRadius=Math.max(i/2,0),this.chart.innerRadius=Math.max(this.chart.options.cutoutPercentage?this.chart.outerRadius/100*this.chart.options.cutoutPercentage:1,0),this.chart.radiusLength=(this.chart.outerRadius-this.chart.innerRadius)/this.getVisibleDatasetCount(),this.chart.offsetX=o.x*this.chart.outerRadius,this.chart.offsetY=o.y*this.chart.outerRadius,this.getDataset().total=0,v.each(this.getDataset().data,function(t){isNaN(t)||(this.getDataset().total+=Math.abs(t))},this),this.outerRadius=this.chart.outerRadius-this.chart.radiusLength*this.getRingIndex(this.index),this.innerRadius=this.outerRadius-this.chart.radiusLength,v.each(this.getDataset().metaData,function(t,e){this.updateElement(t,e,n)},this)},updateElement:function(t,e,n){var i=(this.chart.chartArea.left+this.chart.chartArea.right)/2,o=(this.chart.chartArea.top+this.chart.chartArea.bottom)/2,a=this.chart.options.rotation,r=this.chart.options.rotation,s=n&&this.chart.options.animation.animateRotate?0:this.calculateCircumference(this.getDataset().data[e])*(this.chart.options.circumference/(2*Math.PI)),l=n&&this.chart.options.animation.animateScale?0:this.innerRadius,c=n&&this.chart.options.animation.animateScale?0:this.outerRadius;v.extend(t,{_chart:this.chart.chart,_datasetIndex:this.index,_index:e,_model:{x:i+this.chart.offsetX,y:o+this.chart.offsetY,startAngle:a,endAngle:r,circumference:s,outerRadius:c,innerRadius:l,backgroundColor:t.custom&&t.custom.backgroundColor?t.custom.backgroundColor:v.getValueAtIndexOrDefault(this.getDataset().backgroundColor,e,this.chart.options.elements.arc.backgroundColor),hoverBackgroundColor:t.custom&&t.custom.hoverBackgroundColor?t.custom.hoverBackgroundColor:v.getValueAtIndexOrDefault(this.getDataset().hoverBackgroundColor,e,this.chart.options.elements.arc.hoverBackgroundColor),borderWidth:t.custom&&t.custom.borderWidth?t.custom.borderWidth:v.getValueAtIndexOrDefault(this.getDataset().borderWidth,e,this.chart.options.elements.arc.borderWidth),borderColor:t.custom&&t.custom.borderColor?t.custom.borderColor:v.getValueAtIndexOrDefault(this.getDataset().borderColor,e,this.chart.options.elements.arc.borderColor),label:v.getValueAtIndexOrDefault(this.getDataset().label,e,this.chart.data.labels[e])}}),n||(t._model.startAngle=0===e?this.chart.options.rotation:this.getDataset().metaData[e-1]._model.endAngle,t._model.endAngle=t._model.startAngle+t._model.circumference),t.pivot()},draw:function(t){var e=t||1;v.each(this.getDataset().metaData,function(t){t.transition(e).draw()})},setHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],n=t._index;t._model.backgroundColor=t.custom&&t.custom.hoverBackgroundColor?t.custom.hoverBackgroundColor:v.getValueAtIndexOrDefault(e.hoverBackgroundColor,n,v.color(t._model.backgroundColor).saturate(.5).darken(.1).rgbString()),t._model.borderColor=t.custom&&t.custom.hoverBorderColor?t.custom.hoverBorderColor:v.getValueAtIndexOrDefault(e.hoverBorderColor,n,v.color(t._model.borderColor).saturate(.5).darken(.1).rgbString()),t._model.borderWidth=t.custom&&t.custom.hoverBorderWidth?t.custom.hoverBorderWidth:v.getValueAtIndexOrDefault(e.hoverBorderWidth,n,t._model.borderWidth)},removeHoverStyle:function(t){var e=(this.chart.data.datasets[t._datasetIndex],t._index);t._model.backgroundColor=t.custom&&t.custom.backgroundColor?t.custom.backgroundColor:v.getValueAtIndexOrDefault(this.getDataset().backgroundColor,e,this.chart.options.elements.arc.backgroundColor),t._model.borderColor=t.custom&&t.custom.borderColor?t.custom.borderColor:v.getValueAtIndexOrDefault(this.getDataset().borderColor,e,this.chart.options.elements.arc.borderColor),t._model.borderWidth=t.custom&&t.custom.borderWidth?t.custom.borderWidth:v.getValueAtIndexOrDefault(this.getDataset().borderWidth,e,this.chart.options.elements.arc.borderWidth)},calculateCircumference:function(t){return 0<this.getDataset().total&&!isNaN(t)?2*Math.PI*(t/this.getDataset().total):0}})}},{}],18:[function(t,e){"use strict";e.exports=function(n){var l=n.helpers;n.defaults.line={showLines:!0,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}},n.controllers.line=n.DatasetController.extend({addElements:function(){this.getDataset().metaData=this.getDataset().metaData||[],this.getDataset().metaDataset=this.getDataset().metaDataset||new n.elements.Line({_chart:this.chart.chart,_datasetIndex:this.index,_points:this.getDataset().metaData}),l.each(this.getDataset().data,function(t,e){this.getDataset().metaData[e]=this.getDataset().metaData[e]||new n.elements.Point({_chart:this.chart.chart,_datasetIndex:this.index,_index:e})},this)},addElementAndReset:function(t){this.getDataset().metaData=this.getDataset().metaData||[];var e=new n.elements.Point({_chart:this.chart.chart,_datasetIndex:this.index,_index:t});this.updateElement(e,t,!0),this.getDataset().metaData.splice(t,0,e),this.chart.options.showLines&&0!==this.chart.options.elements.line.tension&&this.updateBezierControlPoints()},update:function(n){var t,e=this.getDataset().metaDataset,i=this.getDataset().metaData,o=this.getScaleForId(this.getDataset().yAxisID);this.getScaleForId(this.getDataset().xAxisID),t=o.min<0&&o.max<0?o.getPixelForValue(o.max):0<o.min&&0<o.max?o.getPixelForValue(o.min):o.getPixelForValue(0),this.chart.options.showLines&&(e._scale=o,e._datasetIndex=this.index,e._children=i,e._model={tension:e.custom&&e.custom.tension?e.custom.tension:l.getValueOrDefault(this.getDataset().tension,this.chart.options.elements.line.tension),backgroundColor:e.custom&&e.custom.backgroundColor?e.custom.backgroundColor:this.getDataset().backgroundColor||this.chart.options.elements.line.backgroundColor,borderWidth:e.custom&&e.custom.borderWidth?e.custom.borderWidth:this.getDataset().borderWidth||this.chart.options.elements.line.borderWidth,borderColor:e.custom&&e.custom.borderColor?e.custom.borderColor:this.getDataset().borderColor||this.chart.options.elements.line.borderColor,borderCapStyle:e.custom&&e.custom.borderCapStyle?e.custom.borderCapStyle:this.getDataset().borderCapStyle||this.chart.options.elements.line.borderCapStyle,borderDash:e.custom&&e.custom.borderDash?e.custom.borderDash:this.getDataset().borderDash||this.chart.options.elements.line.borderDash,borderDashOffset:e.custom&&e.custom.borderDashOffset?e.custom.borderDashOffset:this.getDataset().borderDashOffset||this.chart.options.elements.line.borderDashOffset,borderJoinStyle:e.custom&&e.custom.borderJoinStyle?e.custom.borderJoinStyle:this.getDataset().borderJoinStyle||this.chart.options.elements.line.borderJoinStyle,fill:e.custom&&e.custom.fill?e.custom.fill:void 0!==this.getDataset().fill?this.getDataset().fill:this.chart.options.elements.line.fill,scaleTop:o.top,scaleBottom:o.bottom,scaleZero:t},e.pivot()),l.each(i,function(t,e){this.updateElement(t,e,n)},this),this.chart.options.showLines&&0!==this.chart.options.elements.line.tension&&this.updateBezierControlPoints()},getPointBackgroundColor:function(t,e){var n=this.chart.options.elements.point.backgroundColor,i=this.getDataset();return t.custom&&t.custom.backgroundColor?n=t.custom.backgroundColor:i.pointBackgroundColor?n=l.getValueAtIndexOrDefault(i.pointBackgroundColor,e,n):i.backgroundColor&&(n=i.backgroundColor),n},getPointBorderColor:function(t,e){var n=this.chart.options.elements.point.borderColor,i=this.getDataset();return t.custom&&t.custom.borderColor?n=t.custom.borderColor:i.pointBorderColor?n=l.getValueAtIndexOrDefault(this.getDataset().pointBorderColor,e,n):i.borderColor&&(n=i.borderColor),n},getPointBorderWidth:function(t,e){var n=this.chart.options.elements.point.borderWidth,i=this.getDataset();return t.custom&&void 0!==t.custom.borderWidth?n=t.custom.borderWidth:void 0!==i.pointBorderWidth?n=l.getValueAtIndexOrDefault(i.pointBorderWidth,e,n):void 0!==i.borderWidth&&(n=i.borderWidth),n},updateElement:function(t,e,n){var i,o=this.getScaleForId(this.getDataset().yAxisID),a=this.getScaleForId(this.getDataset().xAxisID);i=o.min<0&&o.max<0?o.getPixelForValue(o.max):0<o.min&&0<o.max?o.getPixelForValue(o.min):o.getPixelForValue(0),t._chart=this.chart.chart,t._xScale=a,t._yScale=o,t._datasetIndex=this.index,t._index=e,t._model={x:a.getPixelForValue(this.getDataset().data[e],e,this.index,this.chart.isCombo),y:n?i:this.calculatePointY(this.getDataset().data[e],e,this.index,this.chart.isCombo),tension:t.custom&&t.custom.tension?t.custom.tension:l.getValueOrDefault(this.getDataset().tension,this.chart.options.elements.line.tension),radius:t.custom&&t.custom.radius?t.custom.radius:l.getValueAtIndexOrDefault(this.getDataset().radius,e,this.chart.options.elements.point.radius),pointStyle:t.custom&&t.custom.pointStyle?t.custom.pointStyle:l.getValueAtIndexOrDefault(this.getDataset().pointStyle,e,this.chart.options.elements.point.pointStyle),backgroundColor:this.getPointBackgroundColor(t,e),borderColor:this.getPointBorderColor(t,e),borderWidth:this.getPointBorderWidth(t,e),hitRadius:t.custom&&t.custom.hitRadius?t.custom.hitRadius:l.getValueAtIndexOrDefault(this.getDataset().hitRadius,e,this.chart.options.elements.point.hitRadius)},t._model.skip=t.custom&&t.custom.skip?t.custom.skip:isNaN(t._model.x)||isNaN(t._model.y)},calculatePointY:function(t,e,n){var i=(this.getScaleForId(this.getDataset().xAxisID),this.getScaleForId(this.getDataset().yAxisID));if(i.options.stacked){for(var o=0,a=0,r=0;r<n;r++){var s=this.chart.data.datasets[r];"line"===s.type&&l.isDatasetVisible(s)&&(s.data[e]<0?a+=s.data[e]||0:o+=s.data[e]||0)}return t<0?i.getPixelForValue(a+t):i.getPixelForValue(o+t)}return i.getPixelForValue(t)},updateBezierControlPoints:function(){l.each(this.getDataset().metaData,function(t,e){var n=l.splineCurve(l.previousItem(this.getDataset().metaData,e)._model,t._model,l.nextItem(this.getDataset().metaData,e)._model,t._model.tension);t._model.controlPointPreviousX=Math.max(Math.min(n.previous.x,this.chart.chartArea.right),this.chart.chartArea.left),t._model.controlPointPreviousY=Math.max(Math.min(n.previous.y,this.chart.chartArea.bottom),this.chart.chartArea.top),t._model.controlPointNextX=Math.max(Math.min(n.next.x,this.chart.chartArea.right),this.chart.chartArea.left),t._model.controlPointNextY=Math.max(Math.min(n.next.y,this.chart.chartArea.bottom),this.chart.chartArea.top),t.pivot()},this)},draw:function(t){var e=t||1;l.each(this.getDataset().metaData,function(t){t.transition(e)}),this.chart.options.showLines&&this.getDataset().metaDataset.transition(e).draw(),l.each(this.getDataset().metaData,function(t){t.draw()})},setHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],n=t._index;t._model.radius=t.custom&&t.custom.hoverRadius?t.custom.hoverRadius:l.getValueAtIndexOrDefault(e.pointHoverRadius,n,this.chart.options.elements.point.hoverRadius),t._model.backgroundColor=t.custom&&t.custom.hoverBackgroundColor?t.custom.hoverBackgroundColor:l.getValueAtIndexOrDefault(e.pointHoverBackgroundColor,n,l.color(t._model.backgroundColor).saturate(.5).darken(.1).rgbString()),t._model.borderColor=t.custom&&t.custom.hoverBorderColor?t.custom.hoverBorderColor:l.getValueAtIndexOrDefault(e.pointHoverBorderColor,n,l.color(t._model.borderColor).saturate(.5).darken(.1).rgbString()),t._model.borderWidth=t.custom&&t.custom.hoverBorderWidth?t.custom.hoverBorderWidth:l.getValueAtIndexOrDefault(e.pointHoverBorderWidth,n,t._model.borderWidth)},removeHoverStyle:function(t){var e=(this.chart.data.datasets[t._datasetIndex],t._index);t._model.radius=t.custom&&t.custom.radius?t.custom.radius:l.getValueAtIndexOrDefault(this.getDataset().radius,e,this.chart.options.elements.point.radius),t._model.backgroundColor=this.getPointBackgroundColor(t,e),t._model.borderColor=this.getPointBorderColor(t,e),t._model.borderWidth=this.getPointBorderWidth(t,e)}})}},{}],19:[function(t,e){"use strict";e.exports=function(n){var u=n.helpers;n.defaults.polarArea={scale:{type:"radialLinear",lineArc:!0},animateRotate:!0,animateScale:!0,aspectRatio:1,legendCallback:function(t){var e=[];if(e.push('<ul class="'+t.id+'-legend">'),t.data.datasets.length)for(var n=0;n<t.data.datasets[0].data.length;++n)e.push('<li><span style="background-color:'+t.data.datasets[0].backgroundColor[n]+'">'),t.data.labels[n]&&e.push(t.data.labels[n]),e.push("</span></li>");return e.push("</ul>"),e.join("")},legend:{labels:{generateLabels:function(o){return o.labels.length&&o.datasets.length?o.labels.map(function(t,e){var n=o.datasets[0],i=n.metaData[e];return{text:t,fillStyle:i.custom&&i.custom.backgroundColor?i.custom.backgroundColor:u.getValueAtIndexOrDefault(n.backgroundColor,e,this.chart.options.elements.arc.backgroundColor),strokeStyle:i.custom&&i.custom.borderColor?i.custom.borderColor:u.getValueAtIndexOrDefault(n.borderColor,e,this.chart.options.elements.arc.borderColor),lineWidth:i.custom&&i.custom.borderWidth?i.custom.borderWidth:u.getValueAtIndexOrDefault(n.borderWidth,e,this.chart.options.elements.arc.borderWidth),hidden:isNaN(o.datasets[0].data[e]),index:e}},this):[]}},onClick:function(t,n){u.each(this.chart.data.datasets,function(t){t.metaHiddenData=t.metaHiddenData||[];var e=n.index;isNaN(t.data[e])?isNaN(t.metaHiddenData[e])||(t.data[e]=t.metaHiddenData[e]):(t.metaHiddenData[e]=t.data[e],t.data[e]=NaN)}),this.chart.update()}},tooltips:{callbacks:{title:function(){return""},label:function(t,e){return e.labels[t.index]+": "+t.yLabel}}}},n.controllers.polarArea=n.DatasetController.extend({linkScales:function(){},addElements:function(){this.getDataset().metaData=this.getDataset().metaData||[],u.each(this.getDataset().data,function(t,e){this.getDataset().metaData[e]=this.getDataset().metaData[e]||new n.elements.Arc({_chart:this.chart.chart,_datasetIndex:this.index,_index:e})},this)},addElementAndReset:function(t){this.getDataset().metaData=this.getDataset().metaData||[];var e=new n.elements.Arc({_chart:this.chart.chart,_datasetIndex:this.index,_index:t});this.updateElement(e,t,!0),this.getDataset().metaData.splice(t,0,e)},getVisibleDatasetCount:function(){return u.where(this.chart.data.datasets,function(t){return u.isDatasetVisible(t)}).length},update:function(n){var t=Math.min(this.chart.chartArea.right-this.chart.chartArea.left,this.chart.chartArea.bottom-this.chart.chartArea.top);this.chart.outerRadius=Math.max((t-this.chart.options.elements.arc.borderWidth/2)/2,0),this.chart.innerRadius=Math.max(this.chart.options.cutoutPercentage?this.chart.outerRadius/100*this.chart.options.cutoutPercentage:1,0),this.chart.radiusLength=(this.chart.outerRadius-this.chart.innerRadius)/this.getVisibleDatasetCount(),this.getDataset().total=0,u.each(this.getDataset().data,function(t){this.getDataset().total+=Math.abs(t)},this),this.outerRadius=this.chart.outerRadius-this.chart.radiusLength*this.index,this.innerRadius=this.outerRadius-this.chart.radiusLength,u.each(this.getDataset().metaData,function(t,e){this.updateElement(t,e,n)},this)},updateElement:function(t,e,n){for(var i=this.calculateCircumference(this.getDataset().data[e]),o=(this.chart.chartArea.left+this.chart.chartArea.right)/2,a=(this.chart.chartArea.top+this.chart.chartArea.bottom)/2,r=0,s=0;s<e;++s)isNaN(this.getDataset().data[s])||++r;var l=-.5*Math.PI+i*r,c=l+i,d={x:o,y:a,innerRadius:0,outerRadius:this.chart.options.animateScale?0:this.chart.scale.getDistanceFromCenterForValue(this.getDataset().data[e]),startAngle:this.chart.options.animateRotate?-.5*Math.PI:l,endAngle:this.chart.options.animateRotate?-.5*Math.PI:c,backgroundColor:t.custom&&t.custom.backgroundColor?t.custom.backgroundColor:u.getValueAtIndexOrDefault(this.getDataset().backgroundColor,e,this.chart.options.elements.arc.backgroundColor),borderWidth:t.custom&&t.custom.borderWidth?t.custom.borderWidth:u.getValueAtIndexOrDefault(this.getDataset().borderWidth,e,this.chart.options.elements.arc.borderWidth),borderColor:t.custom&&t.custom.borderColor?t.custom.borderColor:u.getValueAtIndexOrDefault(this.getDataset().borderColor,e,this.chart.options.elements.arc.borderColor),label:u.getValueAtIndexOrDefault(this.chart.data.labels,e,this.chart.data.labels[e])};u.extend(t,{_chart:this.chart.chart,_datasetIndex:this.index,_index:e,_scale:this.chart.scale,_model:n?d:{x:o,y:a,innerRadius:0,outerRadius:this.chart.scale.getDistanceFromCenterForValue(this.getDataset().data[e]),startAngle:l,endAngle:c,backgroundColor:t.custom&&t.custom.backgroundColor?t.custom.backgroundColor:u.getValueAtIndexOrDefault(this.getDataset().backgroundColor,e,this.chart.options.elements.arc.backgroundColor),borderWidth:t.custom&&t.custom.borderWidth?t.custom.borderWidth:u.getValueAtIndexOrDefault(this.getDataset().borderWidth,e,this.chart.options.elements.arc.borderWidth),borderColor:t.custom&&t.custom.borderColor?t.custom.borderColor:u.getValueAtIndexOrDefault(this.getDataset().borderColor,e,this.chart.options.elements.arc.borderColor),label:u.getValueAtIndexOrDefault(this.chart.data.labels,e,this.chart.data.labels[e])}}),t.pivot()},draw:function(t){var e=t||1;u.each(this.getDataset().metaData,function(t){t.transition(e).draw()})},setHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],n=t._index;t._model.backgroundColor=t.custom&&t.custom.hoverBackgroundColor?t.custom.hoverBackgroundColor:u.getValueAtIndexOrDefault(e.hoverBackgroundColor,n,u.color(t._model.backgroundColor).saturate(.5).darken(.1).rgbString()),t._model.borderColor=t.custom&&t.custom.hoverBorderColor?t.custom.hoverBorderColor:u.getValueAtIndexOrDefault(e.hoverBorderColor,n,u.color(t._model.borderColor).saturate(.5).darken(.1).rgbString()),t._model.borderWidth=t.custom&&t.custom.hoverBorderWidth?t.custom.hoverBorderWidth:u.getValueAtIndexOrDefault(e.hoverBorderWidth,n,t._model.borderWidth)},removeHoverStyle:function(t){var e=(this.chart.data.datasets[t._datasetIndex],t._index);t._model.backgroundColor=t.custom&&t.custom.backgroundColor?t.custom.backgroundColor:u.getValueAtIndexOrDefault(this.getDataset().backgroundColor,e,this.chart.options.elements.arc.backgroundColor),t._model.borderColor=t.custom&&t.custom.borderColor?t.custom.borderColor:u.getValueAtIndexOrDefault(this.getDataset().borderColor,e,this.chart.options.elements.arc.borderColor),t._model.borderWidth=t.custom&&t.custom.borderWidth?t.custom.borderWidth:u.getValueAtIndexOrDefault(this.getDataset().borderWidth,e,this.chart.options.elements.arc.borderWidth)},calculateCircumference:function(t){if(isNaN(t))return 0;var e=u.where(this.getDataset().data,function(t){return isNaN(t)}).length;return 2*Math.PI/(this.getDataset().data.length-e)}})}},{}],20:[function(t,e){"use strict";e.exports=function(n){var a=n.helpers;n.defaults.radar={scale:{type:"radialLinear"},elements:{line:{tension:0}}},n.controllers.radar=n.DatasetController.extend({linkScales:function(){},addElements:function(){this.getDataset().metaData=this.getDataset().metaData||[],this.getDataset().metaDataset=this.getDataset().metaDataset||new n.elements.Line({_chart:this.chart.chart,
_datasetIndex:this.index,_points:this.getDataset().metaData,_loop:!0}),a.each(this.getDataset().data,function(t,e){this.getDataset().metaData[e]=this.getDataset().metaData[e]||new n.elements.Point({_chart:this.chart.chart,_datasetIndex:this.index,_index:e,_model:{x:0,y:0}})},this)},addElementAndReset:function(t){this.getDataset().metaData=this.getDataset().metaData||[];var e=new n.elements.Point({_chart:this.chart.chart,_datasetIndex:this.index,_index:t});this.updateElement(e,t,!0),this.getDataset().metaData.splice(t,0,e),this.updateBezierControlPoints()},update:function(n){var t,e=this.getDataset().metaDataset,i=this.getDataset().metaData,o=this.chart.scale;t=o.min<0&&o.max<0?o.getPointPositionForValue(0,o.max):0<o.min&&0<o.max?o.getPointPositionForValue(0,o.min):o.getPointPositionForValue(0,0),a.extend(this.getDataset().metaDataset,{_datasetIndex:this.index,_children:this.getDataset().metaData,_model:{tension:e.custom&&e.custom.tension?e.custom.tension:a.getValueOrDefault(this.getDataset().tension,this.chart.options.elements.line.tension),backgroundColor:e.custom&&e.custom.backgroundColor?e.custom.backgroundColor:this.getDataset().backgroundColor||this.chart.options.elements.line.backgroundColor,borderWidth:e.custom&&e.custom.borderWidth?e.custom.borderWidth:this.getDataset().borderWidth||this.chart.options.elements.line.borderWidth,borderColor:e.custom&&e.custom.borderColor?e.custom.borderColor:this.getDataset().borderColor||this.chart.options.elements.line.borderColor,fill:e.custom&&e.custom.fill?e.custom.fill:void 0!==this.getDataset().fill?this.getDataset().fill:this.chart.options.elements.line.fill,borderCapStyle:e.custom&&e.custom.borderCapStyle?e.custom.borderCapStyle:this.getDataset().borderCapStyle||this.chart.options.elements.line.borderCapStyle,borderDash:e.custom&&e.custom.borderDash?e.custom.borderDash:this.getDataset().borderDash||this.chart.options.elements.line.borderDash,borderDashOffset:e.custom&&e.custom.borderDashOffset?e.custom.borderDashOffset:this.getDataset().borderDashOffset||this.chart.options.elements.line.borderDashOffset,borderJoinStyle:e.custom&&e.custom.borderJoinStyle?e.custom.borderJoinStyle:this.getDataset().borderJoinStyle||this.chart.options.elements.line.borderJoinStyle,scaleTop:o.top,scaleBottom:o.bottom,scaleZero:t}}),this.getDataset().metaDataset.pivot(),a.each(i,function(t,e){this.updateElement(t,e,n)},this),this.updateBezierControlPoints()},updateElement:function(t,e,n){var i=this.chart.scale.getPointPositionForValue(e,this.getDataset().data[e]);a.extend(t,{_datasetIndex:this.index,_index:e,_scale:this.chart.scale,_model:{x:n?this.chart.scale.xCenter:i.x,y:n?this.chart.scale.yCenter:i.y,tension:t.custom&&t.custom.tension?t.custom.tension:a.getValueOrDefault(this.getDataset().tension,this.chart.options.elements.line.tension),radius:t.custom&&t.custom.radius?t.custom.radius:a.getValueAtIndexOrDefault(this.getDataset().pointRadius,e,this.chart.options.elements.point.radius),backgroundColor:t.custom&&t.custom.backgroundColor?t.custom.backgroundColor:a.getValueAtIndexOrDefault(this.getDataset().pointBackgroundColor,e,this.chart.options.elements.point.backgroundColor),borderColor:t.custom&&t.custom.borderColor?t.custom.borderColor:a.getValueAtIndexOrDefault(this.getDataset().pointBorderColor,e,this.chart.options.elements.point.borderColor),borderWidth:t.custom&&t.custom.borderWidth?t.custom.borderWidth:a.getValueAtIndexOrDefault(this.getDataset().pointBorderWidth,e,this.chart.options.elements.point.borderWidth),pointStyle:t.custom&&t.custom.pointStyle?t.custom.pointStyle:a.getValueAtIndexOrDefault(this.getDataset().pointStyle,e,this.chart.options.elements.point.pointStyle),hitRadius:t.custom&&t.custom.hitRadius?t.custom.hitRadius:a.getValueAtIndexOrDefault(this.getDataset().hitRadius,e,this.chart.options.elements.point.hitRadius)}}),t._model.skip=t.custom&&t.custom.skip?t.custom.skip:isNaN(t._model.x)||isNaN(t._model.y)},updateBezierControlPoints:function(){a.each(this.getDataset().metaData,function(t,e){var n=a.splineCurve(a.previousItem(this.getDataset().metaData,e,!0)._model,t._model,a.nextItem(this.getDataset().metaData,e,!0)._model,t._model.tension);t._model.controlPointPreviousX=Math.max(Math.min(n.previous.x,this.chart.chartArea.right),this.chart.chartArea.left),t._model.controlPointPreviousY=Math.max(Math.min(n.previous.y,this.chart.chartArea.bottom),this.chart.chartArea.top),t._model.controlPointNextX=Math.max(Math.min(n.next.x,this.chart.chartArea.right),this.chart.chartArea.left),t._model.controlPointNextY=Math.max(Math.min(n.next.y,this.chart.chartArea.bottom),this.chart.chartArea.top),t.pivot()},this)},draw:function(t){var e=t||1;a.each(this.getDataset().metaData,function(t){t.transition(e)}),this.getDataset().metaDataset.transition(e).draw(),a.each(this.getDataset().metaData,function(t){t.draw()})},setHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],n=t._index;t._model.radius=t.custom&&t.custom.hoverRadius?t.custom.hoverRadius:a.getValueAtIndexOrDefault(e.pointHoverRadius,n,this.chart.options.elements.point.hoverRadius),t._model.backgroundColor=t.custom&&t.custom.hoverBackgroundColor?t.custom.hoverBackgroundColor:a.getValueAtIndexOrDefault(e.pointHoverBackgroundColor,n,a.color(t._model.backgroundColor).saturate(.5).darken(.1).rgbString()),t._model.borderColor=t.custom&&t.custom.hoverBorderColor?t.custom.hoverBorderColor:a.getValueAtIndexOrDefault(e.pointHoverBorderColor,n,a.color(t._model.borderColor).saturate(.5).darken(.1).rgbString()),t._model.borderWidth=t.custom&&t.custom.hoverBorderWidth?t.custom.hoverBorderWidth:a.getValueAtIndexOrDefault(e.pointHoverBorderWidth,n,t._model.borderWidth)},removeHoverStyle:function(t){var e=(this.chart.data.datasets[t._datasetIndex],t._index);t._model.radius=t.custom&&t.custom.radius?t.custom.radius:a.getValueAtIndexOrDefault(this.getDataset().radius,e,this.chart.options.elements.point.radius),t._model.backgroundColor=t.custom&&t.custom.backgroundColor?t.custom.backgroundColor:a.getValueAtIndexOrDefault(this.getDataset().pointBackgroundColor,e,this.chart.options.elements.point.backgroundColor),t._model.borderColor=t.custom&&t.custom.borderColor?t.custom.borderColor:a.getValueAtIndexOrDefault(this.getDataset().pointBorderColor,e,this.chart.options.elements.point.borderColor),t._model.borderWidth=t.custom&&t.custom.borderWidth?t.custom.borderWidth:a.getValueAtIndexOrDefault(this.getDataset().pointBorderWidth,e,this.chart.options.elements.point.borderWidth)}})}},{}],21:[function(t,e){"use strict";e.exports=function(t){var n=t.helpers;t.defaults.global.animation={duration:1e3,easing:"easeOutQuart",onProgress:n.noop,onComplete:n.noop},t.Animation=t.Element.extend({currentStep:null,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),t.animationService={frameDuration:17,animations:[],dropFrames:0,request:null,addAnimation:function(t,e,n,i){i||(t.animating=!0);for(var o=0;o<this.animations.length;++o)if(this.animations[o].chartInstance===t)return void(this.animations[o].animationObject=e);this.animations.push({chartInstance:t,animationObject:e}),1===this.animations.length&&this.requestAnimationFrame()},cancelAnimation:function(e){var t=n.findIndex(this.animations,function(t){return t.chartInstance===e});-1!==t&&(this.animations.splice(t,1),e.animating=!1)},requestAnimationFrame:function(){var t=this;null===t.request&&(t.request=n.requestAnimFrame.call(window,function(){t.request=null,t.startDigest()}))},startDigest:function(){var t=Date.now(),e=0;1<this.dropFrames&&(e=Math.floor(this.dropFrames),this.dropFrames=this.dropFrames%1);for(var n=0;n<this.animations.length;)null===this.animations[n].animationObject.currentStep&&(this.animations[n].animationObject.currentStep=0),this.animations[n].animationObject.currentStep+=1+e,this.animations[n].animationObject.currentStep>this.animations[n].animationObject.numSteps&&(this.animations[n].animationObject.currentStep=this.animations[n].animationObject.numSteps),this.animations[n].animationObject.render(this.animations[n].chartInstance,this.animations[n].animationObject),this.animations[n].animationObject.onAnimationProgress&&this.animations[n].animationObject.onAnimationProgress.call&&this.animations[n].animationObject.onAnimationProgress.call(this.animations[n].chartInstance,this.animations[n]),this.animations[n].animationObject.currentStep===this.animations[n].animationObject.numSteps?(this.animations[n].animationObject.onAnimationComplete&&this.animations[n].animationObject.onAnimationComplete.call&&this.animations[n].animationObject.onAnimationComplete.call(this.animations[n].chartInstance,this.animations[n]),this.animations[n].chartInstance.animating=!1,this.animations.splice(n,1)):++n;var i=(Date.now()-t)/this.frameDuration;this.dropFrames+=i,0<this.animations.length&&this.requestAnimationFrame()}}}},{}],22:[function(t,e){"use strict";e.exports=function(a){var r=a.helpers;a.types={},a.instances={},a.controllers={},a.Controller=function(t){return this.chart=t,this.config=t.config,this.options=this.config.options=r.configMerge(a.defaults.global,a.defaults[this.config.type],this.config.options||{}),this.id=r.uid(),Object.defineProperty(this,"data",{get:function(){return this.config.data}}),(a.instances[this.id]=this).options.responsive&&this.resize(!0),this.initialize(),this},r.extend(a.Controller.prototype,{initialize:function(){return a.pluginService.notifyPlugins("beforeInit",[this]),this.bindEvents(),this.ensureScalesHaveIDs(),this.buildOrUpdateControllers(),this.buildScales(),this.buildSurroundingItems(),this.updateLayout(),this.resetElements(),this.initToolTip(),this.update(),a.pluginService.notifyPlugins("afterInit",[this]),this},clear:function(){return r.clear(this.chart),this},stop:function(){return a.animationService.cancelAnimation(this),this},resize:function(t){var e=this.chart.canvas,n=r.getMaximumWidth(this.chart.canvas),i=this.options.maintainAspectRatio&&!1===isNaN(this.chart.aspectRatio)&&isFinite(this.chart.aspectRatio)&&0!==this.chart.aspectRatio?n/this.chart.aspectRatio:r.getMaximumHeight(this.chart.canvas);return(this.chart.width!==n||this.chart.height!==i)&&(e.width=this.chart.width=n,e.height=this.chart.height=i,r.retinaScale(this.chart),t||(this.stop(),this.update(this.options.responsiveAnimationDuration))),this},ensureScalesHaveIDs:function(){var n="x-axis-",i="y-axis-";this.options.scales&&(this.options.scales.xAxes&&this.options.scales.xAxes.length&&r.each(this.options.scales.xAxes,function(t,e){t.id=t.id||n+e}),this.options.scales.yAxes&&this.options.scales.yAxes.length&&r.each(this.options.scales.yAxes,function(t,e){t.id=t.id||i+e}))},buildScales:function(){if(this.scales={},this.options.scales&&(this.options.scales.xAxes&&this.options.scales.xAxes.length&&r.each(this.options.scales.xAxes,function(t){var e=r.getValueOrDefault(t.type,"category"),n=a.scaleService.getScaleConstructor(e);if(n){var i=new n({ctx:this.chart.ctx,options:t,chart:this,id:t.id});this.scales[i.id]=i}},this),this.options.scales.yAxes&&this.options.scales.yAxes.length&&r.each(this.options.scales.yAxes,function(t){var e=r.getValueOrDefault(t.type,"linear"),n=a.scaleService.getScaleConstructor(e);if(n){var i=new n({ctx:this.chart.ctx,options:t,chart:this,id:t.id});this.scales[i.id]=i}},this)),this.options.scale){var t=a.scaleService.getScaleConstructor(this.options.scale.type);if(t){var e=new t({ctx:this.chart.ctx,options:this.options.scale,chart:this});this.scale=e,this.scales.radialScale=e}}a.scaleService.addScalesToLayout(this)},buildSurroundingItems:function(){this.options.title&&(this.titleBlock=new a.Title({ctx:this.chart.ctx,options:this.options.title,chart:this}),a.layoutService.addBox(this,this.titleBlock)),this.options.legend&&(this.legend=new a.Legend({ctx:this.chart.ctx,options:this.options.legend,chart:this}),a.layoutService.addBox(this,this.legend))},updateLayout:function(){a.layoutService.update(this,this.chart.width,this.chart.height)},buildOrUpdateControllers:function(){var i=[],o=[];if(r.each(this.data.datasets,function(t,e){t.type||(t.type=this.config.type);var n=t.type;i.push(n),t.controller?t.controller.updateIndex(e):(t.controller=new a.controllers[n](this,e),o.push(t.controller))},this),1<i.length)for(var t=1;t<i.length;t++)if(i[t]!==i[t-1]){this.isCombo=!0;break}return o},resetElements:function(){r.each(this.data.datasets,function(t){t.controller.reset()})},update:function(t,e){a.pluginService.notifyPlugins("beforeUpdate",[this]),this.tooltip._data=this.data;var n=this.buildOrUpdateControllers();a.layoutService.update(this,this.chart.width,this.chart.height),r.each(n,function(t){t.reset()}),r.each(this.data.datasets,function(t){t.controller.buildOrUpdateElements()}),r.each(this.data.datasets,function(t){t.controller.update()}),this.render(t,e),a.pluginService.notifyPlugins("afterUpdate",[this])},render:function(t,e){if(this.options.animation&&(void 0!==t&&0!==t||void 0===t&&0!==this.options.animation.duration)){var n=new a.Animation;n.numSteps=(t||this.options.animation.duration)/16.66,n.easing=this.options.animation.easing,n.render=function(t,e){var n=r.easingEffects[e.easing],i=e.currentStep/e.numSteps,o=n(i);t.draw(o,i,e.currentStep)},n.onAnimationProgress=this.options.animation.onProgress,n.onAnimationComplete=this.options.animation.onComplete,a.animationService.addAnimation(this,n,t,e)}else this.draw(),this.options.animation&&this.options.animation.onComplete&&this.options.animation.onComplete.call&&this.options.animation.onComplete.call(this);return this},draw:function(e){var t=e||1;this.clear(),a.pluginService.notifyPlugins("beforeDraw",[this,t]),r.each(this.boxes,function(t){t.draw(this.chartArea)},this),this.scale&&this.scale.draw(),this.chart.ctx.save(),this.chart.ctx.beginPath(),this.chart.ctx.rect(this.chartArea.left,this.chartArea.top,this.chartArea.right-this.chartArea.left,this.chartArea.bottom-this.chartArea.top),this.chart.ctx.clip(),r.each(this.data.datasets,function(t){r.isDatasetVisible(t)&&t.controller.draw(e)},null,!0),this.chart.ctx.restore(),this.tooltip.transition(t).draw(),a.pluginService.notifyPlugins("afterDraw",[this,t])},getElementAtEvent:function(t){var e=r.getRelativePosition(t,this.chart),n=[];return r.each(this.data.datasets,function(t){r.isDatasetVisible(t)&&r.each(t.metaData,function(t){return t.inRange(e.x,e.y)?(n.push(t),n):void 0})}),n},getElementsAtEvent:function(t){var n=r.getRelativePosition(t,this.chart),e=[],i=function(){if(this.data.datasets)for(var t=0;t<this.data.datasets.length;t++)if(r.isDatasetVisible(this.data.datasets[t]))for(var e=0;e<this.data.datasets[t].metaData.length;e++)if(this.data.datasets[t].metaData[e].inRange(n.x,n.y))return this.data.datasets[t].metaData[e]}.call(this);return i&&r.each(this.data.datasets,function(t){r.isDatasetVisible(t)&&e.push(t.metaData[i._index])}),e},getDatasetAtEvent:function(t){var e=this.getElementAtEvent(t);return 0<e.length&&(e=this.data.datasets[e[0]._datasetIndex].metaData),e},generateLegend:function(){return this.options.legendCallback(this)},destroy:function(){this.clear(),r.unbindEvents(this,this.events),r.removeResizeListener(this.chart.canvas.parentNode);var t=this.chart.canvas;t.width=this.chart.width,t.height=this.chart.height,void 0!==this.chart.originalDevicePixelRatio&&this.chart.ctx.scale(1/this.chart.originalDevicePixelRatio,1/this.chart.originalDevicePixelRatio),t.style.width=this.chart.originalCanvasStyleWidth,t.style.height=this.chart.originalCanvasStyleHeight,delete a.instances[this.id]},toBase64Image:function(){return this.chart.canvas.toDataURL.apply(this.chart.canvas,arguments)},initToolTip:function(){this.tooltip=new a.Tooltip({_chart:this.chart,_chartInstance:this,_data:this.data,_options:this.options},this)},bindEvents:function(){r.bindEvents(this,this.options.events,function(t){this.eventHandler(t)})},eventHandler:function(e){if(this.lastActive=this.lastActive||[],this.lastTooltipActive=this.lastTooltipActive||[],"mouseout"===e.type)this.active=[],this.tooltipActive=[];else{var n=this,t=function(t){switch(t){case"single":return n.getElementAtEvent(e);case"label":return n.getElementsAtEvent(e);case"dataset":return n.getDatasetAtEvent(e);default:return e}};this.active=t(this.options.hover.mode),this.tooltipActive=t(this.options.tooltips.mode)}if(this.options.hover.onHover&&this.options.hover.onHover.call(this,this.active),"mouseup"!==e.type&&"click"!==e.type||(this.options.onClick&&this.options.onClick.call(this,e,this.active),this.legend&&this.legend.handleEvent&&this.legend.handleEvent(e)),this.lastActive.length)switch(this.options.hover.mode){case"single":this.data.datasets[this.lastActive[0]._datasetIndex].controller.removeHoverStyle(this.lastActive[0],this.lastActive[0]._datasetIndex,this.lastActive[0]._index);break;case"label":case"dataset":for(var i=0;i<this.lastActive.length;i++)this.lastActive[i]&&this.data.datasets[this.lastActive[i]._datasetIndex].controller.removeHoverStyle(this.lastActive[i],this.lastActive[i]._datasetIndex,this.lastActive[i]._index)}if(this.active.length&&this.options.hover.mode)switch(this.options.hover.mode){case"single":this.data.datasets[this.active[0]._datasetIndex].controller.setHoverStyle(this.active[0]);break;case"label":case"dataset":for(var o=0;o<this.active.length;o++)this.active[o]&&this.data.datasets[this.active[o]._datasetIndex].controller.setHoverStyle(this.active[o])}var a;((this.options.tooltips.enabled||this.options.tooltips.custom)&&(this.tooltip.initialize(),this.tooltip._active=this.tooltipActive,this.tooltip.update()),this.tooltip.pivot(),this.animating)||(r.each(this.active,function(t,e){t!==this.lastActive[e]&&(a=!0)},this),r.each(this.tooltipActive,function(t,e){t!==this.lastTooltipActive[e]&&(a=!0)},this),(this.lastActive.length!==this.active.length||this.lastTooltipActive.length!==this.tooltipActive.length||a)&&(this.stop(),(this.options.tooltips.enabled||this.options.tooltips.custom)&&this.tooltip.update(!0),this.render(this.options.hover.animationDuration,!0)));return this.lastActive=this.active,this.lastTooltipActive=this.tooltipActive,this}})}},{}],23:[function(t,e){"use strict";e.exports=function(t){var e=t.helpers;t.DatasetController=function(t,e){this.initialize.call(this,t,e)},e.extend(t.DatasetController.prototype,{initialize:function(t,e){this.chart=t,this.index=e,this.linkScales(),this.addElements()},updateIndex:function(t){this.index=t},linkScales:function(){this.getDataset().xAxisID||(this.getDataset().xAxisID=this.chart.options.scales.xAxes[0].id),this.getDataset().yAxisID||(this.getDataset().yAxisID=this.chart.options.scales.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getScaleForId:function(t){return this.chart.scales[t]},reset:function(){this.update(!0)},buildOrUpdateElements:function(){var t=this.getDataset().data.length,e=this.getDataset().metaData.length;if(t<e)this.getDataset().metaData.splice(t,e-t);else if(e<t)for(var n=e;n<t;++n)this.addElementAndReset(n)},addElements:e.noop,addElementAndReset:e.noop,draw:e.noop,removeHoverStyle:e.noop,setHoverStyle:e.noop,update:e.noop}),t.DatasetController.extend=e.inherits}},{}],24:[function(t,e){"use strict";e.exports=function(t){var r=t.helpers;t.elements={},t.Element=function(t){r.extend(this,t),this.initialize.apply(this,arguments)},r.extend(t.Element.prototype,{initialize:function(){},pivot:function(){return this._view||(this._view=r.clone(this._model)),this._start=r.clone(this._view),this},transition:function(a){return this._view||(this._view=r.clone(this._model)),1===a?(this._view=this._model,this._start=null):(this._start||this.pivot(),r.each(this._model,function(t,e){if("_"!==e[0]&&this._model.hasOwnProperty(e))if(this._view.hasOwnProperty(e))if(t===this._view[e]);else if("string"==typeof t)try{var n=r.color(this._start[e]).mix(r.color(this._model[e]),a);this._view[e]=n.rgbString()}catch(o){this._view[e]=t}else if("number"==typeof t){var i=void 0!==this._start[e]&&!1===isNaN(this._start[e])?this._start[e]:0;this._view[e]=(this._model[e]-i)*a+i}else this._view[e]=t;else"number"!=typeof t||isNaN(this._view[e])?this._view[e]=t:this._view[e]=t*a},this)),this},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return r.isNumber(this._model.x)&&r.isNumber(this._model.y)}}),t.Element.extend=r.inherits}},{}],25:[function(t,e){"use strict";var i=t("chartjs-color");e.exports=function(r){function l(t,e,n){var i;return"string"==typeof t?(i=parseInt(t,10),-1!=t.indexOf("%")&&(i=i/100*e.parentNode[n])):i=t,i}function e(t,e,n){var i,o=document.defaultView.getComputedStyle(t)[e],a=document.defaultView.getComputedStyle(t.parentNode)[e],r=null!==o&&"none"!==o,s=null!==a&&"none"!==a;return(r||s)&&(i=Math.min(r?l(o,t,n):Number.POSITIVE_INFINITY,s?l(a,t.parentNode,n):Number.POSITIVE_INFINITY)),i}var t,f=r.helpers={};f.each=function(t,e,n,i){var o,a;if(f.isArray(t))if(a=t.length,i)for(o=a-1;0<=o;o--)e.call(n,t[o],o);else for(o=0;o<a;o++)e.call(n,t[o],o);else if("object"==typeof t){var r=Object.keys(t);for(a=r.length,o=0;o<a;o++)e.call(n,t[r[o]],r[o])}},f.clone=function(n){var i={};return f.each(n,function(t,e){n.hasOwnProperty(e)&&(f.isArray(t)?i[e]=t.slice(0):i[e]="object"==typeof t&&null!==t?f.clone(t):t)}),i},f.extend=function(i){for(var t=arguments.length,e=[],n=1;n<t;n++)e.push(arguments[n]);return f.each(e,function(n){f.each(n,function(t,e){n.hasOwnProperty(e)&&(i[e]=t)})}),i},f.configMerge=function(t){var o=f.clone(t);return f.each(Array.prototype.slice.call(arguments,1),function(i){f.each(i,function(t,e){if(i.hasOwnProperty(e))if("scales"===e)o[e]=f.scaleMerge(o.hasOwnProperty(e)?o[e]:{},t);else if("scale"===e)o[e]=f.configMerge(o.hasOwnProperty(e)?o[e]:{},r.scaleService.getScaleDefaults(t.type),t);else if(o.hasOwnProperty(e)&&f.isArray(o[e])&&f.isArray(t)){var n=o[e];f.each(t,function(t,e){e<n.length?"object"==typeof n[e]&&null!==n[e]&&"object"==typeof t&&null!==t?n[e]=f.configMerge(n[e],t):n[e]=t:n.push(t)})}else o.hasOwnProperty(e)&&"object"==typeof o[e]&&null!==o[e]&&"object"==typeof t?o[e]=f.configMerge(o[e],t):o[e]=t})}),o},f.extendDeep=function(t){function i(n){return f.each(arguments,function(t){t!==n&&f.each(t,function(t,e){n[e]&&n[e].constructor&&n[e].constructor===Object?i(n[e],t):n[e]=t})}),n}return i.apply(this,arguments)},f.scaleMerge=function(t,e){var a=f.clone(t);return f.each(e,function(t,o){e.hasOwnProperty(o)&&("xAxes"===o||"yAxes"===o?a.hasOwnProperty(o)?f.each(t,function(t,e){var n=f.getValueOrDefault(t.type,"xAxes"===o?"category":"linear"),i=r.scaleService.getScaleDefaults(n);e>=a[o].length||!a[o][e].type?a[o].push(f.configMerge(i,t)):t.type&&t.type!==a[o][e].type?a[o][e]=f.configMerge(a[o][e],i,t):a[o][e]=f.configMerge(a[o][e],t)}):(a[o]=[],f.each(t,function(t){var e=f.getValueOrDefault(t.type,"xAxes"===o?"category":"linear");a[o].push(f.configMerge(r.scaleService.getScaleDefaults(e),t))})):a.hasOwnProperty(o)&&"object"==typeof a[o]&&null!==a[o]&&"object"==typeof t?a[o]=f.configMerge(a[o],t):a[o]=t)}),a},f.getValueAtIndexOrDefault=function(t,e,n){return null==t?n:f.isArray(t)?e<t.length?t[e]:n:t},f.getValueOrDefault=function(t,e){return void 0===t?e:t},f.indexOf=function(t,e){if(Array.prototype.indexOf)return t.indexOf(e);for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1},f.where=function(t,e){var n=[];return f.each(t,function(t){e(t)&&n.push(t)}),n},f.findIndex=function(t,e,n){var i=-1;if(Array.prototype.findIndex)i=t.findIndex(e,n);else for(var o=0;o<t.length;++o)if(n=void 0!==n?n:t,e.call(n,t[o],o,t)){i=o;break}return i},f.findNextWhere=function(t,e,n){null!=n||(n=-1);for(var i=n+1;i<t.length;i++){var o=t[i];if(e(o))return o}},f.findPreviousWhere=function(t,e,n){null!=n||(n=t.length);for(var i=n-1;0<=i;i--){var o=t[i];if(e(o))return o}},f.inherits=function(t){var e=this,n=t&&t.hasOwnProperty("constructor")?t.constructor:function(){return e.apply(this,arguments)},i=function(){this.constructor=n};return i.prototype=e.prototype,n.prototype=new i,n.extend=f.inherits,t&&f.extend(n.prototype,t),n.__super__=e.prototype,n},f.noop=function(){},f.uid=(t=0,function(){return"chart-"+t++}),f.warn=function(t){console&&"function"==typeof console.warn&&console.warn(t)},f.isNumber=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},f.almostEquals=function(t,e,n){return Math.abs(t-e)<n},f.max=function(t){return t.reduce(function(t,e){return isNaN(e)?t:Math.max(t,e)},Number.NEGATIVE_INFINITY)},f.min=function(t){return t.reduce(function(t,e){return isNaN(e)?t:Math.min(t,e)},Number.POSITIVE_INFINITY)},f.sign=function(t){return Math.sign?Math.sign(t):0===(t=+t)||isNaN(t)?t:0<t?1:-1},f.log10=function(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10},f.toRadians=function(t){return t*(Math.PI/180)},f.toDegrees=function(t){return t*(180/Math.PI)},f.getAngleFromPoint=function(t,e){var n=e.x-t.x,i=e.y-t.y,o=Math.sqrt(n*n+i*i),a=Math.atan2(i,n);return a<-.5*Math.PI&&(a+=2*Math.PI),{angle:a,distance:o}},f.aliasPixel=function(t){return t%2==0?0:.5},f.splineCurve=function(t,e,n,i){var o=t.skip?e:t,a=e,r=n.skip?e:n,s=Math.sqrt(Math.pow(a.x-o.x,2)+Math.pow(a.y-o.y,2)),l=Math.sqrt(Math.pow(r.x-a.x,2)+Math.pow(r.y-a.y,2)),c=s/(s+l),d=l/(s+l),u=i*(c=isNaN(c)?0:c),h=i*(d=isNaN(d)?0:d);return{previous:{x:a.x-u*(r.x-o.x),y:a.y-u*(r.y-o.y)},next:{x:a.x+h*(r.x-o.x),y:a.y+h*(r.y-o.y)}}},f.nextItem=function(t,e,n){return n?e>=t.length-1?t[0]:t[e+1]:e>=t.length-1?t[t.length-1]:t[e+1]},f.previousItem=function(t,e,n){return n?e<=0?t[t.length-1]:t[e-1]:e<=0?t[0]:t[e-1]},f.niceNum=function(t,e){var n=Math.floor(f.log10(t)),i=t/Math.pow(10,n);return(e?i<1.5?1:i<3?2:i<7?5:10:i<=1?1:i<=2?2:i<=5?5:10)*Math.pow(10,n)};var n=f.easingEffects={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return-1*t*(t-2)},easeInOutQuad:function(t){return(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1)},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return 1*((t=t/1-1)*t*t+1)},easeInOutCubic:function(t){return(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return-1*((t=t/1-1)*t*t*t-1)},easeInOutQuart:function(t){return(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},easeInQuint:function(t){return 1*(t/=1)*t*t*t*t},easeOutQuint:function(t){return 1*((t=t/1-1)*t*t*t*t+1)},easeInOutQuint:function(t){return(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},easeInSine:function(t){return-1*Math.cos(t/1*(Math.PI/2))+1},easeOutSine:function(t){return 1*Math.sin(t/1*(Math.PI/2))},easeInOutSine:function(t){return-.5*(Math.cos(Math.PI*t/1)-1)},easeInExpo:function(t){return 0===t?1:1*Math.pow(2,10*(t/1-1))},easeOutExpo:function(t){return 1===t?1:1*(1-Math.pow(2,-10*t/1))},easeInOutExpo:function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*--t))},easeInCirc:function(t){return 1<=t?t:-1*(Math.sqrt(1-(t/=1)*t)-1)},easeOutCirc:function(t){return 1*Math.sqrt(1-(t=t/1-1)*t)},easeInOutCirc:function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInElastic:function(t){var e=1.70158,n=0,i=1;return 0===t?0:1==(t/=1)?1:(n||(n=.3),i<Math.abs(1)?(i=1,e=n/4):e=n/(2*Math.PI)*Math.asin(1/i),-i*Math.pow(2,10*(t-=1))*Math.sin((1*t-e)*(2*Math.PI)/n))},easeOutElastic:function(t){var e=1.70158,n=0,i=1;return 0===t?0:1==(t/=1)?1:(n||(n=.3),i<Math.abs(1)?(i=1,e=n/4):e=n/(2*Math.PI)*Math.asin(1/i),i*Math.pow(2,-10*t)*Math.sin((1*t-e)*(2*Math.PI)/n)+1)},easeInOutElastic:function(t){var e=1.70158,n=0,i=1;return 0===t?0:2==(t/=.5)?1:(n||(n=.3*1.5*1),i<Math.abs(1)?(i=1,e=n/4):e=n/(2*Math.PI)*Math.asin(1/i),t<1?i*Math.pow(2,10*(t-=1))*Math.sin((1*t-e)*(2*Math.PI)/n)*-.5:i*Math.pow(2,-10*(t-=1))*Math.sin((1*t-e)*(2*Math.PI)/n)*.5+1)},easeInBack:function(t){var e=1.70158;return 1*(t/=1)*t*((e+1)*t-e)},easeOutBack:function(t){var e=1.70158;return 1*((t=t/1-1)*t*((e+1)*t+e)+1)},easeInOutBack:function(t){var e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},easeInBounce:function(t){return 1-n.easeOutBounce(1-t)},easeOutBounce:function(t){return(t/=1)<1/2.75?7.5625*t*t*1:t<2/2.75?1*(7.5625*(t-=1.5/2.75)*t+.75):t<2.5/2.75?1*(7.5625*(t-=2.25/2.75)*t+.9375):1*(7.5625*(t-=2.625/2.75)*t+.984375)},easeInOutBounce:function(t){return t<.5?.5*n.easeInBounce(2*t):.5*n.easeOutBounce(2*t-1)+.5}};f.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)},f.cancelAnimFrame=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(t){return window.clearTimeout(t,1e3/60)},f.getRelativePosition=function(t,e){var n,i,o=t.originalEvent||t,a=t.currentTarget||t.srcElement,r=a.getBoundingClientRect();o.touches&&0<o.touches.length?(n=o.touches[0].clientX,i=o.touches[0].clientY):(n=o.clientX,i=o.clientY);var s=parseFloat(f.getStyle(a,"padding-left")),l=parseFloat(f.getStyle(a,"padding-top")),c=parseFloat(f.getStyle(a,"padding-right")),d=parseFloat(f.getStyle(a,"padding-bottom")),u=r.right-r.left-s-c,h=r.bottom-r.top-l-d;return{x:n=Math.round((n-r.left-s)/u*a.width/e.currentDevicePixelRatio),y:i=Math.round((i-r.top-l)/h*a.height/e.currentDevicePixelRatio)}},f.addEvent=function(t,e,n){t.addEventListener?t.addEventListener(e,n):t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n},f.removeEvent=function(t,e,n){t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent?t.detachEvent("on"+e,n):t["on"+e]=f.noop},f.bindEvents=function(e,t,n){e.events||(e.events={}),f.each(t,function(t){e.events[t]=function(){n.apply(e,arguments)},f.addEvent(e.chart.canvas,t,e.events[t])})},f.unbindEvents=function(n,t){f.each(t,function(t,e){f.removeEvent(n.chart.canvas,e,t)})},f.getConstraintWidth=function(t){return e(t,"max-width","clientWidth")},f.getConstraintHeight=function(t){return e(t,"max-height","clientHeight")},f.getMaximumWidth=function(t){var e=t.parentNode,n=parseInt(f.getStyle(e,"padding-left"))+parseInt(f.getStyle(e,"padding-right")),i=e.clientWidth-n,o=f.getConstraintWidth(t);return void 0!==o&&(i=Math.min(i,o)),i},f.getMaximumHeight=function(t){var e=t.parentNode,n=parseInt(f.getStyle(e,"padding-top"))+parseInt(f.getStyle(e,"padding-bottom")),i=e.clientHeight-n,o=f.getConstraintHeight(t);return void 0!==o&&(i=Math.min(i,o)),i},f.getStyle=function(t,e){return t.currentStyle?t.currentStyle[e]:document.defaultView.getComputedStyle(t,null).getPropertyValue(e)},f.retinaScale=function(t){var e=t.ctx,n=t.canvas.width,i=t.canvas.height,o=t.currentDevicePixelRatio=window.devicePixelRatio||1;1!==o&&(e.canvas.height=i*o,e.canvas.width=n*o,e.scale(o,o),t.originalDevicePixelRatio=t.originalDevicePixelRatio||o),e.canvas.style.width=n+"px",e.canvas.style.height=i+"px"},f.clear=function(t){t.ctx.clearRect(0,0,t.width,t.height)},f.fontString=function(t,e,n){return e+" "+t+"px "+n},f.longestText=function(n,t,e,i){(i=i||{}).data=i.data||{},i.garbageCollect=i.garbageCollect||[],i.font!==t&&(i.data={},i.garbageCollect=[],i.font=t),n.font=t;var o=0;f.each(e,function(t){if(null!=t){var e=i.data[t];e||(e=i.data[t]=n.measureText(t).width,i.garbageCollect.push(t)),o<e&&(o=e)}});var a=i.garbageCollect.length/2;if(a>e.length){for(var r=0;r<a;r++)delete i.data[i.garbageCollect[r]];i.garbageCollect.splice(0,a)}return o},f.drawRoundedRectangle=function(t,e,n,i,o,a){t.beginPath(),t.moveTo(e+a,n),t.lineTo(e+i-a,n),t.quadraticCurveTo(e+i,n,e+i,n+a),t.lineTo(e+i,n+o-a),t.quadraticCurveTo(e+i,n+o,e+i-a,n+o),t.lineTo(e+a,n+o),t.quadraticCurveTo(e,n+o,e,n+o-a),t.lineTo(e,n+a),t.quadraticCurveTo(e,n,e+a,n),t.closePath()},f.color=function(t){return i?i(t instanceof CanvasGradient?r.defaults.global.defaultColor:t):(console.log("Color.js not found!"),t)},f.addResizeListener=function(t,e){var n=document.createElement("iframe"),i="chartjs-hidden-iframe";n.classlist?n.classlist.add(i):n.setAttribute("class",i),n.style.width="100%",n.style.display="block",n.style.border=0,n.style.height=0,n.style.margin=0,n.style.position="absolute",n.style.left=0,n.style.right=0,n.style.top=0,n.style.bottom=0,t.insertBefore(n,t.firstChild),(n.contentWindow||n).onresize=function(){e&&e()}},f.removeResizeListener=function(t){var e=t.querySelector(".chartjs-hidden-iframe");e&&e.parentNode.removeChild(e)},f.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===Object.prototype.toString.call(t)},f.pushAllIfDefined=function(t,e){void 0!==t&&(f.isArray(t)?e.push.apply(e,t):e.push(t))},f.isDatasetVisible=function(t){return!t.hidden},f.callCallback=function(t,e,n){t&&"function"==typeof t.call&&t.apply(n,e)}}},{"chartjs-color":2}],26:[function(t,e){"use strict";e.exports=function(){var i=function(t,e){this.config=e,
t.length&&t[0].getContext&&(t=t[0]),t.getContext&&(t=t.getContext("2d")),this.ctx=t,this.canvas=t.canvas,this.width=t.canvas.width||parseInt(i.helpers.getStyle(t.canvas,"width"))||i.helpers.getMaximumWidth(t.canvas),this.height=t.canvas.height||parseInt(i.helpers.getStyle(t.canvas,"height"))||i.helpers.getMaximumHeight(t.canvas),this.aspectRatio=this.width/this.height,(isNaN(this.aspectRatio)||!1===isFinite(this.aspectRatio))&&(this.aspectRatio=void 0!==e.aspectRatio?e.aspectRatio:2),this.originalCanvasStyleWidth=t.canvas.style.width,this.originalCanvasStyleHeight=t.canvas.style.height,i.helpers.retinaScale(this),e&&(this.controller=new i.Controller(this));var n=this;return i.helpers.addResizeListener(t.canvas.parentNode,function(){n.controller&&n.controller.config.options.responsive&&n.controller.resize()}),this.controller?this.controller:this};return i.defaults={global:{responsive:!0,responsiveAnimationDuration:0,maintainAspectRatio:!0,events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"single",animationDuration:400},onClick:null,defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",showLines:!0,elements:{},legendCallback:function(t){var e=[];e.push('<ul class="'+t.id+'-legend">');for(var n=0;n<t.data.datasets.length;n++)e.push('<li><span style="background-color:'+t.data.datasets[n].backgroundColor+'"></span>'),t.data.datasets[n].label&&e.push(t.data.datasets[n].label),e.push("</li>");return e.push("</ul>"),e.join("")}}},i}},{}],27:[function(t,e){"use strict";e.exports=function(t){var w=t.helpers;t.layoutService={defaults:{},addBox:function(t,e){t.boxes||(t.boxes=[]),t.boxes.push(e)},removeBox:function(t,e){t.boxes&&t.boxes.splice(t.boxes.indexOf(e),1)},update:function(e,n,t){function i(t){var e,n=t.isHorizontal();n?(e=t.update(t.options.fullWidth?p:T,E),b-=e.height):(e=t.update(v,g),T-=e.width),C.push({horizontal:n,minSize:e,box:t})}function o(e){var t=w.findNextWhere(C,function(t){return t.box===e});if(t)if(e.isHorizontal()){var n={left:y,right:D,top:0,bottom:0};e.update(e.options.fullWidth?p:T,m/2,n)}else e.update(t.minSize.width,b)}function a(e){var t=w.findNextWhere(C,function(t){return t.box===e}),n={left:0,right:0,top:I,bottom:O};t&&e.update(t.minSize.width,b,n)}function r(t){t.isHorizontal()?(t.left=t.options.fullWidth?s:y,t.right=t.options.fullWidth?n-s:y+T,t.top=x,t.bottom=x+t.height,x=t.bottom):(t.left=_,t.right=_+t.width,t.top=I,t.bottom=I+b,_=t.right)}if(e){var s=0,l=0,c=w.where(e.boxes,function(t){return"left"===t.options.position}),d=w.where(e.boxes,function(t){return"right"===t.options.position}),u=w.where(e.boxes,function(t){return"top"===t.options.position}),h=w.where(e.boxes,function(t){return"bottom"===t.options.position}),f=w.where(e.boxes,function(t){return"chartArea"===t.options.position});u.sort(function(t,e){return(e.options.fullWidth?1:0)-(t.options.fullWidth?1:0)}),h.sort(function(t,e){return(t.options.fullWidth?1:0)-(e.options.fullWidth?1:0)});var p=n-2*s,m=t-2*l,g=m/2,v=(n-p/2)/(c.length+d.length),E=(t-g)/(u.length+h.length),T=p,b=m,C=[];w.each(c.concat(d,u,h),i);var y=s,D=s,I=l,O=l;w.each(c.concat(d),o),w.each(c,function(t){y+=t.width}),w.each(d,function(t){D+=t.width}),w.each(u.concat(h),o),w.each(u,function(t){I+=t.height}),w.each(h,function(t){O+=t.height}),w.each(c.concat(d),a),D=y=s,O=I=l,w.each(c,function(t){y+=t.width}),w.each(d,function(t){D+=t.width}),w.each(u,function(t){I+=t.height}),w.each(h,function(t){O+=t.height});var R=t-I-O,k=n-y-D;k===T&&R===b||(w.each(c,function(t){t.height=R}),w.each(d,function(t){t.height=R}),w.each(u,function(t){t.width=k}),w.each(h,function(t){t.width=k}),b=R,T=k);var _=s,x=l;w.each(c.concat(u),r),_+=T,x+=b,w.each(d,r),w.each(h,r),e.chartArea={left:y,top:I,right:y+T,bottom:I+b},w.each(f,function(t){t.left=e.chartArea.left,t.top=e.chartArea.top,t.right=e.chartArea.right,t.bottom=e.chartArea.bottom,t.update(T,b)})}}}}},{}],28:[function(t,e){"use strict";e.exports=function(l){var c=l.helpers;l.defaults.global.legend={display:!0,position:"top",fullWidth:!0,reverse:!1,onClick:function(t,e){var n=this.chart.data.datasets[e.datasetIndex];n.hidden=!n.hidden,this.chart.update()},labels:{boxWidth:40,padding:10,generateLabels:function(t){return c.isArray(t.datasets)?t.datasets.map(function(t,e){return{text:t.label,fillStyle:t.backgroundColor,hidden:t.hidden,lineCap:t.borderCapStyle,lineDash:t.borderDash,lineDashOffset:t.borderDashOffset,lineJoin:t.borderJoinStyle,lineWidth:t.borderWidth,strokeStyle:t.borderColor,datasetIndex:e}},this):[]}}},l.Legend=l.Element.extend({initialize:function(t){c.extend(this,t),this.legendHitBoxes=[],this.doughnutMode=!1},beforeUpdate:c.noop,update:function(t,e,n){return this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this.margins=n,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this.beforeBuildLabels(),this.buildLabels(),this.afterBuildLabels(),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate(),this.minSize},afterUpdate:c.noop,beforeSetDimensions:c.noop,setDimensions:function(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0,this.minSize={width:0,height:0}},afterSetDimensions:c.noop,beforeBuildLabels:c.noop,buildLabels:function(){this.legendItems=this.options.labels.generateLabels.call(this,this.chart.data),this.options.reverse&&this.legendItems.reverse()},afterBuildLabels:c.noop,beforeFit:c.noop,fit:function(){var i=this.ctx,o=c.getValueOrDefault(this.options.labels.fontSize,l.defaults.global.defaultFontSize),t=c.getValueOrDefault(this.options.labels.fontStyle,l.defaults.global.defaultFontStyle),e=c.getValueOrDefault(this.options.labels.fontFamily,l.defaults.global.defaultFontFamily),n=c.fontString(o,t,e);if(this.legendHitBoxes=[],this.isHorizontal()?this.minSize.width=this.maxWidth:this.minSize.width=this.options.display?10:0,this.isHorizontal()?this.minSize.height=this.options.display?10:0:this.minSize.height=this.maxHeight,this.options.display&&this.isHorizontal()){this.lineWidths=[0];var a=this.legendItems.length?o+this.options.labels.padding:0;i.textAlign="left",i.textBaseline="top",i.font=n,c.each(this.legendItems,function(t,e){var n=this.options.labels.boxWidth+o/2+i.measureText(t.text).width;this.lineWidths[this.lineWidths.length-1]+n+this.options.labels.padding>=this.width&&(a+=o+this.options.labels.padding,this.lineWidths[this.lineWidths.length]=this.left),this.legendHitBoxes[e]={left:0,top:0,width:n,height:o},this.lineWidths[this.lineWidths.length-1]+=n+this.options.labels.padding},this),this.minSize.height+=a}this.width=this.minSize.width,this.height=this.minSize.height},afterFit:c.noop,isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},draw:function(){if(this.options.display){var a=this.ctx,r={x:this.left+(this.width-this.lineWidths[0])/2,y:this.top+this.options.labels.padding,line:0},t=c.getValueOrDefault(this.options.labels.fontColor,l.defaults.global.defaultFontColor),s=c.getValueOrDefault(this.options.labels.fontSize,l.defaults.global.defaultFontSize),e=c.getValueOrDefault(this.options.labels.fontStyle,l.defaults.global.defaultFontStyle),n=c.getValueOrDefault(this.options.labels.fontFamily,l.defaults.global.defaultFontFamily),i=c.fontString(s,e,n);this.isHorizontal()&&(a.textAlign="left",a.textBaseline="top",a.lineWidth=.5,a.strokeStyle=t,a.fillStyle=t,a.font=i,c.each(this.legendItems,function(t,e){var n=a.measureText(t.text).width,i=this.options.labels.boxWidth+s/2+n;r.x+i>=this.width&&(r.y+=s+this.options.labels.padding,r.line++,r.x=this.left+(this.width-this.lineWidths[r.line])/2),a.save();var o=function(t,e){return void 0!==t?t:e};a.fillStyle=o(t.fillStyle,l.defaults.global.defaultColor),a.lineCap=o(t.lineCap,l.defaults.global.elements.line.borderCapStyle),a.lineDashOffset=o(t.lineDashOffset,l.defaults.global.elements.line.borderDashOffset),a.lineJoin=o(t.lineJoin,l.defaults.global.elements.line.borderJoinStyle),a.lineWidth=o(t.lineWidth,l.defaults.global.elements.line.borderWidth),a.strokeStyle=o(t.strokeStyle,l.defaults.global.defaultColor),a.setLineDash&&a.setLineDash(o(t.lineDash,l.defaults.global.elements.line.borderDash)),a.strokeRect(r.x,r.y,this.options.labels.boxWidth,s),a.fillRect(r.x,r.y,this.options.labels.boxWidth,s),a.restore(),this.legendHitBoxes[e].left=r.x,this.legendHitBoxes[e].top=r.y,a.fillText(t.text,this.options.labels.boxWidth+s/2+r.x,r.y),t.hidden&&(a.beginPath(),a.lineWidth=2,a.moveTo(this.options.labels.boxWidth+s/2+r.x,r.y+s/2),a.lineTo(this.options.labels.boxWidth+s/2+r.x+n,r.y+s/2),a.stroke()),r.x+=i+this.options.labels.padding},this))}},handleEvent:function(t){var e=c.getRelativePosition(t,this.chart.chart);if(e.x>=this.left&&e.x<=this.right&&e.y>=this.top&&e.y<=this.bottom)for(var n=0;n<this.legendHitBoxes.length;++n){var i=this.legendHitBoxes[n];if(e.x>=i.left&&e.x<=i.left+i.width&&e.y>=i.top&&e.y<=i.top+i.height){this.options.onClick&&this.options.onClick.call(this,t,this.legendItems[n]);break}}}})}},{}],29:[function(t,e){"use strict";e.exports=function(o){var t=o.helpers;o.plugins=[],o.pluginService={register:function(t){-1===o.plugins.indexOf(t)&&o.plugins.push(t)},remove:function(t){var e=o.plugins.indexOf(t);-1!==e&&o.plugins.splice(e,1)},notifyPlugins:function(e,n,i){t.each(o.plugins,function(t){t[e]&&"function"==typeof t[e]&&t[e].apply(i,n)},i)}},o.PluginBase=o.Element.extend({beforeInit:t.noop,afterInit:t.noop,beforeUpdate:t.noop,afterUpdate:t.noop,beforeDraw:t.noop,afterDraw:t.noop})}},{}],30:[function(t,e){"use strict";e.exports=function(w){var K=w.helpers;w.defaults.scale={display:!0,gridLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",offsetGridLines:!1},scaleLabel:{labelString:"",display:!1},ticks:{beginAtZero:!1,maxRotation:50,mirror:!1,padding:10,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,callback:function(t){return""+t}}},w.Scale=w.Element.extend({beforeUpdate:function(){K.callCallback(this.options.beforeUpdate,[this])},update:function(t,e,n){return this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this.margins=K.extend({left:0,right:0,top:0,bottom:0},n),this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this.beforeBuildTicks(),this.buildTicks(),this.afterBuildTicks(),this.beforeTickToLabelConversion(),this.convertTicksToLabels(),this.afterTickToLabelConversion(),this.beforeCalculateTickRotation(),this.calculateTickRotation(),this.afterCalculateTickRotation(),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate(),this.minSize},afterUpdate:function(){K.callCallback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){K.callCallback(this.options.beforeSetDimensions,[this])},setDimensions:function(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0},afterSetDimensions:function(){K.callCallback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){K.callCallback(this.options.beforeDataLimits,[this])},determineDataLimits:K.noop,afterDataLimits:function(){K.callCallback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){K.callCallback(this.options.beforeBuildTicks,[this])},buildTicks:K.noop,afterBuildTicks:function(){K.callCallback(this.options.afterBuildTicks,[this])},beforeTickToLabelConversion:function(){K.callCallback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){this.ticks=this.ticks.map(function(t,e,n){return this.options.ticks.userCallback?this.options.ticks.userCallback(t,e,n):this.options.ticks.callback(t,e,n)},this)},afterTickToLabelConversion:function(){K.callCallback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){K.callCallback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var t=K.getValueOrDefault(this.options.ticks.fontSize,w.defaults.global.defaultFontSize),e=K.getValueOrDefault(this.options.ticks.fontStyle,w.defaults.global.defaultFontStyle),n=K.getValueOrDefault(this.options.ticks.fontFamily,w.defaults.global.defaultFontFamily),i=K.fontString(t,e,n);this.ctx.font=i;var o,a=this.ctx.measureText(this.ticks[0]).width,r=this.ctx.measureText(this.ticks[this.ticks.length-1]).width;if(this.labelRotation=0,this.paddingRight=0,this.paddingLeft=0,this.options.display&&this.isHorizontal()){this.paddingRight=r/2+3,this.paddingLeft=a/2+3,this.longestTextCache||(this.longestTextCache={});for(var s,l,c=K.longestText(this.ctx,i,this.ticks,this.longestTextCache),d=c,u=this.getPixelForTick(1)-this.getPixelForTick(0)-6;u<d&&this.labelRotation<this.options.ticks.maxRotation;){if(s=Math.cos(K.toRadians(this.labelRotation)),l=Math.sin(K.toRadians(this.labelRotation)),(o=s*a)+t/2>this.yLabelWidth&&(this.paddingLeft=o+t/2),this.paddingRight=t/2,l*c>this.maxHeight){this.labelRotation--;break}this.labelRotation++,d=s*c}}this.margins&&(this.paddingLeft=Math.max(this.paddingLeft-this.margins.left,0),this.paddingRight=Math.max(this.paddingRight-this.margins.right,0))},afterCalculateTickRotation:function(){K.callCallback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){K.callCallback(this.options.beforeFit,[this])},fit:function(){this.minSize={width:0,height:0};var t=K.getValueOrDefault(this.options.ticks.fontSize,w.defaults.global.defaultFontSize),e=K.getValueOrDefault(this.options.ticks.fontStyle,w.defaults.global.defaultFontStyle),n=K.getValueOrDefault(this.options.ticks.fontFamily,w.defaults.global.defaultFontFamily),i=K.fontString(t,e,n),o=K.getValueOrDefault(this.options.scaleLabel.fontSize,w.defaults.global.defaultFontSize),a=K.getValueOrDefault(this.options.scaleLabel.fontStyle,w.defaults.global.defaultFontStyle),r=K.getValueOrDefault(this.options.scaleLabel.fontFamily,w.defaults.global.defaultFontFamily);if(K.fontString(o,a,r),this.isHorizontal()?this.minSize.width=this.isFullWidth()?this.maxWidth-this.margins.left-this.margins.right:this.maxWidth:this.minSize.width=this.options.gridLines.tickMarkLength,this.isHorizontal()?this.minSize.height=this.options.gridLines.tickMarkLength:this.minSize.height=this.maxHeight,this.options.scaleLabel.display&&(this.isHorizontal()?this.minSize.height+=1.5*o:this.minSize.width+=1.5*o),this.options.ticks.display&&this.options.display){this.longestTextCache||(this.longestTextCache={});var s=K.longestText(this.ctx,i,this.ticks,this.longestTextCache);if(this.isHorizontal()){this.longestLabelWidth=s;var l=Math.sin(K.toRadians(this.labelRotation))*this.longestLabelWidth+1.5*t;this.minSize.height=Math.min(this.maxHeight,this.minSize.height+l),this.ctx.font=i;var c=this.ctx.measureText(this.ticks[0]).width,d=this.ctx.measureText(this.ticks[this.ticks.length-1]).width,u=Math.cos(K.toRadians(this.labelRotation)),h=Math.sin(K.toRadians(this.labelRotation));this.paddingLeft=0!==this.labelRotation?u*c+3:c/2+3,this.paddingRight=0!==this.labelRotation?h*(t/2)+3:d/2+3}else{var f=this.maxWidth-this.minSize.width;this.options.ticks.mirror||(s+=this.options.ticks.padding),s<f?this.minSize.width+=s:this.minSize.width=this.maxWidth,this.paddingTop=t/2,this.paddingBottom=t/2}}this.margins&&(this.paddingLeft=Math.max(this.paddingLeft-this.margins.left,0),this.paddingTop=Math.max(this.paddingTop-this.margins.top,0),this.paddingRight=Math.max(this.paddingRight-this.margins.right,0),this.paddingBottom=Math.max(this.paddingBottom-this.margins.bottom,0)),this.width=this.minSize.width,this.height=this.minSize.height},afterFit:function(){K.callCallback(this.options.afterFit,[this])},isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},isFullWidth:function(){return this.options.fullWidth},getRightValue:function e(t){return null==t?NaN:"number"==typeof t&&isNaN(t)?NaN:"object"==typeof t?t instanceof Date?t:e(this.isHorizontal()?t.x:t.y):t},getLabelForIndex:K.noop,getPixelForValue:K.noop,getPixelForTick:function(t,e){if(this.isHorizontal()){var n=(this.width-(this.paddingLeft+this.paddingRight))/Math.max(this.ticks.length-(this.options.gridLines.offsetGridLines?0:1),1),i=n*t+this.paddingLeft;return e&&(i+=n/2),this.left+Math.round(i)+(this.isFullWidth()?this.margins.left:0)}var o=this.height-(this.paddingTop+this.paddingBottom);return this.top+t*(o/(this.ticks.length-1))},getPixelForDecimal:function(t){if(this.isHorizontal()){var e=(this.width-(this.paddingLeft+this.paddingRight))*t+this.paddingLeft;return this.left+Math.round(e)+(this.isFullWidth()?this.margins.left:0)}return this.top+t*this.height},draw:function(a){if(this.options.display){var r,s,t,e,n,l=0!==this.labelRotation,i=this.options.ticks.autoSkip;this.options.ticks.maxTicksLimit&&(n=this.options.ticks.maxTicksLimit);var o=K.getValueOrDefault(this.options.ticks.fontColor,w.defaults.global.defaultFontColor),c=K.getValueOrDefault(this.options.ticks.fontSize,w.defaults.global.defaultFontSize),d=K.getValueOrDefault(this.options.ticks.fontStyle,w.defaults.global.defaultFontStyle),u=K.getValueOrDefault(this.options.ticks.fontFamily,w.defaults.global.defaultFontFamily),h=K.fontString(c,d,u),f=this.options.gridLines.tickMarkLength,p=K.getValueOrDefault(this.options.scaleLabel.fontColor,w.defaults.global.defaultFontColor),m=K.getValueOrDefault(this.options.scaleLabel.fontSize,w.defaults.global.defaultFontSize),g=K.getValueOrDefault(this.options.scaleLabel.fontStyle,w.defaults.global.defaultFontStyle),v=K.getValueOrDefault(this.options.scaleLabel.fontFamily,w.defaults.global.defaultFontFamily),E=K.fontString(m,g,v),T=Math.cos(K.toRadians(this.labelRotation)),b=(Math.sin(K.toRadians(this.labelRotation)),this.longestLabelWidth*T);if(this.ctx.fillStyle=o,this.isHorizontal()){r=!0;var C="bottom"===this.options.position?this.top:this.bottom-f,y="bottom"===this.options.position?this.top+f:this.bottom;if(s=!1,(b/2+this.options.ticks.autoSkipPadding)*this.ticks.length>this.width-(this.paddingLeft+this.paddingRight)&&(s=1+Math.floor((b/2+this.options.ticks.autoSkipPadding)*this.ticks.length/(this.width-(this.paddingLeft+this.paddingRight)))),n&&this.ticks.length>n)for(;!s||this.ticks.length/(s||1)>n;)s||(s=1),s+=1;i||(s=!1),K.each(this.ticks,function(t,e){var n=this.ticks.length===e+1;if((!(1<s&&0<e%s||e%s==0&&e+s>this.ticks.length)||n)&&null!=t){var i=this.getPixelForTick(e),o=this.getPixelForTick(e,this.options.gridLines.offsetGridLines);this.options.gridLines.display&&(e===("undefined"!=typeof this.zeroLineIndex?this.zeroLineIndex:0)?(this.ctx.lineWidth=this.options.gridLines.zeroLineWidth,this.ctx.strokeStyle=this.options.gridLines.zeroLineColor,r=!0):r&&(this.ctx.lineWidth=this.options.gridLines.lineWidth,this.ctx.strokeStyle=this.options.gridLines.color,r=!1),i+=K.aliasPixel(this.ctx.lineWidth),this.ctx.beginPath(),this.options.gridLines.drawTicks&&(this.ctx.moveTo(i,C),this.ctx.lineTo(i,y)),this.options.gridLines.drawOnChartArea&&(this.ctx.moveTo(i,a.top),this.ctx.lineTo(i,a.bottom)),this.ctx.stroke()),this.options.ticks.display&&(this.ctx.save(),this.ctx.translate(o,l?this.top+12:"top"===this.options.position?this.bottom-f:this.top+f),this.ctx.rotate(-1*K.toRadians(this.labelRotation)),this.ctx.font=h,this.ctx.textAlign=l?"right":"center",this.ctx.textBaseline=l?"middle":"top"===this.options.position?"bottom":"top",this.ctx.fillText(t,0,0),this.ctx.restore())}},this),this.options.scaleLabel.display&&(this.ctx.textAlign="center",this.ctx.textBaseline="middle",this.ctx.fillStyle=p,this.ctx.font=E,t=this.left+(this.right-this.left)/2,e="bottom"===this.options.position?this.bottom-m/2:this.top+m/2,this.ctx.fillText(this.options.scaleLabel.labelString,t,e))}else{r=!0;var D="right"===this.options.position?this.left:this.right-5,I="right"===this.options.position?this.left+5:this.right;if(K.each(this.ticks,function(t,e){if(null!=t){var n=this.getPixelForTick(e);if(this.options.gridLines.display&&(e===("undefined"!=typeof this.zeroLineIndex?this.zeroLineIndex:0)?(this.ctx.lineWidth=this.options.gridLines.zeroLineWidth,this.ctx.strokeStyle=this.options.gridLines.zeroLineColor,r=!0):r&&(this.ctx.lineWidth=this.options.gridLines.lineWidth,this.ctx.strokeStyle=this.options.gridLines.color,r=!1),n+=K.aliasPixel(this.ctx.lineWidth),this.ctx.beginPath(),this.options.gridLines.drawTicks&&(this.ctx.moveTo(D,n),this.ctx.lineTo(I,n)),this.options.gridLines.drawOnChartArea&&(this.ctx.moveTo(a.left,n),this.ctx.lineTo(a.right,n)),this.ctx.stroke()),this.options.ticks.display){var i,o=this.getPixelForTick(e,this.options.gridLines.offsetGridLines);this.ctx.save(),"left"===this.options.position?this.options.ticks.mirror?(i=this.right+this.options.ticks.padding,this.ctx.textAlign="left"):(i=this.right-this.options.ticks.padding,this.ctx.textAlign="right"):this.options.ticks.mirror?(i=this.left-this.options.ticks.padding,this.ctx.textAlign="right"):(i=this.left+this.options.ticks.padding,this.ctx.textAlign="left"),this.ctx.translate(i,o),this.ctx.rotate(-1*K.toRadians(this.labelRotation)),this.ctx.font=h,this.ctx.textBaseline="middle",this.ctx.fillText(t,0,0),this.ctx.restore()}}},this),this.options.scaleLabel.display){t="left"===this.options.position?this.left+m/2:this.right-m/2,e=this.top+(this.bottom-this.top)/2;var O="left"===this.options.position?-.5*Math.PI:.5*Math.PI;this.ctx.save(),this.ctx.translate(t,e),this.ctx.rotate(O),this.ctx.textAlign="center",this.ctx.fillStyle=p,this.ctx.font=E,this.ctx.textBaseline="middle",this.ctx.fillText(this.options.scaleLabel.labelString,0,0),this.ctx.restore()}}this.ctx.lineWidth=this.options.gridLines.lineWidth,this.ctx.strokeStyle=this.options.gridLines.color;var R=this.left,k=this.right,_=this.top,x=this.bottom;this.isHorizontal()?(_=x="top"===this.options.position?this.bottom:this.top,_+=K.aliasPixel(this.ctx.lineWidth),x+=K.aliasPixel(this.ctx.lineWidth)):(R=k="left"===this.options.position?this.right:this.left,R+=K.aliasPixel(this.ctx.lineWidth),k+=K.aliasPixel(this.ctx.lineWidth)),this.ctx.beginPath(),this.ctx.moveTo(R,_),this.ctx.lineTo(k,x),this.ctx.stroke()}}})}},{}],31:[function(t,e){"use strict";e.exports=function(n){var i=n.helpers;n.scaleService={constructors:{},defaults:{},registerScaleType:function(t,e,n){this.constructors[t]=e,this.defaults[t]=i.clone(n)},getScaleConstructor:function(t){return this.constructors.hasOwnProperty(t)?this.constructors[t]:void 0},getScaleDefaults:function(t){return this.defaults.hasOwnProperty(t)?i.scaleMerge(n.defaults.scale,this.defaults[t]):{}},addScalesToLayout:function(e){i.each(e.scales,function(t){n.layoutService.addBox(e,t)})}}}},{}],32:[function(t,e){"use strict";e.exports=function(c){var d=c.helpers;c.defaults.global.title={display:!1,position:"top",fullWidth:!0,fontStyle:"bold",padding:10,text:""},c.Title=c.Element.extend({initialize:function(t){d.extend(this,t),this.options=d.configMerge(c.defaults.global.title,t.options),this.legendHitBoxes=[]},beforeUpdate:d.noop,update:function(t,e,n){return this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this.margins=n,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this.beforeBuildLabels(),this.buildLabels(),this.afterBuildLabels(),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate(),this.minSize},afterUpdate:d.noop,beforeSetDimensions:d.noop,setDimensions:function(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0,this.minSize={width:0,height:0}},afterSetDimensions:d.noop,beforeBuildLabels:d.noop,buildLabels:d.noop,afterBuildLabels:d.noop,beforeFit:d.noop,fit:function(){var t=(this.ctx,d.getValueOrDefault(this.options.fontSize,c.defaults.global.defaultFontSize)),e=d.getValueOrDefault(this.options.fontStyle,c.defaults.global.defaultFontStyle),n=d.getValueOrDefault(this.options.fontFamily,c.defaults.global.defaultFontFamily);d.fontString(t,e,n),this.isHorizontal()?this.minSize.width=this.maxWidth:this.minSize.width=0,this.isHorizontal()?this.minSize.height=0:this.minSize.height=this.maxHeight,this.isHorizontal()?this.options.display&&(this.minSize.height+=t+2*this.options.padding):this.options.display&&(this.minSize.width+=t+2*this.options.padding),this.width=this.minSize.width,this.height=this.minSize.height},afterFit:d.noop,isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},draw:function(){if(this.options.display){var t,e,n=this.ctx,i=d.getValueOrDefault(this.options.fontColor,c.defaults.global.defaultFontColor),o=d.getValueOrDefault(this.options.fontSize,c.defaults.global.defaultFontSize),a=d.getValueOrDefault(this.options.fontStyle,c.defaults.global.defaultFontStyle),r=d.getValueOrDefault(this.options.fontFamily,c.defaults.global.defaultFontFamily),s=d.fontString(o,a,r);if(n.fillStyle=i,n.font=s,this.isHorizontal())n.textAlign="center",n.textBaseline="middle",t=this.left+(this.right-this.left)/2,e=this.top+(this.bottom-this.top)/2,n.fillText(this.options.text,t,e);else{t="left"===this.options.position?this.left+o/2:this.right-o/2,e=this.top+(this.bottom-this.top)/2;var l="left"===this.options.position?-.5*Math.PI:.5*Math.PI;n.save(),n.translate(t,e),n.rotate(l),n.textAlign="center",n.textBaseline="middle",n.fillText(this.options.text,0,0),n.restore()}}}})}},{}],33:[function(t,e){"use strict";e.exports=function(e){function o(t,e){return e&&(h.isArray(e)?t=t.concat(e):t.push(e)),t}var h=e.helpers;e.defaults.global.tooltips={enabled:!0,custom:null,mode:"single",backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleColor:"#fff",titleAlign:"left",bodySpacing:2,bodyColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,yAlign:"center",xAlign:"center",caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",callbacks:{beforeTitle:h.noop,title:function(t,e){var n="";return 0<t.length&&(t[0].xLabel?n=t[0].xLabel:0<e.labels.length&&t[0].index<e.labels.length&&(n=e.labels[t[0].index])),n},afterTitle:h.noop,beforeBody:h.noop,beforeLabel:h.noop,label:function(t,e){return(e.datasets[t.datasetIndex].label||"")+": "+t.yLabel},afterLabel:h.noop,afterBody:h.noop,beforeFooter:h.noop,footer:h.noop,afterFooter:h.noop}},e.Tooltip=e.Element.extend({initialize:function(){var t=this._options;h.extend(this,{_model:{xPadding:t.tooltips.xPadding,yPadding:t.tooltips.yPadding,xAlign:t.tooltips.yAlign,yAlign:t.tooltips.xAlign,bodyColor:t.tooltips.bodyColor,_bodyFontFamily:h.getValueOrDefault(t.tooltips.bodyFontFamily,e.defaults.global.defaultFontFamily),_bodyFontStyle:h.getValueOrDefault(t.tooltips.bodyFontStyle,e.defaults.global.defaultFontStyle),_bodyAlign:t.tooltips.bodyAlign,bodyFontSize:h.getValueOrDefault(t.tooltips.bodyFontSize,e.defaults.global.defaultFontSize),bodySpacing:t.tooltips.bodySpacing,titleColor:t.tooltips.titleColor,_titleFontFamily:h.getValueOrDefault(t.tooltips.titleFontFamily,e.defaults.global.defaultFontFamily),_titleFontStyle:h.getValueOrDefault(t.tooltips.titleFontStyle,e.defaults.global.defaultFontStyle),titleFontSize:h.getValueOrDefault(t.tooltips.titleFontSize,e.defaults.global.defaultFontSize),_titleAlign:t.tooltips.titleAlign,titleSpacing:t.tooltips.titleSpacing,titleMarginBottom:t.tooltips.titleMarginBottom,footerColor:t.tooltips.footerColor,_footerFontFamily:h.getValueOrDefault(t.tooltips.footerFontFamily,e.defaults.global.defaultFontFamily),_footerFontStyle:h.getValueOrDefault(t.tooltips.footerFontStyle,e.defaults.global.defaultFontStyle),footerFontSize:h.getValueOrDefault(t.tooltips.footerFontSize,e.defaults.global.defaultFontSize),_footerAlign:t.tooltips.footerAlign,footerSpacing:t.tooltips.footerSpacing,footerMarginTop:t.tooltips.footerMarginTop,caretSize:t.tooltips.caretSize,cornerRadius:t.tooltips.cornerRadius,backgroundColor:t.tooltips.backgroundColor,opacity:0,legendColorBackground:t.tooltips.multiKeyBackground}})},getTitle:function(){var t=this._options.tooltips.callbacks.beforeTitle.apply(this,arguments),e=this._options.tooltips.callbacks.title.apply(this,arguments),n=this._options.tooltips.callbacks.afterTitle.apply(this,arguments),i=[];return o(i=o(i=o(i,t),e),n)},getBeforeBody:function(){var t=this._options.tooltips.callbacks.beforeBody.apply(this,arguments);return h.isArray(t)?t:void 0!==t?[t]:[]},getBody:function(t,e){var n=[];return h.each(t,function(t){h.pushAllIfDefined(this._options.tooltips.callbacks.beforeLabel.call(this,t,e),n),h.pushAllIfDefined(this._options.tooltips.callbacks.label.call(this,t,e),n),h.pushAllIfDefined(this._options.tooltips.callbacks.afterLabel.call(this,t,e),n)},this),n},getAfterBody:function(){var t=this._options.tooltips.callbacks.afterBody.apply(this,arguments);return h.isArray(t)?t:void 0!==t?[t]:[]},getFooter:function(){var t=this._options.tooltips.callbacks.beforeFooter.apply(this,arguments),e=this._options.tooltips.callbacks.footer.apply(this,arguments),n=this._options.tooltips.callbacks.afterFooter.apply(this,arguments),i=[];return o(i=o(i=o(i,t),e),n)},getAveragePosition:function(t){if(!t.length)return!1;var n=[],i=[];h.each(t,function(t){if(t){var e=t.tooltipPosition();n.push(e.x),i.push(e.y)}});for(var e=0,o=0,a=0;a<n.length;a++)e+=n[a],o+=i[a];return{x:Math.round(e/n.length),y:Math.round(o/n.length)}},update:function(t){if(this._active.length){this._model.opacity=1;var e,o=this._active[0],n=[],a=[];if("single"===this._options.tooltips.mode){var i=o._yScale||o._scale;a.push({xLabel:o._xScale?o._xScale.getLabelForIndex(o._index,o._datasetIndex):"",yLabel:i?i.getLabelForIndex(o._index,o._datasetIndex):"",index:o._index,datasetIndex:o._datasetIndex}),e=this.getAveragePosition(this._active)}else h.each(this._data.datasets,function(t,e){if(h.isDatasetVisible(t)){var n=t.metaData[o._index];if(n){var i=o._yScale||o._scale;a.push({xLabel:n._xScale?n._xScale.getLabelForIndex(n._index,n._datasetIndex):"",yLabel:i?i.getLabelForIndex(n._index,n._datasetIndex):"",index:o._index,datasetIndex:e})}}},null,o._yScale.options.stacked),h.each(this._active,function(t){t&&n.push({borderColor:t._view.borderColor,backgroundColor:t._view.backgroundColor})},null,o._yScale.options.stacked),(e=this.getAveragePosition(this._active)).y=this._active[0]._yScale.getPixelForDecimal(.5);h.extend(this._model,{title:this.getTitle(a,this._data),beforeBody:this.getBeforeBody(a,this._data),body:this.getBody(a,this._data),afterBody:this.getAfterBody(a,this._data),footer:this.getFooter(a,this._data)}),h.extend(this._model,{x:Math.round(e.x),y:Math.round(e.y),caretPadding:h.getValueOrDefault(e.padding,2),labelColors:n});var r=this.getTooltipSize(this._model);this.determineAlignment(r),h.extend(this._model,this.getBackgroundPoint(this._model,r))}else this._model.opacity=0;return t&&this._options.tooltips.custom&&this._options.tooltips.custom.call(this,this._model),this},getTooltipSize:function(e){var n=this._chart.ctx,i={height:2*e.yPadding,width:0},t=e.body.length+e.beforeBody.length+e.afterBody.length;return i.height+=e.title.length*e.titleFontSize,i.height+=(e.title.length-1)*e.titleSpacing,i.height+=e.title.length?e.titleMarginBottom:0,i.height+=t*e.bodyFontSize,i.height+=t?(t-1)*e.bodySpacing:0,i.height+=e.footer.length?e.footerMarginTop:0,i.height+=e.footer.length*e.footerFontSize,i.height+=e.footer.length?(e.footer.length-1)*e.footerSpacing:0,n.font=h.fontString(e.titleFontSize,e._titleFontStyle,e._titleFontFamily),h.each(e.title,function(t){i.width=Math.max(i.width,n.measureText(t).width)}),n.font=h.fontString(e.bodyFontSize,e._bodyFontStyle,e._bodyFontFamily),h.each(e.beforeBody.concat(e.afterBody),function(t){i.width=Math.max(i.width,n.measureText(t).width)}),h.each(e.body,function(t){i.width=Math.max(i.width,n.measureText(t).width+("single"!==this._options.tooltips.mode?e.bodyFontSize+2:0))},this),n.font=h.fontString(e.footerFontSize,e._footerFontStyle,e._footerFontFamily),h.each(e.footer,function(t){i.width=Math.max(i.width,n.measureText(t).width)}),i.width+=2*e.xPadding,i},determineAlignment:function(e){this._model.y<e.height?this._model.yAlign="top":this._model.y>this._chart.height-e.height&&(this._model.yAlign="bottom");var t,n,i,o,a,r=this,s=(this._chartInstance.chartArea.left+this._chartInstance.chartArea.right)/2,l=(this._chartInstance.chartArea.top+this._chartInstance.chartArea.bottom)/2
;"center"===this._model.yAlign?(t=function(t){return t<=s},n=function(t){return s<t}):(t=function(t){return t<=e.width/2},n=function(t){return t>=r._chart.width-e.width/2}),i=function(t){return t+e.width>r._chart.width},o=function(t){return t-e.width<0},a=function(t){return t<=l?"top":"bottom"},t(this._model.x)?(this._model.xAlign="left",i(this._model.x)&&(this._model.xAlign="center",this._model.yAlign=a(this._model.y))):n(this._model.x)&&(this._model.xAlign="right",o(this._model.x)&&(this._model.xAlign="center",this._model.yAlign=a(this._model.y)))},getBackgroundPoint:function(t,e){var n={x:t.x,y:t.y};return"right"===t.xAlign?n.x-=e.width:"center"===t.xAlign&&(n.x-=e.width/2),"top"===t.yAlign?n.y+=t.caretPadding+t.caretSize:"bottom"===t.yAlign?n.y-=e.height+t.caretPadding+t.caretSize:n.y-=e.height/2,"center"===t.yAlign?"left"===t.xAlign?n.x+=t.caretPadding+t.caretSize:"right"===t.xAlign&&(n.x-=t.caretPadding+t.caretSize):"left"===t.xAlign?n.x-=t.cornerRadius+t.caretPadding:"right"===t.xAlign&&(n.x+=t.cornerRadius+t.caretPadding),n},drawCaret:function(t,e,n){var i,o,a,r,s,l,c=this._view,d=this._chart.ctx;"center"===c.yAlign?("left"===c.xAlign?o=(i=t.x)-c.caretSize:o=(i=t.x+e.width)+c.caretSize,a=i,r=(s=t.y+e.height/2)-c.caretSize,l=s+c.caretSize):("left"===c.xAlign?a=(o=(i=t.x+c.cornerRadius)+c.caretSize)+c.caretSize:"right"===c.xAlign?a=(o=(i=t.x+e.width-c.cornerRadius)-c.caretSize)-c.caretSize:(i=(o=t.x+e.width/2)-c.caretSize,a=o+c.caretSize),"top"===c.yAlign?s=(r=t.y)-c.caretSize:s=(r=t.y+e.height)+c.caretSize,l=r);var u=h.color(c.backgroundColor);d.fillStyle=u.alpha(n*u.alpha()).rgbString(),d.beginPath(),d.moveTo(i,r),d.lineTo(o,s),d.lineTo(a,l),d.closePath(),d.fill()},drawTitle:function(n,i,o,t){if(i.title.length){o.textAlign=i._titleAlign,o.textBaseline="top";var e=h.color(i.titleColor);o.fillStyle=e.alpha(t*e.alpha()).rgbString(),o.font=h.fontString(i.titleFontSize,i._titleFontStyle,i._titleFontFamily),h.each(i.title,function(t,e){o.fillText(t,n.x,n.y),n.y+=i.titleFontSize+i.titleSpacing,e+1===i.title.length&&(n.y+=i.titleMarginBottom-i.titleSpacing)})}},drawBody:function(n,i,o,a){o.textAlign=i._bodyAlign,o.textBaseline="top";var t=h.color(i.bodyColor);o.fillStyle=t.alpha(a*t.alpha()).rgbString(),o.font=h.fontString(i.bodyFontSize,i._bodyFontStyle,i._bodyFontFamily),h.each(i.beforeBody,function(t){o.fillText(t,n.x,n.y),n.y+=i.bodyFontSize+i.bodySpacing}),h.each(i.body,function(t,e){"single"!==this._options.tooltips.mode&&(o.fillStyle=h.color(i.legendColorBackground).alpha(a).rgbaString(),o.fillRect(n.x,n.y,i.bodyFontSize,i.bodyFontSize),o.strokeStyle=h.color(i.labelColors[e].borderColor).alpha(a).rgbaString(),o.strokeRect(n.x,n.y,i.bodyFontSize,i.bodyFontSize),o.fillStyle=h.color(i.labelColors[e].backgroundColor).alpha(a).rgbaString(),o.fillRect(n.x+1,n.y+1,i.bodyFontSize-2,i.bodyFontSize-2),o.fillStyle=h.color(i.bodyColor).alpha(a).rgbaString()),o.fillText(t,n.x+("single"!==this._options.tooltips.mode?i.bodyFontSize+2:0),n.y),n.y+=i.bodyFontSize+i.bodySpacing},this),h.each(i.afterBody,function(t){o.fillText(t,n.x,n.y),n.y+=i.bodyFontSize}),n.y-=i.bodySpacing},drawFooter:function(e,n,i,t){if(n.footer.length){e.y+=n.footerMarginTop,i.textAlign=n._footerAlign,i.textBaseline="top";var o=h.color(n.footerColor);i.fillStyle=o.alpha(t*o.alpha()).rgbString(),i.font=h.fontString(n.footerFontSize,n._footerFontStyle,n._footerFontFamily),h.each(n.footer,function(t){i.fillText(t,e.x,e.y),e.y+=n.footerFontSize+n.footerSpacing})}},draw:function(){var t=this._chart.ctx,e=this._view;if(0!==e.opacity){var n=e.caretPadding,i=this.getTooltipSize(e),o={x:e.x,y:e.y},a=Math.abs(e.opacity<.001)?0:e.opacity;if(this._options.tooltips.enabled){var r=h.color(e.backgroundColor);t.fillStyle=r.alpha(a*r.alpha()).rgbString(),h.drawRoundedRectangle(t,o.x,o.y,i.width,i.height,e.cornerRadius),t.fill(),this.drawCaret(o,i,a,n),o.x+=e.xPadding,o.y+=e.yPadding,this.drawTitle(o,e,t,a),this.drawBody(o,e,t,a),this.drawFooter(o,e,t,a)}}}})}},{}],34:[function(t,e){"use strict";e.exports=function(t){var l=t.helpers;t.defaults.global.elements.arc={backgroundColor:t.defaults.global.defaultColor,borderColor:"#fff",borderWidth:2},t.elements.Arc=t.Element.extend({inLabelRange:function(t){var e=this._view;return!!e&&Math.pow(t-e.x,2)<Math.pow(e.radius+e.hoverRadius,2)},inRange:function(t,e){var n=this._view;if(n){for(var i=l.getAngleFromPoint(n,{x:t,y:e}),o=n.startAngle,a=n.endAngle;a<o;)a+=2*Math.PI;for(;i.angle>a;)i.angle-=2*Math.PI;for(;i.angle<o;)i.angle+=2*Math.PI;var r=i.angle>=o&&i.angle<=a,s=i.distance>=n.innerRadius&&i.distance<=n.outerRadius;return r&&s}return!1},tooltipPosition:function(){var t=this._view,e=t.startAngle+(t.endAngle-t.startAngle)/2,n=(t.outerRadius-t.innerRadius)/2+t.innerRadius;return{x:t.x+Math.cos(e)*n,y:t.y+Math.sin(e)*n}},draw:function(){var t=this._chart.ctx,e=this._view;t.beginPath(),t.arc(e.x,e.y,e.outerRadius,e.startAngle,e.endAngle),t.arc(e.x,e.y,e.innerRadius,e.endAngle,e.startAngle,!0),t.closePath(),t.strokeStyle=e.borderColor,t.lineWidth=e.borderWidth,t.fillStyle=e.backgroundColor,t.fill(),t.lineJoin="bevel",e.borderWidth&&t.stroke()}})}},{}],35:[function(t,e){"use strict";e.exports=function(r){var s=r.helpers;r.defaults.global.elements.line={tension:.4,backgroundColor:r.defaults.global.defaultColor,borderWidth:3,borderColor:r.defaults.global.defaultColor,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",fill:!0},r.elements.Line=r.Element.extend({lineToNextPoint:function(t,e,n,i,o){var a=this._chart.ctx;e._view.skip?i.call(this,t,e,n):t._view.skip?o.call(this,t,e,n):0===e._view.tension?a.lineTo(e._view.x,e._view.y):a.bezierCurveTo(t._view.controlPointNextX,t._view.controlPointNextY,e._view.controlPointPreviousX,e._view.controlPointPreviousY,e._view.x,e._view.y)},draw:function(){function t(t){n._view.skip||i._view.skip?t&&a.lineTo(e._view.scaleZero.x,e._view.scaleZero.y):a.bezierCurveTo(i._view.controlPointNextX,i._view.controlPointNextY,n._view.controlPointPreviousX,n._view.controlPointPreviousY,n._view.x,n._view.y)}var e=this,o=this._view,a=this._chart.ctx,n=this._children[0],i=this._children[this._children.length-1];a.save(),0<this._children.length&&o.fill&&(a.beginPath(),s.each(this._children,function(t,e){var n=s.previousItem(this._children,e),i=s.nextItem(this._children,e);0===e?(this._loop?a.moveTo(o.scaleZero.x,o.scaleZero.y):a.moveTo(t._view.x,o.scaleZero),t._view.skip?this._loop||a.moveTo(i._view.x,this._view.scaleZero):a.lineTo(t._view.x,t._view.y)):this.lineToNextPoint(n,t,i,function(t,e,n){this._loop?a.lineTo(this._view.scaleZero.x,this._view.scaleZero.y):(a.lineTo(t._view.x,this._view.scaleZero),a.moveTo(n._view.x,this._view.scaleZero))},function(t,e){a.lineTo(e._view.x,e._view.y)})},this),this._loop?t(!0):(a.lineTo(this._children[this._children.length-1]._view.x,o.scaleZero),a.lineTo(this._children[0]._view.x,o.scaleZero)),a.fillStyle=o.backgroundColor||r.defaults.global.defaultColor,a.closePath(),a.fill()),a.lineCap=o.borderCapStyle||r.defaults.global.elements.line.borderCapStyle,a.setLineDash&&a.setLineDash(o.borderDash||r.defaults.global.elements.line.borderDash),a.lineDashOffset=o.borderDashOffset||r.defaults.global.elements.line.borderDashOffset,a.lineJoin=o.borderJoinStyle||r.defaults.global.elements.line.borderJoinStyle,a.lineWidth=o.borderWidth||r.defaults.global.elements.line.borderWidth,a.strokeStyle=o.borderColor||r.defaults.global.defaultColor,a.beginPath(),s.each(this._children,function(t,e){var n=s.previousItem(this._children,e),i=s.nextItem(this._children,e);0===e?a.moveTo(t._view.x,t._view.y):this.lineToNextPoint(n,t,i,function(t,e,n){a.moveTo(n._view.x,n._view.y)},function(t,e){a.moveTo(e._view.x,e._view.y)})},this),this._loop&&0<this._children.length&&t(),a.stroke(),a.restore()}})}},{}],36:[function(t,e){"use strict";e.exports=function(s){var l=s.helpers;s.defaults.global.elements.point={radius:3,pointStyle:"circle",backgroundColor:s.defaults.global.defaultColor,borderWidth:1,borderColor:s.defaults.global.defaultColor,hitRadius:1,hoverRadius:4,hoverBorderWidth:1},s.elements.Point=s.Element.extend({inRange:function(t,e){var n=this._view;if(n){var i=n.hitRadius+n.radius;return Math.pow(t-n.x,2)+Math.pow(e-n.y,2)<Math.pow(i,2)}return!1},inLabelRange:function(t){var e=this._view;return!!e&&Math.pow(t-e.x,2)<Math.pow(e.radius+e.hitRadius,2)},tooltipPosition:function(){var t=this._view;return{x:t.x,y:t.y,padding:t.radius+t.borderWidth}},draw:function(){var t=this._view,e=this._chart.ctx;if(!t.skip){if("object"==typeof t.pointStyle&&("[object HTMLImageElement]"===t.pointStyle.toString()||"[object HTMLCanvasElement]"===t.pointStyle.toString()))return void e.drawImage(t.pointStyle,t.x-t.pointStyle.width/2,t.y-t.pointStyle.height/2);if(!isNaN(t.radius)&&0<t.radius){e.strokeStyle=t.borderColor||s.defaults.global.defaultColor,e.lineWidth=l.getValueOrDefault(t.borderWidth,s.defaults.global.elements.point.borderWidth),e.fillStyle=t.backgroundColor||s.defaults.global.defaultColor;var n,i,o=t.radius;switch(t.pointStyle){default:e.beginPath(),e.arc(t.x,t.y,o,0,2*Math.PI),e.closePath(),e.fill();break;case"triangle":e.beginPath();var a=3*o/Math.sqrt(3),r=a*Math.sqrt(3)/2;e.moveTo(t.x-a/2,t.y+r/3),e.lineTo(t.x+a/2,t.y+r/3),e.lineTo(t.x,t.y-2*r/3),e.closePath(),e.fill();break;case"rect":e.fillRect(t.x-1/Math.SQRT2*o,t.y-1/Math.SQRT2*o,2/Math.SQRT2*o,2/Math.SQRT2*o),e.strokeRect(t.x-1/Math.SQRT2*o,t.y-1/Math.SQRT2*o,2/Math.SQRT2*o,2/Math.SQRT2*o);break;case"rectRot":e.translate(t.x,t.y),e.rotate(Math.PI/4),e.fillRect(-1/Math.SQRT2*o,-1/Math.SQRT2*o,2/Math.SQRT2*o,2/Math.SQRT2*o),e.strokeRect(-1/Math.SQRT2*o,-1/Math.SQRT2*o,2/Math.SQRT2*o,2/Math.SQRT2*o),e.setTransform(1,0,0,1,0,0);break;case"cross":e.beginPath(),e.moveTo(t.x,t.y+o),e.lineTo(t.x,t.y-o),e.moveTo(t.x-o,t.y),e.lineTo(t.x+o,t.y),e.closePath();break;case"crossRot":e.beginPath(),n=Math.cos(Math.PI/4)*o,i=Math.sin(Math.PI/4)*o,e.moveTo(t.x-n,t.y-i),e.lineTo(t.x+n,t.y+i),e.moveTo(t.x-n,t.y+i),e.lineTo(t.x+n,t.y-i),e.closePath();break;case"star":e.beginPath(),e.moveTo(t.x,t.y+o),e.lineTo(t.x,t.y-o),e.moveTo(t.x-o,t.y),e.lineTo(t.x+o,t.y),n=Math.cos(Math.PI/4)*o,i=Math.sin(Math.PI/4)*o,e.moveTo(t.x-n,t.y-i),e.lineTo(t.x+n,t.y+i),e.moveTo(t.x-n,t.y+i),e.lineTo(t.x+n,t.y-i),e.closePath();break;case"line":e.beginPath(),e.moveTo(t.x-o,t.y),e.lineTo(t.x+o,t.y),e.closePath();break;case"dash":e.beginPath(),e.moveTo(t.x,t.y),e.lineTo(t.x+o,t.y),e.closePath()}e.stroke()}}}})}},{}],37:[function(t,e){"use strict";e.exports=function(t){t.helpers,t.defaults.global.elements.rectangle={backgroundColor:t.defaults.global.defaultColor,borderWidth:0,borderColor:t.defaults.global.defaultColor,borderSkipped:"bottom"},t.elements.Rectangle=t.Element.extend({draw:function(){function t(t){return l[(c+t)%4]}var e=this._chart.ctx,n=this._view,i=n.width/2,o=n.x-i,a=n.x+i,r=n.base-(n.base-n.y),s=n.borderWidth/2;n.borderWidth&&(o+=s,a-=s,r+=s),e.beginPath(),e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth;var l=[[o,n.base],[o,r],[a,r],[a,n.base]],c=["bottom","left","top","right"].indexOf(n.borderSkipped,0);-1===c&&(c=0),e.moveTo.apply(e,t(0));for(var d=1;d<4;d++)e.lineTo.apply(e,t(d));e.fill(),n.borderWidth&&e.stroke()},height:function(){var t=this._view;return t.base-t.y},inRange:function(t,e){var n=this._view,i=!1;return n&&(i=n.y<n.base?t>=n.x-n.width/2&&t<=n.x+n.width/2&&e>=n.y&&e<=n.base:t>=n.x-n.width/2&&t<=n.x+n.width/2&&e>=n.base&&e<=n.y),i},inLabelRange:function(t){var e=this._view;return!!e&&(t>=e.x-e.width/2&&t<=e.x+e.width/2)},tooltipPosition:function(){var t=this._view;return{x:t.x,y:t.y}}})}},{}],38:[function(t,e){"use strict";e.exports=function(t){var e=t.helpers,n={position:"bottom"},i=t.Scale.extend({determineDataLimits:function(){var t;this.minIndex=0,this.maxIndex=this.chart.data.labels.length,void 0!==this.options.ticks.min&&(t=e.indexOf(this.chart.data.labels,this.options.ticks.min),this.minIndex=-1!==t?t:this.minIndex),void 0!==this.options.ticks.max&&(t=e.indexOf(this.chart.data.labels,this.options.ticks.max),this.maxIndex=-1!==t?t:this.maxIndex),this.min=this.chart.data.labels[this.minIndex],this.max=this.chart.data.labels[this.maxIndex]},buildTicks:function(){this.ticks=0===this.minIndex&&this.maxIndex===this.chart.data.labels.length?this.chart.data.labels:this.chart.data.labels.slice(this.minIndex,this.maxIndex+1)},getLabelForIndex:function(t){return this.ticks[t]},getPixelForValue:function(t,e,n,i){var o=Math.max(this.ticks.length-(this.options.gridLines.offsetGridLines?0:1),1);if(this.isHorizontal()){var a=(this.width-(this.paddingLeft+this.paddingRight))/o,r=a*(e-this.minIndex)+this.paddingLeft;return this.options.gridLines.offsetGridLines&&i&&(r+=a/2),this.left+Math.round(r)}var s=(this.height-(this.paddingTop+this.paddingBottom))/o,l=s*(e-this.minIndex)+this.paddingTop;return this.options.gridLines.offsetGridLines&&i&&(l+=s/2),this.top+Math.round(l)},getPixelForTick:function(t,e){return this.getPixelForValue(this.ticks[t],t+this.minIndex,null,e)}});t.scaleService.registerScaleType("category",i,n)}},{}],39:[function(t,e){"use strict";e.exports=function(l){var c=l.helpers,t={position:"left",ticks:{callback:function(t,e,n){var i=3<n.length?n[2]-n[1]:n[1]-n[0];1<Math.abs(i)&&t!==Math.floor(t)&&(i=t-Math.floor(t));var o=c.log10(Math.abs(i)),a="";if(0!==t){var r=-1*Math.floor(o);r=Math.max(Math.min(r,20),0),a=t.toFixed(r)}else a="0";return a}}},e=l.Scale.extend({determineDataLimits:function(){if(this.min=null,this.max=null,this.options.stacked){var e={};c.each(this.chart.data.datasets,function(t){void 0===e[t.type]&&(e[t.type]={positiveValues:[],negativeValues:[]});var i=e[t.type].positiveValues,o=e[t.type].negativeValues;c.isDatasetVisible(t)&&(this.isHorizontal()?t.xAxisID===this.id:t.yAxisID===this.id)&&c.each(t.data,function(t,e){var n=+this.getRightValue(t);isNaN(n)||(i[e]=i[e]||0,o[e]=o[e]||0,this.options.relativePoints?i[e]=100:n<0?(!0,o[e]+=n):(!0,i[e]+=n))},this)},this),c.each(e,function(t){var e=t.positiveValues.concat(t.negativeValues),n=c.min(e),i=c.max(e);this.min=null===this.min?n:Math.min(this.min,n),this.max=null===this.max?i:Math.max(this.max,i)},this)}else c.each(this.chart.data.datasets,function(t){c.isDatasetVisible(t)&&(this.isHorizontal()?t.xAxisID===this.id:t.yAxisID===this.id)&&c.each(t.data,function(t){var e=+this.getRightValue(t);isNaN(e)||(null===this.min?this.min=e:e<this.min&&(this.min=e),null===this.max?this.max=e:e>this.max&&(this.max=e))},this)},this);if(this.options.ticks.beginAtZero){var t=c.sign(this.min),n=c.sign(this.max);t<0&&n<0?this.max=0:0<t&&0<n&&(this.min=0)}void 0!==this.options.ticks.min?this.min=this.options.ticks.min:void 0!==this.options.ticks.suggestedMin&&(this.min=Math.min(this.min,this.options.ticks.suggestedMin)),void 0!==this.options.ticks.max?this.max=this.options.ticks.max:void 0!==this.options.ticks.suggestedMax&&(this.max=Math.max(this.max,this.options.ticks.suggestedMax)),this.min===this.max&&(this.min--,this.max++)},buildTicks:function(){var t,e;if(this.ticks=[],this.isHorizontal())t=Math.min(this.options.ticks.maxTicksLimit?this.options.ticks.maxTicksLimit:11,Math.ceil(this.width/50));else{var n=c.getValueOrDefault(this.options.ticks.fontSize,l.defaults.global.defaultFontSize);t=Math.min(this.options.ticks.maxTicksLimit?this.options.ticks.maxTicksLimit:11,Math.ceil(this.height/(2*n)))}if(t=Math.max(2,t),this.options.ticks.fixedStepSize&&0<this.options.ticks.fixedStepSize||this.options.ticks.stepSize&&0<this.options.ticks.stepSize)e=c.getValueOrDefault(this.options.ticks.fixedStepSize,this.options.ticks.stepSize);else{var i=c.niceNum(this.max-this.min,!1);e=c.niceNum(i/(t-1),!0)}var o=Math.floor(this.min/e)*e,a=Math.ceil(this.max/e)*e,r=(a-o)/e;r=c.almostEquals(r,Math.round(r),e/1e3)?Math.round(r):Math.ceil(r),this.ticks.push(void 0!==this.options.ticks.min?this.options.ticks.min:o);for(var s=1;s<r;++s)this.ticks.push(o+s*e);this.ticks.push(void 0!==this.options.ticks.max?this.options.ticks.max:a),"left"!==this.options.position&&"right"!==this.options.position||this.ticks.reverse(),this.max=c.max(this.ticks),this.min=c.min(this.ticks),this.options.ticks.reverse?(this.ticks.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max)},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},convertTicksToLabels:function(){this.ticksAsNumbers=this.ticks.slice(),this.zeroLineIndex=this.ticks.indexOf(0),l.Scale.prototype.convertTicksToLabels.call(this)},getPixelForValue:function(t){var e,n=+this.getRightValue(t),i=this.end-this.start;if(this.isHorizontal()){var o=this.width-(this.paddingLeft+this.paddingRight);return e=this.left+o/i*(n-this.start),Math.round(e+this.paddingLeft)}var a=this.height-(this.paddingTop+this.paddingBottom);return e=this.bottom-this.paddingBottom-a/i*(n-this.start),Math.round(e)},getPixelForTick:function(t,e){return this.getPixelForValue(this.ticksAsNumbers[t],null,null,e)}});l.scaleService.registerScaleType("linear",e,t)}},{}],40:[function(t,e){"use strict";e.exports=function(o){var r=o.helpers,t={position:"left",ticks:{callback:function(t,e,n){var i=t/Math.pow(10,Math.floor(o.helpers.log10(t)));return 1===i||2===i||5===i||0===e||e===n.length-1?t.toExponential():""}}},e=o.Scale.extend({determineDataLimits:function(){if(this.min=null,this.max=null,this.options.stacked){var a={};r.each(this.chart.data.datasets,function(o){r.isDatasetVisible(o)&&(this.isHorizontal()?o.xAxisID===this.id:o.yAxisID===this.id)&&(void 0===a[o.type]&&(a[o.type]=[]),r.each(o.data,function(t,e){var n=a[o.type],i=+this.getRightValue(t);isNaN(i)||(n[e]=n[e]||0,this.options.relativePoints?n[e]=100:n[e]+=i)},this))},this),r.each(a,function(t){var e=r.min(t),n=r.max(t);this.min=null===this.min?e:Math.min(this.min,e),this.max=null===this.max?n:Math.max(this.max,n)},this)}else r.each(this.chart.data.datasets,function(t){r.isDatasetVisible(t)&&(this.isHorizontal()?t.xAxisID===this.id:t.yAxisID===this.id)&&r.each(t.data,function(t){var e=+this.getRightValue(t);isNaN(e)||(null===this.min?this.min=e:e<this.min&&(this.min=e),null===this.max?this.max=e:e>this.max&&(this.max=e))},this)},this);this.min=void 0!==this.options.ticks.min?this.options.ticks.min:this.min,this.max=void 0!==this.options.ticks.max?this.options.ticks.max:this.max,this.min===this.max&&(0!==this.min&&null!==this.min?(this.min=Math.pow(10,Math.floor(r.log10(this.min))-1),this.max=Math.pow(10,Math.floor(r.log10(this.max))+1)):(this.min=1,this.max=10))},buildTicks:function(){this.ticks=[];for(var t=void 0!==this.options.ticks.min?this.options.ticks.min:Math.pow(10,Math.floor(r.log10(this.min)));t<this.max;){this.ticks.push(t);var e=Math.floor(r.log10(t)),n=Math.floor(t/Math.pow(10,e))+1;10===n&&(n=1,++e),t=n*Math.pow(10,e)}var i=void 0!==this.options.ticks.max?this.options.ticks.max:t;this.ticks.push(i),"left"!==this.options.position&&"right"!==this.options.position||this.ticks.reverse(),this.max=r.max(this.ticks),this.min=r.min(this.ticks),this.options.ticks.reverse?(this.ticks.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max)},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),o.Scale.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},getPixelForTick:function(t,e){return this.getPixelForValue(this.tickValues[t],null,null,e)},getPixelForValue:function(t){var e,n=+this.getRightValue(t),i=r.log10(this.end)-r.log10(this.start);if(this.isHorizontal())if(0===n)e=this.left+this.paddingLeft;else{var o=this.width-(this.paddingLeft+this.paddingRight);e=this.left+o/i*(r.log10(n)-r.log10(this.start)),e+=this.paddingLeft}else if(0===n)e=this.top+this.paddingTop;else{var a=this.height-(this.paddingTop+this.paddingBottom);e=this.bottom-this.paddingBottom-a/i*(r.log10(n)-r.log10(this.start))}return e}});o.scaleService.registerScaleType("logarithmic",e,t)}},{}],41:[function(t,e){"use strict";e.exports=function(T){var b=T.helpers,t={display:!0,animate:!0,lineArc:!1,position:"chartArea",angleLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2},pointLabels:{fontSize:10,callback:function(t){return t}}},e=T.Scale.extend({getValueCount:function(){return this.chart.data.labels.length},setDimensions:function(){this.width=this.maxWidth,this.height=this.maxHeight,this.xCenter=Math.round(this.width/2),this.yCenter=Math.round(this.height/2);var t=b.min([this.height,this.width]),e=b.getValueOrDefault(this.options.ticks.fontSize,T.defaults.global.defaultFontSize);this.drawingArea=this.options.display?t/2-(e/2+this.options.ticks.backdropPaddingY):t/2},determineDataLimits:function(){if(this.min=null,this.max=null,b.each(this.chart.data.datasets,function(t){b.isDatasetVisible(t)&&b.each(t.data,function(t){var e=+this.getRightValue(t);isNaN(e)||(null===this.min?this.min=e:e<this.min&&(this.min=e),null===this.max?this.max=e:e>this.max&&(this.max=e))},this)},this),this.options.ticks.beginAtZero){var t=b.sign(this.min),e=b.sign(this.max);t<0&&e<0?this.max=0:0<t&&0<e&&(this.min=0)}void 0!==this.options.ticks.min?this.min=this.options.ticks.min:void 0!==this.options.ticks.suggestedMin&&(this.min=Math.min(this.min,this.options.ticks.suggestedMin)),void 0!==this.options.ticks.max?this.max=this.options.ticks.max:void 0!==this.options.ticks.suggestedMax&&(this.max=Math.max(this.max,this.options.ticks.suggestedMax)),this.min===this.max&&(this.min--,this.max++)},buildTicks:function(){this.ticks=[];var t=b.getValueOrDefault(this.options.ticks.fontSize,T.defaults.global.defaultFontSize),e=Math.min(this.options.ticks.maxTicksLimit?this.options.ticks.maxTicksLimit:11,Math.ceil(this.drawingArea/(1.5*t)));e=Math.max(2,e);var n=b.niceNum(this.max-this.min,!1),i=b.niceNum(n/(e-1),!0),o=Math.floor(this.min/i)*i,a=Math.ceil(this.max/i)*i,r=Math.ceil((a-o)/i);this.ticks.push(void 0!==this.options.ticks.min?this.options.ticks.min:o);for(var s=1;s<r;++s)this.ticks.push(o+s*i);this.ticks.push(void 0!==this.options.ticks.max?this.options.ticks.max:a),this.max=b.max(this.ticks),this.min=b.min(this.ticks),this.options.ticks.reverse?(this.ticks.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),this.zeroLineIndex=this.ticks.indexOf(0)},convertTicksToLabels:function(){T.Scale.prototype.convertTicksToLabels.call(this),this.pointLabels=this.chart.data.labels.map(this.options.pointLabels.callback,this)},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},fit:function(){var t,e,n,i,o,a,r,s,l,c,d,u,h=b.getValueOrDefault(this.options.pointLabels.fontSize,T.defaults.global.defaultFontSize),f=b.getValueOrDefault(this.options.pointLabels.fontStyle,T.defaults.global.defaultFontStyle),p=b.getValueOrDefault(this.options.pointLabels.fontFamily,T.defaults.global.defaultFontFamily),m=b.fontString(h,f,p),g=b.min([this.height/2-h-5,this.width/2]),v=this.width,E=0;for(this.ctx.font=m,e=0;e<this.getValueCount();e++)t=this.getPointPosition(e,g),n=this.ctx.measureText(this.pointLabels[e]?this.pointLabels[e]:"").width+5,0===e||e===this.getValueCount()/2?(i=n/2,t.x+i>v&&(v=t.x+i,o=e),t.x-i<E&&(E=t.x-i,r=e)):e<this.getValueCount()/2?t.x+n>v&&(v=t.x+n,o=e):e>this.getValueCount()/2&&t.x-n<E&&(E=t.x-n,r=e);l=E,c=Math.ceil(v-this.width),a=this.getIndexAngle(o),s=this.getIndexAngle(r),d=c/Math.sin(a+Math.PI/2),u=l/Math.sin(s+Math.PI/2),d=b.isNumber(d)?d:0,u=b.isNumber(u)?u:0,this.drawingArea=Math.round(g-(u+d)/2),this.setCenterPoint(u,d)},setCenterPoint:function(t,e){var n=this.width-e-this.drawingArea,i=t+this.drawingArea;this.xCenter=Math.round((i+n)/2+this.left),this.yCenter=Math.round(this.height/2+this.top)},getIndexAngle:function(t){return t*(2*Math.PI/this.getValueCount())-Math.PI/2},getDistanceFromCenterForValue:function(t){if(null===t)return 0;var e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e},getPointPosition:function(t,e){var n=this.getIndexAngle(t);return{x:Math.round(Math.cos(n)*e)+this.xCenter,y:Math.round(Math.sin(n)*e)+this.yCenter}},getPointPositionForValue:function(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))},draw:function(){if(this.options.display){var h=this.ctx;if(b.each(this.ticks,function(t,e){if(0<e||this.options.reverse){var n=this.getDistanceFromCenterForValue(this.ticks[e]),i=this.yCenter-n;if(this.options.gridLines.display)if(h.strokeStyle=this.options.gridLines.color,h.lineWidth=this.options.gridLines.lineWidth,this.options.lineArc)h.beginPath(),h.arc(this.xCenter,this.yCenter,n,0,2*Math.PI),h.closePath(),h.stroke();else{h.beginPath();for(var o=0;o<this.getValueCount();o++){var a=this.getPointPosition(o,this.getDistanceFromCenterForValue(this.ticks[e]));0===o?h.moveTo(a.x,a.y):h.lineTo(a.x,a.y)}h.closePath(),h.stroke()}if(this.options.ticks.display){var r=b.getValueOrDefault(this.options.ticks.fontColor,T.defaults.global.defaultFontColor),s=b.getValueOrDefault(this.options.ticks.fontSize,T.defaults.global.defaultFontSize),l=b.getValueOrDefault(this.options.ticks.fontStyle,T.defaults.global.defaultFontStyle),c=b.getValueOrDefault(this.options.ticks.fontFamily,T.defaults.global.defaultFontFamily),d=b.fontString(s,l,c);if(h.font=d,this.options.ticks.showLabelBackdrop){var u=h.measureText(t).width;h.fillStyle=this.options.ticks.backdropColor,h.fillRect(this.xCenter-u/2-this.options.ticks.backdropPaddingX,i-s/2-this.options.ticks.backdropPaddingY,u+2*this.options.ticks.backdropPaddingX,s+2*this.options.ticks.backdropPaddingY)}h.textAlign="center",h.textBaseline="middle",h.fillStyle=r,h.fillText(t,this.xCenter,i)}}},this),!this.options.lineArc){h.lineWidth=this.options.angleLines.lineWidth,h.strokeStyle=this.options.angleLines.color;for(var t=this.getValueCount()-1;0<=t;t--){if(this.options.angleLines.display){var e=this.getPointPosition(t,this.getDistanceFromCenterForValue(this.options.reverse?this.min:this.max));h.beginPath(),h.moveTo(this.xCenter,this.yCenter),h.lineTo(e.x,e.y),h.stroke(),h.closePath()}var n=this.getPointPosition(t,this.getDistanceFromCenterForValue(this.options.reverse?this.min:this.max)+5),i=b.getValueOrDefault(this.options.pointLabels.fontColor,T.defaults.global.defaultFontColor),o=b.getValueOrDefault(this.options.pointLabels.fontSize,T.defaults.global.defaultFontSize),a=b.getValueOrDefault(this.options.pointLabels.fontStyle,T.defaults.global.defaultFontStyle),r=b.getValueOrDefault(this.options.pointLabels.fontFamily,T.defaults.global.defaultFontFamily),s=b.fontString(o,a,r);h.font=s,h.fillStyle=i;var l=this.pointLabels.length,c=this.pointLabels.length/2,d=c/2,u=t<d||l-d<t,f=t===d||t===l-d;h.textAlign=0===t?"center":t===c?"center":t<c?"left":"right",h.textBaseline=f?"middle":u?"bottom":"top",h.fillText(this.pointLabels[t]?this.pointLabels[t]:"",n.x,n.y)}}}}});T.scaleService.registerScaleType("radialLinear",e,t)}},{}],42:[function(t,e){"use strict";var o=t("moment");o="function"==typeof o?o:window.moment,e.exports=function(p){var m=p.helpers,g={units:[{name:"millisecond",steps:[1,2,5,10,20,50,100,250,500]},{name:"second",steps:[1,2,5,10,30]},{name:"minute",steps:[1,2,5,10,30]},{name:"hour",steps:[1,2,3,6,12]},{name:"day",steps:[1,2,5]},{name:"week",maxStep:4},{name:"month",maxStep:3},{name:"quarter",maxStep:4},{name:"year",maxStep:!1}]},t={position:"bottom",time:{parser:!1,format:!1,unit:!1,round:!1,displayFormat:!1,displayFormats:{millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm:ss a",hour:"MMM D, hA",day:"ll",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"}},ticks:{autoSkip:!1}},e=p.Scale.extend({initialize:function(){if(!o)throw new Error("Chart.js - Moment.js could not be found! You must include it before Chart.js to use the time scale. Download at https://momentjs.com");p.Scale.prototype.initialize.call(this)},getLabelMoment:function(t,e){return this.labelMoments[t][e]},determineDataLimits:function(){this.labelMoments=[];var i=[];this.chart.data.labels&&0<this.chart.data.labels.length?(m.each(this.chart.data.labels,function(t){var e=this.parseTime(t);this.options.time.round&&e.startOf(this.options.time.round),i.push(e)},this),this.firstTick=o.min.call(this,i),this.lastTick=o.max.call(this,i)):(this.firstTick=null,this.lastTick=null),m.each(this.chart.data.datasets,function(t){var n=[];"object"==typeof t.data[0]?m.each(t.data,function(t){var e=this.parseTime(this.getRightValue(t));this.options.time.round&&e.startOf(this.options.time.round),n.push(e),this.firstTick=null!==this.firstTick?o.min(this.firstTick,e):e,this.lastTick=null!==this.lastTick?o.max(this.lastTick,e):e},this):n=i,this.labelMoments.push(n)},this),this.options.time.min&&(this.firstTick=this.parseTime(this.options.time.min)),this.options.time.max&&(this.lastTick=this.parseTime(this.options.time.max)),this.firstTick=(this.firstTick||o()).clone(),this.lastTick=(this.lastTick||o()).clone()},buildTicks:function(){this.ctx.save();var t,e=m.getValueOrDefault(this.options.ticks.fontSize,p.defaults.global.defaultFontSize),n=m.getValueOrDefault(this.options.ticks.fontStyle,p.defaults.global.defaultFontStyle),i=m.getValueOrDefault(this.options.ticks.fontFamily,p.defaults.global.defaultFontFamily),o=m.fontString(e,n,i);if(this.ctx.font=o,this.ticks=[],this.unitScale=1,this.scaleSizeInUnits=0,this.options.time.unit)this.tickUnit=this.options.time.unit||"day",this.displayFormat=this.options.time.displayFormats[this.tickUnit],this.scaleSizeInUnits=this.lastTick.diff(this.firstTick,this.tickUnit,!0),this.unitScale=m.getValueOrDefault(this.options.time.unitStepSize,1);else{var a=this.isHorizontal()?this.width-(this.paddingLeft+this.paddingRight):this.height-(this.paddingTop+this.paddingBottom),r=this.tickFormatFunction(this.firstTick,0,[]),s=this.ctx.measureText(r).width,l=a/(s=s*Math.cos(m.toRadians(this.options.ticks.maxRotation))+e*Math.sin(m.toRadians(this.options.ticks.maxRotation)));this.tickUnit="millisecond",this.scaleSizeInUnits=this.lastTick.diff(this.firstTick,this.tickUnit,!0),this.displayFormat=this.options.time.displayFormats[this.tickUnit];for(var c=0,d=g.units[c];c<g.units.length;){if(this.unitScale=1,m.isArray(d.steps)&&Math.ceil(this.scaleSizeInUnits/l)<m.max(d.steps)){for(var u=0;u<d.steps.length;++u)if(d.steps[u]>=Math.ceil(this.scaleSizeInUnits/l)){this.unitScale=m.getValueOrDefault(this.options.time.unitStepSize,d.steps[u]);break}break}if(!1===d.maxStep||Math.ceil(this.scaleSizeInUnits/l)<d.maxStep){this.unitScale=m.getValueOrDefault(this.options.time.unitStepSize,Math.ceil(this.scaleSizeInUnits/l));break}++c,d=g.units[c],this.tickUnit=d.name,this.scaleSizeInUnits=this.lastTick.diff(this.firstTick,this.tickUnit,!0),this.displayFormat=this.options.time.displayFormats[d.name]}}this.options.time.min?t=this.firstTick.clone().startOf(this.tickUnit):(this.firstTick.startOf(this.tickUnit),t=this.firstTick),this.options.time.max||this.lastTick.endOf(this.tickUnit),this.smallestLabelSeparation=this.width,m.each(this.chart.data.datasets,function(t,e){for(var n=1;n<this.labelMoments[e].length;n++)this.smallestLabelSeparation=Math.min(this.smallestLabelSeparation,this.labelMoments[e][n].diff(this.labelMoments[e][n-1],this.tickUnit,!0))},this),this.options.time.displayFormat&&(this.displayFormat=this.options.time.displayFormat),this.ticks.push(this.firstTick.clone());for(var h=1;h<this.scaleSizeInUnits;++h){var f=t.clone().add(h,this.tickUnit);if(this.options.time.max&&0<=f.diff(this.lastTick,this.tickUnit,!0))break;h%this.unitScale==0&&this.ticks.push(f)}0===this.ticks[this.ticks.length-1].diff(this.lastTick,this.tickUnit)&&0!==this.scaleSizeInUnits||(this.options.time.max?(this.ticks.push(this.lastTick.clone()),this.scaleSizeInUnits=this.lastTick.diff(this.ticks[0],this.tickUnit,!0)):(this.scaleSizeInUnits=Math.ceil(this.scaleSizeInUnits/this.unitScale)*this.unitScale,this.ticks.push(this.firstTick.clone().add(this.scaleSizeInUnits,this.tickUnit)),this.lastTick=this.ticks[this.ticks.length-1].clone())),this.ctx.restore()},getLabelForIndex:function(t,e){var n=this.chart.data.labels&&t<this.chart.data.labels.length?this.chart.data.labels[t]:"";return"object"==typeof this.chart.data.datasets[e].data[0]&&(n=this.getRightValue(this.chart.data.datasets[e].data[t])),this.options.time.tooltipFormat&&(n=this.parseTime(n).format(this.options.time.tooltipFormat)),n},tickFormatFunction:function(t,e,n){var i=t.format(this.displayFormat);return this.options.ticks.userCallback?this.options.ticks.userCallback(i,e,n):i},convertTicksToLabels:function(){this.ticks=this.ticks.map(this.tickFormatFunction,this)},getPixelForValue:function(t,e,n){var i=this.getLabelMoment(n,e);if(i){var o=i.diff(this.firstTick,
this.tickUnit,!0)/this.scaleSizeInUnits;if(this.isHorizontal()){var a=this.width-(this.paddingLeft+this.paddingRight),r=(Math.max(this.ticks.length-1,1),a*o+this.paddingLeft);return this.left+Math.round(r)}var s=this.height-(this.paddingTop+this.paddingBottom),l=(Math.max(this.ticks.length-1,1),s*o+this.paddingTop);return this.top+Math.round(l)}},parseTime:function(t){return"string"==typeof this.options.time.parser?o(t,this.options.time.parser):"function"==typeof this.options.time.parser?this.options.time.parser(t):"function"==typeof t.getMonth||"number"==typeof t?o(t):t.isValid&&t.isValid()?t:"string"!=typeof this.options.time.format&&this.options.time.format.call?(console.warn("options.time.format is deprecated and replaced by options.time.parser. See http://nnnick.github.io/Chart.js/docs-v2/#scales-time-scale"),this.options.time.format(t)):o(t,this.options.time.format)}});p.scaleService.registerScaleType("time",e,t)}},{moment:1}]},{},[7]),function(){var l,c,t,e,a,r,s,n,i,E,o,d,T,u,h,f,p,b,C,m,g,v,y,D,I,O,R,k,_,x,w,K,S,N,A,M,L,F,P,B,$,H,z,q,W,j,V,U,Y=[].slice,G={}.hasOwnProperty,X=function(t,e){function n(){this.constructor=t}for(var i in e)G.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},Z=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};for(g={catchupTime:100,initialRate:.03,minTime:250,ghostTime:100,maxProgressPerFrame:20,easeFactor:1.25,startOnPageLoad:!0,restartOnPushState:!0,restartOnRequestAfter:500,target:"body",elements:{checkInterval:100,selectors:["body"]},eventLag:{minSamples:10,sampleCount:3,lagThreshold:3},ajax:{trackMethods:["GET"],trackWebSockets:!0,ignoreURLs:[]}},_=function(){var t;return null!=(t="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance.now():void 0)?t:+new Date},w=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,m=window.cancelAnimationFrame||window.mozCancelAnimationFrame,null==w&&(w=function(t){return setTimeout(t,50)},m=function(t){return clearTimeout(t)}),S=function(e){var n,i;return n=_(),(i=function(){var t;return 33<=(t=_()-n)?(n=_(),e(t,function(){return w(i)})):setTimeout(i,33-t)})()},K=function(t,e){var n,i,o;return o=t,i=e,n=3<=arguments.length?Y.call(arguments,2):[],"function"==typeof o[i]?o[i].apply(o,n):o[i]},v=function(t){var e,n,i,o,a,r,s;for(n=t,r=0,s=(o=2<=arguments.length?Y.call(arguments,1):[]).length;r<s;r++)if(i=o[r])for(e in i)G.call(i,e)&&(a=i[e],null!=n[e]&&"object"==typeof n[e]&&null!=a&&"object"==typeof a?v(n[e],a):n[e]=a);return n},p=function(t){var e,n,i,o,a;for(n=e=0,o=0,a=t.length;o<a;o++)i=t[o],n+=Math.abs(i),e++;return n/e},D=function(t,e){var n,i,o;if(null==t&&(t="options"),null==e&&(e=!0),o=document.querySelector("[data-pace-"+t+"]")){if(n=o.getAttribute("data-pace-"+t),!e)return n;try{return JSON.parse(n)}catch(r){return i=r,"undefined"!=typeof console&&null!==console?console.error("Error parsing inline pace options",i):void 0}}},s=function(){function t(){}return t.prototype.on=function(t,e,n,i){var o;return null==i&&(i=!1),null==this.bindings&&(this.bindings={}),null==(o=this.bindings)[t]&&(o[t]=[]),this.bindings[t].push({handler:e,ctx:n,once:i})},t.prototype.once=function(t,e,n){return this.on(t,e,n,!0)},t.prototype.off=function(t,e){var n,i,o;if(null!=(null!=(i=this.bindings)?i[t]:void 0)){if(null==e)return delete this.bindings[t];for(n=0,o=[];n<this.bindings[t].length;)o.push(this.bindings[t][n].handler===e?this.bindings[t].splice(n,1):n++);return o}},t.prototype.trigger=function(t){var e,n,i,o,a,r,s,l,c;if(i=t,e=2<=arguments.length?Y.call(arguments,1):[],null!=(s=this.bindings)?s[i]:void 0){for(a=0,c=[];a<this.bindings[i].length;)o=(l=this.bindings[i][a]).handler,n=l.ctx,r=l.once,o.apply(null!=n?n:this,e),c.push(r?this.bindings[i].splice(a,1):a++);return c}},t}(),E=window.Pace||{},window.Pace=E,v(E,s.prototype),x=E.options=v({},g,window.paceOptions,D()),z=0,W=(V=["ajax","document","eventLag","elements"]).length;z<W;z++)L=V[z],!0===x[L]&&(x[L]=g[L]);i=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return X(e,t),e}(Error),c=function(){function t(){this.progress=0}return t.prototype.getElement=function(){var t;if(null==this.el){if(!(t=document.querySelector(x.target)))throw new i;this.el=document.createElement("div"),this.el.className="pace pace-active",document.body.className=document.body.className.replace(/pace-done/g,""),document.body.className+=" pace-running",this.el.innerHTML='<div class="pace-progress">\n  <div class="pace-progress-inner"></div>\n</div>\n<div class="pace-activity"></div>',null!=t.firstChild?t.insertBefore(this.el,t.firstChild):t.appendChild(this.el)}return this.el},t.prototype.finish=function(){var t;return(t=this.getElement()).className=t.className.replace("pace-active",""),t.className+=" pace-inactive",document.body.className=document.body.className.replace("pace-running",""),document.body.className+=" pace-done"},t.prototype.update=function(t){return this.progress=t,this.render()},t.prototype.destroy=function(){try{this.getElement().parentNode.removeChild(this.getElement())}catch(t){i=t}return this.el=void 0},t.prototype.render=function(){var t,e,n,i,o,a,r;if(null==document.querySelector(x.target))return!1;for(t=this.getElement(),i="translate3d("+this.progress+"%, 0, 0)",o=0,a=(r=["webkitTransform","msTransform","transform"]).length;o<a;o++)e=r[o],t.children[0].style[e]=i;return(!this.lastRenderedProgress||this.lastRenderedProgress|0!==this.progress|0)&&(t.children[0].setAttribute("data-progress-text",(0|this.progress)+"%"),100<=this.progress?n="99":(n=this.progress<10?"0":"",n+=0|this.progress),t.children[0].setAttribute("data-progress",""+n)),this.lastRenderedProgress=this.progress},t.prototype.done=function(){return 100<=this.progress},t}(),n=function(){function t(){this.bindings={}}return t.prototype.trigger=function(t,e){var n,i,o,a,r;if(null!=this.bindings[t]){for(r=[],i=0,o=(a=this.bindings[t]).length;i<o;i++)n=a[i],r.push(n.call(this,e));return r}},t.prototype.on=function(t,e){var n;return null==(n=this.bindings)[t]&&(n[t]=[]),this.bindings[t].push(e)},t}(),H=window.XMLHttpRequest,$=window.XDomainRequest,B=window.WebSocket,y=function(t,e){var n,i,o;for(n in o=[],e.prototype)try{i=e.prototype[n],o.push(null==t[n]&&"function"!=typeof i?t[n]=i:void 0)}catch(s){s}return o},R=[],E.ignore=function(t){var e,n,i;return n=t,e=2<=arguments.length?Y.call(arguments,1):[],R.unshift("ignore"),i=n.apply(null,e),R.shift(),i},E.track=function(t){var e,n,i;return n=t,e=2<=arguments.length?Y.call(arguments,1):[],R.unshift("track"),i=n.apply(null,e),R.shift(),i},M=function(t){var e;if(null==t&&(t="GET"),"track"===R[0])return"force";if(!R.length&&x.ajax){if("socket"===t&&x.ajax.trackWebSockets)return!0;if(e=t.toUpperCase(),0<=Z.call(x.ajax.trackMethods,e))return!0}return!1},o=function(){function t(){var n,o=this;t.__super__.constructor.apply(this,arguments),n=function(n){var i;return i=n.open,n.open=function(t,e){return M(t)&&o.trigger("request",{type:t,url:e,request:n}),i.apply(n,arguments)}},window.XMLHttpRequest=function(t){var e;return e=new H(t),n(e),e};try{y(window.XMLHttpRequest,H)}catch(e){}if(null!=$){window.XDomainRequest=function(){var t;return t=new $,n(t),t};try{y(window.XDomainRequest,$)}catch(e){}}if(null!=B&&x.ajax.trackWebSockets){window.WebSocket=function(t,e){var n;return n=null!=e?new B(t,e):new B(t),M("socket")&&o.trigger("request",{type:"socket",url:t,protocols:e,request:n}),n};try{y(window.WebSocket,B)}catch(e){}}}return X(t,n),t}(),q=null,A=function(t){var e,n,i,o;for(n=0,i=(o=x.ajax.ignoreURLs).length;n<i;n++)if("string"==typeof(e=o[n])){if(-1!==t.indexOf(e))return!0}else if(e.test(t))return!0;return!1},(I=function(){return null==q&&(q=new o),q})().on("request",function(t){var e,a,r,s,n;return s=t.type,r=t.request,n=t.url,A(n)?void 0:E.running||!1===x.restartOnRequestAfter&&"force"!==M(s)?void 0:(a=arguments,"boolean"==typeof(e=x.restartOnRequestAfter||0)&&(e=0),setTimeout(function(){var t,e,n,i,o;if("socket"===s?r.readyState<2:0<(n=r.readyState)&&n<4){for(E.restart(),o=[],t=0,e=(i=E.sources).length;t<e;t++){if((L=i[t])instanceof l){L.watch.apply(L,a);break}o.push(void 0)}return o}},e))}),l=function(){function t(){var t=this;this.elements=[],I().on("request",function(){return t.watch.apply(t,arguments)})}return t.prototype.watch=function(t){var e,n,i,o;return i=t.type,e=t.request,o=t.url,A(o)?void 0:(n="socket"===i?new u(e):new h(e),this.elements.push(n))},t}(),h=function(){function t(e){var t,n,i,o,a,r=this;if(this.progress=0,null!=window.ProgressEvent)for(null,e.addEventListener("progress",function(t){return r.progress=t.lengthComputable?100*t.loaded/t.total:r.progress+(100-r.progress)/2},!1),n=0,i=(a=["load","abort","timeout","error"]).length;n<i;n++)t=a[n],e.addEventListener(t,function(){return r.progress=100},!1);else o=e.onreadystatechange,e.onreadystatechange=function(){var t;return 0===(t=e.readyState)||4===t?r.progress=100:3===e.readyState&&(r.progress=50),"function"==typeof o?o.apply(null,arguments):void 0}}return t}(),u=function(){function t(t){var e,n,i,o,a=this;for(n=this.progress=0,i=(o=["error","open"]).length;n<i;n++)e=o[n],t.addEventListener(e,function(){return a.progress=100},!1)}return t}(),e=function(){function t(t){var e,n,i,o;for(null==t&&(t={}),this.elements=[],null==t.selectors&&(t.selectors=[]),n=0,i=(o=t.selectors).length;n<i;n++)e=o[n],this.elements.push(new a(e))}return t}(),a=function(){function t(t){this.selector=t,this.progress=0,this.check()}return t.prototype.check=function(){var t=this;return document.querySelector(this.selector)?this.done():setTimeout(function(){return t.check()},x.elements.checkInterval)},t.prototype.done=function(){return this.progress=100},t}(),t=function(){function t(){var t,e,n=this;this.progress=null!=(e=this.states[document.readyState])?e:100,t=document.onreadystatechange,document.onreadystatechange=function(){return null!=n.states[document.readyState]&&(n.progress=n.states[document.readyState]),"function"==typeof t?t.apply(null,arguments):void 0}}return t.prototype.states={loading:0,interactive:50,complete:100},t}(),r=function(){function t(){var e,n,i,o,a,r=this;this.progress=0,a=[],o=e=0,i=_(),n=setInterval(function(){var t;return t=_()-i-50,i=_(),a.push(t),a.length>x.eventLag.sampleCount&&a.shift(),e=p(a),++o>=x.eventLag.minSamples&&e<x.eventLag.lagThreshold?(r.progress=100,clearInterval(n)):r.progress=3/(e+3)*100},50)}return t}(),T=function(){function t(t){this.source=t,this.last=this.sinceLastUpdate=0,this.rate=x.initialRate,this.catchup=0,this.progress=this.lastProgress=0,null!=this.source&&(this.progress=K(this.source,"progress"))}return t.prototype.tick=function(t,e){var n;return null==e&&(e=K(this.source,"progress")),100<=e&&(this.done=!0),e===this.last?this.sinceLastUpdate+=t:(this.sinceLastUpdate&&(this.rate=(e-this.last)/this.sinceLastUpdate),this.catchup=(e-this.progress)/x.catchupTime,this.sinceLastUpdate=0,this.last=e),e>this.progress&&(this.progress+=this.catchup*t),n=1-Math.pow(this.progress/100,x.easeFactor),this.progress+=n*this.rate*t,this.progress=Math.min(this.lastProgress+x.maxProgressPerFrame,this.progress),this.progress=Math.max(0,this.progress),this.progress=Math.min(100,this.progress),this.lastProgress=this.progress,this.progress},t}(),C=f=P=b=N=F=null,E.running=!1,O=function(){return x.restartOnPushState?E.restart():void 0},null!=window.history.pushState&&(j=window.history.pushState,window.history.pushState=function(){return O(),j.apply(window.history,arguments)}),null!=window.history.replaceState&&(U=window.history.replaceState,window.history.replaceState=function(){return O(),U.apply(window.history,arguments)}),d={ajax:l,elements:e,document:t,eventLag:r},(k=function(){var t,e,n,i,o,a,r,s;for(E.sources=F=[],e=0,i=(a=["ajax","elements","document","eventLag"]).length;e<i;e++)t=a[e],!1!==x[t]&&F.push(new d[t](x[t]));for(n=0,o=(s=null!=(r=x.extraSources)?r:[]).length;n<o;n++)L=s[n],F.push(new L(x));return E.bar=b=new c,N=[],P=new T})(),E.stop=function(){return E.trigger("stop"),E.running=!1,b.destroy(),C=!0,null!=f&&("function"==typeof m&&m(f),f=null),k()},E.restart=function(){return E.trigger("restart"),E.stop(),E.start()},E.go=function(){var v;return E.running=!0,b.render(),v=_(),C=!1,f=S(function(t,e){var n,i,o,a,r,s,l,c,d,u,h,f,p,m,g;for(100-b.progress,i=u=0,o=!0,s=h=0,p=F.length;h<p;s=++h)for(L=F[s],d=null!=N[s]?N[s]:N[s]=[],l=f=0,m=(r=null!=(g=L.elements)?g:[L]).length;f<m;l=++f)a=r[l],o&=(c=null!=d[l]?d[l]:d[l]=new T(a)).done,c.done||(i++,u+=c.tick(t));return n=u/i,b.update(P.tick(t,n)),b.done()||o||C?(b.update(100),E.trigger("done"),setTimeout(function(){return b.finish(),E.running=!1,E.trigger("hide")},Math.max(x.ghostTime,Math.max(x.minTime-(_()-v),0)))):e()})},E.start=function(t){v(x,t),E.running=!0;try{b.render()}catch(c){i=c}return document.querySelector(".pace")?(E.trigger("start"),E.go()):setTimeout(E.start,50)},"function"==typeof define&&define.amd?define(function(){return E}):"object"==typeof exports?module.exports=E:x.startOnPageLoad&&E.start()}.call(this);var URL=window.location,$BODY=$("body"),$MENU_TOGGLE=$("#menu_toggle"),$SIDEBAR_MENU=$("#sidebar-menu"),$SIDEBAR_FOOTER=$(".sidebar-footer"),$LEFT_COL=$(".left_col"),$RIGHT_COL=$(".right_col"),$NAV_MENU=$(".nav_menu"),$FOOTER=$("footer");if($(function(){var e=function(){$RIGHT_COL.css("min-height",$(window).height());var t=$BODY.height(),e=$LEFT_COL.eq(1).height()+$SIDEBAR_FOOTER.height(),n=t<e?e:t;n-=$NAV_MENU.height()+$FOOTER.height(),$RIGHT_COL.css("min-height",n)};$SIDEBAR_MENU.find("a").on("click",function(){var t=$(this).parent();t.is(".active")?(t.removeClass("active"),$("ul:first",t).slideUp(function(){e()})):(t.parent().is(".child_menu")||($SIDEBAR_MENU.find("li").removeClass("active"),$SIDEBAR_MENU.find("li ul").slideUp()),t.addClass("active"),$("ul:first",t).slideDown(function(){e()}))}),$MENU_TOGGLE.on("click",function(){$BODY.hasClass("nav-md")?($BODY.removeClass("nav-md").addClass("nav-sm"),$LEFT_COL.removeClass("scroll-view").removeAttr("style"),$SIDEBAR_MENU.find("li").hasClass("active")&&$SIDEBAR_MENU.find("li.active").addClass("active-sm").removeClass("active")):($BODY.removeClass("nav-sm").addClass("nav-md"),$SIDEBAR_MENU.find("li").hasClass("active-sm")&&$SIDEBAR_MENU.find("li.active-sm").addClass("active").removeClass("active-sm")),e()}),$SIDEBAR_MENU.find('a[href="'+URL+'"]').parent("li").addClass("current-page"),$SIDEBAR_MENU.find("a").filter(function(){return this.href==URL}).parent("li").addClass("current-page").parents("ul").slideDown(function(){e()}).parent().addClass("active"),$(window).smartresize(function(){e()})}),$(function(){$(".collapse-link").on("click",function(){console.log("vutien");var t=$(this).closest(".x_panel"),e=$(this).find("i"),n=t.find(".x_content");t.attr("style")?n.slideToggle(200,function(){t.removeAttr("style")}):(n.slideToggle(200),t.css("height","auto")),e.toggleClass("fa-chevron-up fa-chevron-down")}),$(".close-link").click(function(){$(this).closest(".x_panel").remove()})}),$(function(){$('[data-toggle="tooltip"]').tooltip()}),$(".progress .progress-bar")[0]&&$(".progress .progress-bar").progressbar(),$(".js-switch")[0]){var elems=Array.prototype.slice.call(document.querySelectorAll(".js-switch"));elems.forEach(function(t){new Switchery(t,{color:"#26B99A"})})}$("input.flat")[0]&&$(document).ready(function(){$("input.flat").iCheck({checkboxClass:"icheckbox_flat-green",radioClass:"iradio_flat-green"})});var __slice=[].slice;!function(a){var i;i=function(){function t(t,e){var n,i,o=this;for(n in this.options=a.extend({},this.defaults,e),this.$el=t,i=this.defaults)i[n],null!==this.$el.data(n)&&(this.options[n]=this.$el.data(n));this.createStars(),this.syncRating(),this.$el.on("mouseover.starrr","span",function(t){return o.syncRating(o.$el.find("span").index(t.currentTarget)+1)}),this.$el.on("mouseout.starrr",function(){return o.syncRating()}),this.$el.on("click.starrr","span",function(t){return o.setRating(o.$el.find("span").index(t.currentTarget)+1)}),this.$el.on("starrr:change",this.options.change)}return t.prototype.defaults={rating:void 0,numStars:5,change:function(){}},t.prototype.createStars=function(){var t,e,n;for(n=[],t=1,e=this.options.numStars;1<=e?t<=e:e<=t;1<=e?t++:t--)n.push(this.$el.append("<span class='glyphicon .glyphicon-star-empty'></span>"));return n},t.prototype.setRating=function(t){return this.options.rating===t&&(t=void 0),this.options.rating=t,this.syncRating(),this.$el.trigger("starrr:change",t)},t.prototype.syncRating=function(t){var e,n,i,o;if(t||(t=this.options.rating),t)for(e=n=0,o=t-1;0<=o?n<=o:o<=n;e=0<=o?++n:--n)this.$el.find("span").eq(e).removeClass("glyphicon-star-empty").addClass("glyphicon-star");if(t&&t<5)for(e=i=t;t<=4?i<=4:4<=i;e=t<=4?++i:--i)this.$el.find("span").eq(e).removeClass("glyphicon-star").addClass("glyphicon-star-empty");if(!t)return this.$el.find("span").removeClass("glyphicon-star").addClass("glyphicon-star-empty")},t}(),a.fn.extend({starrr:function(t){var e,n;return n=t,e=2<=arguments.length?__slice.call(arguments,1):[],this.each(function(){var t;if((t=a(this).data("star-rating"))||a(this).data("star-rating",t=new i(a(this),n)),"string"==typeof n)return t[n].apply(t,e)})}})}(window.jQuery,window),$(function(){return $(".starrr").starrr()}),$(document).ready(function(){$("#stars").on("starrr:change",function(t,e){$("#count").html(e)}),$("#stars-existing").on("starrr:change",function(t,e){$("#count-existing").html(e)})}),$("table input").on("ifChecked",function(){check_state="",$(this).parent().parent().parent().addClass("selected"),countChecked()}),$("table input").on("ifUnchecked",function(){check_state="",$(this).parent().parent().parent().removeClass("selected"),countChecked()});var check_state="";$(".bulk_action input").on("ifChecked",function(){check_state="",$(this).parent().parent().parent().addClass("selected"),countChecked()}),$(".bulk_action input").on("ifUnchecked",function(){check_state="",$(this).parent().parent().parent().removeClass("selected"),countChecked()}),$(".bulk_action input#check-all").on("ifChecked",function(){check_state="check_all",countChecked()}),$(".bulk_action input#check-all").on("ifUnchecked",function(){check_state="uncheck_all",countChecked()}),$(function(){$(".expand").on("click",function(){$(this).next().slideToggle(200),$expand=$(this).find(">:first-child"),"+"==$expand.text()?$expand.text("-"):$expand.text("+")})}),"undefined"!=typeof NProgress&&($(document).ready(function(){NProgress.start()}),$(window).load(function(){NProgress.done()})),function(t,e){var n=function(i,o,a){var r;return function s(){function t(){a||i.apply(e,n),r=null}var e=this,n=arguments;r?clearTimeout(r):a&&i.apply(e,n),r=setTimeout(t,o||100)}};jQuery.fn[e]=function(t){return t?this.bind("resize",n(t)):this.trigger(e)}}(jQuery,"smartresize"),function(){"undefined"!=typeof window.CKEDITOR_BASEPATH&&null!==window.CKEDITOR_BASEPATH||(window.CKEDITOR_BASEPATH="/assets/ckeditor/")}.call(this),function(){function t(t,e){CKEDITOR.tools.extend(this,e,{editor:t,id:"cke-"+CKEDITOR.tools.getUniqueId(),area:t._.notificationArea}),e.type||(this.type="info"),this.element=this._createElement(),t.plugins.clipboard&&CKEDITOR.plugins.clipboard.preventDefaultDropOnElement(this.element)}function e(t){var e=this;this.editor=t,this.notifications=[],this.element=this._createElement(),this._uiBuffer=CKEDITOR.tools.eventsBuffer(10,this._layout,this),this._changeBuffer=CKEDITOR.tools.eventsBuffer(500,this._layout,this),t.on("destroy",function(){e._removeListeners(),e.element.remove()})}var n,i,o,a,r,s,l,c,d,u,h,f,p,m,v,E,T,b,C,y,D,I,O,R,k,_,x,w,K,S,N,A,M,L,F,P,B,$,H,z,q,W,j,V,U,Y,G,X,Z,Q,J;window.CKEDITOR&&window.CKEDITOR.dom||(window.CKEDITOR||(window.CKEDITOR=function(){var o=/(^|.*[\\\/])ckeditor\.js(?:\?.*|;.*)?$/i,e={timestamp:"H5SC",version:"4.7.1",revision:"08ffd39",rnd:Math.floor(900*Math.random())+100,_:{pending:[],basePathSrcPattern:o},status:"unloaded",basePath:function(){var t=window.CKEDITOR_BASEPATH||"";if(!t)for(var e=document.getElementsByTagName("script"),n=0;n<e.length;n++){var i=e[n].src.match(o);if(i){t=i[1];break}}if(-1==t.indexOf(":/")&&"//"!=t.slice(0,2)&&(t=0===t.indexOf("/")?location.href.match(/^.*?:\/\/[^\/]*/)[0]+t:location.href.match(/^[^\?]*\/(?:)/)[0]+t),!t)throw'The CKEditor installation path could not be automatically detected. Please set the global variable "CKEDITOR_BASEPATH" before creating editor instances.';return t}(),getUrl:function(t){return-1==t.indexOf(":/")&&0!==t.indexOf("/")&&(t=this.basePath+t),this.timestamp&&"/"!=t.charAt(t.length-1)&&!/[&?]t=/.test(t)&&(t+=(0<=t.indexOf("?")?"&":"?")+"t="+this.timestamp),t},domReady:function(){function i(){try{document.addEventListener?(document.removeEventListener("DOMContentLoaded",i,!1),t()):document.attachEvent&&"complete"===document.readyState&&(document.detachEvent("onreadystatechange",i),t())}catch(o){}}function t(){for(var t;t=o.shift();)t()}var o=[];return function(t){function e(){try{document.documentElement.doScroll("left")}catch(t){return void setTimeout(e,1)}i()}if(o.push(t),"complete"===document.readyState&&setTimeout(i,1),1==o.length)if(document.addEventListener)document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1);else if(document.attachEvent){document.attachEvent("onreadystatechange",i),window.attachEvent("onload",i),t=!1;try{t=!window.frameElement}catch(n){}document.documentElement.doScroll&&t&&e()}}}()},n=window.CKEDITOR_GETURL;if(n){var i=e.getUrl;e.getUrl=function(t){return n.call(e,t)||i.call(e,t)}}return e}()),CKEDITOR.event||(CKEDITOR.event=function(){},CKEDITOR.event.implementOn=function(t){var e,n=CKEDITOR.event.prototype;for(e in n)null==t[e]&&(t[e]=n[e])},CKEDITOR.event.prototype=function(){function d(t){var e=p(this);return e[t]||(e[t]=new n(t))}var c,u,h,f,p=function(t){return(t=t.getPrivate&&t.getPrivate()||t._||(t._={})).events||(t.events={})},n=function(t){this.name=t,this.listeners=[]};return n.prototype={getListenerIndex:function(t){for(var e=0,n=this.listeners;e<n.length;e++)if(n[e].fn==t)return e;return-1}},{define:function(t,e){var n=d.call(this,t);CKEDITOR.tools.extend(n,e,!0)},on:function(o,a,r,s,t){function e(t,e,n,i){return!(t={name:o,sender:this,editor:t,data:e,listenerData:s,stop:n,cancel:i,removeListener:l})!==a.call(r,t)&&t.data}function l(){i.removeListener(o,a)}var n=d.call(this,o);if(n.getListenerIndex(a)<0){n=n.listeners,r||(r=this),isNaN(t)&&(t=10);var i=this;e.fn=a,e.priority=t;for(var c=n.length-1;0<=c;c--)if(n[c].priority<=t)return n.splice(c+1,0,e),{removeListener:l};n.unshift(e)}return{removeListener:l}},once:function(){var t=Array.prototype.slice.call(arguments),e=t[1];return t[1]=function(t){return t.removeListener(),e.apply(this,arguments)},this.on.apply(this,t)},capture:function(){CKEDITOR.event.useCapture=1;var t=this.on.apply(this,arguments);return CKEDITOR.event.useCapture=0,t},fire:(c=0,u=function(){c=1},h=0,f=function(){h=1},function(t,e,n){var i=p(this)[t];t=c;var o=h;if(c=h=0,i&&(r=i.listeners).length)for(var a,r=r.slice(0),s=0;s<r.length;s++){if(i.errorProof)try{a=r[s].call(this,n,e,u,f)}catch(l){}else a=r[s].call(this,n,e,u,f);if(!1===a?h=1:void 0!==a&&(e=a),c||h)break}return e=!h&&(void 0===e||e),c=t,h=o,e}),fireOnce:function(t,e,n){return e=this.fire(t,e,n),delete p(this)[t],e},removeListener:function(t,e){var n=p(this)[t];if(n){var i=n.getListenerIndex(e);0<=i&&n.listeners.splice(i,1)}},removeAllListeners:function(){var t,e=p(this);for(t in e)delete e[t]},hasListeners:function(t){return(t=p(this)[t])&&0<t.listeners.length}}}()),CKEDITOR.editor||(CKEDITOR.editor=function(){CKEDITOR._.pending.push([this,arguments]),CKEDITOR.event.call(this)},CKEDITOR.editor.prototype.fire=function(t,e){return t in{instanceReady:1,loaded:1}&&(this[t]=!0),CKEDITOR.event.prototype.fire.call(this,t,e,this)},CKEDITOR.editor.prototype.fireOnce=function(t,e){return t in{instanceReady:1,loaded:1}&&(this[t]=!0),CKEDITOR.event.prototype.fireOnce.call(this,t,e,this)},CKEDITOR.event.implementOn(CKEDITOR.editor.prototype)),CKEDITOR.env||(CKEDITOR.env=function(){var t=navigator.userAgent.toLowerCase(),e=t.match(/edge[ \/](\d+.?\d*)/),n=-1<t.indexOf("trident/");(n={ie:n=!(!e&&!n),edge:!!e,webkit:!n&&-1<t.indexOf(" applewebkit/"),air:-1<t.indexOf(" adobeair/"),mac:-1<t.indexOf("macintosh"),quirks:"BackCompat"==document.compatMode&&(!document.documentMode||document.documentMode<10),mobile:-1<t.indexOf("mobile"),iOS:/(ipad|iphone|ipod)/.test(t),isCustomDomain:function(){if(!this.ie)return!1;var t=document.domain,e=window.location.hostname;return t!=e&&t!="["+e+"]"},secure:"https:"==location.protocol}).gecko="Gecko"==navigator.product&&!n.webkit&&!n.ie,n.webkit&&(-1<t.indexOf("chrome")?n.chrome=!0:n.safari=!0);var i=0;return n.ie&&(i=e?parseFloat(e[1]):n.quirks||!document.documentMode?parseFloat(t.match(/msie (\d+)/)[1]):document.documentMode,n.ie9Compat=9==i,n.ie8Compat=8==i,n.ie7Compat=7==i,n.ie6Compat=i<7||n.quirks),n.gecko&&(e=t.match(/rv:([\d\.]+)/))&&(i=1e4*(e=e[1].split("."))[0]+100*(e[1]||0)+1*(e[2]||0)),n.air&&(i=parseFloat(t.match(/ adobeair\/(\d+)/)[1])),n.webkit&&(i=parseFloat(t.match(/ applewebkit\/(\d+)/)[1])),n.version=i,n.isCompatible=!(n.ie&&i<7||n.gecko&&i<4e4||n.webkit&&i<534),n.hidpi=2<=window.devicePixelRatio,n.needsBrFiller=n.gecko||n.webkit||n.ie&&10<i,n.needsNbspFiller=n.ie&&i<11,n.cssClass="cke_browser_"+(n.ie?"ie":n.gecko?"gecko":n.webkit?"webkit":"unknown"),n.quirks&&(n.cssClass+=" cke_browser_quirks"),n.ie&&(n.cssClass+=" cke_browser_ie"+(n.quirks?"6 cke_browser_iequirks":n.version)),n.air&&(n.cssClass+=" cke_browser_air"),n.iOS&&(n.cssClass+=" cke_browser_ios"),n.hidpi&&(n.cssClass+=" cke_hidpi"),n}()),"unloaded"==CKEDITOR.status&&(CKEDITOR.event.implementOn(CKEDITOR),CKEDITOR.loadFullCore=function(){if("basic_ready"!=CKEDITOR.status)CKEDITOR.loadFullCore._load=1;else{delete CKEDITOR.loadFullCore;var t=document.createElement("script");t.type="text/javascript",t.src=CKEDITOR.basePath+"ckeditor.js",document.getElementsByTagName("head")[0].appendChild(t)}},CKEDITOR.loadFullCoreTimeout=0,CKEDITOR.add=function(t){(this._.pending||(this._.pending=[])).push(t)},CKEDITOR.domReady(function(){var t=CKEDITOR.loadFullCore,e=CKEDITOR.loadFullCoreTimeout;t&&(CKEDITOR.status="basic_ready",t&&t._load?t():e&&setTimeout(function(){CKEDITOR.loadFullCore&&CKEDITOR.loadFullCore()},1e3*e))}),CKEDITOR.status="basic_loaded"),CKEDITOR.VERBOSITY_WARN=1,CKEDITOR.VERBOSITY_ERROR=2,CKEDITOR.verbosity=CKEDITOR.VERBOSITY_WARN|CKEDITOR.VERBOSITY_ERROR,CKEDITOR.warn=function(t,e){CKEDITOR.verbosity&CKEDITOR.VERBOSITY_WARN&&CKEDITOR.fire("log",{type:"warn",errorCode:t,additionalData:e})},CKEDITOR.error=function(t,e){CKEDITOR.verbosity&CKEDITOR.VERBOSITY_ERROR&&CKEDITOR.fire("log",{type:"error",errorCode:t,additionalData:e})},CKEDITOR.on("log",function(t){if(window.console&&window.console.log){var e=console[t.data.type]?t.data.type:"log",n=t.data.errorCode;(t=t.data.additionalData)?console[e]("[CKEDITOR] Error code: "+n+".",t):console[e]("[CKEDITOR] Error code: "+n+"."),console[e]("[CKEDITOR] For more information about this error go to http://docs.ckeditor.com/#!/guide/dev_errors-section-"+n)}},null,null,999),CKEDITOR.dom={},u=[],h=CKEDITOR.env.gecko?"-moz-":CKEDITOR.env.webkit?"-webkit-":CKEDITOR.env.ie?"-ms-":"",f=/&/g,p=/>/g,m=/</g,v=/"/g,E=/&(lt|gt|amp|quot|nbsp|shy|#\d{1,5});/g,T={lt:"<",gt:">",amp:"&",quot:'"',nbsp:"\xa0",shy:"\xad"},b=function(t,e){return"#"==e[0]?String.fromCharCode(parseInt(e.slice(1),10)):T[e]},CKEDITOR.on("reset",function(){u=[]}),CKEDITOR.tools={arrayCompare:function(t,e){if(!t&&!e)return!0;if(!t||!e||t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!=e[n])return!1;return!0},getIndex:function(t,e){for(var n=0;n<t.length;++n)if(e(t[n]))return n;return-1},clone:function(t){var e;if(t&&t instanceof Array){e=[];for(var n=0;n<t.length;n++)e[n]=CKEDITOR.tools.clone(t[n]);return e}if(null===t||"object"!=typeof t||t instanceof String||t instanceof Number||t instanceof Boolean||t instanceof Date||t instanceof RegExp||t.nodeType||t.window===t)return t;for(n in e=new t.constructor,t)e[n]=CKEDITOR.tools.clone(t[n]);return e},capitalize:function(t,e){return t.charAt(0).toUpperCase()+(e?t.slice(1):t.slice(1).toLowerCase())},extend:function(t){var e,n,i=arguments.length;"boolean"==typeof(e=arguments[i-1])?i--:"boolean"==typeof(e=arguments[i-2])&&(n=arguments[i-1],i-=2);for(var o=1;o<i;o++){var a,r=arguments[o];for(a in r)!0!==e&&null!=t[a]||(!n||a in n)&&(t[a]=r[a])}return t},prototypedCopy:function(t){var e=function(){};return e.prototype=t,new e},copy:function(t){var e,n={};for(e in t)n[e]=t[e];return n},isArray:function(t){return"[object Array]"==Object.prototype.toString.call(t)},isEmpty:function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0},cssVendorPrefix:function(t,e,n){return n?h+t+":"+e+";"+t+":"+e:((n={})[t]=e,n[h+t]=e,n)},cssStyleToDomStyle:(c=document.createElement("div").style,d="undefined"!=typeof c.cssFloat?"cssFloat":"undefined"!=typeof c.styleFloat?"styleFloat":"float",function(t){return"float"==t?d:t.replace(/-./g,function(t){return t.substr(1).toUpperCase()})}),buildStyleHtml:function(t){t=[].concat(t);for(var e,n=[],i=0;i<t.length;i++)(e=t[i])&&(/@import|[{}]/.test(e)?n.push("<style>"+e+"</style>"):n.push('<link type="text/css" rel=stylesheet href="'+e+'">'));return n.join("")},htmlEncode:function(t){return null==t?"":String(t).replace(f,"&amp;").replace(p,"&gt;").replace(m,"&lt;")},htmlDecode:function(t){return t.replace(E,b)},htmlEncodeAttr:function(t){return CKEDITOR.tools.htmlEncode(t).replace(v,"&quot;")},htmlDecodeAttr:function(t){return CKEDITOR.tools.htmlDecode(t)},transformPlainTextToHtml:function(t,e){var n=e==CKEDITOR.ENTER_BR,i=(i=this.htmlEncode(t.replace(/\r\n/g,"\n"))).replace(/\t/g,"&nbsp;&nbsp; &nbsp;"),o=e==CKEDITOR.ENTER_P?"p":"div";if(!n){var a=/\n{2}/g;if(a.test(i)){var r="<"+o+">",s="</"+o+">";i=r+i.replace(a,function(){return s+r})+s}}return i=i.replace(/\n/g,"<br>"),n||(i=i.replace(new RegExp("<br>(?=</"+o+">)"),function(t){return CKEDITOR.tools.repeat(t,2)})),(i=i.replace(/^ | $/g,"&nbsp;")).replace(/(>|\s) /g,function(t,e){return e+"&nbsp;"}).replace(/ (?=<)/g,"&nbsp;")},getNextNumber:(l=0,function(){return++l}),getNextId:function(){return"cke_"+this.getNextNumber()},getUniqueId:function(){for(var t="e",e=0;e<8;e++)t+=Math.floor(65536*(1+Math.random())).toString(16).substring(1);return t},override:function(t,e){var n=e(t);return n.prototype=t.prototype,n},setTimeout:function(t,e,n,i,o){return o||(o=window),n||(n=o),o.setTimeout(function(){i?t.apply(n,[].concat(i)):t.apply(n)},e||0)},trim:(s=/(?:^[ \t\n\r]+)|(?:[ \t\n\r]+$)/g,function(t){return t.replace(s,"")}),ltrim:(r=/^[ \t\n\r]+/g,function(t){return t.replace(r,"")}),rtrim:(a=/[ \t\n\r]+$/g,function(t){return t.replace(a,"")}),indexOf:function(t,e){if("function"==typeof e){for(var n=0,i=t.length;n<i;n++)if(e(t[n]))return n}else{if(t.indexOf)return t.indexOf(e);for(n=0,i=t.length;n<i;n++)if(t[n]===e)return n}return-1},search:function(t,e){var n=CKEDITOR.tools.indexOf(t,e);return 0<=n?t[n]:null},bind:function(t,e){return function(){return t.apply(e,arguments)}},createClass:function(t){var e=t.$,n=t.base,i=t.privates||t._,o=t.proto;if(t=t.statics,!e&&(e=function(){n&&this.base.apply(this,arguments)}),i){var a=e;e=function(){var t,e=this._||(this._={});for(t in i){var n=i[t];e[t]="function"==typeof n?CKEDITOR.tools.bind(n,this):n}a.apply(this,arguments)}}return n&&(e.prototype=this.prototypedCopy(n.prototype),(e.prototype.constructor=e).base=n,e.baseProto=n.prototype,e.prototype.base=function(){this.base=n.prototype.base,n.apply(this,arguments),this.base=arguments.callee}),o&&this.extend(e.prototype,o,!0),t&&this.extend(e,t,!0),e},addFunction:function(t,e){return u.push(function(){return t.apply(e||this,arguments)})-1},removeFunction:function(t){u[t]=null},callFunction:function(t){var e=u[t];return e&&e.apply(window,Array.prototype.slice.call(arguments,1))},cssLength:(o=/^-?\d+\.?\d*px$/,function(t){return i=CKEDITOR.tools.trim(t+"")+"px",o.test(i)?i:t||""}),convertToPx:function(t){return n||(n=CKEDITOR.dom.element.createFromHtml('<div style="position:absolute;left:-9999px;top:-9999px;margin:0px;padding:0px;border:0px;"></div>',CKEDITOR.document),CKEDITOR.document.getBody().append(n)),/%$/.test(t)?t:(n.setStyle("width",t),n.$.clientWidth)},repeat:function(t,e){return Array(e+1).join(t)},tryThese:function(){for(var t,e=0,n=arguments.length;e<n;e++){var i=arguments[e];try{t=i();break}catch(T){}}return t},genKey:function(){return Array.prototype.slice.call(arguments).join("-")},defer:function(n){return function(){var t=arguments,e=this
;window.setTimeout(function(){n.apply(e,t)},0)}},normalizeCssText:function(t,e){var n,i=[],o=CKEDITOR.tools.parseCssText(t,!0,e);for(n in o)i.push(n+":"+o[n]);return i.sort(),i.length?i.join(";")+";":""},convertRgbToHex:function(t){return t.replace(/(?:rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\))/gi,function(t,e,n,i){for(t=[e,n,i],e=0;e<3;e++)t[e]=("0"+parseInt(t[e],10).toString(16)).slice(-2);return"#"+t.join("")})},normalizeHex:function(t){return t.replace(/#(([0-9a-f]{3}){1,2})($|;|\s+)/gi,function(t,e,n,i){return 3==(t=e.toLowerCase()).length&&(t=[(t=t.split(""))[0],t[0],t[1],t[1],t[2],t[2]].join("")),"#"+t+i})},parseCssText:function(t,i,e){var o={};return e&&(t=new CKEDITOR.dom.element("span").setAttribute("style",t).getAttribute("style")||""),t&&(t=CKEDITOR.tools.normalizeHex(CKEDITOR.tools.convertRgbToHex(t))),t&&";"!=t&&t.replace(/&quot;/g,'"').replace(/\s*([^:;\s]+)\s*:\s*([^;]+)\s*(?=;|$)/g,function(t,e,n){i&&("font-family"==(e=e.toLowerCase())&&(n=n.replace(/\s*,\s*/g,",")),n=CKEDITOR.tools.trim(n)),o[e]=n}),o},writeCssText:function(t,e){var n,i=[];for(n in t)i.push(n+":"+t[n]);return e&&i.sort(),i.join("; ")},objectCompare:function(t,e,n){var i;if(!t&&!e)return!0;if(!t||!e)return!1;for(i in t)if(t[i]!=e[i])return!1;if(!n)for(i in e)if(t[i]!=e[i])return!1;return!0},objectKeys:function(t){var e,n=[];for(e in t)n.push(e);return n},convertArrayToObject:function(t,e){var n={};1==arguments.length&&(e=!0);for(var i=0,o=t.length;i<o;++i)n[t[i]]=e;return n},fixDomain:function(){for(var t;;)try{t=window.parent.document.domain;break}catch(f){if(!(t=t?t.replace(/.+?(?:\.|$)/,""):document.domain))break;document.domain=t}return!!t},eventsBuffer:function(e,t,n){function i(){a=(new Date).getTime(),o=!1,n?t.call(n):t()}var o,a=0;return{input:function(){if(!o){var t=(new Date).getTime()-a;t<e?o=setTimeout(i,e-t):i()}},reset:function(){o&&clearTimeout(o),o=a=0}}},enableHtml5Elements:function(t,e){for(var n,i="abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup main mark meter nav output progress section summary time video".split(" "),o=i.length;o--;)n=t.createElement(i[o]),e&&t.appendChild(n)},checkIfAnyArrayItemMatches:function(t,e){for(var n=0,i=t.length;n<i;++n)if(t[n].match(e))return!0;return!1},checkIfAnyObjectPropertyMatches:function(t,e){for(var n in t)if(n.match(e))return!0;return!1},keystrokeToString:function(t,e){var n=16711680&e,i=65535&e,o=CKEDITOR.env.mac,a=[],r=[];return n&CKEDITOR.CTRL&&(a.push(o?"\u2318":t[17]),r.push(o?t[224]:t[17])),n&CKEDITOR.ALT&&(a.push(o?"\u2325":t[18]),r.push(t[18])),n&CKEDITOR.SHIFT&&(a.push(o?"\u21e7":t[16]),r.push(t[16])),i&&(t[i]?(a.push(t[i]),r.push(t[i])):(a.push(String.fromCharCode(i)),r.push(String.fromCharCode(i)))),{display:a.join("+"),aria:r.join("+")}},transparentImageData:"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==",getCookie:function(t){t=t.toLowerCase();for(var e,n=document.cookie.split(";"),i=0;i<n.length;i++)if(e=n[i].split("="),decodeURIComponent(CKEDITOR.tools.trim(e[0]).toLowerCase())===t)return decodeURIComponent(1<e.length?e[1]:"");return null},setCookie:function(t,e){document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)+";path=/"},getCsrfToken:function(){if(!(t=CKEDITOR.tools.getCookie("ckCsrfToken"))||40!=t.length){var t=[],e="";if(window.crypto&&window.crypto.getRandomValues)t=new Uint8Array(40),window.crypto.getRandomValues(t);else for(var n=0;n<40;n++)t.push(Math.floor(256*Math.random()));for(n=0;n<t.length;n++){var i="abcdefghijklmnopqrstuvwxyz0123456789".charAt(t[n]%36);e+=.5<Math.random()?i.toUpperCase():i}t=e,CKEDITOR.tools.setCookie("ckCsrfToken",t)}return t},escapeCss:function(t){return t?window.CSS&&CSS.escape?CSS.escape(t):isNaN(parseInt(t.charAt(0),10))?t:"\\3"+t.charAt(0)+" "+t.substring(1,t.length):""},style:{parse:{_colors:{aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"},_rgbaRegExp:/rgba?\(\s*\d+%?\s*,\s*\d+%?\s*,\s*\d+%?\s*(?:,\s*[0-9.]+\s*)?\)/gi,_hslaRegExp:/hsla?\(\s*[0-9.]+\s*,\s*\d+%\s*,\s*\d+%\s*(?:,\s*[0-9.]+\s*)?\)/gi,background:function(e){var t={},n=this._findColor(e);return n.length&&(t.color=n[0],CKEDITOR.tools.array.forEach(n,function(t){e=e.replace(t,"")})),(e=CKEDITOR.tools.trim(e))&&(t.unprocessed=e),t},margin:function(t){function e(t){n.top=i[t[0]],n.right=i[t[1]],n.bottom=i[t[2]],n.left=i[t[3]]}var n={},i=t.match(/(?:\-?[\.\d]+(?:%|\w*)|auto|inherit|initial|unset)/g)||["0px"];switch(i.length){case 1:e([0,0,0,0]);break;case 2:e([0,1,0,1]);break;case 3:e([0,1,2,1]);break;case 4:e([0,1,2,3])}return n},_findColor:function(t){var e=[],n=CKEDITOR.tools.array;return(e=(e=e.concat(t.match(this._rgbaRegExp)||[])).concat(t.match(this._hslaRegExp)||[])).concat(n.filter(t.split(/\s+/),function(t){return!!t.match(/^\#[a-f0-9]{3}(?:[a-f0-9]{3})?$/gi)||t.toLowerCase()in CKEDITOR.tools.style.parse._colors}))}}},array:{filter:function(n,i,o){var a=[];return this.forEach(n,function(t,e){i.call(o,t,e,n)&&a.push(t)}),a},forEach:function(t,e,n){var i,o=t.length;for(i=0;i<o;i++)e.call(n,t[i],i,t)},map:function(t,e,n){for(var i=[],o=0;o<t.length;o++)i.push(e.call(n,t[o],o,t));return i},reduce:function(t,e,n,i){for(var o=0;o<t.length;o++)n=e.call(i,n,t[o],o,t);return n}},object:{findKey:function(t,e){if("object"!=typeof t)return null;for(var n in t)if(t[n]===e)return n;return null}}},CKEDITOR.tools.array.indexOf=CKEDITOR.tools.indexOf,CKEDITOR.tools.array.isArray=CKEDITOR.tools.isArray,CKEDITOR.dtd=(C=CKEDITOR.tools.extend,y=function(t,e){for(var n=CKEDITOR.tools.clone(t),i=1;i<arguments.length;i++)for(var o in e=arguments[i])delete n[o];return n},I={},O={address:1,article:1,aside:1,blockquote:1,details:1,div:1,dl:1,fieldset:1,figure:1,footer:1,form:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,header:1,hgroup:1,hr:1,main:1,menu:1,nav:1,ol:1,p:1,pre:1,section:1,table:1,ul:1},R={command:1,link:1,meta:1,noscript:1,script:1,style:1},k={},x={center:1,dir:1,noframes:1},C(D={},{a:1,abbr:1,area:1,audio:1,b:1,bdi:1,bdo:1,br:1,button:1,canvas:1,cite:1,code:1,command:1,datalist:1,del:1,dfn:1,em:1,embed:1,i:1,iframe:1,img:1,input:1,ins:1,kbd:1,keygen:1,label:1,map:1,mark:1,meter:1,noscript:1,object:1,output:1,progress:1,q:1,ruby:1,s:1,samp:1,script:1,select:1,small:1,span:1,strong:1,sub:1,sup:1,textarea:1,time:1,u:1,"var":1,video:1,wbr:1},_={"#":1},{acronym:1,applet:1,basefont:1,big:1,font:1,isindex:1,strike:1,style:1,tt:1}),C(I,O,D,x),C(y={a:y(D,{a:1,button:1}),abbr:D,address:I,area:k,article:I,aside:I,audio:C({source:1,track:1},I),b:D,base:k,bdi:D,bdo:D,blockquote:I,body:I,br:k,button:y(D,{a:1,button:1}),canvas:D,caption:I,cite:D,code:D,col:k,colgroup:{col:1},command:k,datalist:C({option:1},D),dd:I,del:D,details:C({summary:1},I),dfn:D,div:I,dl:{dt:1,dd:1},dt:I,em:D,embed:k,fieldset:C({legend:1},I),figcaption:I,figure:C({figcaption:1},I),footer:I,form:I,h1:D,h2:D,h3:D,h4:D,h5:D,h6:D,head:C({title:1,base:1},R),header:I,hgroup:{h1:1,h2:1,h3:1,h4:1,h5:1,h6:1},hr:k,html:C({head:1,body:1},I,R),i:D,iframe:_,img:k,input:k,ins:D,kbd:D,keygen:k,label:D,legend:D,li:I,link:k,main:I,map:I,mark:D,menu:C({li:1},I),meta:k,meter:y(D,{meter:1}),nav:I,noscript:C({link:1,meta:1,style:1},D),object:C({param:1},D),ol:{li:1},optgroup:{option:1},option:_,output:D,p:D,param:k,pre:D,progress:y(D,{progress:1}),q:D,rp:D,rt:D,ruby:C({rp:1,rt:1},D),s:D,samp:D,script:_,section:I,select:{optgroup:1,option:1},small:D,source:k,span:D,strong:D,style:_,sub:D,summary:C({h1:1,h2:1,h3:1,h4:1,h5:1,h6:1},D),sup:D,table:{caption:1,colgroup:1,thead:1,tfoot:1,tbody:1,tr:1},tbody:{tr:1},td:I,textarea:_,tfoot:{tr:1},th:I,thead:{tr:1},time:y(D,{time:1}),title:_,tr:{th:1,td:1},track:k,u:D,ul:{li:1},"var":D,video:C({source:1,track:1},I),wbr:k,acronym:D,applet:C({param:1},I),basefont:k,big:D,center:I,dialog:k,dir:{li:1},font:D,isindex:k,noframes:I,strike:D,tt:D},{$block:C({audio:1,dd:1,dt:1,figcaption:1,li:1,video:1},O,x),$blockLimit:{article:1,aside:1,audio:1,body:1,caption:1,details:1,dir:1,div:1,dl:1,fieldset:1,figcaption:1,figure:1,footer:1,form:1,header:1,hgroup:1,main:1,menu:1,nav:1,ol:1,section:1,table:1,td:1,th:1,tr:1,ul:1,video:1},$cdata:{script:1,style:1},$editable:{address:1,article:1,aside:1,blockquote:1,body:1,details:1,div:1,fieldset:1,figcaption:1,footer:1,form:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,header:1,hgroup:1,main:1,nav:1,p:1,pre:1,section:1},$empty:{area:1,base:1,basefont:1,br:1,col:1,command:1,dialog:1,embed:1,hr:1,img:1,input:1,isindex:1,keygen:1,link:1,meta:1,param:1,source:1,track:1,wbr:1},$inline:D,$list:{dl:1,ol:1,ul:1},$listItem:{dd:1,dt:1,li:1},$nonBodyContent:C({body:1,head:1,html:1},y.head),$nonEditable:{applet:1,audio:1,button:1,embed:1,iframe:1,map:1,object:1,option:1,param:1,script:1,textarea:1,video:1},$object:{applet:1,audio:1,button:1,hr:1,iframe:1,img:1,input:1,object:1,select:1,table:1,textarea:1,video:1},$removeEmpty:{abbr:1,acronym:1,b:1,bdi:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,mark:1,meter:1,output:1,q:1,ruby:1,s:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,time:1,tt:1,u:1,"var":1},$tabIndex:{a:1,area:1,button:1,input:1,object:1,select:1,textarea:1},$tableContent:{caption:1,col:1,colgroup:1,tbody:1,td:1,tfoot:1,th:1,thead:1,tr:1},$transparent:{a:1,audio:1,canvas:1,del:1,ins:1,map:1,noscript:1,object:1,video:1},$intermediate:{caption:1,colgroup:1,dd:1,dt:1,figcaption:1,legend:1,li:1,optgroup:1,option:1,rp:1,rt:1,summary:1,tbody:1,td:1,tfoot:1,th:1,thead:1,tr:1}}),y),CKEDITOR.dom.event=function(t){this.$=t},CKEDITOR.dom.event.prototype={getKey:function(){return this.$.keyCode||this.$.which},getKeystroke:function(){var t=this.getKey();return(this.$.ctrlKey||this.$.metaKey)&&(t+=CKEDITOR.CTRL),this.$.shiftKey&&(t+=CKEDITOR.SHIFT),this.$.altKey&&(t+=CKEDITOR.ALT),t},preventDefault:function(t){var e=this.$;e.preventDefault?e.preventDefault():e.returnValue=!1,t&&this.stopPropagation()},stopPropagation:function(){var t=this.$;t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},getTarget:function(){var t=this.$.target||this.$.srcElement;return t?new CKEDITOR.dom.node(t):null},getPhase:function(){return this.$.eventPhase||2},getPageOffset:function(){var t=this.getTarget().getDocument().$;return{x:this.$.pageX||this.$.clientX+(t.documentElement.scrollLeft||t.body.scrollLeft),y:this.$.pageY||this.$.clientY+(t.documentElement.scrollTop||t.body.scrollTop)}}},CKEDITOR.CTRL=1114112,CKEDITOR.SHIFT=2228224,CKEDITOR.ALT=4456448,CKEDITOR.EVENT_PHASE_CAPTURING=1,CKEDITOR.EVENT_PHASE_AT_TARGET=2,CKEDITOR.EVENT_PHASE_BUBBLING=3,CKEDITOR.dom.domObject=function(t){t&&(this.$=t)},CKEDITOR.dom.domObject.prototype=(w=function(e,n){return function(t){"undefined"!=typeof CKEDITOR&&e.fire(n,new CKEDITOR.dom.event(t))}},{getPrivate:function(){var t;return(t=this.getCustomData("_"))||this.setCustomData("_",t={}),t},on:function(t){var e=this.getCustomData("_cke_nativeListeners");return e||(e={},this.setCustomData("_cke_nativeListeners",e)),e[t]||(e=e[t]=w(this,t),this.$.addEventListener?this.$.addEventListener(t,e,!!CKEDITOR.event.useCapture):this.$.attachEvent&&this.$.attachEvent("on"+t,e)),CKEDITOR.event.prototype.on.apply(this,arguments)},removeListener:function(t){if(CKEDITOR.event.prototype.removeListener.apply(this,arguments),!this.hasListeners(t)){var e=this.getCustomData("_cke_nativeListeners"),n=e&&e[t];n&&(this.$.removeEventListener?this.$.removeEventListener(t,n,!1):this.$.detachEvent&&this.$.detachEvent("on"+t,n),delete e[t])}},removeAllListeners:function(){var t,e=this.getCustomData("_cke_nativeListeners");for(t in e){var n=e[t];this.$.detachEvent?this.$.detachEvent("on"+t,n):this.$.removeEventListener&&this.$.removeEventListener(t,n,!1),delete e[t]}CKEDITOR.event.prototype.removeAllListeners.call(this)}}),K=CKEDITOR.dom.domObject.prototype,S={},CKEDITOR.on("reset",function(){S={}}),K.equals=function(t){try{return t&&t.$===this.$}catch(e){return!1}},K.setCustomData=function(t,e){var n=this.getUniqueId();return(S[n]||(S[n]={}))[t]=e,this},K.getCustomData=function(t){var e=this.$["data-cke-expando"];return(e=e&&S[e])&&t in e?e[t]:null},K.removeCustomData=function(t){var e,n,i;return(e=(e=this.$["data-cke-expando"])&&S[e])&&(n=e[t],i=t in e,delete e[t]),i?n:null},K.clearCustomData=function(){this.removeAllListeners();var t=this.$["data-cke-expando"];t&&delete S[t]},K.getUniqueId=function(){return this.$["data-cke-expando"]||(this.$["data-cke-expando"]=CKEDITOR.tools.getNextNumber())},CKEDITOR.event.implementOn(K),CKEDITOR.dom.node=function(t){return t?new CKEDITOR.dom[t.nodeType==CKEDITOR.NODE_DOCUMENT?"document":t.nodeType==CKEDITOR.NODE_ELEMENT?"element":t.nodeType==CKEDITOR.NODE_TEXT?"text":t.nodeType==CKEDITOR.NODE_COMMENT?"comment":t.nodeType==CKEDITOR.NODE_DOCUMENT_FRAGMENT?"documentFragment":"domObject"](t):this},CKEDITOR.dom.node.prototype=new CKEDITOR.dom.domObject,CKEDITOR.NODE_ELEMENT=1,CKEDITOR.NODE_DOCUMENT=9,CKEDITOR.NODE_TEXT=3,CKEDITOR.NODE_COMMENT=8,CKEDITOR.NODE_DOCUMENT_FRAGMENT=11,CKEDITOR.POSITION_IDENTICAL=0,CKEDITOR.POSITION_DISCONNECTED=1,CKEDITOR.POSITION_FOLLOWING=2,CKEDITOR.POSITION_PRECEDING=4,CKEDITOR.POSITION_IS_CONTAINED=8,CKEDITOR.POSITION_CONTAINS=16,CKEDITOR.tools.extend(CKEDITOR.dom.node.prototype,{appendTo:function(t,e){return t.append(this,e),t},clone:function(n,i){function o(t){if(t["data-cke-expando"]&&(t["data-cke-expando"]=!1),(t.nodeType==CKEDITOR.NODE_ELEMENT||t.nodeType==CKEDITOR.NODE_DOCUMENT_FRAGMENT)&&(i||t.nodeType!=CKEDITOR.NODE_ELEMENT||t.removeAttribute("id",!1),n)){t=t.childNodes;for(var e=0;e<t.length;e++)o(t[e])}}function a(t){if(t.type==CKEDITOR.NODE_ELEMENT||t.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT){if(t.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT){var e=t.getName();":"==e[0]&&t.renameNode(e.substring(1))}if(n)for(e=0;e<t.getChildCount();e++)a(t.getChild(e))}}var t=this.$.cloneNode(n);return o(t),t=new CKEDITOR.dom.node(t),CKEDITOR.env.ie&&CKEDITOR.env.version<9&&(this.type==CKEDITOR.NODE_ELEMENT||this.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT)&&a(t),t},hasPrevious:function(){return!!this.$.previousSibling},hasNext:function(){return!!this.$.nextSibling},insertAfter:function(t){return t.$.parentNode.insertBefore(this.$,t.$.nextSibling),t},insertBefore:function(t){return t.$.parentNode.insertBefore(this.$,t.$),t},insertBeforeMe:function(t){return this.$.parentNode.insertBefore(t.$,this.$),t},getAddress:function(t){for(var e=[],n=this.getDocument().$.documentElement,i=this.$;i&&i!=n;){var o=i.parentNode;o&&e.unshift(this.getIndex.call({$:i},t)),i=o}return e},getDocument:function(){return new CKEDITOR.dom.document(this.$.ownerDocument||this.$.parentNode.ownerDocument)},getIndex:function(t){function i(t,e){var n=e?t.nextSibling:t.previousSibling;return n&&n.nodeType==CKEDITOR.NODE_TEXT?o(n)?i(n,e):n:null}function o(t){return!t.nodeValue||t.nodeValue==CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE}var e,n=this.$,a=-1;if(!this.$.parentNode||t&&n.nodeType==CKEDITOR.NODE_TEXT&&o(n)&&!i(n)&&!i(n,!0))return-1;for(;t&&n!=this.$&&n.nodeType==CKEDITOR.NODE_TEXT&&(e||o(n))||(a++,e=n.nodeType==CKEDITOR.NODE_TEXT),n=n.previousSibling;);return a},getNextSourceNode:function(t,e,n){if(n&&!n.call){var i=n;n=function(t){return!t.equals(i)}}var o;if(!(t=!t&&this.getFirst&&this.getFirst())){if(this.type==CKEDITOR.NODE_ELEMENT&&n&&!1===n(this,!0))return null;t=this.getNext()}for(;!t&&(o=(o||this).getParent());){if(n&&!1===n(o,!0))return null;t=o.getNext()}return!t||n&&!1===n(t)?null:e&&e!=t.type?t.getNextSourceNode(!1,e,n):t},getPreviousSourceNode:function(t,e,n){if(n&&!n.call){var i=n;n=function(t){return!t.equals(i)}}var o;if(!(t=!t&&this.getLast&&this.getLast())){if(this.type==CKEDITOR.NODE_ELEMENT&&n&&!1===n(this,!0))return null;t=this.getPrevious()}for(;!t&&(o=(o||this).getParent());){if(n&&!1===n(o,!0))return null;t=o.getPrevious()}return!t||n&&!1===n(t)?null:e&&t.type!=e?t.getPreviousSourceNode(!1,e,n):t},getPrevious:function(t){for(var e,n=this.$;(e=(n=n.previousSibling)&&10!=n.nodeType&&new CKEDITOR.dom.node(n))&&t&&!t(e););return e},getNext:function(t){for(var e,n=this.$;(e=(n=n.nextSibling)&&new CKEDITOR.dom.node(n))&&t&&!t(e););return e},getParent:function(t){var e=this.$.parentNode;return e&&(e.nodeType==CKEDITOR.NODE_ELEMENT||t&&e.nodeType==CKEDITOR.NODE_DOCUMENT_FRAGMENT)?new CKEDITOR.dom.node(e):null},getParents:function(t){for(var e=this,n=[];n[t?"push":"unshift"](e),e=e.getParent(););return n},getCommonAncestor:function(t){if(t.equals(this))return this;if(t.contains&&t.contains(this))return t;var e=this.contains?this:this.getParent();do{if(e.contains(t))return e}while(e=e.getParent());return null},getPosition:function(t){var e=this.$,n=t.$;if(e.compareDocumentPosition)return e.compareDocumentPosition(n);if(e==n)return CKEDITOR.POSITION_IDENTICAL;if(this.type==CKEDITOR.NODE_ELEMENT&&t.type==CKEDITOR.NODE_ELEMENT){if(e.contains){if(e.contains(n))return CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_PRECEDING;if(n.contains(e))return CKEDITOR.POSITION_IS_CONTAINED+CKEDITOR.POSITION_FOLLOWING}if("sourceIndex"in e)return e.sourceIndex<0||n.sourceIndex<0?CKEDITOR.POSITION_DISCONNECTED:e.sourceIndex<n.sourceIndex?CKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_FOLLOWING}e=this.getAddress(),t=t.getAddress();n=Math.min(e.length,t.length);for(var i=0;i<n;i++)if(e[i]!=t[i])return e[i]<t[i]?CKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_FOLLOWING;return e.length<t.length?CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_IS_CONTAINED+CKEDITOR.POSITION_FOLLOWING},getAscendant:function(e,t){var n,i,o=this.$;for(t||(o=o.parentNode),"function"==typeof e?(i=!0,n=e):(i=!1,n=function(t){return t="string"==typeof t.nodeName?t.nodeName.toLowerCase():"","string"==typeof e?t==e:t in e});o;){if(n(i?new CKEDITOR.dom.node(o):o))return new CKEDITOR.dom.node(o);try{o=o.parentNode}catch(g){o=null}}return null},hasAscendant:function(t,e){var n=this.$;for(e||(n=n.parentNode);n;){if(n.nodeName&&n.nodeName.toLowerCase()==t)return!0;n=n.parentNode}return!1},move:function(t,e){t.append(this.remove(),e)},remove:function(t){var e=this.$,n=e.parentNode;if(n){if(t)for(;t=e.firstChild;)n.insertBefore(e.removeChild(t),e);n.removeChild(e)}return this},replace:function(t){this.insertBefore(t),t.remove()},trim:function(){this.ltrim(),this.rtrim()},ltrim:function(){for(var t;this.getFirst&&(t=this.getFirst());){if(t.type==CKEDITOR.NODE_TEXT){var e=CKEDITOR.tools.ltrim(t.getText()),n=t.getLength();if(!e){t.remove();continue}e.length<n&&(t.split(n-e.length),this.$.removeChild(this.$.firstChild))}break}},rtrim:function(){for(var t;this.getLast&&(t=this.getLast());){if(t.type==CKEDITOR.NODE_TEXT){var e=CKEDITOR.tools.rtrim(t.getText()),n=t.getLength();if(!e){t.remove();continue}e.length<n&&(t.split(e.length),this.$.lastChild.parentNode.removeChild(this.$.lastChild))}break}CKEDITOR.env.needsBrFiller&&(t=this.$.lastChild)&&1==t.type&&"br"==t.nodeName.toLowerCase()&&t.parentNode.removeChild(t)},isReadOnly:function(t){var e=this;if(this.type!=CKEDITOR.NODE_ELEMENT&&(e=this.getParent()),CKEDITOR.env.edge&&e&&e.is("textarea","input")&&(t=!0),!t&&e&&"undefined"!=typeof e.$.isContentEditable)return!(e.$.isContentEditable||e.data("cke-editable"));for(;e;){if(e.data("cke-editable"))return!1;if(e.hasAttribute("contenteditable"))return"false"==e.getAttribute("contenteditable");e=e.getParent()}return!0}}),CKEDITOR.dom.window=function(t){CKEDITOR.dom.domObject.call(this,t)},CKEDITOR.dom.window.prototype=new CKEDITOR.dom.domObject,CKEDITOR.tools.extend(CKEDITOR.dom.window.prototype,{focus:function(){this.$.focus()},getViewPaneSize:function(){var t=this.$.document,e="CSS1Compat"==t.compatMode;return{width:(e?t.documentElement.clientWidth:t.body.clientWidth)||0,height:(e?t.documentElement.clientHeight:t.body.clientHeight)||0}},getScrollPosition:function(){var t=this.$;return"pageXOffset"in t?{x:t.pageXOffset||0,y:t.pageYOffset||0}:{x:(t=t.document).documentElement.scrollLeft||t.body.scrollLeft||0,y:t.documentElement.scrollTop||t.body.scrollTop||0}},getFrame:function(){var t=this.$.frameElement;return t?new CKEDITOR.dom.element.get(t):null}}),CKEDITOR.dom.document=function(t){CKEDITOR.dom.domObject.call(this,t)},CKEDITOR.dom.document.prototype=new CKEDITOR.dom.domObject,CKEDITOR.tools.extend(CKEDITOR.dom.document.prototype,{type:CKEDITOR.NODE_DOCUMENT,appendStyleSheet:function(t){if(this.$.createStyleSheet)this.$.createStyleSheet(t);else{var e=new CKEDITOR.dom.element("link");e.setAttributes({rel:"stylesheet",type:"text/css",href:t}),this.getHead().append(e)}},appendStyleText:function(t){if(this.$.createStyleSheet){var e=this.$.createStyleSheet("");e.cssText=t}else{var n=new CKEDITOR.dom.element("style",this);n.append(new CKEDITOR.dom.text(t,this)),this.getHead().append(n)}return e||n.$.sheet},createElement:function(t,e){var n=new CKEDITOR.dom.element(t,this);return e&&(e.attributes&&n.setAttributes(e.attributes),e.styles&&n.setStyles(e.styles)),n},createText:function(t){return new CKEDITOR.dom.text(t,this)},focus:function(){this.getWindow().focus()},getActive:function(){var t;try{t=this.$.activeElement}catch(e){return null}return new CKEDITOR.dom.element(t)},getById:function(t){return(t=this.$.getElementById(t))?new CKEDITOR.dom.element(t):null},getByAddress:function(t,e){for(var n=this.$.documentElement,i=0;n&&i<t.length;i++){var o=t[i];if(e)for(var a=-1,r=0;r<n.childNodes.length;r++){var s=n.childNodes[r];if((!0!==e||3!=s.nodeType||!s.previousSibling||3!=s.previousSibling.nodeType)&&++a==o){n=s;break}}else n=n.childNodes[o]}return n?new CKEDITOR.dom.node(n):null},getElementsByTag:function(t,e){return CKEDITOR.env.ie&&document.documentMode<=8||!e||(t=e+":"+t),new CKEDITOR.dom.nodeList(this.$.getElementsByTagName(t))},getHead:function(){var t=this.$.getElementsByTagName("head")[0];return t?new CKEDITOR.dom.element(t):this.getDocumentElement().append(new CKEDITOR.dom.element("head"),!0)},getBody:function(){return new CKEDITOR.dom.element(this.$.body)},getDocumentElement:function(){return new CKEDITOR.dom.element(this.$.documentElement)},getWindow:function(){return new CKEDITOR.dom.window(this.$.parentWindow||this.$.defaultView)},write:function(t){this.$.open("text/html","replace"),CKEDITOR.env.ie&&(t=t.replace(/(?:^\s*<!DOCTYPE[^>]*?>)|^/i,'$&\n<script data-cke-temp="1">('+CKEDITOR.tools.fixDomain+")();</script>")),this.$.write(t),this.$.close()},find:function(t){return new CKEDITOR.dom.nodeList(this.$.querySelectorAll(t))},findOne:function(t){return(t=this.$.querySelector(t))?new CKEDITOR.dom.element(t):null},_getHtml5ShivFrag:function(){var t=this.getCustomData("html5ShivFrag");return t||(t=this.$.createDocumentFragment(),CKEDITOR.tools.enableHtml5Elements(t,!0),this.setCustomData("html5ShivFrag",t)),t}}),CKEDITOR.dom.nodeList=function(t){this.$=t},CKEDITOR.dom.nodeList.prototype={count:function(){return this.$.length},getItem:function(t){return t<0||t>=this.$.length?null:(t=this.$[t])?new CKEDITOR.dom.node(t):null}},CKEDITOR.dom.element=function(t,e){"string"==typeof t&&(t=(e?e.$:document).createElement(t)),CKEDITOR.dom.domObject.call(this,t)},CKEDITOR.dom.element.get=function(t){return(t="string"==typeof t?document.getElementById(t)||document.getElementsByName(t)[0]:t)&&(t.$?t:new CKEDITOR.dom.element(t))},CKEDITOR.dom.element.prototype=new CKEDITOR.dom.node,CKEDITOR.dom.element.createFromHtml=function(t,e){var n=new CKEDITOR.dom.element("div",e);return n.setHtml(t),n.getFirst().remove()},CKEDITOR.dom.element.setMarker=function(t,e,n,i){var o=e.getCustomData("list_marker_id")||e.setCustomData("list_marker_id",CKEDITOR.tools.getNextNumber()).getCustomData("list_marker_id"),a=e.getCustomData("list_marker_names")||e.setCustomData("list_marker_names",{}).getCustomData("list_marker_names");return t[o]=e,a[n]=1,e.setCustomData(n,i)},CKEDITOR.dom.element.clearAllMarkers=function(t){for(var e in t)CKEDITOR.dom.element.clearMarkers(t,t[e],1)},CKEDITOR.dom.element.clearMarkers=function(t,e,n){var i,o=e.getCustomData("list_marker_names"),a=e.getCustomData("list_marker_id");for(i in o)e.removeCustomData(i);e.removeCustomData("list_marker_names"),n&&(e.removeCustomData("list_marker_id"),delete t[a])},function(){function n(t,e){return-1<(" "+t+" ").replace(c," ").indexOf(" "+e+" ")}function o(t){var e=!0;return t.$.id||(t.$.id="cke_tmp_"+CKEDITOR.tools.getNextNumber(),e=!1),function(){e||t.removeAttribute("id")}}function i(t,e){var n=CKEDITOR.tools.escapeCss(t.$.id);return"#"+n+" "+e.split(/,\s*/).join(", #"+n+" ")}function a(t){for(var e=0,n=0,i=d[t].length;n<i;n++)e+=parseFloat(this.getComputedStyle(d[t][n])||0,10)||0;return e}var t,r,e,s,l=void 0!==(l=document.createElement("_").classList)&&null!==String(l.add).match(/\[Native code\]/gi),c=/[\n\t\r]/g;CKEDITOR.tools.extend(CKEDITOR.dom.element.prototype,{type:CKEDITOR.NODE_ELEMENT,addClass:l?function(t){return this.$.classList.add(t),this}:function(t){var e=this.$.className;return e&&(n(e,t)||(e+=" "+t)),this.$.className=e||t,this},removeClass:l?function(t){var e=this.$;return e.classList.remove(t),e.className||e.removeAttribute("class"),this}:function(t){var e=this.getAttribute("class");return e&&n(e,t)&&((e=e.replace(new RegExp("(?:^|\\s+)"+t+"(?=\\s|$)"),"").replace(/^\s+/,""))?this.setAttribute("class",e):this.removeAttribute("class")),this},hasClass:function(t){return n(this.$.className,t)},append:function(t,e){return"string"==typeof t&&(t=this.getDocument().createElement(t)),e?this.$.insertBefore(t.$,this.$.firstChild):this.$.appendChild(t.$),t},appendHtml:function(t){if(this.$.childNodes.length){var e=new CKEDITOR.dom.element("div",this.getDocument());e.setHtml(t),e.moveChildren(this)}else this.setHtml(t)},appendText:function(t){null!=this.$.text&&CKEDITOR.env.ie&&CKEDITOR.env.version<9?this.$.text+=t:this.append(new CKEDITOR.dom.text(t))},appendBogus:function(t){if(t||CKEDITOR.env.needsBrFiller){for(t=this.getLast();t&&t.type==CKEDITOR.NODE_TEXT&&!CKEDITOR.tools.rtrim(t.getText());)t=t.getPrevious();t&&t.is&&t.is("br")||(t=this.getDocument().createElement("br"),CKEDITOR.env.gecko&&t.setAttribute("type","_moz"),this.append(t))}},breakParent:function(t,e){var n=new CKEDITOR.dom.range(this.getDocument());n.setStartAfter(this),n.setEndAfter(t);var i,o=n.extractContents(!1,e||!1);if(n.insertNode(this.remove()),CKEDITOR.env.ie&&!CKEDITOR.env.edge){for(n=new CKEDITOR.dom.element("div");i=o.getFirst();)i.$.style.backgroundColor&&(i.$.style.backgroundColor=i.$.style.backgroundColor),n.append(i);n.insertAfter(this),n.remove(!0)}else o.insertAfterNode(this)},contains:document.compareDocumentPosition?function(t){return!!(16&this.$.compareDocumentPosition(t.$))}:function(t){var e=this.$;return t.type!=CKEDITOR.NODE_ELEMENT?e.contains(t.getParent().$):e!=t.$&&e.contains(t.$)},focus:function(){function e(){try{this.$.focus()}catch(i){}}return function(t){t?CKEDITOR.tools.setTimeout(e,100,this):e.call(this)}}(),getHtml:function(){var t=this.$.innerHTML;return CKEDITOR.env.ie?t.replace(/<\?[^>]*>/g,""):t},getOuterHtml:function(){if(this.$.outerHTML)return this.$.outerHTML.replace(/<\?[^>]*>/,"");var t=this.$.ownerDocument.createElement("div");return t.appendChild(this.$.cloneNode(!0)),t.innerHTML},getClientRect:function(){var t=CKEDITOR.tools.extend({},this.$.getBoundingClientRect());return!t.width&&(t.width=t.right-t.left),!t.height&&(t.height=t.bottom-t.top),t},setHtml:CKEDITOR.env.ie&&CKEDITOR.env.version<9?function(t){try{var e=this.$;if(this.getParent())return e.innerHTML=t;var n=this.getDocument()._getHtml5ShivFrag();return n.appendChild(e),e.innerHTML=t,n.removeChild(e),t}catch(i){for(this.$.innerHTML="",(e=new CKEDITOR.dom.element("body",this.getDocument())).$.innerHTML=t,e=e.getChildren();e.count();)this.append(e.getItem(0));return t}}:function(t){return this.$.innerHTML=t},setText:(s=document.createElement("p"),s.innerHTML="x",s=s.textContent,function(t){this.$[s?"textContent":"innerText"]=t}),getAttribute:(e=function(t){return this.$.getAttribute(t,2)},CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(t){switch(t){case"class":t="className";break;case"http-equiv":t="httpEquiv";break;case"name":return this.$.name;case"tabindex":return 0!==(t=this.$.getAttribute(t,2))&&0===this.$.tabIndex&&(t=null),t;case"checked":return((t=this.$.attributes.getNamedItem(t)).specified?t.nodeValue:this.$.checked)?"checked":null;case"hspace":case"value":return this.$[t];case"style":return this.$.style.cssText;case"contenteditable":case"contentEditable":return this.$.attributes.getNamedItem("contentEditable").specified?this.$.getAttribute("contentEditable"):null}return this.$.getAttribute(t,2)}:e),getAttributes:function(t){var e,n={},i=this.$.attributes;for(t=CKEDITOR.tools.isArray(t)?t:[],e=0;e<i.length;e++)-1===CKEDITOR.tools.indexOf(t,i[e].name)&&(n[i[e].name]=i[e].value);return n},getChildren:function(){return new CKEDITOR.dom.nodeList(this.$.childNodes)},getComputedStyle:document.defaultView&&document.defaultView.getComputedStyle?function(t){var e=this.getWindow().$.getComputedStyle(this.$,null);return e?e.getPropertyValue(t):""}:function(t){return this.$.currentStyle[CKEDITOR.tools.cssStyleToDomStyle(t)]},getDtd:function(){var t=CKEDITOR.dtd[this.getName()];return this.getDtd=function(){return t},t},getElementsByTag:CKEDITOR.dom.document.prototype.getElementsByTag,getTabIndex:function(){var t=this.$.tabIndex;return 0!==t||CKEDITOR.dtd.$tabIndex[this.getName()]||0===parseInt(this.getAttribute("tabindex"),10)?t:-1},getText:function(){return this.$.textContent||this.$.innerText||""},getWindow:function(){return this.getDocument().getWindow()},getId:function(){return this.$.id||null},getNameAtt:function(){return this.$.name||null},getName:function(){var t=this.$.nodeName.toLowerCase();if(CKEDITOR.env.ie&&document.documentMode<=8){var e=this.$.scopeName;"HTML"!=e&&(t=e.toLowerCase()+":"+t)}return this.getName=function(){return t},this.getName()},getValue:function(){return this.$.value},getFirst:function(t){var e=this.$.firstChild;return(e=e&&new CKEDITOR.dom.node(e))&&t&&!t(e)&&(e=e.getNext(t)),e},
getLast:function(t){var e=this.$.lastChild;return(e=e&&new CKEDITOR.dom.node(e))&&t&&!t(e)&&(e=e.getPrevious(t)),e},getStyle:function(t){return this.$.style[CKEDITOR.tools.cssStyleToDomStyle(t)]},is:function(t){var e=this.getName();if("object"==typeof t)return!!t[e];for(var n=0;n<arguments.length;n++)if(arguments[n]==e)return!0;return!1},isEditable:function(t){var e=this.getName();return!(this.isReadOnly()||"none"==this.getComputedStyle("display")||"hidden"==this.getComputedStyle("visibility")||CKEDITOR.dtd.$nonEditable[e]||CKEDITOR.dtd.$empty[e]||this.is("a")&&(this.data("cke-saved-name")||this.hasAttribute("name"))&&!this.getChildCount())&&(!1===t||!(!(t=CKEDITOR.dtd[e]||CKEDITOR.dtd.span)||!t["#"]))},isIdentical:function(t){var e=this.clone(0,1);if(t=t.clone(0,1),e.removeAttributes(["_moz_dirty","data-cke-expando","data-cke-saved-href","data-cke-saved-name"]),t.removeAttributes(["_moz_dirty","data-cke-expando","data-cke-saved-href","data-cke-saved-name"]),e.$.isEqualNode)return e.$.style.cssText=CKEDITOR.tools.normalizeCssText(e.$.style.cssText),t.$.style.cssText=CKEDITOR.tools.normalizeCssText(t.$.style.cssText),e.$.isEqualNode(t.$);if(e=e.getOuterHtml(),t=t.getOuterHtml(),CKEDITOR.env.ie&&CKEDITOR.env.version<9&&this.is("a")){var n=this.getParent();n.type==CKEDITOR.NODE_ELEMENT&&((n=n.clone()).setHtml(e),e=n.getHtml(),n.setHtml(t),t=n.getHtml())}return e==t},isVisible:function(){var t,e,n=(this.$.offsetHeight||this.$.offsetWidth)&&"hidden"!=this.getComputedStyle("visibility");return n&&CKEDITOR.env.webkit&&(!(t=this.getWindow()).equals(CKEDITOR.document.getWindow())&&(e=t.$.frameElement)&&(n=new CKEDITOR.dom.element(e).isVisible())),!!n},isEmptyInlineRemoveable:function(){if(!CKEDITOR.dtd.$removeEmpty[this.getName()])return!1;for(var t=this.getChildren(),e=0,n=t.count();e<n;e++){var i=t.getItem(e);if((i.type!=CKEDITOR.NODE_ELEMENT||!i.data("cke-bookmark"))&&(i.type==CKEDITOR.NODE_ELEMENT&&!i.isEmptyInlineRemoveable()||i.type==CKEDITOR.NODE_TEXT&&CKEDITOR.tools.trim(i.getText())))return!1}return!0},hasAttributes:CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(){for(var t=this.$.attributes,e=0;e<t.length;e++){var n=t[e];switch(n.nodeName){case"class":if(this.getAttribute("class"))return!0;case"data-cke-expando":continue;default:if(n.specified)return!0}}return!1}:function(){var t=this.$.attributes,e=t.length,n={"data-cke-expando":1,_moz_dirty:1};return 0<e&&(2<e||!n[t[0].nodeName]||2==e&&!n[t[1].nodeName])},hasAttribute:function(){function e(t){var e=this.$.attributes.getNamedItem(t);if("input"==this.getName())switch(t){case"class":return 0<this.$.className.length;case"checked":return!!this.$.checked;case"value":return"checkbox"==(t=this.getAttribute("type"))||"radio"==t?"on"!=this.$.value:!!this.$.value}return!!e&&e.specified}return CKEDITOR.env.ie?CKEDITOR.env.version<8?function(t){return"name"==t?!!this.$.name:e.call(this,t)}:e:function(t){return!!this.$.attributes.getNamedItem(t)}}(),hide:function(){this.setStyle("display","none")},moveChildren:function(t,e){var n,i=this.$;if(i!=(t=t.$))if(e)for(;n=i.lastChild;)t.insertBefore(i.removeChild(n),t.firstChild);else for(;n=i.firstChild;)t.appendChild(i.removeChild(n))},mergeSiblings:function(){function e(t,e,n){if(e&&e.type==CKEDITOR.NODE_ELEMENT){for(var i=[];e.data("cke-bookmark")||e.isEmptyInlineRemoveable();)if(i.push(e),!(e=n?e.getNext():e.getPrevious())||e.type!=CKEDITOR.NODE_ELEMENT)return;if(t.isIdentical(e)){for(var o=n?t.getLast():t.getFirst();i.length;)i.shift().move(t,!n);e.moveChildren(t,!n),e.remove(),o&&o.type==CKEDITOR.NODE_ELEMENT&&o.mergeSiblings()}}}return function(t){(!1===t||CKEDITOR.dtd.$removeEmpty[this.getName()]||this.is("a"))&&(e(this,this.getNext(),!0),e(this,this.getPrevious()))}}(),show:function(){this.setStyles({display:"",visibility:""})},setAttribute:(r=function(t,e){return this.$.setAttribute(t,e),this},CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(t,e){return"class"==t?this.$.className=e:"style"==t?this.$.style.cssText=e:"tabindex"==t?this.$.tabIndex=e:"checked"==t?this.$.checked=e:"contenteditable"==t?r.call(this,"contentEditable",e):r.apply(this,arguments),this}:CKEDITOR.env.ie8Compat&&CKEDITOR.env.secure?function(t,e){if("src"==t&&e.match(/^http:\/\//))try{r.apply(this,arguments)}catch(n){}else r.apply(this,arguments);return this}:r),setAttributes:function(t){for(var e in t)this.setAttribute(e,t[e]);return this},setValue:function(t){return this.$.value=t,this},removeAttribute:(t=function(t){this.$.removeAttribute(t)},CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(t){"class"==t?t="className":"tabindex"==t?t="tabIndex":"contenteditable"==t&&(t="contentEditable"),this.$.removeAttribute(t)}:t),removeAttributes:function(t){if(CKEDITOR.tools.isArray(t))for(var e=0;e<t.length;e++)this.removeAttribute(t[e]);else for(e in t=t||this.getAttributes())t.hasOwnProperty(e)&&this.removeAttribute(e)},removeStyle:function(t){if((i=this.$.style).removeProperty||"border"!=t&&"margin"!=t&&"padding"!=t)i.removeProperty?i.removeProperty(t):i.removeAttribute(CKEDITOR.tools.cssStyleToDomStyle(t)),this.$.style.cssText||this.removeAttribute("style");else{var e,n=["top","left","right","bottom"];"border"==t&&(e=["color","style","width"]);for(var i=[],o=0;o<n.length;o++)if(e)for(var a=0;a<e.length;a++)i.push([t,n[o],e[a]].join("-"));else i.push([t,n[o]].join("-"));for(t=0;t<i.length;t++)this.removeStyle(i[t])}},setStyle:function(t,e){return this.$.style[CKEDITOR.tools.cssStyleToDomStyle(t)]=e,this},setStyles:function(t){for(var e in t)this.setStyle(e,t[e]);return this},setOpacity:function(t){CKEDITOR.env.ie&&CKEDITOR.env.version<9?(t=Math.round(100*t),this.setStyle("filter",100<=t?"":"progid:DXImageTransform.Microsoft.Alpha(opacity="+t+")")):this.setStyle("opacity",t)},unselectable:function(){if(this.setStyles(CKEDITOR.tools.cssVendorPrefix("user-select","none")),CKEDITOR.env.ie){this.setAttribute("unselectable","on");for(var t=this.getElementsByTag("*"),e=0,n=t.count();e<n;e++)t.getItem(e).setAttribute("unselectable","on")}},getPositionedAncestor:function(){for(var t=this;"html"!=t.getName();){if("static"!=t.getComputedStyle("position"))return t;t=t.getParent()}return null},getDocumentPosition:function(t){var e=0,n=0,i=this.getDocument(),o=i.getBody(),a="BackCompat"==i.$.compatMode;if(!document.documentElement.getBoundingClientRect||CKEDITOR.env.ie&&8===CKEDITOR.env.version)for(l=this,c=null;l&&"body"!=l.getName()&&"html"!=l.getName();){for(e+=l.$.offsetLeft-l.$.scrollLeft,n+=l.$.offsetTop-l.$.scrollTop,l.equals(this)||(e+=l.$.clientLeft||0,n+=l.$.clientTop||0);c&&!c.equals(l);)e-=c.$.scrollLeft,n-=c.$.scrollTop,c=c.getParent();l=(r=(c=l).$.offsetParent)?new CKEDITOR.dom.element(r):null}else{var r=this.$.getBoundingClientRect(),s=i.$.documentElement,l=s.clientTop||o.$.clientTop||0,c=s.clientLeft||o.$.clientLeft||0,d=!0;CKEDITOR.env.ie&&(d=i.getDocumentElement().contains(this),i=i.getBody().contains(this),d=a&&i||!a&&d),d&&(CKEDITOR.env.webkit||CKEDITOR.env.ie&&12<=CKEDITOR.env.version?(e=o.$.scrollLeft||s.scrollLeft,n=o.$.scrollTop||s.scrollTop):(e=(n=a?o.$:s).scrollLeft,n=n.scrollTop),e=r.left+e-c,n=r.top+n-l)}return t&&(r=this.getWindow(),l=t.getWindow(),!r.equals(l)&&r.$.frameElement&&(e+=(t=new CKEDITOR.dom.element(r.$.frameElement).getDocumentPosition(t)).x,n+=t.y)),document.documentElement.getBoundingClientRect||!CKEDITOR.env.gecko||a||(e+=this.$.clientLeft?1:0,n+=this.$.clientTop?1:0),{x:e,y:n}},scrollIntoView:function(t){var e=this.getParent();if(e)do{if((e.$.clientWidth&&e.$.clientWidth<e.$.scrollWidth||e.$.clientHeight&&e.$.clientHeight<e.$.scrollHeight)&&!e.is("body")&&this.scrollIntoParent(e,t,1),e.is("html")){var n=e.getWindow();try{var i=n.$.frameElement;i&&(e=new CKEDITOR.dom.element(i))}catch(o){}}}while(e=e.getParent())},scrollIntoParent:function(n,t,e){function i(t,e){/body|html/.test(n.getName())?n.getWindow().$.scrollBy(t,e):(n.$.scrollLeft+=t,n.$.scrollTop+=e)}function o(t,e){var n={x:0,y:0};if(!t.is(d?"body":"html")){var i=t.$.getBoundingClientRect();n.x=i.left,n.y=i.top}return(i=t.getWindow()).equals(e)||(i=o(CKEDITOR.dom.element.get(i.$.frameElement),e),n.x+=i.x,n.y+=i.y),n}function a(t,e){return parseInt(t.getComputedStyle("margin-"+e)||0,10)||0}var r,s,l,c;!n&&(n=this.getWindow());var d="BackCompat"==(l=n.getDocument()).$.compatMode;n instanceof CKEDITOR.dom.window&&(n=d?l.getBody():l.getDocumentElement()),CKEDITOR.env.webkit&&(l=this.getEditor(!1))&&(l._.previousScrollTop=null),s=o(this,l=n.getWindow());var u=o(n,l),h=this.$.offsetHeight;r=this.$.offsetWidth;var f=n.$.clientHeight,p=n.$.clientWidth;l=s.x-a(this,"left")-u.x||0,c=s.y-a(this,"top")-u.y||0,r=s.x+r+a(this,"right")-(u.x+p)||0,s=s.y+h+a(this,"bottom")-(u.y+f)||0,(c<0||0<s)&&i(0,!0===t?c:!1===t?s:c<0?c:s),e&&(l<0||0<r)&&i(l<0?l:r,0)},setState:function(t,e,n){switch(e=e||"cke",t){case CKEDITOR.TRISTATE_ON:this.addClass(e+"_on"),this.removeClass(e+"_off"),this.removeClass(e+"_disabled"),n&&this.setAttribute("aria-pressed",!0),n&&this.removeAttribute("aria-disabled");break;case CKEDITOR.TRISTATE_DISABLED:this.addClass(e+"_disabled"),this.removeClass(e+"_off"),this.removeClass(e+"_on"),n&&this.setAttribute("aria-disabled",!0),n&&this.removeAttribute("aria-pressed");break;default:this.addClass(e+"_off"),this.removeClass(e+"_on"),this.removeClass(e+"_disabled"),n&&this.removeAttribute("aria-pressed"),n&&this.removeAttribute("aria-disabled")}},getFrameDocument:function(){var t=this.$;try{t.contentWindow.document}catch(i){t.src=t.src}return t&&new CKEDITOR.dom.document(t.contentWindow.document)},copyAttributes:function(t,e){var n=this.$.attributes;e=e||{};for(var i=0;i<n.length;i++){var o,a=n[i],r=a.nodeName.toLowerCase();r in e||("checked"==r&&(o=this.getAttribute(r))?t.setAttribute(r,o):CKEDITOR.env.ie&&!this.hasAttribute(r)||(null===(o=this.getAttribute(r))&&(o=a.nodeValue),t.setAttribute(r,o)))}""!==this.$.style.cssText&&(t.$.style.cssText=this.$.style.cssText)},renameNode:function(t){if(this.getName()!=t){var e=this.getDocument();t=new CKEDITOR.dom.element(t,e),this.copyAttributes(t),this.moveChildren(t),this.getParent(!0)&&this.$.parentNode.replaceChild(t.$,this.$),t.$["data-cke-expando"]=this.$["data-cke-expando"],this.$=t.$,delete this.getName}},getChild:function(){function n(t,e){var n=t.childNodes;if(0<=e&&e<n.length)return n[e]}return function(t){var e=this.$;if(t.slice)for(t=t.slice();0<t.length&&e;)e=n(e,t.shift());else e=n(e,t);return e?new CKEDITOR.dom.node(e):null}}(),getChildCount:function(){return this.$.childNodes.length},disableContextMenu:function(){function e(t){return t.type==CKEDITOR.NODE_ELEMENT&&t.hasClass("cke_enable_context_menu")}this.on("contextmenu",function(t){t.data.getTarget().getAscendant(e,!0)||t.data.preventDefault()})},getDirection:function(t){return t?this.getComputedStyle("direction")||this.getDirection()||this.getParent()&&this.getParent().getDirection(1)||this.getDocument().$.dir||"ltr":this.getStyle("direction")||this.getAttribute("dir")},data:function(t,e){return t="data-"+t,void 0===e?this.getAttribute(t):(!1===e?this.removeAttribute(t):this.setAttribute(t,e),null)},getEditor:function(t){var e,n,i,o=CKEDITOR.instances;for(e in t=t||void 0===t,o)if((n=o[e]).element.equals(this)&&n.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO||!t&&(i=n.editable())&&(i.equals(this)||i.contains(this)))return n;return null},find:function(t){var e=o(this);return t=new CKEDITOR.dom.nodeList(this.$.querySelectorAll(i(this,t))),e(),t},findOne:function(t){var e=o(this);return t=this.$.querySelector(i(this,t)),e(),t?new CKEDITOR.dom.element(t):null},forEach:function(t,e,n){if(!(n||e&&this.type!=e))var i=t(this);if(!1!==i){n=this.getChildren();for(var o=0;o<n.count();o++)(i=n.getItem(o)).type==CKEDITOR.NODE_ELEMENT?i.forEach(t,e):e&&i.type!=e||t(i)}}});var d={width:["border-left-width","border-right-width","padding-left","padding-right"],height:["border-top-width","border-bottom-width","padding-top","padding-bottom"]};CKEDITOR.dom.element.prototype.setSize=function(t,e,n){"number"==typeof e&&(!n||CKEDITOR.env.ie&&CKEDITOR.env.quirks||(e-=a.call(this,t)),this.setStyle(t,e+"px"))},CKEDITOR.dom.element.prototype.getSize=function(t,e){var n=Math.max(this.$["offset"+CKEDITOR.tools.capitalize(t)],this.$["client"+CKEDITOR.tools.capitalize(t)])||0;return e&&(n-=a.call(this,t)),n}}(),CKEDITOR.dom.documentFragment=function(t){t=t||CKEDITOR.document,this.$=t.type==CKEDITOR.NODE_DOCUMENT?t.$.createDocumentFragment():t},CKEDITOR.tools.extend(CKEDITOR.dom.documentFragment.prototype,CKEDITOR.dom.element.prototype,{type:CKEDITOR.NODE_DOCUMENT_FRAGMENT,insertAfterNode:function(t){(t=t.$).parentNode.insertBefore(this.$,t.nextSibling)},getHtml:function(){var t=new CKEDITOR.dom.element("div");return this.clone(1,1).appendTo(t),t.getHtml().replace(/\s*data-cke-expando=".*?"/g,"")}},!0,{append:1,appendBogus:1,clone:1,getFirst:1,getHtml:1,getLast:1,getParent:1,getNext:1,getPrevious:1,appendTo:1,moveChildren:1,insertBefore:1,insertAfterNode:1,replace:1,trim:1,type:1,ltrim:1,rtrim:1,getDocument:1,getChildCount:1,getChild:1,getChildren:1}),function(){function i(t,e){var n=this.range;if(this._.end)return null;if(!this._.start){if(this._.start=1,n.collapsed)return this.end(),null;n.optimize()}var i,o=n.startContainer;i=n.endContainer;var a,r=n.startOffset,s=n.endOffset,l=this.guard,c=this.type,d=t?"getPreviousSourceNode":"getNextSourceNode";if(!t&&!this._.guardLTR){var u=i.type==CKEDITOR.NODE_ELEMENT?i:i.getParent(),h=i.type==CKEDITOR.NODE_ELEMENT?i.getChild(s):i.getNext();this._.guardLTR=function(t,e){return!(e&&u.equals(t)||h&&t.equals(h)||t.type==CKEDITOR.NODE_ELEMENT&&e&&t.equals(n.root))}}if(t&&!this._.guardRTL){var f=o.type==CKEDITOR.NODE_ELEMENT?o:o.getParent(),p=o.type==CKEDITOR.NODE_ELEMENT?r?o.getChild(r-1):null:o.getPrevious();this._.guardRTL=function(t,e){return!(e&&f.equals(t)||p&&t.equals(p)||t.type==CKEDITOR.NODE_ELEMENT&&e&&t.equals(n.root))}}var m=t?this._.guardRTL:this._.guardLTR;for(a=l?function(t,e){return!1!==m(t,e)&&l(t,e)}:m,this.current?i=this.current[d](!1,c,a):(t?i.type==CKEDITOR.NODE_ELEMENT&&(i=0<s?i.getChild(s-1):!1===a(i,!0)?null:i.getPreviousSourceNode(!0,c,a)):(i=o).type==CKEDITOR.NODE_ELEMENT&&((i=i.getChild(r))||(i=!1===a(o,!0)?null:o.getNextSourceNode(!0,c,a))),i&&!1===a(i)&&(i=null));i&&!this._.end;){if(this.current=i,this.evaluator&&!1===this.evaluator(i)){if(e&&this.evaluator)return!1}else if(!e)return i;i=i[d](!1,c,a)}return this.end(),this.current=null}function t(t){for(var e,n=null;e=i.call(this,t);)n=e;return n}CKEDITOR.dom.walker=CKEDITOR.tools.createClass({$:function(t){this.range=t,this._={}},proto:{end:function(){this._.end=1},next:function(){return i.call(this)},previous:function(){return i.call(this,1)},checkForward:function(){return!1!==i.call(this,0,1)},checkBackward:function(){return!1!==i.call(this,1,1)},lastForward:function(){return t.call(this)},lastBackward:function(){return t.call(this,1)},reset:function(){delete this.current,this._={}}}});var e={block:1,"list-item":1,table:1,"table-row-group":1,"table-header-group":1,"table-footer-group":1,"table-row":1,"table-column-group":1,"table-column":1,"table-cell":1,"table-caption":1},n={absolute:1,fixed:1};CKEDITOR.dom.element.prototype.isBlockBoundary=function(t){return!("none"!=this.getComputedStyle("float")||this.getComputedStyle("position")in n||!e[this.getComputedStyle("display")])||!!(this.is(CKEDITOR.dtd.$block)||t&&this.is(t))},CKEDITOR.dom.walker.blockBoundary=function(e){return function(t){return!(t.type==CKEDITOR.NODE_ELEMENT&&t.isBlockBoundary(e))}},CKEDITOR.dom.walker.listItemBoundary=function(){return this.blockBoundary({br:1})},CKEDITOR.dom.walker.bookmark=function(i,o){function a(t){return t&&t.getName&&"span"==t.getName()&&t.data("cke-bookmark")}return function(t){var e,n;return e=t&&t.type!=CKEDITOR.NODE_ELEMENT&&(n=t.getParent())&&a(n),e=i?e:e||a(t),!!(o^e)}},CKEDITOR.dom.walker.whitespaces=function(n){return function(t){var e;return t&&t.type==CKEDITOR.NODE_TEXT&&(e=!CKEDITOR.tools.trim(t.getText())||CKEDITOR.env.webkit&&t.getText()==CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE),!!(n^e)}},CKEDITOR.dom.walker.invisible=function(e){var n=CKEDITOR.dom.walker.whitespaces(),i=CKEDITOR.env.webkit?1:0;return function(t){return n(t)?t=1:(t.type==CKEDITOR.NODE_TEXT&&(t=t.getParent()),t=t.$.offsetWidth<=i),!!(e^t)}},CKEDITOR.dom.walker.nodeType=function(e,n){return function(t){return!!(n^t.type==e)}},CKEDITOR.dom.walker.bogus=function(n){function i(t){return!a(t)&&!r(t)}return function(t){var e=CKEDITOR.env.needsBrFiller?t.is&&t.is("br"):t.getText&&o.test(t.getText());return e&&(e=t.getParent(),t=t.getNext(i),e=e.isBlockBoundary()&&(!t||t.type==CKEDITOR.NODE_ELEMENT&&t.isBlockBoundary())),!!(n^e)}},CKEDITOR.dom.walker.temp=function(e){return function(t){return t.type!=CKEDITOR.NODE_ELEMENT&&(t=t.getParent()),t=t&&t.hasAttribute("data-cke-temp"),!!(e^t)}};var o=/^[\t\r\n ]*(?:&nbsp;|\xa0)$/,a=CKEDITOR.dom.walker.whitespaces(),r=CKEDITOR.dom.walker.bookmark(),s=CKEDITOR.dom.walker.temp(),l=function(t){return r(t)||a(t)||t.type==CKEDITOR.NODE_ELEMENT&&t.is(CKEDITOR.dtd.$inline)&&!t.is(CKEDITOR.dtd.$empty)};CKEDITOR.dom.walker.ignored=function(e){return function(t){return t=a(t)||r(t)||s(t),!!(e^t)}};var c=CKEDITOR.dom.walker.ignored();CKEDITOR.dom.walker.empty=function(i){return function(t){for(var e=0,n=t.getChildCount();e<n;++e)if(!c(t.getChild(e)))return!!i;return!i}};var d=CKEDITOR.dom.walker.empty(),u=CKEDITOR.dom.walker.validEmptyBlockContainers=CKEDITOR.tools.extend(function(t){var e,n={};for(e in t)CKEDITOR.dtd[e]["#"]&&(n[e]=1);return n}(CKEDITOR.dtd.$block),{caption:1,td:1,th:1});CKEDITOR.dom.walker.editable=function(e){return function(t){return t=!c(t)&&!!(t.type==CKEDITOR.NODE_TEXT||t.type==CKEDITOR.NODE_ELEMENT&&(t.is(CKEDITOR.dtd.$inline)||t.is("hr")||"false"==t.getAttribute("contenteditable")||!CKEDITOR.env.needsBrFiller&&t.is(u)&&d(t))),!!(e^t)}},CKEDITOR.dom.element.prototype.getBogus=function(){for(var t=this;t=t.getPreviousSourceNode(),l(t););return!(!t||!(CKEDITOR.env.needsBrFiller?t.is&&t.is("br"):t.getText&&o.test(t.getText())))&&t}}(),CKEDITOR.dom.range=function(t){this.endOffset=this.endContainer=this.startOffset=this.startContainer=null,this.collapsed=!0;var e=t instanceof CKEDITOR.dom.document;this.document=e?t:t.getDocument(),this.root=e?t.getBody():t},function(){function n(t){t.collapsed=t.startContainer&&t.endContainer&&t.startContainer.equals(t.endContainer)&&t.startOffset==t.endOffset}function i(n,t,e,i,a){function o(t,e,n,i){var o=n?t.getPrevious():t.getNext();return i&&l||(d||i?e.append(t.clone(!0,a),n):(t.remove(),c&&e.append(t))),o}function r(){var t,e,n,i=Math.min(I.length,O.length);for(t=0;t<i;t++)if(e=I[t],n=O[t],!e.equals(n))return t;return t-1}function s(){var t=R-1,e=f&&p&&!v.equals(E);t<k-1||t<_-1||e?(e?n.moveToPosition(E,CKEDITOR.POSITION_BEFORE_START):_==t+1&&h?n.moveToPosition(O[t],CKEDITOR.POSITION_BEFORE_END):n.moveToPosition(O[t+1],CKEDITOR.POSITION_BEFORE_START),i&&(t=I[t+1])&&t.type==CKEDITOR.NODE_ELEMENT&&((e=CKEDITOR.dom.element.createFromHtml('<span data-cke-bookmark="1" style="display:none">&nbsp;</span>',n.document)).insertAfter(t),t.mergeSiblings(!1),n.moveToBookmark({startNode:e}))):n.collapse(!0)}n.optimizeBookmark();var l=0===t,c=1==t,d=2==t;t=d||c;var u,h,f,p,m,g,v=n.startContainer,E=n.endContainer,T=n.startOffset,b=n.endOffset;if(d&&E.type==CKEDITOR.NODE_TEXT&&v.equals(E))v=n.document.createText(v.substring(T,b)),e.append(v);else{E.type==CKEDITOR.NODE_TEXT?d?g=!0:E=E.split(b):0<E.getChildCount()?b>=E.getChildCount()?(E=E.getChild(b-1),h=!0):E=E.getChild(b):p=h=!0,v.type==CKEDITOR.NODE_TEXT?d?m=!0:v.split(T):0<v.getChildCount()?0===T?(v=v.getChild(T),u=!0):v=v.getChild(T-1):f=u=!0;for(var C,y,D,I=v.getParents(),O=E.getParents(),R=r(),k=I.length-1,_=O.length-1,x=e,w=-1,K=R;K<=k;K++){for(D=(y=I[K]).getNext(),K!=k||y.equals(O[K])&&k<_?t&&(C=x.append(y.clone(0,a))):u?o(y,x,!1,f):m&&x.append(n.document.createText(y.substring(T)));D;){if(D.equals(O[K])){w=K;break}D=o(D,x)}x=C}for(x=e,K=R;K<=_;K++)if(D=(e=O[K]).getPrevious(),e.equals(I[K]))t&&(x=x.getChild(0));else{if(K!=_||e.equals(I[K])&&_<k?t&&(C=x.append(e.clone(0,a))):h?o(e,x,!1,p):g&&x.append(n.document.createText(e.substring(0,b))),w<K)for(;D;)D=o(D,x,!0);x=C}d||s()}}function o(){var e=!1,n=CKEDITOR.dom.walker.whitespaces(),i=CKEDITOR.dom.walker.bookmark(!0),o=CKEDITOR.dom.walker.bogus();return function(t){return!(!i(t)&&!n(t))||(o(t)&&!e?e=!0:!(t.type==CKEDITOR.NODE_TEXT&&(t.hasAscendant("pre")||CKEDITOR.tools.trim(t.getText()).length)||t.type==CKEDITOR.NODE_ELEMENT&&!t.is(r)))}}function a(e){var n=CKEDITOR.dom.walker.whitespaces(),i=CKEDITOR.dom.walker.bookmark(1);return function(t){return!(!i(t)&&!n(t))||(!e&&s(t)||t.type==CKEDITOR.NODE_ELEMENT&&t.is(CKEDITOR.dtd.$removeEmpty))}}function t(t){return function(){var e;return this[t?"getPreviousNode":"getNextNode"](function(t){return!e&&d(t)&&(e=t),c(t)&&!(s(t)&&t.equals(e))})}}var r={abbr:1,acronym:1,b:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,q:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,tt:1,u:1,"var":1},s=CKEDITOR.dom.walker.bogus(),l=/^[\t\r\n ]*(?:&nbsp;|\xa0)$/,c=CKEDITOR.dom.walker.editable(),d=CKEDITOR.dom.walker.ignored(!0);CKEDITOR.dom.range.prototype={clone:function(){var t=new CKEDITOR.dom.range(this.root);return t._setStartContainer(this.startContainer),t.startOffset=this.startOffset,t._setEndContainer(this.endContainer),t.endOffset=this.endOffset,t.collapsed=this.collapsed,t},collapse:function(t){t?(this._setEndContainer(this.startContainer),this.endOffset=this.startOffset):(this._setStartContainer(this.endContainer),this.startOffset=this.endOffset),this.collapsed=!0},cloneContents:function(t){var e=new CKEDITOR.dom.documentFragment(this.document);return this.collapsed||i(this,2,e,!1,void 0===t||t),e},deleteContents:function(t){this.collapsed||i(this,0,null,t)},extractContents:function(t,e){var n=new CKEDITOR.dom.documentFragment(this.document);return this.collapsed||i(this,1,n,t,void 0===e||e),n},createBookmark:function(t){var e,n,i,o,a=this.collapsed;return(e=this.document.createElement("span")).data("cke-bookmark",1),e.setStyle("display","none"),e.setHtml("&nbsp;"),t&&(i="cke_bm_"+CKEDITOR.tools.getNextNumber(),e.setAttribute("id",i+(a?"C":"S"))),a||((n=e.clone()).setHtml("&nbsp;"),t&&n.setAttribute("id",i+"E"),(o=this.clone()).collapse(),o.insertNode(n)),(o=this.clone()).collapse(!0),o.insertNode(e),n?(this.setStartAfter(e),this.setEndBefore(n)):this.moveToPosition(e,CKEDITOR.POSITION_AFTER_END),{startNode:t?i+(a?"C":"S"):e,endNode:t?i+"E":n,serializable:t,collapsed:a}},createBookmark2:function(){function o(t){var e,n=t.container,i=t.offset,o=i;if((e=(e=n).type!=CKEDITOR.NODE_ELEMENT||0===o||o==e.getChildCount()?0:e.getChild(o-1).type==CKEDITOR.NODE_TEXT&&e.getChild(o).type==CKEDITOR.NODE_TEXT)&&(i=(n=n.getChild(i-1)).getLength()),n.type==CKEDITOR.NODE_ELEMENT&&0<i){t:{for(e=n;i--;)if(0<=(o=e.getChild(i).getIndex(!0))){i=o;break t}i=-1}i+=1}if(n.type==CKEDITOR.NODE_TEXT){for(e=n,o=0;(e=e.getPrevious())&&e.type==CKEDITOR.NODE_TEXT;)o+=e.getText().replace(CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE,"").length;e=o,n.getText()?i+=e:(o=n.getPrevious(r),e?(i=e,n=o?o.getNext():n.getParent().getFirst()):(n=n.getParent(),i=o?o.getIndex(!0)+1:0))}t.container=n,t.offset=i}function a(t,e){var n=e.getCustomData("cke-fillingChar");if(n){var i=t.container;n.equals(i)&&(t.offset-=CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE.length,t.offset<=0&&(t.offset=i.getIndex(),t.container=i.getParent()))}}var r=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_TEXT,!0);return function(t){var e=this.collapsed,n={container:this.startContainer,offset:this.startOffset},i={container:this.endContainer,offset:this.endOffset};return t&&(o(n),a(n,this.root),e||(o(i),a(i,this.root))),{start:n.container.getAddress(t),end:e?null:i.container.getAddress(t),startOffset:n.offset,endOffset:i.offset,normalized:t,collapsed:e,is2:!0}}}(),moveToBookmark:function(t){if(t.is2){var e=this.document.getByAddress(t.start,t.normalized),n=t.startOffset,i=t.end&&this.document.getByAddress(t.end,t.normalized);t=t.endOffset,this.setStart(e,n),i?this.setEnd(i,t):this.collapse(!0)}else e=(n=t.serializable)?this.document.getById(t.startNode):t.startNode,t=n?this.document.getById(t.endNode):t.endNode,this.setStartBefore(e),e.remove(),t?(this.setEndBefore(t),t.remove()):this.collapse(!0)},getBoundaryNodes:function(){var t,e=this.startContainer,n=this.endContainer,i=this.startOffset,o=this.endOffset;if(e.type==CKEDITOR.NODE_ELEMENT)if(i<(t=e.getChildCount()))e=e.getChild(i);else if(t<1)e=e.getPreviousSourceNode();else{for(e=e.$;e.lastChild;)e=e.lastChild;e=(e=new CKEDITOR.dom.node(e)).getNextSourceNode()||e}if(n.type==CKEDITOR.NODE_ELEMENT)if(o<(t=n.getChildCount()))n=n.getChild(o).getPreviousSourceNode(!0);else if(t<1)n=n.getPreviousSourceNode();else{for(n=n.$;n.lastChild;)n=n.lastChild;n=new CKEDITOR.dom.node(n)}return e.getPosition(n)&CKEDITOR.POSITION_FOLLOWING&&(e=n),{startNode:e,endNode:n}},getCommonAncestor:function(t,e){var n=this.startContainer,i=this.endContainer;n=n.equals(i)?t&&n.type==CKEDITOR.NODE_ELEMENT&&this.startOffset==this.endOffset-1?n.getChild(this.startOffset):n:n.getCommonAncestor(i);return e&&!n.is?n.getParent():n},optimize:function(){var t=this.startContainer,e=this.startOffset;t.type!=CKEDITOR.NODE_ELEMENT&&(e?e>=t.getLength()&&this.setStartAfter(t):this.setStartBefore(t)),t=this.endContainer,e=this.endOffset,t.type!=CKEDITOR.NODE_ELEMENT&&(e?e>=t.getLength()&&this.setEndAfter(t):this.setEndBefore(t))},optimizeBookmark:function(){var t=this.startContainer,e=this.endContainer;t.is&&t.is("span")&&t.data("cke-bookmark")&&this.setStartAt(t,CKEDITOR.POSITION_BEFORE_START),e&&e.is&&e.is("span")&&e.data("cke-bookmark")&&this.setEndAt(e,CKEDITOR.POSITION_AFTER_END)},trim:function(t,e){var n=this.startContainer,i=this.startOffset,o=this.collapsed;if((!t||o)&&n&&n.type==CKEDITOR.NODE_TEXT){if(i)if(i>=n.getLength())i=n.getIndex()+1,n=n.getParent();else{var a=n.split(i);i=n.getIndex()+1,n=n.getParent();this.startContainer.equals(this.endContainer)?this.setEnd(a,this.endOffset-this.startOffset):n.equals(this.endContainer)&&(this.endOffset+=1)}else i=n.getIndex(),n=n.getParent();if(this.setStart(n,i),o)return void this.collapse(!0)}n=this.endContainer,i=this.endOffset,e||o||!n||n.type!=CKEDITOR.NODE_TEXT||(i?(i>=n.getLength()||n.split(i),i=n.getIndex()+1):i=n.getIndex(),n=n.getParent(),this.setEnd(n,i))},enlarge:function(t,e){function n(t){return t&&t.type==CKEDITOR.NODE_ELEMENT&&t.hasAttribute("contenteditable")?null:t}var o=new RegExp(/[^\s\ufeff]/);switch(t){case CKEDITOR.ENLARGE_INLINE:var i=1;case CKEDITOR.ENLARGE_ELEMENT:var a=function(t,e){var n,i;for((n=new CKEDITOR.dom.range(p)).setStart(t,e),n.setEndAt(p,CKEDITOR.POSITION_BEFORE_END),(n=new CKEDITOR.dom.walker(n)).guard=function(t){return!(t.type==CKEDITOR.NODE_ELEMENT&&t.isBlockBoundary())};i=n.next();){if(i.type!=CKEDITOR.NODE_TEXT)return!1;if(h=i!=t?i.getText():i.substring(e),o.test(h))return!1}return!0};if(this.collapsed)break;var r,s,l,c,d,u,h,f=this.getCommonAncestor(),p=this.root,m=!1;u=this.startContainer;var g=this.startOffset;for(u.type==CKEDITOR.NODE_TEXT?(g&&(m=!!(u=!CKEDITOR.tools.trim(u.substring(0,g)).length&&u)),u&&((c=u.getPrevious())||(l=u.getParent()))):(g&&(c=u.getChild(g-1)||u.getLast()),c||(l=u)),l=n(l);l||c;){if(l&&!c){if(!d&&l.equals(f)&&(d=!0),i?l.isBlockBoundary():!p.contains(l))break;m&&"inline"==l.getComputedStyle("display")||(m=!1,d?r=l:this.setStartBefore(l)),c=l.getPrevious()}for(;c;)if(u=!1,c.type==CKEDITOR.NODE_COMMENT)c=c.getPrevious();else{if(c.type==CKEDITOR.NODE_TEXT)h=c.getText(),o.test(h)&&(c=null),u=/[\s\ufeff]$/.test(h);else if((c.$.offsetWidth>(CKEDITOR.env.webkit?1:0)||e&&c.is("br"))&&!c.data("cke-bookmark"))if(m&&CKEDITOR.dtd.$removeEmpty[c.getName()]){if(h=c.getText(),o.test(h))c=null;else{g=c.$.getElementsByTagName("*");for(var v,E=0;v=g[E++];)if(!CKEDITOR.dtd.$removeEmpty[v.nodeName.toLowerCase()]){c=null;break}}c&&(u=!!h.length)}else c=null;if(u&&(m?d?r=l:l&&this.setStartBefore(l):m=!0),c){if(u=c.getPrevious(),!l&&!u){l=c,c=null;break}c=u}else l=null}l&&(l=n(l.getParent()))}for(u=this.endContainer,g=this.endOffset,l=c=null,d=m=!1,u.type==CKEDITOR.NODE_TEXT?CKEDITOR.tools.trim(u.substring(g)).length?m=!0:(m=!u.getLength(),g==u.getLength()?(c=u.getNext())||(l=u.getParent()):a(u,g)&&(l=u.getParent())):(c=u.getChild(g))||(l=u);l||c;){if(l&&!c){if(!d&&l.equals(f)&&(d=!0),i?l.isBlockBoundary():!p.contains(l))break;m&&"inline"==l.getComputedStyle("display")||(m=!1,d?s=l:l&&this.setEndAfter(l)),c=l.getNext()}for(;c;){if(u=!1,c.type==CKEDITOR.NODE_TEXT)h=c.getText(),a(c,0)||(c=null),u=/^[\s\ufeff]/.test(h);else if(c.type==CKEDITOR.NODE_ELEMENT){if((0<c.$.offsetWidth||e&&c.is("br"))&&!c.data("cke-bookmark"))if(m&&CKEDITOR.dtd.$removeEmpty[c.getName()]){if(h=c.getText(),o.test(h))c=null;else for(g=c.$.getElementsByTagName("*"),E=0;v=g[E++];)if(!CKEDITOR.dtd.$removeEmpty[v.nodeName.toLowerCase()]){c=null;break}c&&(u=!!h.length)}else c=null}else u=1;if(u&&m&&(d?s=l:this.setEndAfter(l)),c){if(u=c.getNext(),!l&&!u){l=c,c=null;break}c=u}else l=null}l&&(l=n(l.getParent()))}r&&s&&(f=r.contains(s)?s:r,this.setStartBefore(f),this.setEndAfter(f));break;case CKEDITOR.ENLARGE_BLOCK_CONTENTS:case CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS:l=new CKEDITOR.dom.range(this.root),p=this.root,l.setStartAt(p,CKEDITOR.POSITION_AFTER_START),l.setEnd(this.startContainer,this.startOffset),l=new CKEDITOR.dom.walker(l);var T,b,C=CKEDITOR.dom.walker.blockBoundary(t==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS?{br:1}:null),y=null,D=function(t){if(t.type==CKEDITOR.NODE_ELEMENT&&"false"==t.getAttribute("contenteditable"))if(y){if(y.equals(t))return void(y=null)}else y=t;else if(y)return;var e=C(t);return e||(T=t),e};i=function(t){var e=D(t);return!e&&t.is&&t.is("br")&&(b=t),e};if(l.guard=D,l=l.lastBackward(),T=T||p,this.setStartAt(T,!T.is("br")&&(!l&&this.checkStartOfBlock()||l&&T.contains(l))?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_AFTER_END),t==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS){l=this.clone(),l=new CKEDITOR.dom.walker(l);var I=CKEDITOR.dom.walker.whitespaces(),O=CKEDITOR.dom.walker.bookmark();if(l.evaluator=function(t){return!I(t)&&!O(t)},(l=l.previous())&&l.type==CKEDITOR.NODE_ELEMENT&&l.is("br"))break}(l=this.clone()).collapse(),l.setEndAt(p,CKEDITOR.POSITION_BEFORE_END),(l=new CKEDITOR.dom.walker(l)).guard=t==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS?i:D,T=y=b=null,l=l.lastForward(),T=T||p,this.setEndAt(T,!l&&this.checkEndOfBlock()||l&&T.contains(l)?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_BEFORE_START),b&&this.setEndAfter(b)}},shrink:function(n,t,e){var i="boolean"==typeof e?e:!e||"boolean"!=typeof e.shrinkOnBlockBoundary||e.shrinkOnBlockBoundary,o=e&&e.skipBogus;if(!this.collapsed){n=n||CKEDITOR.SHRINK_TEXT;var a=this.clone(),r=this.startContainer,s=this.endContainer,l=this.startOffset,c=this.endOffset,d=e=1;r&&r.type==CKEDITOR.NODE_TEXT&&(l?l>=r.getLength()?a.setStartAfter(r):(a.setStartBefore(r),e=0):a.setStartBefore(r)),s&&s.type==CKEDITOR.NODE_TEXT&&(c?c>=s.getLength()?a.setEndAfter(s):(a.setEndAfter(s),d=0):a.setEndBefore(s));a=new CKEDITOR.dom.walker(a);var u,h=CKEDITOR.dom.walker.bookmark(),f=CKEDITOR.dom.walker.bogus();return a.evaluator=function(t){return t.type==(n==CKEDITOR.SHRINK_ELEMENT?CKEDITOR.NODE_ELEMENT:CKEDITOR.NODE_TEXT)},a.guard=function(t,e){return!!(o&&f(t)||h(t))||!(n==CKEDITOR.SHRINK_ELEMENT&&t.type==CKEDITOR.NODE_TEXT||e&&t.equals(u)||!1===i&&t.type==CKEDITOR.NODE_ELEMENT&&t.isBlockBoundary()||t.type==CKEDITOR.NODE_ELEMENT&&t.hasAttribute("contenteditable"))&&(e||t.type!=CKEDITOR.NODE_ELEMENT||(u=t),!0)},e&&(r=a[n==CKEDITOR.SHRINK_ELEMENT?"lastForward":"next"]())&&this.setStartAt(r,t?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_START),d&&(a.reset(),(a=a[n==CKEDITOR.SHRINK_ELEMENT?"lastBackward":"previous"]())&&this.setEndAt(a,t?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_AFTER_END)),!(!e&&!d)}},insertNode:function(t){this.optimizeBookmark(),this.trim(!1,!0);var e=this.startContainer,n=e.getChild(this.startOffset);n?t.insertBefore(n):e.append(t),t.getParent()&&t.getParent().equals(this.endContainer)&&this.endOffset++,this.setStartBefore(t)},moveToPosition:function(t,e){this.setStartAt(t,e),this.collapse(!0)},moveToRange:function(t){this.setStart(t.startContainer,t.startOffset),this.setEnd(t.endContainer,t.endOffset)},selectNodeContents:function(t){this.setStart(t,0),this.setEnd(t,t.type==CKEDITOR.NODE_TEXT?t.getLength():t.getChildCount())},setStart:function(t,e){t.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$empty[t.getName()]&&(e=t.getIndex(),t=t.getParent()),this._setStartContainer(t),this.startOffset=e,this.endContainer||(this._setEndContainer(t),
this.endOffset=e),n(this)},setEnd:function(t,e){t.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$empty[t.getName()]&&(e=t.getIndex()+1,t=t.getParent()),this._setEndContainer(t),this.endOffset=e,this.startContainer||(this._setStartContainer(t),this.startOffset=e),n(this)},setStartAfter:function(t){this.setStart(t.getParent(),t.getIndex()+1)},setStartBefore:function(t){this.setStart(t.getParent(),t.getIndex())},setEndAfter:function(t){this.setEnd(t.getParent(),t.getIndex()+1)},setEndBefore:function(t){this.setEnd(t.getParent(),t.getIndex())},setStartAt:function(t,e){switch(e){case CKEDITOR.POSITION_AFTER_START:this.setStart(t,0);break;case CKEDITOR.POSITION_BEFORE_END:t.type==CKEDITOR.NODE_TEXT?this.setStart(t,t.getLength()):this.setStart(t,t.getChildCount());break;case CKEDITOR.POSITION_BEFORE_START:this.setStartBefore(t);break;case CKEDITOR.POSITION_AFTER_END:this.setStartAfter(t)}n(this)},setEndAt:function(t,e){switch(e){case CKEDITOR.POSITION_AFTER_START:this.setEnd(t,0);break;case CKEDITOR.POSITION_BEFORE_END:t.type==CKEDITOR.NODE_TEXT?this.setEnd(t,t.getLength()):this.setEnd(t,t.getChildCount());break;case CKEDITOR.POSITION_BEFORE_START:this.setEndBefore(t);break;case CKEDITOR.POSITION_AFTER_END:this.setEndAfter(t)}n(this)},fixBlock:function(t,e){var n=this.createBookmark(),i=this.document.createElement(e);this.collapse(t),this.enlarge(CKEDITOR.ENLARGE_BLOCK_CONTENTS),this.extractContents().appendTo(i),i.trim(),this.insertNode(i);var o=i.getBogus();return o&&o.remove(),i.appendBogus(),this.moveToBookmark(n),i},splitBlock:function(t,e){var n=new CKEDITOR.dom.elementPath(this.startContainer,this.root),i=new CKEDITOR.dom.elementPath(this.endContainer,this.root),o=n.block,a=i.block,r=null;return n.blockLimit.equals(i.blockLimit)?("br"!=t&&(o||(o=this.fixBlock(!0,t),a=new CKEDITOR.dom.elementPath(this.endContainer,this.root).block),a||(a=this.fixBlock(!1,t))),n=o&&this.checkStartOfBlock(),i=a&&this.checkEndOfBlock(),this.deleteContents(),o&&o.equals(a)&&(i?(r=new CKEDITOR.dom.elementPath(this.startContainer,this.root),this.moveToPosition(a,CKEDITOR.POSITION_AFTER_END),a=null):n?(r=new CKEDITOR.dom.elementPath(this.startContainer,this.root),this.moveToPosition(o,CKEDITOR.POSITION_BEFORE_START),o=null):(a=this.splitElement(o,e||!1),o.is("ul","ol")||o.appendBogus())),{previousBlock:o,nextBlock:a,wasStartOfBlock:n,wasEndOfBlock:i,elementPath:r}):null},splitElement:function(t,e){if(!this.collapsed)return null;this.setEndAt(t,CKEDITOR.POSITION_BEFORE_END);var n=this.extractContents(!1,e||!1),i=t.clone(!1,e||!1);return n.appendTo(i),i.insertAfter(t),this.moveToPosition(t,CKEDITOR.POSITION_AFTER_END),i},removeEmptyBlocksAtEnd:function(){function a(e){return function(t){return!(n(t)||i(t)||t.type==CKEDITOR.NODE_ELEMENT&&t.isEmptyInlineRemoveable()||e.is("table")&&t.is("caption"))}}var n=CKEDITOR.dom.walker.whitespaces(),i=CKEDITOR.dom.walker.bookmark(!1);return function(t){for(var e,n=this.createBookmark(),i=this[t?"endPath":"startPath"](),o=i.block||i.blockLimit;o&&!o.equals(i.root)&&!o.getFirst(a(o));)e=o.getParent(),this[t?"setEndAt":"setStartAt"](o,CKEDITOR.POSITION_AFTER_END),o.remove(1),o=e;this.moveToBookmark(n)}}(),startPath:function(){return new CKEDITOR.dom.elementPath(this.startContainer,this.root)},endPath:function(){return new CKEDITOR.dom.elementPath(this.endContainer,this.root)},checkBoundaryOfElement:function(t,e){var n=e==CKEDITOR.START,i=this.clone();return i.collapse(n),i[n?"setStartAt":"setEndAt"](t,n?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_END),(i=new CKEDITOR.dom.walker(i)).evaluator=a(n),i[n?"checkBackward":"checkForward"]()},checkStartOfBlock:function(){var t=this.startContainer,e=this.startOffset;return CKEDITOR.env.ie&&e&&t.type==CKEDITOR.NODE_TEXT&&(t=CKEDITOR.tools.ltrim(t.substring(0,e)),l.test(t)&&this.trim(0,1)),this.trim(),t=new CKEDITOR.dom.elementPath(this.startContainer,this.root),(e=this.clone()).collapse(!0),e.setStartAt(t.block||t.blockLimit,CKEDITOR.POSITION_AFTER_START),(t=new CKEDITOR.dom.walker(e)).evaluator=o(),t.checkBackward()},checkEndOfBlock:function(){var t=this.endContainer,e=this.endOffset;return CKEDITOR.env.ie&&t.type==CKEDITOR.NODE_TEXT&&(t=CKEDITOR.tools.rtrim(t.substring(e)),l.test(t)&&this.trim(1,0)),this.trim(),t=new CKEDITOR.dom.elementPath(this.endContainer,this.root),(e=this.clone()).collapse(!1),e.setEndAt(t.block||t.blockLimit,CKEDITOR.POSITION_BEFORE_END),(t=new CKEDITOR.dom.walker(e)).evaluator=o(),t.checkForward()},getPreviousNode:function(t,e,n){var i=this.clone();return i.collapse(1),i.setStartAt(n||this.root,CKEDITOR.POSITION_AFTER_START),(n=new CKEDITOR.dom.walker(i)).evaluator=t,n.guard=e,n.previous()},getNextNode:function(t,e,n){var i=this.clone();return i.collapse(),i.setEndAt(n||this.root,CKEDITOR.POSITION_BEFORE_END),(n=new CKEDITOR.dom.walker(i)).evaluator=t,n.guard=e,n.next()},checkReadOnly:function(){function n(t,e){for(;t;){if(t.type==CKEDITOR.NODE_ELEMENT){if("false"==t.getAttribute("contentEditable")&&!t.data("cke-editable"))return 0;if(t.is("html")||"true"==t.getAttribute("contentEditable")&&(t.contains(e)||t.equals(e)))break}t=t.getParent()}return 1}return function(){var t=this.startContainer,e=this.endContainer;return!(n(t,e)&&n(e,t))}}(),moveToElementEditablePosition:function(t,e){if(t.type==CKEDITOR.NODE_ELEMENT&&!t.isEditable(!1))return this.moveToPosition(t,e?CKEDITOR.POSITION_AFTER_END:CKEDITOR.POSITION_BEFORE_START),!0;for(var n=0;t;){if(t.type==CKEDITOR.NODE_TEXT){e&&this.endContainer&&this.checkEndOfBlock()&&l.test(t.getText())?this.moveToPosition(t,CKEDITOR.POSITION_BEFORE_START):this.moveToPosition(t,e?CKEDITOR.POSITION_AFTER_END:CKEDITOR.POSITION_BEFORE_START),n=1;break}if(t.type==CKEDITOR.NODE_ELEMENT)if(t.isEditable())this.moveToPosition(t,e?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_AFTER_START),n=1;else if(e&&t.is("br")&&this.endContainer&&this.checkEndOfBlock())this.moveToPosition(t,CKEDITOR.POSITION_BEFORE_START);else if("false"==t.getAttribute("contenteditable")&&t.is(CKEDITOR.dtd.$block))return this.setStartBefore(t),this.setEndAfter(t),!0;var i=t,o=n,a=void 0;i.type==CKEDITOR.NODE_ELEMENT&&i.isEditable(!1)&&(a=i[e?"getLast":"getFirst"](d)),o||a||(a=i[e?"getPrevious":"getNext"](d)),t=a}return!!n},moveToClosestEditablePosition:function(t,e){var n,i,o,a=0,r=[CKEDITOR.POSITION_AFTER_END,CKEDITOR.POSITION_BEFORE_START];return t?(n=new CKEDITOR.dom.range(this.root)).moveToPosition(t,r[e?0:1]):n=this.clone(),t&&!t.is(CKEDITOR.dtd.$block)?a=1:(i=n[e?"getNextEditableNode":"getPreviousEditableNode"]())&&(a=1,(o=i.type==CKEDITOR.NODE_ELEMENT)&&i.is(CKEDITOR.dtd.$block)&&"false"==i.getAttribute("contenteditable")?(n.setStartAt(i,CKEDITOR.POSITION_BEFORE_START),n.setEndAt(i,CKEDITOR.POSITION_AFTER_END)):!CKEDITOR.env.needsBrFiller&&o&&i.is(CKEDITOR.dom.walker.validEmptyBlockContainers)?(n.setEnd(i,0),n.collapse()):n.moveToPosition(i,r[e?1:0])),a&&this.moveToRange(n),!!a},moveToElementEditStart:function(t){return this.moveToElementEditablePosition(t)},moveToElementEditEnd:function(t){return this.moveToElementEditablePosition(t,!0)},getEnclosedNode:function(){if((t=this.clone()).optimize(),t.startContainer.type!=CKEDITOR.NODE_ELEMENT||t.endContainer.type!=CKEDITOR.NODE_ELEMENT)return null;var t=new CKEDITOR.dom.walker(t),e=CKEDITOR.dom.walker.bookmark(!1,!0),n=CKEDITOR.dom.walker.whitespaces(!0);t.evaluator=function(t){return n(t)&&e(t)};var i=t.next();return t.reset(),i&&i.equals(t.previous())?i:null},getTouchedStartNode:function(){var t=this.startContainer;return this.collapsed||t.type!=CKEDITOR.NODE_ELEMENT?t:t.getChild(this.startOffset)||t},getTouchedEndNode:function(){var t=this.endContainer;return this.collapsed||t.type!=CKEDITOR.NODE_ELEMENT?t:t.getChild(this.endOffset-1)||t},getNextEditableNode:t(),getPreviousEditableNode:t(1),_getTableElement:function(t){t=t||{td:1,th:1,tr:1,tbody:1,thead:1,tfoot:1,table:1};var e=this.startContainer,n=this.endContainer,i=e.getAscendant("table",!0),o=n.getAscendant("table",!0);return CKEDITOR.env.safari&&i&&n.equals(this.root)?e.getAscendant(t,!0):this.getEnclosedNode()?this.getEnclosedNode().getAscendant(t,!0):i&&o&&(i.equals(o)||i.contains(o)||o.contains(i))?e.getAscendant(t,!0):null},scrollIntoView:function(){var t,e,n,i=new CKEDITOR.dom.element.createFromHtml("<span>&nbsp;</span>",this.document),o=this.clone();o.optimize(),(n=o.startContainer.type==CKEDITOR.NODE_TEXT)?(e=o.startContainer.getText(),t=o.startContainer.split(o.startOffset),i.insertAfter(o.startContainer)):o.insertNode(i),i.scrollIntoView(),n&&(o.startContainer.setText(e),t.remove()),i.remove()},_setStartContainer:function(t){this.startContainer=t},_setEndContainer:function(t){this.endContainer=t},_find:function(t,e){var n,i,o,a,r=this.getCommonAncestor(),s=this.getBoundaryNodes(),l=[];if(r&&r.find)for(i=r.find(t),n=0;n<i.count();n++)r=i.getItem(n),(e||!r.isReadOnly())&&(o=r.getPosition(s.startNode)&CKEDITOR.POSITION_FOLLOWING||s.startNode.equals(r),a=r.getPosition(s.endNode)&CKEDITOR.POSITION_PRECEDING+CKEDITOR.POSITION_IS_CONTAINED||s.endNode.equals(r),o&&a&&l.push(r));return l}},CKEDITOR.dom.range.mergeRanges=function(t){return CKEDITOR.tools.array.reduce(t,function(t,e){var n=t[t.length-1],i=!1;if((e=e.clone()).enlarge(CKEDITOR.ENLARGE_ELEMENT),n){var o=new CKEDITOR.dom.range(e.root),a=(i=new CKEDITOR.dom.walker(o),CKEDITOR.dom.walker.whitespaces());for(o.setStart(n.endContainer,n.endOffset),o.setEnd(e.startContainer,e.startOffset),o=i.next();a(o)||e.endContainer.equals(o);)o=i.next();i=!o}return i?n.setEnd(e.endContainer,e.endOffset):t.push(e),t},[])}}(),CKEDITOR.POSITION_AFTER_START=1,CKEDITOR.POSITION_BEFORE_END=2,CKEDITOR.POSITION_BEFORE_START=3,CKEDITOR.POSITION_AFTER_END=4,CKEDITOR.ENLARGE_ELEMENT=1,CKEDITOR.ENLARGE_BLOCK_CONTENTS=2,CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS=3,CKEDITOR.ENLARGE_INLINE=4,CKEDITOR.START=1,CKEDITOR.END=2,CKEDITOR.SHRINK_ELEMENT=1,CKEDITOR.SHRINK_TEXT=2,function(){function t(t){arguments.length<1||(this.range=t,this.forceBrBreak=0,this.enlargeBr=1,this.enforceRealBlocks=0,this._||(this._={}))}function a(t){var e=[];return t.forEach(function(t){if("true"==t.getAttribute("contenteditable"))return e.push(t),!1},CKEDITOR.NODE_ELEMENT,!0),e}function f(t,e,n,i){t:{null==i&&(i=a(n));for(var o;o=i.shift();)if(o.getDtd().p){i={element:o,remaining:i};break t}i=null}return i?(o=CKEDITOR.filter.instances[i.element.data("cke-filter")])&&!o.check(e)?f(t,e,n,i.remaining):((e=new CKEDITOR.dom.range(i.element)).selectNodeContents(i.element),(e=e.createIterator()).enlargeBr=t.enlargeBr,e.enforceRealBlocks=t.enforceRealBlocks,e.activeFilter=e.filter=o,t._.nestedEditable={element:i.element,container:n,remaining:i.remaining,iterator:e},1):0}function p(t,e,n){return!!e&&((t=t.clone()).collapse(!n),t.checkBoundaryOfElement(e,n?CKEDITOR.START:CKEDITOR.END))}var m=/^[\r\n\t ]+$/,g=CKEDITOR.dom.walker.bookmark(!1,!0),e=CKEDITOR.dom.walker.whitespaces(!0),v=function(t){return g(t)&&e(t)},E={dd:1,dt:1,li:1};t.prototype={getNextParagraph:function(t){var e,n,i,o,a;if(t=t||"p",this._.nestedEditable){if(e=this._.nestedEditable.iterator.getNextParagraph(t))return this.activeFilter=this._.nestedEditable.iterator.activeFilter,e;if(this.activeFilter=this.filter,f(this,t,this._.nestedEditable.container,this._.nestedEditable.remaining))return this.activeFilter=this._.nestedEditable.iterator.activeFilter,this._.nestedEditable.iterator.getNextParagraph(t);this._.nestedEditable=null}if(!this.range.root.getDtd()[t])return null;if(!this._.started){var r=this.range.clone();n=r.startPath();var s=r.endPath(),l=!r.collapsed&&p(r,n.block),c=!r.collapsed&&p(r,s.block,1);r.shrink(CKEDITOR.SHRINK_ELEMENT,!0),l&&r.setStartAt(n.block,CKEDITOR.POSITION_BEFORE_END),c&&r.setEndAt(s.block,CKEDITOR.POSITION_AFTER_START),n=r.endContainer.hasAscendant("pre",!0)||r.startContainer.hasAscendant("pre",!0),r.enlarge(this.forceBrBreak&&!n||!this.enlargeBr?CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS:CKEDITOR.ENLARGE_BLOCK_CONTENTS),r.collapsed||(n=new CKEDITOR.dom.walker(r.clone()),s=CKEDITOR.dom.walker.bookmark(!0,!0),n.evaluator=s,this._.nextNode=n.next(),(n=new CKEDITOR.dom.walker(r.clone())).evaluator=s,n=n.previous(),this._.lastNode=n.getNextSourceNode(!0,null,r.root),this._.lastNode&&this._.lastNode.type==CKEDITOR.NODE_TEXT&&!CKEDITOR.tools.trim(this._.lastNode.getText())&&this._.lastNode.getParent().isBlockBoundary()&&((s=this.range.clone()).moveToPosition(this._.lastNode,CKEDITOR.POSITION_AFTER_END),s.checkEndOfBlock()&&(s=new CKEDITOR.dom.elementPath(s.endContainer,s.root),this._.lastNode=(s.block||s.blockLimit).getNextSourceNode(!0))),this._.lastNode&&r.root.contains(this._.lastNode)||(this._.lastNode=this._.docEndMarker=r.document.createText(""),this._.lastNode.insertAfter(n)),r=null),this._.started=1,n=r}for(s=this._.nextNode,r=this._.lastNode,this._.nextNode=null;s;){l=0,c=s.hasAscendant("pre");var d=s.type!=CKEDITOR.NODE_ELEMENT,u=0;if(d)s.type==CKEDITOR.NODE_TEXT&&m.test(s.getText())&&(d=0);else{var h=s.getName();if(CKEDITOR.dtd.$block[h]&&"false"==s.getAttribute("contenteditable")){f(this,t,e=s);break}if(s.isBlockBoundary(this.forceBrBreak&&!c&&{br:1})){if("br"==h)d=1;else if(!n&&!s.getChildCount()&&"hr"!=h){i=(e=s).equals(r);break}n&&(n.setEndAt(s,CKEDITOR.POSITION_BEFORE_START),"br"!=h&&(this._.nextNode=s)),l=1}else{if(s.getFirst()){n||(n=this.range.clone()).setStartAt(s,CKEDITOR.POSITION_BEFORE_START),s=s.getFirst();continue}d=1}}if(d&&!n&&(n=this.range.clone()).setStartAt(s,CKEDITOR.POSITION_BEFORE_START),i=(!l||d)&&s.equals(r),n&&!l)for(;!s.getNext(v)&&!i;){if((h=s.getParent()).isBlockBoundary(this.forceBrBreak&&!c&&{br:1})){l=1,d=0,i||h.equals(r),n.setEndAt(h,CKEDITOR.POSITION_BEFORE_END);break}d=1,i=(s=h).equals(r),u=1}if(d&&n.setEndAt(s,CKEDITOR.POSITION_AFTER_END),(i=!(s=this._getNextSourceNode(s,u,r)))||l&&n)break}if(!e){if(!n)return this._.docEndMarker&&this._.docEndMarker.remove(),this._.nextNode=null;s=(e=new CKEDITOR.dom.elementPath(n.startContainer,n.root)).blockLimit,l={div:1,th:1,td:1},!(e=e.block)&&s&&!this.enforceRealBlocks&&l[s.getName()]&&n.checkStartOfBlock()&&n.checkEndOfBlock()&&!s.equals(n.root)?e=s:!e||this.enforceRealBlocks&&e.is(E)?(e=this.range.document.createElement(t),n.extractContents().appendTo(e),e.trim(),n.insertNode(e),o=a=!0):"li"!=e.getName()?n.checkStartOfBlock()&&n.checkEndOfBlock()||(e=e.clone(!1),n.extractContents().appendTo(e),e.trim(),o=!(a=n.splitBlock()).wasStartOfBlock,a=!a.wasEndOfBlock,n.insertNode(e)):i||(this._.nextNode=e.equals(r)?null:this._getNextSourceNode(n.getBoundaryNodes().endNode,1,r))}return o&&(o=e.getPrevious())&&o.type==CKEDITOR.NODE_ELEMENT&&("br"==o.getName()?o.remove():o.getLast()&&"br"==o.getLast().$.nodeName.toLowerCase()&&o.getLast().remove()),a&&(o=e.getLast())&&o.type==CKEDITOR.NODE_ELEMENT&&"br"==o.getName()&&(!CKEDITOR.env.needsBrFiller||o.getPrevious(g)||o.getNext(g))&&o.remove(),this._.nextNode||(this._.nextNode=i||e.equals(r)||!r?null:this._getNextSourceNode(e,1,r)),e},_getNextSourceNode:function(t,e,n){function i(t){return!(t.equals(n)||t.equals(o))}var o=this.range.root;for(t=t.getNextSourceNode(e,null,i);!g(t);)t=t.getNextSourceNode(e,null,i);return t}},CKEDITOR.dom.range.prototype.createIterator=function(){return new t(this)}}(),CKEDITOR.command=function(e,n){var i;this.uiItems=[],this.exec=function(t){return!(this.state==CKEDITOR.TRISTATE_DISABLED||!this.checkAllowed())&&(this.editorFocus&&e.focus(),!1===this.fire("exec")||!1!==n.exec.call(this,e,t))},this.refresh=function(t,e){return!(this.readOnly||!t.readOnly)||(this.context&&!e.isContextFor(this.context)||!this.checkAllowed(!0)?(this.disable(),!0):(this.startDisabled||this.enable(),this.modes&&!this.modes[t.mode]&&this.disable(),!1===this.fire("refresh",{editor:t,path:e})||n.refresh&&!1!==n.refresh.apply(this,arguments)))},this.checkAllowed=function(t){return t||"boolean"!=typeof i?i=e.activeFilter.checkFeature(this):i},CKEDITOR.tools.extend(this,n,{modes:{wysiwyg:1},editorFocus:1,contextSensitive:!!n.context,state:CKEDITOR.TRISTATE_DISABLED}),CKEDITOR.event.call(this)},CKEDITOR.command.prototype={enable:function(){this.state==CKEDITOR.TRISTATE_DISABLED&&this.checkAllowed()&&this.setState(this.preserveState&&"undefined"!=typeof this.previousState?this.previousState:CKEDITOR.TRISTATE_OFF)},disable:function(){this.setState(CKEDITOR.TRISTATE_DISABLED)},setState:function(t){return!(this.state==t||t!=CKEDITOR.TRISTATE_DISABLED&&!this.checkAllowed())&&(this.previousState=this.state,this.state=t,this.fire("state"),!0)},toggleState:function(){this.state==CKEDITOR.TRISTATE_OFF?this.setState(CKEDITOR.TRISTATE_ON):this.state==CKEDITOR.TRISTATE_ON&&this.setState(CKEDITOR.TRISTATE_OFF)}},CKEDITOR.event.implementOn(CKEDITOR.command.prototype),CKEDITOR.ENTER_P=1,CKEDITOR.ENTER_BR=2,CKEDITOR.ENTER_DIV=3,CKEDITOR.config={customConfig:"config.js",autoUpdateElement:!0,language:"",defaultLanguage:"en",contentsLangDirection:"",enterMode:CKEDITOR.ENTER_P,forceEnterMode:!1,shiftEnterMode:CKEDITOR.ENTER_BR,docType:"<!DOCTYPE html>",bodyId:"",bodyClass:"",fullPage:!1,height:200,contentsCss:CKEDITOR.getUrl("contents.css"),extraPlugins:"",removePlugins:"",protectedSource:[],tabIndex:0,width:"",baseFloatZIndex:1e4,blockedKeystrokes:[CKEDITOR.CTRL+66,CKEDITOR.CTRL+73,CKEDITOR.CTRL+85]},function(){function a(t,e,n,i,o){var a,r,s;for(a in t=[],e){r="boolean"==typeof(r=e[a])?{}:"function"==typeof r?{match:r}:K(r),"$"!=a.charAt(0)&&(r.elements=a),n&&(r.featureName=n.toLowerCase());var l=r;l.elements=E(l.elements,/\s+/)||null,l.propertiesOnly=l.propertiesOnly||!0===l.elements;var c=/\s*,\s*/,d=void 0;for(d in M){l[d]=E(l[d],c)||null;var u=l,h=L[d],f=E(l[L[d]],c),p=l[d],m=[],g=!0,v=void 0;for(v in f?g=!1:f={},p)"!"==v.charAt(0)&&(v=v.slice(1),m.push(v),g=!(f[v]=!0));for(;v=m.pop();)p[v]=p["!"+v],delete p["!"+v];u[h]=!g&&f||null}l.match=l.match||null,i.push(r),t.push(r)}for(e=o.elements,o=o.generic,n=0,i=t.length;n<i;++n){for(c in r=!0===(a=K(t[n])).classes||!0===a.styles||!0===a.attributes,l=a,d=h=c=void 0,M)l[c]=I(l[c]);for(d in u=!0,L){for(p in f=[],p=void 0,h=l[c=L[d]])-1<p.indexOf("*")?f.push(new RegExp("^"+p.replace(/\*/g,".*")+"$")):f.push(p);(h=f).length&&(l[c]=h,u=!1)}if(l.nothingRequired=u,l.noProperties=!(l.attributes||l.classes||l.styles),!0===a.elements||null===a.elements)o[r?"unshift":"push"](a);else for(s in l=a.elements,delete a.elements,l)e[s]?e[s][r?"unshift":"push"](a):e[s]=[a]}}function T(t,e,n,i){if((!t.match||t.match(e))&&(i||c(t,e))&&(t.propertiesOnly||(n.valid=!0),n.allAttributes||(n.allAttributes=s(t.attributes,e.attributes,n.validAttributes)),n.allStyles||(n.allStyles=s(t.styles,e.styles,n.validStyles)),!n.allClasses)){if(t=t.classes,e=e.classes,i=n.validClasses,t)if(!0===t)t=!0;else{for(var o,a=0,r=e.length;a<r;++a)i[o=e[a]]||(i[o]=t(o));t=!1}else t=!1;n.allClasses=t}}function s(t,e,n){if(!t)return!1;if(!0===t)return!0;for(var i in e)n[i]||(n[i]=t(i));return!1}function b(t,e,n){if(!t.match||t.match(e)){if(t.noProperties)return!1;if(n.hadInvalidAttribute=r(t.attributes,e.attributes)||n.hadInvalidAttribute,n.hadInvalidStyle=r(t.styles,e.styles)||n.hadInvalidStyle,t=t.classes,e=e.classes,t){for(var i=!1,o=!0===t,a=e.length;a--;)(o||t(e[a]))&&(e.splice(a,1),i=!0);t=i}else t=!1;n.hadInvalidClass=t||n.hadInvalidClass}}function r(t,e){if(!t)return!1;var n,i=!1,o=!0===t;for(n in e)(o||t(n))&&(delete e[n],i=!0);return i}function l(t,e,n){return!(t.disabled||t.customConfig&&!n||!e)&&(t._.cachedChecks={},!0)}function E(t,e){if(!t)return!1;if(!0===t)return t;if("string"==typeof t)return"*"==(t=S(t))||CKEDITOR.tools.convertArrayToObject(t.split(e));if(CKEDITOR.tools.isArray(t))return!!t.length&&CKEDITOR.tools.convertArrayToObject(t);var n,i={},o=0;for(n in t)i[n]=t[n],o++;return!!o&&i}function c(t,e){if(t.nothingRequired)return!0;var n,i,o,a;if(o=t.requiredClasses)for(a=e.classes,n=0;n<o.length;++n)if("string"==typeof(i=o[n])){if(-1==CKEDITOR.tools.indexOf(a,i))return!1}else if(!CKEDITOR.tools.checkIfAnyArrayItemMatches(a,i))return!1;return d(e.styles,t.requiredStyles)&&d(e.attributes,t.requiredAttributes)}function d(t,e){if(!e)return!0;for(var n,i=0;i<e.length;++i)if("string"==typeof(n=e[i])){if(!(n in t))return!1}else if(!CKEDITOR.tools.checkIfAnyObjectPropertyMatches(t,n))return!1;return!0}function u(t){if(!t)return{};t=t.split(/\s*,\s*/).sort();for(var e={};t.length;)e[t.shift()]="cke-test";return e}function h(t){var e,n,i,o,a={},r=1;for(t=S(t);e=t.match(F);)(n=e[2])?(i=f(n,"styles"),o=f(n,"attrs"),n=f(n,"classes")):i=o=n=null,a["$"+r++]={elements:e[1],classes:n,styles:i,attributes:o},t=t.slice(e[0].length);return a}function f(t,e){var n=t.match(i[e]);return n?S(n[1]):null}function C(t){var e=t.styleBackup=t.attributes.style,n=t.classBackup=t.attributes["class"];t.styles||(t.styles=CKEDITOR.tools.parseCssText(e||"",1)),t.classes||(t.classes=n?n.split(/\s+/):[])}function p(t,e,n,i){var o,a=0;if(i.toHtml&&(e.name=e.name.replace(P,"$1")),i.doCallbacks&&t.elementCallbacks){t:{for(var r,s=0,l=(o=t.elementCallbacks).length;s<l;++s)if(r=o[s](e)){o=r;break t}o=void 0}if(o)return o}if(i.doTransform&&(o=t._.transformations[e.name])){for(C(e),s=0;s<o.length;++s)O(t,e,o[s]);y(e)}if(i.doFilter){t:{s=e.name,t=(l=t._).allowedRules.elements[s],o=l.allowedRules.generic,s=l.disallowedRules.elements[s],l=l.disallowedRules.generic,r=i.skipRequired;var c,d,u={valid:!1,validAttributes:{},validClasses:{},validStyles:{},allAttributes:!1,allClasses:!1,allStyles:!1,hadInvalidAttribute:!1,hadInvalidClass:!1,hadInvalidStyle:!1};if(t||o){if(C(e),s)for(c=0,d=s.length;c<d;++c)if(!1===b(s[c],e,u)){t=null;break t}if(l)for(c=0,d=l.length;c<d;++c)b(l[c],e,u);if(t)for(c=0,d=t.length;c<d;++c)T(t[c],e,u,r);if(o)for(c=0,d=o.length;c<d;++c)T(o[c],e,u,r);t=u}else t=null}if(!t||!t.valid)return n.push(e),1;d=t.validAttributes;var h=t.validStyles;o=t.validClasses;s=e.attributes;var f=e.styles;l=e.classes;r=e.classBackup;var p,m,g=e.styleBackup,v=[],E=(u=[],/^data-cke-/);if(c=!1,delete s.style,delete s["class"],delete e.classBackup,delete e.styleBackup,!t.allAttributes)for(p in s)d[p]||E.test(p)&&(p==(m=p.replace(/^data-cke-saved-/,""))||d[m])||(delete s[p],c=!0);if(!t.allStyles||t.hadInvalidStyle){for(p in f)t.allStyles||h[p]?v.push(p+":"+f[p]):c=!0;v.length&&(s.style=v.sort().join("; "))}else g&&(s.style=g);if(!t.allClasses||t.hadInvalidClass){for(p=0;p<l.length;++p)(t.allClasses||o[l[p]])&&u.push(l[p]);u.length&&(s["class"]=u.sort().join(" ")),r&&u.length<r.split(/\s+/).length&&(c=!0)}else r&&(s["class"]=r);if(c&&(a=1),!i.skipFinalValidation&&!D(e))return n.push(e),1}return i.toHtml&&(e.name=e.name.replace(B,"cke:$1")),a}function t(t){var e,n=[];for(e in t)-1<e.indexOf("*")&&n.push(e.replace(/\*/g,".*"));return n.length?new RegExp("^(?:"+n.join("|")+")$"):null}function y(t){var e,n=t.attributes;delete n.style,delete n["class"],(e=CKEDITOR.tools.writeCssText(t.styles,!0))&&(n.style=e),t.classes.length&&(n["class"]=t.classes.sort().join(" "))}function D(t){switch(t.name){case"a":if(!(t.children.length||t.attributes.name||t.attributes.id))return!1;break;case"img":if(!t.attributes.src)return!1}return!0}function I(e){if(!e)return!1;if(!0===e)return!0;var n=t(e);return function(t){return t in e||n&&t.match(n)}}function m(){return new CKEDITOR.htmlParser.element("br")}function g(t){return t.type==CKEDITOR.NODE_ELEMENT&&("br"==t.name||w.$block[t.name])}function v(t,e,n){var i=t.name;if(w.$empty[i]||!t.children.length)"hr"==i&&"br"==e?t.replaceWith(m()):(t.parent&&n.push({check:"it",el:t.parent}),t.remove());else if(w.$block[i]||"tr"==i)if("br"==e)t.previous&&!g(t.previous)&&(e=m()).insertBefore(t),t.next&&!g(t.next)&&(e=m()).insertAfter(t),t.replaceWithChildren();else{var o;i=t.children;t:{o=w[e];for(var a,r=0,s=i.length;r<s;++r)if((a=i[r]).type==CKEDITOR.NODE_ELEMENT&&!o[a.name]){o=!1;break t}o=!0}if(o)t.name=e,t.attributes={},n.push({check:"parent-down",el:t});else{var l,c;for(r=(o=t.parent).type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||"body"==o.name,s=i.length;0<s;)a=i[--s],r&&(a.type==CKEDITOR.NODE_TEXT||a.type==CKEDITOR.NODE_ELEMENT&&w.$inline[a.name])?(l||((l=new CKEDITOR.htmlParser.element(e)).insertAfter(t),n.push({check:"parent-down",el:l})),l.add(a,0)):(l=null,c=w[o.name]||w.span,a.insertAfter(t),o.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||a.type!=CKEDITOR.NODE_ELEMENT||c[a.name]||n.push({check:"el-up",el:a}));t.remove()}}else i in{style:1,script:1}?t.remove():(t.parent&&n.push({check:"it",el:t.parent}),t.replaceWithChildren())}function O(t,e,n){var i,o;for(i=0;i<n.length;++i)if(!((o=n[i]).check&&!t.check(o.check,!1)||o.left&&!o.left(e))){o.right(e,A);break}}function n(t,e){var n,i,o,a,r=e.getDefinition(),s=r.attributes,l=r.styles;if(t.name!=r.element)return!1;for(n in s)if("class"==n){for(r=s[n].split(/\s+/),o=t.classes.join("|");a=r.pop();)if(-1==o.indexOf(a))return!1}else if(t.attributes[n]!=s[n])return!1;for(i in l)if(t.styles[i]!=l[i])return!1;return!0}function R(t,n){var e,i;return"string"==typeof t?e=t:t instanceof CKEDITOR.style?i=t:(e=t[0],i=t[1]),[{element:e,left:i,right:function(t,e){e.transform(t,n)}}]}function k(e){return function(t){return n(t,e)}}function _(n){return function(t,e){e[n](t)}}var o,x,w=CKEDITOR.dtd,K=CKEDITOR.tools.copy,S=CKEDITOR.tools.trim,N=["","p","br","div"];CKEDITOR.FILTER_SKIP_TREE=2,CKEDITOR.filter=function(t){if(this.allowedContent=[],this.disallowedContent=[],this.elementCallbacks=null,this.disabled=!1,this.editor=null,this.id=CKEDITOR.tools.getNextNumber(),this._={allowedRules:{elements:{},generic:[]},disallowedRules:{elements:{},generic:[]},transformations:{},cachedTests:{}},CKEDITOR.filter.instances[this.id]=this,t instanceof CKEDITOR.editor){t=this.editor=t,this.customConfig=!0;var e=t.config.allowedContent;!0===e?this.disabled=!0:(e||(this.customConfig=!1),this.allow(e,"config",1),this.allow(t.config.extraAllowedContent,"extra",1),this.allow(N[t.enterMode]+" "+N[t.shiftEnterMode],"default",1),this.disallow(t.config.disallowedContent))}else this.customConfig=!1,this.allow(t,"default",1)},CKEDITOR.filter.instances={},CKEDITOR.filter.prototype={allow:function(t,e,n){if(!l(this,t,n))return!1;var i,o;if("string"==typeof t)t=h(t);else if(t instanceof CKEDITOR.style){if(t.toAllowedContentRules)return this.allow(t.toAllowedContentRules(this.editor),e,n);i=t.getDefinition(),t={},n=i.attributes,t[i.element]=i={styles:i.styles,requiredStyles:i.styles&&CKEDITOR.tools.objectKeys(i.styles)},n&&(n=K(n),i.classes=n["class"]?n["class"].split(/\s+/):null,i.requiredClasses=i.classes,delete n["class"],i.attributes=n,i.requiredAttributes=n&&CKEDITOR.tools.objectKeys(n))}else if(CKEDITOR.tools.isArray(t)){for(i=0;i<t.length;++i)o=this.allow(t[i],e,n);return o}return a(this,t,e,this.allowedContent,this._.allowedRules),!0},applyTo:function(t,r,e,n){if(this.disabled)return!1;var s,i,o,l=this,c=[],d=this.editor&&this.editor.config.protectedSource,u=!1,h={doFilter:!e,doTransform:!0,doCallbacks:!0,toHtml:r};for(t.forEach(function(t){if(t.type==CKEDITOR.NODE_ELEMENT){if("off"==t.attributes["data-cke-filter"])return!1;if(!r||"span"!=t.name||!~CKEDITOR.tools.objectKeys(t.attributes).join("|").indexOf("data-cke-"))if(1&(s=p(l,t,c,h)))u=!0;else if(2&s)return!1}else if(t.type==CKEDITOR.NODE_COMMENT&&t.value.match(/^\{cke_protected\}(?!\{C\})/)){var e;t:{var n,i,o,a=decodeURIComponent(t.value.replace(/^\{cke_protected\}/,""));if(e=[],d)for(i=0;i<d.length;++i)if((o=a.match(d[i]))&&o[0].length==a.length){e=!0;break t}1==(a=CKEDITOR.htmlParser.fragment.fromHtml(a)).children.length&&(n=a.children[0]).type==CKEDITOR.NODE_ELEMENT&&p(l,n,e,h),e=!e.length}e||c.push(t)}},null,!0),c.length&&(u=!0),t=[],n=N[n||(this.editor?this.editor.enterMode:CKEDITOR.ENTER_P)];e=c.pop();)e.type==CKEDITOR.NODE_ELEMENT?v(e,n,t):e.remove();for(;i=t.pop();)if((e=i.el).parent)switch(o=w[e.parent.name]||w.span,i.check){case"it":w.$removeEmpty[e.name]&&!e.children.length?v(e,n,t):D(e)||v(e,n,t);break;case"el-up":e.parent.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||o[e.name]||v(e,n,t);break;case"parent-down":e.parent.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||o[e.name]||v(e.parent,n,t)}return u},checkFeature:function(t){return!(!this.disabled&&t)||(t.toFeature&&(t=t.toFeature(this.editor)),!t.requiredContent||this.check(t.requiredContent))},disable:function(){this.disabled=!0},disallow:function(t){return!!l(this,t,!0)&&("string"==typeof t&&(t=h(t)),a(this,t,null,this.disallowedContent,this._.disallowedRules),!0)},addContentForms:function(t){if(!this.disabled&&t){var e,n,i,o=[];for(e=0;e<t.length&&!i;++e)("string"==typeof(n=t[e])||n instanceof CKEDITOR.style)&&this.check(n)&&(i=n);if(i){for(e=0;e<t.length;++e)o.push(R(t[e],i));this.addTransformations(o)}}},addElementCallback:function(t){this.elementCallbacks||(this.elementCallbacks=[]),this.elementCallbacks.push(t)},addFeature:function(t){return!(!this.disabled&&t)||(t.toFeature&&(t=t.toFeature(this.editor)),this.allow(t.allowedContent,t.name),this.addTransformations(t.contentTransformations),this.addContentForms(t.contentForms),!t.requiredContent||!this.customConfig&&!this.disallowedContent.length||this.check(t.requiredContent))},addTransformations:function(t){var e,n;if(!this.disabled&&t){var i,o=this._.transformations;for(i=0;i<t.length;++i){e=t[i];var a=void 0,r=void 0,s=void 0,l=void 0,c=void 0,d=void 0;for(n=[],r=0;r<e.length;++r)"string"==typeof(s=e[r])?(l=(s=s.split(/\s*:\s*/))[0],c=null,d=s[1]):(l=s.check,c=s.left,d=s.right),a||(a=(a=s).element?a.element:l?l.match(/^([a-z0-9]+)/i)[0]:a.left.getDefinition().element),c instanceof CKEDITOR.style&&(c=k(c)),n.push({check:l==a?null:l,left:c,right:"string"==typeof d?_(d):d});o[e=a]||(o[e]=[]),o[e].push(n)}}},check:function(t,e,n){if(this.disabled)return!0;if(CKEDITOR.tools.isArray(t)){for(var i=t.length;i--;)if(this.check(t[i],e,n))return!0;return!1}var o,a;if("string"==typeof t){if((a=t+"<"+(!1===e?"0":"1")+(n?"1":"0")+">")in this._.cachedChecks)return this._.cachedChecks[a];o=(i=h(t).$1).styles;var r=i.classes;i.name=i.elements,i.classes=r=r?r.split(/\s*,\s*/):[],i.styles=u(o),i.attributes=u(i.attributes),i.children=[],r.length&&(i.attributes["class"]=r.join(" ")),o&&(i.attributes.style=CKEDITOR.tools.writeCssText(i.styles)),o=i}else o=(i=t.getDefinition()).styles,r=i.attributes||{},o&&!CKEDITOR.tools.isEmpty(o)?(o=K(o),r.style=CKEDITOR.tools.writeCssText(o,!0)):o={},o={name:i.element,attributes:r,classes:r["class"]?r["class"].split(/\s+/):[],styles:o,children:[]};r=CKEDITOR.tools.clone(o);var s,l=[];if(!1!==e&&(s=this._.transformations[o.name])){for(i=0;i<s.length;++i)O(this,o,s[i]);y(o)}return p(this,r,l,{doFilter:!0,doTransform:!1!==e,skipRequired:!n,skipFinalValidation:!n}),e=!(0<l.length)&&!!CKEDITOR.tools.objectCompare(o.attributes,r.attributes,!0),"string"==typeof t&&(this._.cachedChecks[a]=e),e},getAllowedEnterMode:(o=["p","div","br"],x={p:CKEDITOR.ENTER_P,div:CKEDITOR.ENTER_DIV,br:CKEDITOR.ENTER_BR},function(t,e){var n,i=o.slice();if(this.check(N[t]))return t;for(e||(i=i.reverse());n=i.pop();)if(this.check(n))return x[n];return CKEDITOR.ENTER_BR}),destroy:function(){delete CKEDITOR.filter.instances[this.id],delete this._,delete this.allowedContent,delete this.disallowedContent}};var A,M={styles:1,attributes:1,classes:1},L={styles:"requiredStyles",attributes:"requiredAttributes",classes:"requiredClasses"},F=/^([a-z0-9\-*\s]+)((?:\s*\{[!\w\-,\s\*]+\}\s*|\s*\[[!\w\-,\s\*]+\]\s*|\s*\([!\w\-,\s\*]+\)\s*){0,3})(?:;\s*|$)/i,i={styles:/{([^}]+)}/,attrs:/\[([^\]]+)\]/,classes:/\(([^\)]+)\)/},P=/^cke:(object|embed|param)$/,B=/^(object|embed|param)$/;A=CKEDITOR.filter.transformationsTools={sizeToStyle:function(t){this.lengthToStyle(t,"width"),this.lengthToStyle(t,"height")},sizeToAttribute:function(t){this.lengthToAttribute(t,"width"),this.lengthToAttribute(t,"height")},lengthToStyle:function(t,e,n){if(!((n=n||e)in t.styles)){var i=t.attributes[e];i&&(/^\d+$/.test(i)&&(i+="px"),t.styles[n]=i)}delete t.attributes[e]},lengthToAttribute:function(t,e,n){if(!((n=n||e)in t.attributes)){var i=t.styles[e],o=i&&i.match(/^(\d+)(?:\.\d*)?px$/);o?t.attributes[n]=o[1]:"cke-test"==i&&(t.attributes[n]="cke-test")}delete t.styles[e]},alignmentToStyle:function(t){if(!("float"in t.styles)){var e=t.attributes.align;"left"!=e&&"right"!=e||(t.styles["float"]=e)}delete t.attributes.align},alignmentToAttribute:function(t){if(!("align"in t.attributes)){var e=t.styles["float"];"left"!=e&&"right"!=e||(t.attributes.align=e)}delete t.styles["float"]},splitBorderShorthand:function(e){function t(t){e.styles["border-top-width"]=n[t[0]],e.styles["border-right-width"]=n[t[1]],e.styles["border-bottom-width"]=n[t[2]],e.styles["border-left-width"]=n[t[3]]}if(e.styles.border){var n=e.styles.border.match(/([\.\d]+\w+)/g)||["0px"];switch(n.length){case 1:e.styles["border-width"]=n[0];break;case 2:t([0,1,0,1]);break;case 3:t([0,1,2,1]);break;case 4:t([0,1,2,3])}e.styles["border-style"]=e.styles["border-style"]||(e.styles.border.match(
/(none|hidden|dotted|dashed|solid|double|groove|ridge|inset|outset|initial|inherit)/)||[])[0],e.styles["border-style"]||delete e.styles["border-style"],delete e.styles.border}},listTypeToStyle:function(t){if(t.attributes.type)switch(t.attributes.type){case"a":t.styles["list-style-type"]="lower-alpha";break;case"A":t.styles["list-style-type"]="upper-alpha";break;case"i":t.styles["list-style-type"]="lower-roman";break;case"I":t.styles["list-style-type"]="upper-roman";break;case"1":t.styles["list-style-type"]="decimal";break;default:t.styles["list-style-type"]=t.attributes.type}},splitMarginShorthand:function(e){function t(t){e.styles["margin-top"]=n[t[0]],e.styles["margin-right"]=n[t[1]],e.styles["margin-bottom"]=n[t[2]],e.styles["margin-left"]=n[t[3]]}if(e.styles.margin){var n=e.styles.margin.match(/(\-?[\.\d]+\w+)/g)||["0px"];switch(n.length){case 1:t([0,0,0,0]);break;case 2:t([0,1,0,1]);break;case 3:t([0,1,2,1]);break;case 4:t([0,1,2,3])}delete e.styles.margin}},matchesStyle:n,transform:function(t,e){if("string"==typeof e)t.name=e;else{var n,i,o,a,r=e.getDefinition(),s=r.styles,l=r.attributes;for(n in t.name=r.element,l)if("class"==n)for(r=t.classes.join("|"),o=l[n].split(/\s+/);a=o.pop();)-1==r.indexOf(a)&&t.classes.push(a);else t.attributes[n]=l[n];for(i in s)t.styles[i]=s[i]}}}}(),CKEDITOR.focusManager=function(t){return t.focusManager?t.focusManager:(this.hasFocus=!1,this.currentActive=null,this._={editor:t},this)},CKEDITOR.focusManager._={blurDelay:200},CKEDITOR.focusManager.prototype={focus:function(t){this._.timer&&clearTimeout(this._.timer),t&&(this.currentActive=t),this.hasFocus||this._.locked||((t=CKEDITOR.currentInstance)&&t.focusManager.blur(1),this.hasFocus=!0,(t=this._.editor.container)&&t.addClass("cke_focus"),this._.editor.fire("focus"))},lock:function(){this._.locked=1},unlock:function(){delete this._.locked},blur:function(t){function e(){if(this.hasFocus){this.hasFocus=!1;var t=this._.editor.container;t&&t.removeClass("cke_focus"),this._.editor.fire("blur")}}if(!this._.locked){this._.timer&&clearTimeout(this._.timer);var n=CKEDITOR.focusManager._.blurDelay;t||!n?e.call(this):this._.timer=CKEDITOR.tools.setTimeout(function(){delete this._.timer,e.call(this)},n,this)}},add:function(t,e){if(!(n=t.getCustomData("focusmanager"))||n!=this){n&&n.remove(t);var n="focus",i="blur";e&&(CKEDITOR.env.ie?(n="focusin",i="focusout"):CKEDITOR.event.useCapture=1);var o={blur:function(){t.equals(this.currentActive)&&this.blur()},focus:function(){this.focus(t)}};t.on(n,o.focus,this),t.on(i,o.blur,this),e&&(CKEDITOR.event.useCapture=0),t.setCustomData("focusmanager",this),t.setCustomData("focusmanager_handlers",o)}},remove:function(t){t.removeCustomData("focusmanager");var e=t.removeCustomData("focusmanager_handlers");t.removeListener("blur",e.blur),t.removeListener("focus",e.focus)}},CKEDITOR.keystrokeHandler=function(t){return t.keystrokeHandler?t.keystrokeHandler:(this.keystrokes={},this.blockedKeystrokes={},this._={editor:t},this)},A=function(t){var e=(t=t.data).getKeystroke(),n=this.keystrokes[e],i=this._.editor;return(N=!1===i.fire("key",{keyCode:e,domEvent:t}))||(n&&(N=!1!==i.execCommand(n,{from:"keystrokeHandler"})),N||(N=!!this.blockedKeystrokes[e])),N&&t.preventDefault(!0),!N},M=function(t){N&&(N=!1,t.data.preventDefault(!0))},CKEDITOR.keystrokeHandler.prototype={attach:function(t){t.on("keydown",A,this),CKEDITOR.env.gecko&&CKEDITOR.env.mac&&t.on("keypress",M,this)}},CKEDITOR.lang={languages:{af:1,ar:1,az:1,bg:1,bn:1,bs:1,ca:1,cs:1,cy:1,da:1,de:1,"de-ch":1,el:1,"en-au":1,"en-ca":1,"en-gb":1,en:1,eo:1,es:1,"es-mx":1,et:1,eu:1,fa:1,fi:1,fo:1,"fr-ca":1,fr:1,gl:1,gu:1,he:1,hi:1,hr:1,hu:1,id:1,is:1,it:1,ja:1,ka:1,km:1,ko:1,ku:1,lt:1,lv:1,mk:1,mn:1,ms:1,nb:1,nl:1,no:1,oc:1,pl:1,"pt-br":1,pt:1,ro:1,ru:1,si:1,sk:1,sl:1,sq:1,"sr-latn":1,sr:1,sv:1,th:1,tr:1,tt:1,ug:1,uk:1,vi:1,"zh-cn":1,zh:1},rtl:{ar:1,fa:1,he:1,ku:1,ug:1},load:function(t,e,n){t&&CKEDITOR.lang.languages[t]||(t=this.detect(e,t));var i=this;e=function(){i[t].dir=i.rtl[t]?"rtl":"ltr",n(t,i[t])},this[t]?e():CKEDITOR.scriptLoader.load(CKEDITOR.getUrl("lang/"+t+".js"),e,this)},detect:function(t,e){var n=this.languages,i=(o=(e=e||navigator.userLanguage||navigator.language||t).toLowerCase().match(/([a-z]+)(?:-([a-z]+))?/))[1],o=o[2];return n[i+"-"+o]?i=i+"-"+o:n[i]||(i=null),CKEDITOR.lang.detect=i?function(){return i}:function(t){return t},i||t}},CKEDITOR.scriptLoader=(L={},F={},{load:function(t,i,e,n){var o="string"==typeof t;o&&(t=[t]),e||(e=CKEDITOR);var a=t.length,r=[],s=[],l=function(t){i&&(o?i.call(e,t):i.call(e,r,s))};if(0===a)l(!0);else{var c=function(t,e){(e?r:s).push(t),--a<=0&&(n&&CKEDITOR.document.getDocumentElement().removeStyle("cursor"),l(e))},d=function(t,e){L[t]=1;var n=F[t];delete F[t];for(var i=0;i<n.length;i++)n[i](t,e)},u=function(t){if(L[t])c(t,!0);else{var e=F[t]||(F[t]=[]);if(e.push(c),!(1<e.length)){var n=new CKEDITOR.dom.element("script");n.setAttributes({type:"text/javascript",src:t}),i&&(CKEDITOR.env.ie&&(CKEDITOR.env.version<=8||CKEDITOR.env.ie9Compat)?n.$.onreadystatechange=function(){"loaded"!=n.$.readyState&&"complete"!=n.$.readyState||(n.$.onreadystatechange=null,d(t,!0))}:(n.$.onload=function(){setTimeout(function(){d(t,!0)},0)},n.$.onerror=function(){d(t,!1)})),n.appendTo(CKEDITOR.document.getHead())}}};n&&CKEDITOR.document.getDocumentElement().setStyle("cursor","wait");for(var h=0;h<a;h++)u(t[h])}},queue:function(){function i(){var t;(t=o[0])&&this.load(t.scriptUrl,t.callback,CKEDITOR,0)}var o=[];return function(t,e){var n=this;o.push({scriptUrl:t,callback:function(){e&&e.apply(this,arguments),o.shift(),i.call(n)}}),1==o.length&&i.call(this)}}()}),CKEDITOR.resourceManager=function(t,e){this.basePath=t,this.fileName=e,this.registered={},this.loaded={},this.externals={},this._={waitingList:{}}},CKEDITOR.resourceManager.prototype={add:function(t,e){if(this.registered[t])throw Error('[CKEDITOR.resourceManager.add] The resource name "'+t+'" is already registered.');var n=this.registered[t]=e||{};return n.name=t,n.path=this.getPath(t),CKEDITOR.fire(t+CKEDITOR.tools.capitalize(this.fileName)+"Ready",n),this.get(t)},get:function(t){return this.registered[t]||null},getPath:function(t){var e=this.externals[t];return CKEDITOR.getUrl(e&&e.dir||this.basePath+t+"/")},getFilePath:function(t){var e=this.externals[t];return CKEDITOR.getUrl(this.getPath(t)+(e?e.file:this.fileName+".js"))},addExternal:function(t,e,n){t=t.split(",");for(var i=0;i<t.length;i++){var o=t[i];n||(e=e.replace(/[^\/]+$/,function(t){return n=t,""})),this.externals[o]={dir:e,file:n||this.fileName+".js"}}},load:function(t,r,s){CKEDITOR.tools.isArray(t)||(t=t?[t]:[]);for(var l=this.loaded,e=this.registered,n=[],c={},d={},i=0;i<t.length;i++){var o=t[i];if(o)if(l[o]||e[o])d[o]=this.get(o);else{var a=this.getFilePath(o);n.push(a),a in c||(c[a]=[]),c[a].push(o)}}CKEDITOR.scriptLoader.load(n,function(t,e){if(e.length)throw Error('[CKEDITOR.resourceManager.load] Resource name "'+c[e[0]].join(",")+'" was not found at "'+e[0]+'".');for(var n=0;n<t.length;n++)for(var i=c[t[n]],o=0;o<i.length;o++){var a=i[o];d[a]=this.get(a),l[a]=1}r.call(s,d)},this)}},CKEDITOR.plugins=new CKEDITOR.resourceManager("plugins/","plugin"),CKEDITOR.plugins.load=CKEDITOR.tools.override(CKEDITOR.plugins.load,function(e){var u={};return function(t,s,l){var c={},d=function(t){e.call(this,t,function(t){CKEDITOR.tools.extend(c,t);var e,n=[];for(e in t){var i=t[e],o=i&&i.requires;if(!u[e]){if(i.icons)for(var a=i.icons.split(","),r=a.length;r--;)CKEDITOR.skin.addIcon(a[r],i.path+"icons/"+(CKEDITOR.env.hidpi&&i.hidpi?"hidpi/":"")+a[r]+".png");u[e]=1}if(o)for(o.split&&(o=o.split(",")),i=0;i<o.length;i++)c[o[i]]||n.push(o[i])}if(n.length)d.call(this,n);else{for(e in c)(i=c[e]).onLoad&&!i.onLoad._called&&(!1===i.onLoad()&&delete c[e],i.onLoad._called=1);s&&s.call(l||window,c)}},this)};d.call(this,t)}}),CKEDITOR.plugins.setLang=function(t,e,n){var i=this.get(t);t=i.langEntries||(i.langEntries={}),(i=i.lang||(i.lang=[])).split&&(i=i.split(",")),-1==CKEDITOR.tools.indexOf(i,e)&&i.push(e),t[e]=n},CKEDITOR.ui=function(t){return t.ui?t.ui:(this.items={},this.instances={},this.editor=t,this._={handlers:{}},this)},CKEDITOR.ui.prototype={add:function(t,e,n){n.name=t.toLowerCase();var i=this.items[t]={type:e,command:n.command||null,args:Array.prototype.slice.call(arguments,2)};CKEDITOR.tools.extend(i,n)},get:function(t){return this.instances[t]},create:function(t){var e=this.items[t],n=e&&this._.handlers[e.type],i=e&&e.command&&this.editor.getCommand(e.command);n=n&&n.create.apply(this,e.args);return this.instances[t]=n,i&&i.uiItems.push(n),n&&!n.type&&(n.type=e.type),n},addHandler:function(t,e){this._.handlers[t]=e},space:function(t){return CKEDITOR.document.getById(this.spaceId(t))},spaceId:function(t){return this.editor.id+"_"+t}},CKEDITOR.event.implementOn(CKEDITOR.ui),function(){function t(t,e,n){if(CKEDITOR.event.call(this),t=t&&CKEDITOR.tools.clone(t),void 0!==e){if(!(e instanceof CKEDITOR.dom.element))throw Error("Expect element of type CKEDITOR.dom.element.");if(!n)throw Error("One of the element modes must be specified.");if(CKEDITOR.env.ie&&CKEDITOR.env.quirks&&n==CKEDITOR.ELEMENT_MODE_INLINE)throw Error("Inline element mode is not supported on IE quirks.");if(!o(e,n))throw Error('The specified element mode is not supported on element: "'+e.getName()+'".');this.element=e,this.elementMode=n,this.name=this.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO&&(e.getId()||e.getNameAtt())}else this.elementMode=CKEDITOR.ELEMENT_MODE_NONE;this._={},this.commands={},this.templates={},this.name=this.name||i(),this.id=CKEDITOR.tools.getNextId(),this.status="unloaded",this.config=CKEDITOR.tools.prototypedCopy(CKEDITOR.config),this.ui=new CKEDITOR.ui(this),this.focusManager=new CKEDITOR.focusManager(this),this.keystrokeHandler=new CKEDITOR.keystrokeHandler(this),this.on("readOnly",a),this.on("selectionChange",function(t){s(this,t.data.path)}),this.on("activeFilterChange",function(){s(this,this.elementPath(),!0)}),this.on("mode",a),this.on("instanceReady",function(){this.config.startupFocus&&this.focus()}),CKEDITOR.fire("instanceCreated",null,this),CKEDITOR.add(this),CKEDITOR.tools.setTimeout(function(){"destroyed"!==this.status?c(this,t):CKEDITOR.warn("editor-incorrect-destroy")},0,this)}function i(){do{var t="editor"+ ++p}while(CKEDITOR.instances[t]);return t}function o(t,e){return e==CKEDITOR.ELEMENT_MODE_INLINE?t.is(CKEDITOR.dtd.$editable)||t.is("textarea"):e==CKEDITOR.ELEMENT_MODE_REPLACE?!t.is(CKEDITOR.dtd.$nonBodyContent):1}function a(){var t,e=this.commands;for(t in e)r(this,e[t])}function r(t,e){e[e.startDisabled?"disable":t.readOnly&&!e.readOnly?"disable":e.modes[t.mode]?"enable":"disable"]()}function s(t,e,n){if(e){var i,o,a=t.commands;for(o in a)i=a[o],(n||i.contextSensitive)&&i.refresh(t,e)}}function l(t){if(!(e=t.config.customConfig))return!1;var e=CKEDITOR.getUrl(e),n=m[e]||(m[e]={});return n.fn?(n.fn.call(t,t.config),CKEDITOR.getUrl(t.config.customConfig)!=e&&l(t)||t.fireOnce("customConfigLoaded")):CKEDITOR.scriptLoader.queue(e,function(){n.fn=CKEDITOR.editorConfig?CKEDITOR.editorConfig:function(){},l(t)}),!0}function c(e,n){e.on("customConfigLoaded",function(){if(n){if(n.on)for(var t in n.on)e.on(t,n.on[t]);CKEDITOR.tools.extend(e.config,n,!0),delete e.config.on}t=e.config,e.readOnly=!!t.readOnly||(e.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?e.element.is("textarea")?e.element.hasAttribute("disabled")||e.element.hasAttribute("readonly"):e.element.isReadOnly():e.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE&&(e.element.hasAttribute("disabled")||e.element.hasAttribute("readonly"))),e.blockless=e.elementMode==CKEDITOR.ELEMENT_MODE_INLINE&&!(e.element.is("textarea")||CKEDITOR.dtd[e.element.getName()].p),e.tabIndex=t.tabIndex||e.element&&e.element.getAttribute("tabindex")||0,e.activeEnterMode=e.enterMode=e.blockless?CKEDITOR.ENTER_BR:t.enterMode,e.activeShiftEnterMode=e.shiftEnterMode=e.blockless?CKEDITOR.ENTER_BR:t.shiftEnterMode,t.skin&&(CKEDITOR.skinName=t.skin),e.fireOnce("configLoaded"),e.dataProcessor=new CKEDITOR.htmlDataProcessor(e),e.filter=e.activeFilter=new CKEDITOR.filter(e),d(e)}),n&&null!=n.customConfig&&(e.config.customConfig=n.customConfig),l(e)||e.fireOnce("customConfigLoaded")}function d(t){CKEDITOR.skin.loadPart("editor",function(){e(t)})}function e(i){CKEDITOR.lang.load(i.config.language,i.config.defaultLanguage,function(t,e){var n=i.config.title;i.langCode=t,i.lang=CKEDITOR.tools.prototypedCopy(e),i.title="string"==typeof n||!1===n?n:[i.lang.editor,i.name].join(", "),i.config.contentsLangDirection||(i.config.contentsLangDirection=i.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?i.element.getDirection(1):i.lang.dir),i.fire("langLoaded"),u(i)})}function u(e){e.getStylesSet(function(t){e.once("loaded",function(){e.fire("stylesSet",{styles:t})},null,null,1),n(e)})}function n(d){var u=d.config,t=u.plugins,e=u.extraPlugins,n=u.removePlugins;if(e){var i=new RegExp("(?:^|,)(?:"+e.replace(/\s*,\s*/g,"|")+")(?=,|$)","g");t=(t=t.replace(i,""))+","+e}if(n){var h=new RegExp("(?:^|,)(?:"+n.replace(/\s*,\s*/g,"|")+")(?=,|$)","g");t=t.replace(h,"")}CKEDITOR.env.air&&(t+=",adobeair"),CKEDITOR.plugins.load(t.split(","),function(t){var o=[],a=[],e=[];for(var n in d.plugins=t){var i,r=t[n],s=r.lang,l=null,c=r.requires;if(CKEDITOR.tools.isArray(c)&&(c=c.join(",")),c&&(i=c.match(h)))for(;c=i.pop();)CKEDITOR.error("editor-plugin-required",{plugin:c.replace(",",""),requiredBy:n});s&&!d.lang[n]&&(s.split&&(s=s.split(",")),0<=CKEDITOR.tools.indexOf(s,d.langCode)?l=d.langCode:l=(l=d.langCode.replace(/-.*/,""))!=d.langCode&&0<=CKEDITOR.tools.indexOf(s,l)?l:0<=CKEDITOR.tools.indexOf(s,"en")?"en":s[0],r.langEntries&&r.langEntries[l]?(d.lang[n]=r.langEntries[l],l=null):e.push(CKEDITOR.getUrl(r.path+"lang/"+l+".js"))),a.push(l),o.push(r)}CKEDITOR.scriptLoader.load(e,function(){for(var t=["beforeInit","init","afterInit"],e=0;e<t.length;e++)for(var n=0;n<o.length;n++){var i=o[n];0===e&&a[n]&&i.lang&&i.langEntries&&(d.lang[i.name]=i.langEntries[a[n]]),i[t[e]]&&i[t[e]](d)}for(d.fireOnce("pluginsLoaded"),u.keystrokes&&d.setKeystroke(d.config.keystrokes),n=0;n<d.config.blockedKeystrokes.length;n++)d.keystrokeHandler.blockedKeystrokes[d.config.blockedKeystrokes[n]]=1;d.status="loaded",d.fireOnce("loaded"),CKEDITOR.fire("instanceLoaded",null,d)})})}function h(){var t=this.element;if(t&&this.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO){var e=this.getData();return this.config.htmlEncodeOutput&&(e=CKEDITOR.tools.htmlEncode(e)),t.is("textarea")?t.setValue(e):t.setHtml(e),!0}return!1}function f(t,e){function n(t){var e=t.startContainer,n=t.endContainer;return!(!e.is||!(e.is("tr")||e.is("td")&&e.equals(n)&&t.endOffset===e.getChildCount()))}function i(t){var e=t.startContainer;return e.is("tr")?t.cloneContents():e.clone(!0)}for(var o,a,r,s=new CKEDITOR.dom.documentFragment,l=0;l<t.length;l++){var c=t[l],d=c.startContainer.getAscendant("tr",!0);n(c)?(o||((o=d.getAscendant("table").clone()).append(d.getAscendant({thead:1,tbody:1,tfoot:1}).clone()),s.append(o),o=o.findOne("thead, tbody, tfoot")),a&&a.equals(d)||(r=(a=d).clone(),o.append(r)),r.append(i(c))):s.append(c.cloneContents())}return o?s:e.getHtmlFromRange(t[0])}t.prototype=CKEDITOR.editor.prototype,CKEDITOR.editor=t;var p=0,m={};CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{addCommand:function(t,e){e.name=t.toLowerCase();var n=new CKEDITOR.command(this,e);return this.mode&&r(this,n),this.commands[t]=n},_attachToForm:function(){function e(t){n.updateElement(),n._.required&&!i.getValue()&&!1===n.fire("required")&&t.data.preventDefault()}function t(t){return!!(t&&t.call&&t.apply)}var n=this,i=n.element,o=new CKEDITOR.dom.element(i.$.form);i.is("textarea")&&o&&(o.on("submit",e),t(o.$.submit)&&(o.$.submit=CKEDITOR.tools.override(o.$.submit,function(t){return function(){e(),t.apply?t.apply(this):t()}})),n.on("destroy",function(){o.removeListener("submit",e)}))},destroy:function(t){this.fire("beforeDestroy"),!t&&h.call(this),this.editable(null),this.filter&&(this.filter.destroy(),delete this.filter),delete this.activeFilter,this.status="destroyed",this.fire("destroy"),this.removeAllListeners(),CKEDITOR.remove(this),CKEDITOR.fire("instanceDestroyed",null,this)},elementPath:function(t){if(!t){if(!(t=this.getSelection()))return null;t=t.getStartElement()}return t?new CKEDITOR.dom.elementPath(t,this.editable()):null},createRange:function(){var t=this.editable();return t?new CKEDITOR.dom.range(t):null},execCommand:function(t,e){var n=this.getCommand(t),i={name:t,commandData:e||{},command:n};return!(!n||n.state==CKEDITOR.TRISTATE_DISABLED||!1===this.fire("beforeCommandExec",i)||(i.returnValue=n.exec(i.commandData),n.async||!1===this.fire("afterCommandExec",i)))&&i.returnValue},getCommand:function(t){return this.commands[t]},getData:function(t){!t&&this.fire("beforeGetData");var e=this._.data;return"string"!=typeof e&&(e=(e=this.element)&&this.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE?e.is("textarea")?e.getValue():e.getHtml():""),e={dataValue:e},!t&&this.fire("getData",e),e.dataValue},getSnapshot:function(){var t=this.fire("getSnapshot");return"string"!=typeof t&&(t=(t=this.element)&&this.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE?t.is("textarea")?t.getValue():t.getHtml():""),t},loadSnapshot:function(t){this.fire("loadSnapshot",t)},setData:function(t,e,n){var i=!0,o=e;e&&"object"==typeof e&&(n=e.internal,o=e.callback,i=!e.noSnapshot),!n&&i&&this.fire("saveSnapshot"),!o&&n||this.once("dataReady",function(t){!n&&i&&this.fire("saveSnapshot"),o&&o.call(t.editor)}),t={dataValue:t},!n&&this.fire("setData",t),this._.data=t.dataValue,!n&&this.fire("afterSetData",t)},setReadOnly:function(t){t=null==t||t,this.readOnly!=t&&(this.readOnly=t,this.keystrokeHandler.blockedKeystrokes[8]=+t,this.editable().setReadOnly(t),this.fire("readOnly"))},insertHtml:function(t,e,n){this.fire("insertHtml",{dataValue:t,mode:e,range:n})},insertText:function(t){this.fire("insertText",t)},insertElement:function(t){this.fire("insertElement",t)},getSelectedHtml:function(t){var e=this.editable(),n=(n=this.getSelection())&&n.getRanges();return e&&n&&0!==n.length?(e=f(n,e),t?e.getHtml():e):null},extractSelectedHtml:function(t,e){var n,i=this.editable(),o=this.getSelection().getRanges(),a=new CKEDITOR.dom.documentFragment;if(!i||0===o.length)return null;for(n=0;n<o.length;n++)a.append(i.extractHtmlFromRange(o[n],e));return e||this.getSelection().selectRanges([o[0]]),t?a.getHtml():a},focus:function(){this.fire("beforeFocus")},checkDirty:function(){return"ready"==this.status&&this._.previousValue!==this.getSnapshot()},resetDirty:function(){this._.previousValue=this.getSnapshot()},updateElement:function(){return h.call(this)},setKeystroke:function(t){for(var e,n,i=this.keystrokeHandler.keystrokes,o=CKEDITOR.tools.isArray(t)?t:[[].slice.call(arguments,0)],a=o.length;a--;)e=o[a],n=0,CKEDITOR.tools.isArray(e)&&(n=e[1],e=e[0]),n?i[e]=n:delete i[e]},getCommandKeystroke:function(t){if(t="string"==typeof t?this.getCommand(t):t){var e,n=CKEDITOR.tools.object.findKey(this.commands,t),i=this.keystrokeHandler.keystrokes;if(t.fakeKeystroke)return t.fakeKeystroke;for(e in i)if(i.hasOwnProperty(e)&&i[e]==n)return e}return null},addFeature:function(t){return this.filter.addFeature(t)},setActiveFilter:function(t){t||(t=this.filter),this.activeFilter!==t&&(this.activeFilter=t,this.fire("activeFilterChange"),t===this.filter?this.setActiveEnterMode(null,null):this.setActiveEnterMode(t.getAllowedEnterMode(this.enterMode),t.getAllowedEnterMode(this.shiftEnterMode,!0)))},setActiveEnterMode:function(t,e){t=t?this.blockless?CKEDITOR.ENTER_BR:t:this.enterMode,e=e?this.blockless?CKEDITOR.ENTER_BR:e:this.shiftEnterMode,this.activeEnterMode==t&&this.activeShiftEnterMode==e||(this.activeEnterMode=t,this.activeShiftEnterMode=e,this.fire("activeEnterModeChange"))},showNotification:function(t){alert(t)}})}(),CKEDITOR.ELEMENT_MODE_NONE=0,CKEDITOR.ELEMENT_MODE_REPLACE=1,CKEDITOR.ELEMENT_MODE_APPENDTO=2,CKEDITOR.ELEMENT_MODE_INLINE=3,CKEDITOR.htmlParser=function(){this._={htmlPartsRegex:/<(?:(?:\/([^>]+)>)|(?:!--([\S|\s]*?)--\x3e)|(?:([^\/\s>]+)((?:\s+[\w\-:.]+(?:\s*=\s*?(?:(?:"[^"]*")|(?:'[^']*')|[^\s"'\/>]+))?)*)[\S\s]*?(\/?)>))/g}},P=/([\w\-:.]+)(?:(?:\s*=\s*(?:(?:"([^"]*)")|(?:'([^']*)')|([^\s>]+)))|(?=\s|$))/g,B={checked:1,compact:1,declare:1,defer:1,disabled:1,ismap:1,multiple:1,nohref:1,noresize:1,noshade:1,nowrap:1,readonly:1,selected:1},CKEDITOR.htmlParser.prototype={onTagOpen:function(){},onTagClose:function(){},onText:function(){},onCDATA:function(){},onComment:function(){},parse:function(t){for(var e,n,i,o=0;e=this._.htmlPartsRegex.exec(t);)if(o<(n=e.index)&&(o=t.substring(o,n),i?i.push(o):this.onText(o)),o=this._.htmlPartsRegex.lastIndex,!(n=e[1])||(n=n.toLowerCase(),i&&CKEDITOR.dtd.$cdata[n]&&(this.onCDATA(i.join("")),i=null),i))if(i)i.push(e[0]);else if(n=e[3]){if(n=n.toLowerCase(),!/="/.test(n)){var a,r={},s=e[4];if(e=!!e[5],s)for(;a=P.exec(s);){var l=a[1].toLowerCase();a=a[2]||a[3]||a[4]||"",r[l]=!a&&B[l]?l:CKEDITOR.tools.htmlDecodeAttr(a)}this.onTagOpen(n,r,e),!i&&CKEDITOR.dtd.$cdata[n]&&(i=[])}}else(n=e[2])&&this.onComment(n);else this.onTagClose(n);t.length>o&&this.onText(t.substring(o,t.length))}},CKEDITOR.htmlParser.basicWriter=CKEDITOR.tools.createClass({$:function(){this._={output:[]}},proto:{openTag:function(t){this._.output.push("<",t)},openTagClose:function(t,e){e?this._.output.push(" />"):this._.output.push(">")},attribute:function(t,e){"string"==typeof e&&(e=CKEDITOR.tools.htmlEncodeAttr(e)),this._.output.push(" ",t,'="',e,'"')},closeTag:function(t){this._.output.push("</",t,">")},text:function(t){this._.output.push(t)},comment:function(t){this._.output.push("<!--",t,"-->")},write:function(t){this._.output.push(t)},reset:function(){this._.output=[],this._.indent=!1},getHtml:function(t){var e=this._.output.join("");return t&&this.reset(),e}}}),CKEDITOR.htmlParser.node=function(){},CKEDITOR.htmlParser.node.prototype={remove:function(){var t=this.parent.children,e=CKEDITOR.tools.indexOf(t,this),n=this.previous,i=this.next;n&&(n.next=i),i&&(i.previous=n),t.splice(e,1),this.parent=null},replaceWith:function(t){var e=this.parent.children,n=CKEDITOR.tools.indexOf(e,this),i=t.previous=this.previous,o=t.next=this.next;i&&(i.next=t),o&&(o.previous=t),(e[n]=t).parent=this.parent,this.parent=null},insertAfter:function(t){var e=t.parent.children,n=CKEDITOR.tools.indexOf(e,t),i=t.next;e.splice(n+1,0,this),this.next=t.next,(this.previous=t).next=this,i&&(i.previous=this),this.parent=t.parent},insertBefore:function(t){var e=t.parent.children,n=CKEDITOR.tools.indexOf(e,t);e.splice(n,0,this),this.next=t,(this.previous=t.previous)&&(t.previous.next=this),(t.previous=this).parent=t.parent},getAscendant:function(e){for(var t="function"==typeof e?e:"string"==typeof e?function(t){return t.name==e}:function(t){return t.name in e},n=this.parent;n&&n.type==CKEDITOR.NODE_ELEMENT;){if(t(n))return n;n=n.parent}return null},wrapWith:function(t){return this.replaceWith(t),t.add(this),t},getIndex:function(){return CKEDITOR.tools.indexOf(this.parent.children,this)},getFilterContext:function(t){return t||{}}},CKEDITOR.htmlParser.comment=function(t){this.value=t,this._={isBlockLike:!1}},CKEDITOR.htmlParser.comment.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_COMMENT,filter:function(t,e){var n=this.value;return(n=t.onComment(e,n,this))?"string"!=typeof n?(this.replaceWith(n),!1):(this.value=n,!0):(this.remove(),!1)},writeHtml:function(t,e){e&&this.filter(e),t.comment(this.value)}}),CKEDITOR.htmlParser.text=function(t){this.value=t,this._={isBlockLike:!1}},CKEDITOR.htmlParser.text.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_TEXT,filter:function(t,e){if(!(this.value=t.onText(e,this.value,this)))return this.remove(),!1},writeHtml:function(t,e){e&&this.filter(e),t.text(this.value)}}),CKEDITOR.htmlParser.cdata=function(t){this.value=t},CKEDITOR.htmlParser.cdata.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_TEXT,filter:function(){},writeHtml:function(t){t.write(this.value)}}),CKEDITOR.htmlParser.fragment=function(){this.children=[],this.parent=null,this._={isBlockLike:!0,hasInlineStarted:!1}},function(){function E(t){return!t.attributes["data-cke-survive"]&&("a"==t.name&&t.attributes.href||CKEDITOR.dtd.$removeEmpty[t.name])}var T=CKEDITOR.tools.extend({table:1,ul:1,ol:1,dl:1},CKEDITOR.dtd.table,CKEDITOR.dtd.ul,CKEDITOR.dtd.ol,CKEDITOR.dtd.dl),b={ol:1,ul:1},C=CKEDITOR.tools.extend({},{html:1},CKEDITOR.dtd.html,CKEDITOR.dtd.body,CKEDITOR.dtd.head,{style:1,script:1}),i={ul:"li",ol:"li",dl:"dd",table:"tbody",tbody:"tr",thead:"tr",tfoot:"tr",tr:"td"};CKEDITOR.htmlParser.fragment.fromHtml=function(t,e,r){function o(t){var e;if(0<f.length)for(var n=0;n<f.length;n++){var i=f[n],o=i.name,a=CKEDITOR.dtd[o],r=m.name&&CKEDITOR.dtd[m.name];r&&!r[o]||t&&a&&!a[t]&&CKEDITOR.dtd[t]?o==m.name&&(l(m,m.parent,1),n--):(e||(s(),e=1),(i=i.clone()).parent=m,m=i,f.splice(n,1),n--)}}function s(){for(;p.length;)l(p.shift(),m)}function a(t){if(t._.isBlockLike&&"pre"!=t.name&&"textarea"!=t.name){var e,n=t.children.length,i=t.children[n-1];i&&i.type==CKEDITOR.NODE_TEXT&&((e=CKEDITOR.tools.rtrim(i.value))?i.value=e:t.children.length=n-1)}}function l(t,e,n){e=e||m||h;var i=m;void 0===t.previous&&(c(e,t)&&(m=e,u.onTagOpen(r,{}),t.returnPoint=e=m),a(t),E(t)&&!t.children.length||e.add(t),"pre"==t.name&&(v=!1),"textarea"==t.name&&(g=!1)),t.returnPoint?(m=t.returnPoint,delete t.returnPoint):m=n?e:i}function c(t,e){var n,i;if((t==h||"body"==t.name)&&r&&(!t.name||CKEDITOR.dtd[t.name][r]))return(n=e.attributes&&(i=e.attributes["data-cke-real-element-type"])?i:e.name)&&n in CKEDITOR.dtd.$inline&&!(n in CKEDITOR.dtd.head)&&!e.isOrphan||e.type==CKEDITOR.NODE_TEXT}function d(t,e){return(t in CKEDITOR.dtd.$listItem||t in CKEDITOR.dtd.$tableContent)&&(t==e||"dt"==t&&"dd"==e||"dd"==t&&"dt"==e)}var u=new CKEDITOR.htmlParser,h=e instanceof CKEDITOR.htmlParser.element?e:"string"==typeof e?new CKEDITOR.htmlParser.element(e):new CKEDITOR.htmlParser.fragment,f=[],p=[],m=h,g="textarea"==h.name,v="pre"==h.name;for(u.onTagOpen=function(t,e,n,i){if((e=new CKEDITOR.htmlParser.element(t,e)).isUnknown&&n&&(e.isEmpty=!0),e.isOptionalClose=i,E(e))f.push(e);else{if("pre"==t)v=!0;else{if("br"==t&&v)return void m.add(new CKEDITOR.htmlParser.text("\n"));"textarea"==t&&(g=!0)}if("br"==t)p.push(e);else{for(;i=(n=m.name)?CKEDITOR.dtd[n]||(m._.isBlockLike?CKEDITOR.dtd.div:CKEDITOR.dtd.span):C,!(e.isUnknown||m.isUnknown||i[t]);)if(m.isOptionalClose)u.onTagClose(n);else if(t in b&&n in b)(n=(n=m.children)[n.length-1])&&"li"==n.name||l(n=new CKEDITOR.htmlParser.element("li"),m),!e.returnPoint&&(e.returnPoint=m),m=n;else if(t in CKEDITOR.dtd.$listItem&&!d(t,n))u.onTagOpen("li"==t?"ul":"dl",{},0,1);else if(n in T&&!d(t,n))!e.returnPoint&&(e.returnPoint=m),m=m.parent;else{if(n in CKEDITOR.dtd.$inline&&f.unshift(m),!m.parent){e.isOrphan=1;break}l(m,m.parent,1)}o(t),s(),e.parent=m,e.isEmpty?l(e):m=e}}},u.onTagClose=function(t){for(var e=f.length-1;0<=e;e--)if(t==f[e].name)return void f.splice(e,1);for(var n=[],i=[],o=m;o!=h&&o.name!=t;)o._.isBlockLike||i.unshift(o),n.push(o),o=o.returnPoint||o.parent;if(o!=h){for(e=0;e<n.length;e++){var a=n[e];l(a,a.parent)}(m=o)._.isBlockLike&&s(),l(o,o.parent),o==m&&(m=m.parent),f=f.concat(i)}"body"==t&&(r=!1)},u.onText=function(t){if(m._.hasInlineStarted&&!p.length||v||g||0!==(t=CKEDITOR.tools.ltrim(t)).length){var e=m.name,n=e?CKEDITOR.dtd[e]||(m._.isBlockLike?CKEDITOR.dtd.div:CKEDITOR.dtd.span):C;!g&&!n["#"]&&e in T?(u.onTagOpen(i[e]||""),u.onText(t)):(s(),o(),v||g||(t=t.replace(/[\t\r\n ]{2,}|[\t\r\n]/g," ")),t=new CKEDITOR.htmlParser.text(t),c(m,t)&&this.onTagOpen(r,{},0,1),m.add(t))}},u.onCDATA=function(t){m.add(new CKEDITOR.htmlParser.cdata(t))},u.onComment=function(t){s(),o(),m.add(new CKEDITOR.htmlParser.comment(t))},u.parse(t),s();m!=h;)l(m,m.parent,1);return a(h),h},CKEDITOR.htmlParser.fragment.prototype={type:CKEDITOR.NODE_DOCUMENT_FRAGMENT,add:function(t,e){isNaN(e)&&(e=this.children.length);var n=0<e?this.children[e-1]:null;if(n){if(t._.isBlockLike&&n.type==CKEDITOR.NODE_TEXT&&(n.value=CKEDITOR.tools.rtrim(n.value),0===n.value.length))return this.children.pop(),void this.add(t);n.next=t}t.previous=n,(t.parent=this).children.splice(e,0,t),this._.hasInlineStarted||(this._.hasInlineStarted=t.type==CKEDITOR.NODE_TEXT||t.type==CKEDITOR.NODE_ELEMENT&&!t._.isBlockLike)},filter:function(t,e){e=this.getFilterContext(e),t.onRoot(e,this),this.filterChildren(t,!1,e)},filterChildren:function(t,e,n){if(this.childrenFilteredBy!=t.id)for(n=this.getFilterContext(n),e&&!this.parent&&t.onRoot(n,this),this.childrenFilteredBy=t.id,e=0;e<this.children.length;e++)!1===this.children[e].filter(t,n)&&e--},writeHtml:function(t,e){e&&this.filter(e),this.writeChildrenHtml(t)},writeChildrenHtml:function(t,e,n){var i=this.getFilterContext();for(n&&!this.parent&&e&&e.onRoot(i,this),e&&this.filterChildren(e,!1,i),e=0,i=(n=this.children).length;e<i;e++)n[e].writeHtml(t)},forEach:function(t,e,n){if(!(n||e&&this.type!=e))var i=t(this);if(!1!==i){n=this.children;for(var o=0;o<n.length;o++)(i=n[o]).type==CKEDITOR.NODE_ELEMENT?i.forEach(t,e):e&&i.type!=e||t(i)}},getFilterContext:function(t){return t||{}}}}(),function(){function r(){this.rules=[]}function i(t,e,n,i){var o,a;for(o in e)(a=t[o])||(a=t[o]=new r),a.add(e[o],n,i)}CKEDITOR.htmlParser.filter=CKEDITOR.tools.createClass({$:function(t){this.id=CKEDITOR.tools.getNextNumber(),this.elementNameRules=new r,this.attributeNameRules=new r,this.elementsRules={},this.attributesRules={},this.textRules=new r,this.commentRules=new r,this.rootRules=new r,t&&this.addRules(t,10)},proto:{addRules:function(t,e){var n;"number"==typeof e?n=e:e&&"priority"in e&&(n=e.priority),"number"!=typeof n&&(n=10),"object"!=typeof e&&(e={}),t.elementNames&&this.elementNameRules.addMany(t.elementNames,n,e),t.attributeNames&&this.attributeNameRules.addMany(t.attributeNames,n,e),t.elements&&i(this.elementsRules,t.elements,n,e),t.attributes&&i(this.attributesRules,t.attributes,n,e),t.text&&this.textRules.add(t.text,n,e),t.comment&&this.commentRules.add(t.comment,n,e),t.root&&this.rootRules.add(t.root,n,e)},applyTo:function(t){t.filter(this)},onElementName:function(t,e){return this.elementNameRules.execOnName(t,e)},onAttributeName:function(t,e){return this.attributeNameRules.execOnName(t,e)},onText:function(t,e,n){return this.textRules.exec(t,e,n)},onComment:function(t,e,n){return this.commentRules.exec(t,e,n)},onRoot:function(t,e){return this.rootRules.exec(t,e)},onElement:function(t,e){for(var n,i=[this.elementsRules["^"],this.elementsRules[e.name],this.elementsRules.$],o=0;o<3;o++)if(n=i[o]){if(!1===(n=n.exec(t,e,this)))return null;if(n&&n!=e)return this.onNode(t,n);if(e.parent&&!e.name)break}return e},onNode:function(t,e){var n=e.type;return n==CKEDITOR.NODE_ELEMENT?this.onElement(t,e):n==CKEDITOR.NODE_TEXT?new CKEDITOR.htmlParser.text(this.onText(t,e.value)):n==CKEDITOR.NODE_COMMENT?new CKEDITOR.htmlParser.comment(this.onComment(t,e.value)):null},onAttribute:function(t,e,n,i){return(n=this.attributesRules[n])?n.exec(t,i,e,this):i}}}),(CKEDITOR.htmlParser.filterRulesGroup=r).prototype={add:function(t,e,n){this.rules.splice(this.findIndex(e),0,{value:t,priority:e,options:n})},addMany:function(t,e,n){for(var i=[this.findIndex(e),0],o=0,a=t.length;o<a;o++)i.push({value:t[o],priority:e,options:n});this.rules.splice.apply(this.rules,i)},findIndex:function(t){for(var e=this.rules,n=e.length-1;0<=n&&t<e[n].priority;)n--;return n+1},exec:function(t,e){var n,i,o,a,r=e instanceof CKEDITOR.htmlParser.node||e instanceof CKEDITOR.htmlParser.fragment,s=Array.prototype.slice.call(arguments,1),l=this.rules,c=l.length;for(a=0;a<c;a++)if(r&&(n=e.type,i=e.name),o=l[a],!(t.nonEditable&&!o.options.applyToAll||t.nestedEditable&&o.options.excludeNestedEditable)){if(!1===(o=o.value.apply(null,s))||r&&o&&(o.name!=i||o.type!=n))return o;null!=o&&(s[0]=e=o)}return e},execOnName:function(t,e){for(var n,i=0,o=this.rules,a=o.length;e&&i<a;i++)n=o[i],t.nonEditable&&!n.options.applyToAll||t.nestedEditable&&n.options.excludeNestedEditable||(e=e.replace(n.value[0],n.value[1]));return e}}}(),function(){function n(t,e){function s(t){return t||CKEDITOR.env.needsNbspFiller?new CKEDITOR.htmlParser.text("\xa0"):new CKEDITOR.htmlParser.element("br",{"data-cke-bogus":1})}function n(a,r){return function(t){if(t.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT){var e,n,i=[],o=d(t);if(o)for(l(o,1)&&i.push(o);o;)f(o)&&(e=u(o))&&l(e)&&((n=u(e))&&!f(n)?i.push(e):(s(c).insertAfter(e),e.remove())),o=o.previous;for(o=0;o<i.length;o++)i[o].remove();(i=!a||!1!==("function"==typeof r?r(t):r))&&((c||CKEDITOR.env.needsBrFiller||t.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT)&&(c||CKEDITOR.env.needsBrFiller||!(
7<document.documentMode||t.name in CKEDITOR.dtd.tr||t.name in CKEDITOR.dtd.$listItem))?i=!(i=d(t))||"form"==t.name&&"input"==i.name:i=!1),i&&t.add(s(a))}}}function l(t,e){return!(c&&!CKEDITOR.env.needsBrFiller||t.type!=CKEDITOR.NODE_ELEMENT||"br"!=t.name||t.attributes["data-cke-eol"])||!!(t.type==CKEDITOR.NODE_TEXT&&(n=t.value.match(E))&&(n.index&&(new CKEDITOR.htmlParser.text(t.value.substring(0,n.index)).insertBefore(t),t.value=n[0]),!CKEDITOR.env.needsBrFiller&&c&&(!e||t.parent.name in r)||!c&&((n=t.previous)&&"br"==n.name||!n||f(n))));var n}var i,o,a={elements:{}},c="html"==e,r=CKEDITOR.tools.extend({},C);for(i in r)"#"in b[i]||delete r[i];for(i in r)a.elements[i]=n(c,t.config.fillEmptyBlocks);return a.root=n(c,!1),a.elements.br=(o=c,function(t){if(t.parent.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT){var e=t.attributes;if("data-cke-bogus"in e||"data-cke-eol"in e)delete e["data-cke-bogus"];else{for(e=t.next;e&&h(e);)e=e.next;var n=u(t);!e&&f(t.parent)?p(t.parent,s(o)):f(e)&&n&&!f(n)&&s(o).insertBefore(e)}}}),a}function a(t,e){return t!=CKEDITOR.ENTER_BR&&!1!==e&&(t==CKEDITOR.ENTER_DIV?"div":"p")}function d(t){for(t=t.children[t.children.length-1];t&&h(t);)t=t.previous;return t}function u(t){for(t=t.previous;t&&h(t);)t=t.previous;return t}function h(t){return t.type==CKEDITOR.NODE_TEXT&&!CKEDITOR.tools.trim(t.value)||t.type==CKEDITOR.NODE_ELEMENT&&t.attributes["data-cke-bookmark"]}function f(t){return t&&(t.type==CKEDITOR.NODE_ELEMENT&&t.name in C||t.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT)}function p(t,e){var n=t.children[t.children.length-1];t.children.push(e),e.parent=t,n&&((n.next=e).previous=n)}function t(t){"false"!=(t=t.attributes).contenteditable&&(t["data-cke-editable"]=t.contenteditable?"true":1),t.contenteditable="false"}function e(t){switch((t=t.attributes)["data-cke-editable"]){case"true":t.contenteditable="true";break;case"1":delete t.contenteditable}}function r(t){return t.replace(i,function(t,e,n){return"<"+e+n.replace(R,function(t,e){return k.test(e)&&-1==n.indexOf("data-cke-saved-"+e)?" data-cke-saved-"+t+" data-cke-"+CKEDITOR.rnd+"-"+t:t})+">"})}function s(t,e){return t.replace(e,function(t,e,n){return 0===t.indexOf("<textarea")&&(t=e+m(n).replace(/</g,"&lt;").replace(/>/g,"&gt;")+"</textarea>"),"<cke:encoded>"+encodeURIComponent(t)+"</cke:encoded>"})}function l(t){return t.replace(w,function(t,e){return decodeURIComponent(e)})}function c(t){return t.replace(/\x3c!--(?!{cke_protected})[\s\S]+?--\x3e/g,function(t){return"<!--"+T+"{C}"+encodeURIComponent(t).replace(/--/g,"%2D%2D")+"-->"})}function m(t){return t.replace(/\x3c!--\{cke_protected\}\{C\}([\s\S]+?)--\x3e/g,function(t,e){return decodeURIComponent(e)})}function g(t,e){var n=e._.dataStore;return t.replace(/\x3c!--\{cke_protected\}([\s\S]+?)--\x3e/g,function(t,e){return decodeURIComponent(e)}).replace(/\{cke_protected_(\d+)\}/g,function(t,e){return n&&n[e]||""})}function v(t,o){var i=[],e=o.config.protectedSource,n=o._.dataStore||(o._.dataStore={id:1}),a=/<\!--\{cke_temp(comment)?\}(\d*?)--\x3e/g;e=[/<script[\s\S]*?(<\/script>|$)/gi,/<noscript[\s\S]*?<\/noscript>/gi,/<meta[\s\S]*?\/?>/gi].concat(e);t=t.replace(/\x3c!--[\s\S]*?--\x3e/g,function(t){return"<!--{cke_tempcomment}"+(i.push(t)-1)+"-->"});for(var r=0;r<e.length;r++)t=t.replace(e[r],function(t){return t=t.replace(a,function(t,e,n){return i[n]}),/cke_temp(comment)?/.test(t)?t:"<!--{cke_temp}"+(i.push(t)-1)+"-->"});return(t=(t=t.replace(a,function(t,e,n){return"<!--"+T+(e?"{C}":"")+encodeURIComponent(i[n]).replace(/--/g,"%2D%2D")+"-->"})).replace(/<\w+(?:\s+(?:(?:[^\s=>]+\s*=\s*(?:[^'"\s>]+|'[^']*'|"[^"]*"))|[^\s=\/>]+))+\s*\/?>/g,function(t){return t.replace(/\x3c!--\{cke_protected\}([^>]*)--\x3e/g,function(t,e){return n[n.id]=decodeURIComponent(e),"{cke_protected_"+n.id+++"}"})})).replace(/<(title|iframe|textarea)([^>]*)>([\s\S]*?)<\/\1>/g,function(t,e,n,i){return"<"+e+n+">"+g(m(i),o)+"</"+e+">"})}CKEDITOR.htmlDataProcessor=function(o){var t,e,i=this;this.editor=o,this.dataFilter=t=new CKEDITOR.htmlParser.filter,this.htmlFilter=e=new CKEDITOR.htmlParser.filter,this.writer=new CKEDITOR.htmlParser.basicWriter,t.addRules(y),t.addRules(D,{applyToAll:!0}),t.addRules(n(o,"data"),{applyToAll:!0}),e.addRules(I),e.addRules(O,{applyToAll:!0}),e.addRules(n(o,"html"),{applyToAll:!0}),o.on("toHtml",function(t){var e,n,i=(i=(i=(i=(i=s(i=r(i=s(i=v(i=(t=t.data).dataValue,o),x)),_)).replace(K,"$1cke:$2")).replace(N,"<cke:$1$2></cke:$1>")).replace(/(<pre\b[^>]*>)(\r\n|\n)/g,"$1$2$2")).replace(/([^a-z0-9<\-])(on\w{3,})(?!>)/gi,"$1data-cke-"+CKEDITOR.rnd+"-$2");e=t.context||o.editable().getName(),CKEDITOR.env.ie&&CKEDITOR.env.version<9&&"pre"==e&&(e="div",i="<pre>"+i+"</pre>",n=1),(e=o.document.createElement(e)).setHtml("a"+i),i=(i=e.getHtml().substr(1)).replace(new RegExp("data-cke-"+CKEDITOR.rnd+"-","ig"),""),n&&(i=i.replace(/^<pre>|<\/pre>$/gi,"")),i=m(i=l(i=i.replace(S,"$1$2"))),e=!1!==t.fixForBody&&a(t.enterMode,o.config.autoParagraph),i=CKEDITOR.htmlParser.fragment.fromHtml(i,t.context,e),e&&(!(n=i).children.length&&CKEDITOR.dtd[n.name][e]&&(e=new CKEDITOR.htmlParser.element(e),n.add(e))),t.dataValue=i},null,null,5),o.on("toHtml",function(t){t.data.filter.applyTo(t.data.dataValue,!0,t.data.dontFilter,t.data.enterMode)&&o.fire("dataFiltered")},null,null,6),o.on("toHtml",function(t){t.data.dataValue.filterChildren(i.dataFilter,!0)},null,null,10),o.on("toHtml",function(t){var e=(t=t.data).dataValue,n=new CKEDITOR.htmlParser.basicWriter;e.writeChildrenHtml(n),e=n.getHtml(!0),t.dataValue=c(e)},null,null,15),o.on("toDataFormat",function(t){var e=t.data.dataValue;t.data.enterMode!=CKEDITOR.ENTER_BR&&(e=e.replace(/^<br *\/?>/i,"")),t.data.dataValue=CKEDITOR.htmlParser.fragment.fromHtml(e,t.data.context,a(t.data.enterMode,o.config.autoParagraph))},null,null,5),o.on("toDataFormat",function(t){t.data.dataValue.filterChildren(i.htmlFilter,!0)},null,null,10),o.on("toDataFormat",function(t){t.data.filter.applyTo(t.data.dataValue,!1,!0)},null,null,11),o.on("toDataFormat",function(t){var e=t.data.dataValue,n=i.writer;n.reset(),e.writeChildrenHtml(n),e=g(e=m(e=n.getHtml(!0)),o),t.data.dataValue=e},null,null,15)},CKEDITOR.htmlDataProcessor.prototype={toHtml:function(t,e,n,i){var o,a,r,s,l=this.editor;return e&&"object"==typeof e?(o=e.context,n=e.fixForBody,i=e.dontFilter,a=e.filter,r=e.enterMode,s=e.protectedWhitespaces):o=e,o||null===o||(o=l.editable().getName()),l.fire("toHtml",{dataValue:t,context:o,fixForBody:n,dontFilter:i,filter:a||l.filter,enterMode:r||l.enterMode,protectedWhitespaces:s}).dataValue},toDataFormat:function(t,e){var n,i,o;return e&&(n=e.context,i=e.filter,o=e.enterMode),n||null===n||(n=this.editor.editable().getName()),this.editor.fire("toDataFormat",{dataValue:t,filter:i||this.editor.filter,context:n,enterMode:o||this.editor.enterMode}).dataValue}};var E=/(?:&nbsp;|\xa0)$/,T="{cke_protected}",b=CKEDITOR.dtd,o="caption colgroup col thead tfoot tbody".split(" "),C=CKEDITOR.tools.extend({},b.$blockLimit,b.$block),y={elements:{input:t,textarea:t}},D={attributeNames:[[/^on/,"data-cke-pa-on"],[/^srcdoc/,"data-cke-pa-srcdoc"],[/^data-cke-expando$/,""]],elements:{iframe:function(t){if(t.attributes&&t.attributes.src){var e=t.attributes.src.toLowerCase().replace(/[^a-z]/gi,"");0!==e.indexOf("javascript")&&0!==e.indexOf("data")||(t.attributes["data-cke-pa-src"]=t.attributes.src,delete t.attributes.src)}}}},I={elements:{embed:function(t){if((n=t.parent)&&"object"==n.name){var e=n.attributes.width,n=n.attributes.height;e&&(t.attributes.width=e),n&&(t.attributes.height=n)}},a:function(t){var e=t.attributes;if(!(t.children.length||e.name||e.id||t.attributes["data-cke-saved-name"]))return!1}}},O={elementNames:[[/^cke:/,""],[/^\?xml:namespace$/,""]],attributeNames:[[/^data-cke-(saved|pa)-/,""],[/^data-cke-.*/,""],["hidefocus",""]],elements:{$:function(t){var e=t.attributes;if(e){if(e["data-cke-temp"])return!1;for(var n=["name","href","src"],i=0;i<n.length;i++)"data-cke-saved-"+n[i]in e&&delete e[n[i]]}return t},table:function(t){t.children.slice(0).sort(function(t,e){var n,i;return t.type==CKEDITOR.NODE_ELEMENT&&e.type==t.type&&(n=CKEDITOR.tools.indexOf(o,t.name),i=CKEDITOR.tools.indexOf(o,e.name)),-1<n&&-1<i&&n!=i||(n=t.parent?t.getIndex():-1,i=e.parent?e.getIndex():-1),i<n?1:-1})},param:function(t){return t.children=[],t.isEmpty=!0,t},span:function(t){"Apple-style-span"==t.attributes["class"]&&delete t.name},html:function(t){delete t.attributes.contenteditable,delete t.attributes["class"]},body:function(t){delete t.attributes.spellcheck,delete t.attributes.contenteditable},style:function(t){var e=t.children[0];e&&e.value&&(e.value=CKEDITOR.tools.trim(e.value)),t.attributes.type||(t.attributes.type="text/css")},title:function(t){var e=t.children[0];!e&&p(t,e=new CKEDITOR.htmlParser.text),e.value=t.attributes["data-cke-title"]||""},input:e,textarea:e},attributes:{"class":function(t){return CKEDITOR.tools.ltrim(t.replace(/(?:^|\s+)cke_[^\s]*/g,""))||!1}}};CKEDITOR.env.ie&&(O.attributes.style=function(t){return t.replace(/(^|;)([^\:]+)/g,function(t){return t.toLowerCase()})});var i=/<(a|area|img|input|source)\b([^>]*)>/gi,R=/([\w-:]+)\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|(?:[^ "'>]+))/gi,k=/^(href|src|name)$/i,_=/(?:<style(?=[ >])[^>]*>[\s\S]*?<\/style>)|(?:<(:?link|meta|base)[^>]*>)/gi,x=/(<textarea(?=[ >])[^>]*>)([\s\S]*?)(?:<\/textarea>)/gi,w=/<cke:encoded>([^<]*)<\/cke:encoded>/gi,K=/(<\/?)((?:object|embed|param|html|body|head|title)[^>]*>)/gi,S=/(<\/?)cke:((?:html|body|head|title)[^>]*>)/gi,N=/<cke:(param|embed)([^>]*?)\/?>(?!\s*<\/cke:\1)/gi}(),CKEDITOR.htmlParser.element=function(t,e){this.name=t,this.attributes=e||{},this.children=[];var n=t||"",i=n.match(/^cke:(.*)/);i&&(n=i[1]),n=!!(CKEDITOR.dtd.$nonBodyContent[n]||CKEDITOR.dtd.$block[n]||CKEDITOR.dtd.$listItem[n]||CKEDITOR.dtd.$tableContent[n]||CKEDITOR.dtd.$nonEditable[n]||"br"==n),this.isEmpty=!!CKEDITOR.dtd.$empty[t],this.isUnknown=!CKEDITOR.dtd[t],this._={isBlockLike:n,hasInlineStarted:this.isEmpty||!n}},CKEDITOR.htmlParser.cssStyle=function(t){var i={};return((t instanceof CKEDITOR.htmlParser.element?t.attributes.style:t)||"").replace(/&quot;/g,'"').replace(/\s*([^ :;]+)\s*:\s*([^;]+)\s*(?=;|$)/g,function(t,e,n){"font-family"==e&&(n=n.replace(/["']/g,"")),i[e.toLowerCase()]=n}),{rules:i,populate:function(t){var e=this.toString();e&&(t instanceof CKEDITOR.dom.element?t.setAttribute("style",e):t instanceof CKEDITOR.htmlParser.element?t.attributes.style=e:t.style=e)},toString:function(){var t,e=[];for(t in i)i[t]&&e.push(t,":",i[t],";");return e.join("")}}},function(){function i(e){return function(t){return t.type==CKEDITOR.NODE_ELEMENT&&("string"==typeof e?t.name==e:t.name in e)}}var s=function(t,e){return(t=t[0])<(e=e[0])?-1:e<t?1:0},t=CKEDITOR.htmlParser.fragment.prototype;CKEDITOR.htmlParser.element.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_ELEMENT,add:t.add,clone:function(){return new CKEDITOR.htmlParser.element(this.name,this.attributes)},filter:function(t,e){var n,i,o,a,r=this;if((e=r.getFilterContext(e)).off)return!0;for(r.parent||t.onRoot(e,r);;){if(n=r.name,!(i=t.onElementName(e,n)))return this.remove(),!1;if(r.name=i,!(r=t.onElement(e,r)))return this.remove(),!1;if(r!==this)return this.replaceWith(r),!1;if(r.name==n)break;if(r.type!=CKEDITOR.NODE_ELEMENT)return this.replaceWith(r),!1;if(!r.name)return this.replaceWithChildren(),!1}for(o in n=r.attributes){for(i=n[o];;){if(!(a=t.onAttributeName(e,o))){delete n[o];break}if(a==o)break;delete n[o],o=a}a&&(!1===(i=t.onAttribute(e,r,a,i))?delete n[a]:n[a]=i)}return r.isEmpty||this.filterChildren(t,!1,e),!0},filterChildren:t.filterChildren,writeHtml:function(t,e){e&&this.filter(e);var n,i,o=this.name,a=[],r=this.attributes;for(n in t.openTag(o,r),r)a.push([n,r[n]]);for(t.sortAttributes&&a.sort(s),n=0,i=a.length;n<i;n++)r=a[n],t.attribute(r[0],r[1]);t.openTagClose(o,this.isEmpty),this.writeChildrenHtml(t),this.isEmpty||t.closeTag(o)},writeChildrenHtml:t.writeChildrenHtml,replaceWithChildren:function(){for(var t=this.children,e=t.length;e;)t[--e].insertAfter(this);this.remove()},forEach:t.forEach,getFirst:function(t){if(!t)return this.children.length?this.children[0]:null;"function"!=typeof t&&(t=i(t));for(var e=0,n=this.children.length;e<n;++e)if(t(this.children[e]))return this.children[e];return null},getHtml:function(){var t=new CKEDITOR.htmlParser.basicWriter;return this.writeChildrenHtml(t),t.getHtml()},setHtml:function(t){for(var e=0,n=(t=this.children=CKEDITOR.htmlParser.fragment.fromHtml(t).children).length;e<n;++e)t[e].parent=this},getOuterHtml:function(){var t=new CKEDITOR.htmlParser.basicWriter;return this.writeHtml(t),t.getHtml()},split:function(t){for(var e=this.children.splice(t,this.children.length-t),n=this.clone(),i=0;i<e.length;++i)e[i].parent=n;return(n.children=e)[0]&&(e[0].previous=null),0<t&&(this.children[t-1].next=null),this.parent.add(n,this.getIndex()+1),n},find:function(t,e){void 0===e&&(e=!1);var n,i=[];for(n=0;n<this.children.length;n++){var o=this.children[n];"function"==typeof t&&t(o)?i.push(o):"string"==typeof t&&o.name===t&&i.push(o),e&&o.find&&(i=i.concat(o.find(t,e)))}return i},addClass:function(t){if(!this.hasClass(t)){var e=this.attributes["class"]||"";this.attributes["class"]=e+(e?" ":"")+t}},removeClass:function(t){var e=this.attributes["class"];e&&((e=CKEDITOR.tools.trim(e.replace(new RegExp("(?:\\s+|^)"+t+"(?:\\s+|$)")," ")))?this.attributes["class"]=e:delete this.attributes["class"])},hasClass:function(t){var e=this.attributes["class"];return!!e&&new RegExp("(?:^|\\s)"+t+"(?=\\s|$)").test(e)},getFilterContext:function(t){var e=[];if(t||(t={off:!1,nonEditable:!1,nestedEditable:!1}),t.off||"off"!=this.attributes["data-cke-processor"]||e.push("off",!0),t.nonEditable||"false"!=this.attributes.contenteditable?t.nonEditable&&!t.nestedEditable&&"true"==this.attributes.contenteditable&&e.push("nestedEditable",!0):e.push("nonEditable",!0),e.length){t=CKEDITOR.tools.copy(t);for(var n=0;n<e.length;n+=2)t[e[n]]=e[n+1]}return t}},!0)}(),$=/{([^}]+)}/g,CKEDITOR.template=function(t){this.source=String(t)},CKEDITOR.template.prototype.output=function(n,t){var e=this.source.replace($,function(t,e){return void 0!==n[e]?n[e]:t});return t?t.push(e):e},delete CKEDITOR.loadFullCore,CKEDITOR.instances={},CKEDITOR.document=new CKEDITOR.dom.document(document),CKEDITOR.add=function(t){(CKEDITOR.instances[t.name]=t).on("focus",function(){CKEDITOR.currentInstance!=t&&(CKEDITOR.currentInstance=t,CKEDITOR.fire("currentInstance"))}),t.on("blur",function(){CKEDITOR.currentInstance==t&&(CKEDITOR.currentInstance=null,CKEDITOR.fire("currentInstance"))}),CKEDITOR.fire("instance",null,t)},CKEDITOR.remove=function(t){delete CKEDITOR.instances[t.name]},H={},CKEDITOR.addTemplate=function(t,e){var n=H[t];return n||(n={name:t,source:e},CKEDITOR.fire("template",n),H[t]=new CKEDITOR.template(n.source))},CKEDITOR.getTemplate=function(t){return H[t]},z=[],CKEDITOR.addCss=function(t){z.push(t)},CKEDITOR.getCss=function(){return z.join("\n")},CKEDITOR.on("instanceDestroyed",function(){CKEDITOR.tools.isEmpty(this.instances)&&CKEDITOR.fire("reset")}),CKEDITOR.TRISTATE_ON=1,CKEDITOR.TRISTATE_OFF=2,CKEDITOR.TRISTATE_DISABLED=0,CKEDITOR.inline=function(t,e){if(!CKEDITOR.env.isCompatible)return null;if((t=CKEDITOR.dom.element.get(t)).getEditor())throw'The editor instance "'+t.getEditor().name+'" is already attached to the provided element.';var n=new CKEDITOR.editor(e,t,CKEDITOR.ELEMENT_MODE_INLINE),i=t.is("textarea")?t:null;return i?(n.setData(i.getValue(),null,!0),(t=CKEDITOR.dom.element.createFromHtml('<div contenteditable="'+!!n.readOnly+'" class="cke_textarea_inline">'+i.getValue()+"</div>",CKEDITOR.document)).insertAfter(i),i.hide(),i.$.form&&n._attachToForm()):n.setData(t.getHtml(),null,!0),n.on("loaded",function(){n.fire("uiReady"),n.editable(t),n.container=t,n.ui.contentsElement=t,n.setData(n.getData(1)),n.resetDirty(),n.fire("contentDom"),n.mode="wysiwyg",n.fire("mode"),n.status="ready",n.fireOnce("instanceReady"),CKEDITOR.fire("instanceReady",null,n)},null,null,1e4),n.on("destroy",function(){i&&(n.container.clearCustomData(),n.container.remove(),i.show()),n.element.clearCustomData(),delete n.element}),n},CKEDITOR.inlineAll=function(){var t,e,n;for(n in CKEDITOR.dtd.$editable)for(var i=CKEDITOR.document.getElementsByTag(n),o=0,a=i.count();o<a;o++)"true"==(t=i.getItem(o)).getAttribute("contenteditable")&&(!(e={element:t,config:{}})!==CKEDITOR.fire("inline",e)&&CKEDITOR.inline(t,e.config))},CKEDITOR.domReady(function(){!CKEDITOR.disableAutoInline&&CKEDITOR.inlineAll()}),CKEDITOR.replaceClass="ckeditor",function(){function i(t,e,n,i){if(!CKEDITOR.env.isCompatible)return null;if((t=CKEDITOR.dom.element.get(t)).getEditor())throw'The editor instance "'+t.getEditor().name+'" is already attached to the provided element.';var o=new CKEDITOR.editor(e,t,i);return i==CKEDITOR.ELEMENT_MODE_REPLACE&&(t.setStyle("visibility","hidden"),o._.required=t.hasAttribute("required"),t.removeAttribute("required")),n&&o.setData(n,null,!0),o.on("loaded",function(){r(o),i==CKEDITOR.ELEMENT_MODE_REPLACE&&o.config.autoUpdateElement&&t.$.form&&o._attachToForm(),o.setMode(o.config.startupMode,function(){o.resetDirty(),o.status="ready",o.fireOnce("instanceReady"),CKEDITOR.fire("instanceReady",null,o)})}),o.on("destroy",a),o}function a(){var t=this.container,e=this.element;t&&(t.clearCustomData(),t.remove()),e&&(e.clearCustomData(),this.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE&&(e.show(),this._.required&&e.setAttribute("required","required")),delete this.element)}function r(t){var e=t.name,n=t.element,i=t.elementMode,o=t.fire("uiSpace",{space:"top",html:""}).html,a=t.fire("uiSpace",{space:"bottom",html:""}).html,r=new CKEDITOR.template('<{outerEl} id="cke_{name}" class="{id} cke cke_reset cke_chrome cke_editor_{name} cke_{langDir} '+CKEDITOR.env.cssClass+'"  dir="{langDir}" lang="{langCode}" role="application"'+(t.title?' aria-labelledby="cke_{name}_arialbl"':"")+">"+(t.title?'<span id="cke_{name}_arialbl" class="cke_voice_label">{voiceLabel}</span>':"")+'<{outerEl} class="cke_inner cke_reset" role="presentation">{topHtml}<{outerEl} id="{contentId}" class="cke_contents cke_reset" role="presentation"></{outerEl}>{bottomHtml}</{outerEl}></{outerEl}>');e=CKEDITOR.dom.element.createFromHtml(r.output({id:t.id,name:e,langDir:t.lang.dir,langCode:t.langCode,voiceLabel:t.title,topHtml:o?'<span id="'+t.ui.spaceId("top")+'" class="cke_top cke_reset_all" role="presentation" style="height:auto">'+o+"</span>":"",contentId:t.ui.spaceId("contents"),bottomHtml:a?'<span id="'+t.ui.spaceId("bottom")+'" class="cke_bottom cke_reset_all" role="presentation">'+a+"</span>":"",outerEl:CKEDITOR.env.ie?"span":"div"}));i==CKEDITOR.ELEMENT_MODE_REPLACE?(n.hide(),e.insertAfter(n)):n.append(e),t.container=e,t.ui.contentsElement=t.ui.space("contents"),o&&t.ui.space("top").unselectable(),a&&t.ui.space("bottom").unselectable(),n=t.config.width,i=t.config.height,n&&e.setStyle("width",CKEDITOR.tools.cssLength(n)),i&&t.ui.space("contents").setStyle("height",CKEDITOR.tools.cssLength(i)),e.disableContextMenu(),CKEDITOR.env.webkit&&e.on("focus",function(){t.focus()}),t.fireOnce("uiReady")}CKEDITOR.replace=function(t,e){return i(t,e,null,CKEDITOR.ELEMENT_MODE_REPLACE)},CKEDITOR.appendTo=function(t,e,n){return i(t,e,n,CKEDITOR.ELEMENT_MODE_APPENDTO)},CKEDITOR.replaceAll=function(t){for(var e=document.getElementsByTagName("textarea"),n=0;n<e.length;n++){var i=null,o=e[n];if(o.name||o.id){if("string"==typeof t){if(!new RegExp("(?:^|\\s)"+t+"(?:$|\\s)").test(o.className))continue}else if("function"==typeof t&&!(i={})===t(o,i))continue;this.replace(o,i)}}},CKEDITOR.editor.prototype.addMode=function(t,e){(this._.modes||(this._.modes={}))[t]=e},CKEDITOR.editor.prototype.setMode=function(t,e){var n=this,i=this._.modes;if(t!=n.mode&&i&&i[t]){if(n.fire("beforeSetMode",t),n.mode){var o,a=n.checkDirty(),r=(i=n._.previousModeData,0);n.fire("beforeModeUnload"),n.editable(0),n._.previousMode=n.mode,n._.previousModeData=o=n.getData(1),"source"==n.mode&&i==o&&(n.fire("lockSnapshot",{forceUpdate:!0}),r=1),n.ui.space("contents").setHtml(""),n.mode=""}else n._.previousModeData=n.getData(1);this._.modes[t](function(){n.mode=t,void 0!==a&&!a&&n.resetDirty(),r?n.fire("unlockSnapshot"):"wysiwyg"==t&&n.fire("saveSnapshot"),setTimeout(function(){n.fire("mode"),e&&e.call(n)},0)})}},CKEDITOR.editor.prototype.resize=function(t,e,n,i){var o=this.container,a=this.ui.space("contents"),r=CKEDITOR.env.webkit&&this.document&&this.document.getWindow().$.frameElement;(i=i?this.container.getFirst(function(t){return t.type==CKEDITOR.NODE_ELEMENT&&t.hasClass("cke_inner")}):o).setSize("width",t,!0),r&&(r.style.width="1%");var s=(i.$.offsetHeight||0)-(a.$.clientHeight||0);o=Math.max(e-(n?0:s),0);e=n?e+s:e,a.setStyle("height",o+"px"),r&&(r.style.width="100%"),this.fire("resize",{outerHeight:e,contentsHeight:o,outerWidth:t||i.getSize("width")})},CKEDITOR.editor.prototype.getResizable=function(t){return t?this.ui.space("contents"):this.container},CKEDITOR.domReady(function(){CKEDITOR.replaceClass&&CKEDITOR.replaceAll(CKEDITOR.replaceClass)})}(),CKEDITOR.config.startupMode="wysiwyg",function(){function i(t){var e,n=t.editor,i=t.data.path,o=i.blockLimit,a=t.data.selection,r=a.getRanges()[0];(CKEDITOR.env.gecko||CKEDITOR.env.ie&&CKEDITOR.env.needsBrFiller)&&(a=s(a,i))&&(a.appendBogus(),e=CKEDITOR.env.ie),F(n,i.block,o)&&r.collapsed&&!r.getCommonAncestor().isReadOnly()&&((i=r.clone()).enlarge(CKEDITOR.ENLARGE_BLOCK_CONTENTS),(o=new CKEDITOR.dom.walker(i)).guard=function(t){return!L(t)||t.type==CKEDITOR.NODE_COMMENT||t.isReadOnly()},!o.checkForward()||i.checkStartOfBlock()&&i.checkEndOfBlock())&&(n=r.fixBlock(!0,n.activeEnterMode==CKEDITOR.ENTER_DIV?"div":"p"),CKEDITOR.env.needsBrFiller||(n=n.getFirst(L))&&n.type==CKEDITOR.NODE_TEXT&&CKEDITOR.tools.trim(n.getText()).match(/^(?:&nbsp;|\xa0)$/)&&n.remove(),e=1,t.cancel()),e&&r.select()}function s(t,e){if(t.isFake)return 0;var n=e.block||e.blockLimit,i=n&&n.getLast(L);return!n||!n.isBlockBoundary()||i&&i.type==CKEDITOR.NODE_ELEMENT&&i.isBlockBoundary()||n.is("pre")||n.getBogus()?void 0:n}function a(t){var e=t.data.getTarget();e.is("input")&&("submit"!=(e=e.getAttribute("type"))&&"reset"!=e||t.data.preventDefault())}function L(t){return h(t)&&c(t)}function o(n,i){return function(t){var e=t.data.$.toElement||t.data.$.fromElement||t.data.$.relatedTarget;(e=e&&e.nodeType==CKEDITOR.NODE_ELEMENT?new CKEDITOR.dom.element(e):null)&&(i.equals(e)||i.contains(e))||n.call(this,t)}}function u(t){function e(n){return function(t,e){if(e&&t.type==CKEDITOR.NODE_ELEMENT&&t.is(o)&&(i=t),!(e||!L(t)||n&&d(t)))return!1}}var i,n=t.getRanges()[0];t=t.root;var o={table:1,ul:1,ol:1,dl:1};if(n.startPath().contains(o)){var a=n.clone();if(a.collapse(1),a.setStartAt(t,CKEDITOR.POSITION_AFTER_START),(t=new CKEDITOR.dom.walker(a)).guard=e(),t.checkBackward(),i)return(a=n.clone()).collapse(),a.setEndAt(i,CKEDITOR.POSITION_AFTER_END),(t=new CKEDITOR.dom.walker(a)).guard=e(!0),i=!1,t.checkForward(),i}return null}function F(t,e,n){return!1!==t.config.autoParagraph&&t.activeEnterMode!=CKEDITOR.ENTER_BR&&(t.editable().equals(n)&&!e||e&&"true"==e.getAttribute("contenteditable"))}function P(t){return t.activeEnterMode!=CKEDITOR.ENTER_BR&&!1!==t.config.autoParagraph&&(t.activeEnterMode==CKEDITOR.ENTER_DIV?"div":"p")}function r(t){var e=t.editor;e.getSelection().scrollIntoView(),setTimeout(function(){e.fire("saveSnapshot")},0)}function l(t,e,n){var i=t.getCommonAncestor(e);for(e=t=n?e:t;(t=t.getParent())&&!i.equals(t)&&1==t.getChildCount();)e=t;e.remove()}var h,c,f,d,p,m,g,v,e,E;CKEDITOR.editable=CKEDITOR.tools.createClass({base:CKEDITOR.dom.element,$:function(t,e){this.base(e.$||e),this.editor=t,this.status="unloaded",this.hasFocus=!1,this.setup()},proto:{focus:function(){var t;if(CKEDITOR.env.webkit&&!this.hasFocus&&(t=this.editor._.previousActive||this.getDocument().getActive(),this.contains(t)))t.focus();else{CKEDITOR.env.edge&&14<CKEDITOR.env.version&&!this.hasFocus&&this.getDocument().equals(CKEDITOR.document)&&(this.editor._.previousScrollTop=this.$.scrollTop);try{if(!CKEDITOR.env.ie||CKEDITOR.env.edge&&14<CKEDITOR.env.version||!this.getDocument().equals(CKEDITOR.document))if(CKEDITOR.env.chrome){var e=this.$.scrollTop;this.$.focus(),this.$.scrollTop=e}else this.$.focus();else this.$.setActive()}catch(L){if(!CKEDITOR.env.ie)throw L}CKEDITOR.env.safari&&!this.isInline()&&((t=CKEDITOR.document.getActive()).equals(this.getWindow().getFrame())||this.getWindow().focus())}},on:function(t,e){var n=Array.prototype.slice.call(arguments,0);return CKEDITOR.env.ie&&/^focus|blur$/.exec(t)&&(t="focus"==t?"focusin":"focusout",e=o(e,this),n[0]=t,n[1]=e),CKEDITOR.dom.element.prototype.on.apply(this,n)},attachListener:function(t){!this._.listeners&&(this._.listeners=[]);var e=Array.prototype.slice.call(arguments,1);e=t.on.apply(t,e);return this._.listeners.push(e),e},clearListeners:function(){var t=this._.listeners;try{for(;t.length;)t.pop().removeListener()}catch(a){}},restoreAttrs:function(){var t,e,n=this._.attrChanges;for(e in n)n.hasOwnProperty(e)&&(null!==(t=n[e])?this.setAttribute(e,t):this.removeAttribute(e))},attachClass:function(t){var e=this.getCustomData("classes");this.hasClass(t)||(!e&&(e=[]),e.push(t),this.setCustomData("classes",e),this.addClass(t))},changeAttr:function(t,e){var n=this.getAttribute(t);e!==n&&(!this._.attrChanges&&(this._.attrChanges={}),t in this._.attrChanges||(this._.attrChanges[t]=n),this.setAttribute(t,e))},insertText:function(t){this.editor.focus(),this.insertHtml(this.transformPlainTextToHtml(t),"text")},transformPlainTextToHtml:function(t){var e=this.editor.getSelection().getStartElement().hasAscendant("pre",!0)?CKEDITOR.ENTER_BR:this.editor.activeEnterMode;return CKEDITOR.tools.transformPlainTextToHtml(t,e)},insertHtml:function(t,e,n){var i=this.editor;i.focus(),i.fire("saveSnapshot"),n||(n=i.getSelection().getRanges()[0]),m(this,e||"html",t,n),n.select(),r(this),this.editor.fire("afterInsertHtml",{})},insertHtmlIntoRange:function(t,e,n){m(this,n||"html",t,e),this.editor.fire("afterInsertHtml",{intoRange:e})},insertElement:function(t,e){(i=this.editor).focus(),i.fire("saveSnapshot");var n=i.activeEnterMode,i=i.getSelection(),o=t.getName();o=CKEDITOR.dtd.$block[o];e||(e=i.getRanges()[0]),this.insertElementIntoRange(t,e)&&(e.moveToPosition(t,CKEDITOR.POSITION_AFTER_END),o&&((o=t.getNext(function(t){return L(t)&&!d(t)}))&&o.type==CKEDITOR.NODE_ELEMENT&&o.is(CKEDITOR.dtd.$block)?o.getDtd()["#"]?e.moveToElementEditStart(o):e.moveToElementEditEnd(t):o||n==CKEDITOR.ENTER_BR||(o=e.fixBlock(!0,n==CKEDITOR.ENTER_DIV?"div":"p"),e.moveToElementEditStart(o)))),i.selectRanges([e]),r(this)},insertElementIntoSelection:function(t){this.insertElement(t)},insertElementIntoRange:function(t,e){var n,i,o=this.editor,a=o.config.enterMode,r=t.getName(),s=CKEDITOR.dtd.$block[r];if(e.checkReadOnly())return!1;if(e.deleteContents(1),e.startContainer.type==CKEDITOR.NODE_ELEMENT&&(e.startContainer.is({tr:1,table:1,tbody:1,thead:1,tfoot:1})?g(e):e.startContainer.is(CKEDITOR.dtd.$list)&&v(e)),s)for(;(n=e.getCommonAncestor(0,1))&&(i=CKEDITOR.dtd[n.getName()])&&(!i||!i[r]);)n.getName()in CKEDITOR.dtd.span?e.splitElement(n):e.checkStartOfBlock()&&e.checkEndOfBlock()?(e.setStartBefore(n),e.collapse(!0),n.remove()):e.splitBlock(a==CKEDITOR.ENTER_DIV?"div":"p",o.editable());return e.insertNode(t),!0},setData:function(t,e){e||(t=this.editor.dataProcessor.toHtml(t)),this.setHtml(t),this.fixInitialSelection(),"unloaded"==this.status&&(this.status="ready"),this.editor.fire("dataReady")},getData:function(t){var e=this.getHtml();return t||(e=this.editor.dataProcessor.toDataFormat(e)),e},setReadOnly:function(t){this.setAttribute("contenteditable",!t)},detach:function(){this.removeClass("cke_editable"),this.status="detached";var t=this.editor;this._.detach(),delete t.document,delete t.window},isInline:function(){return this.getDocument().equals(CKEDITOR.document)},fixInitialSelection:function(){function t(){var t,e=i.getDocument().$,n=e.getSelection();t:if(n.anchorNode&&n.anchorNode==i.$)t=!0;else{if(CKEDITOR.env.webkit&&(t=i.getDocument().getActive())&&t.equals(i)&&!n.anchorNode){t=!0;break t}t=void 0}t&&((t=new CKEDITOR.dom.range(i)).moveToElementEditStart(i),(e=e.createRange()).setStart(t.startContainer.$,t.startOffset),e.collapse(!0),n.removeAllRanges(),n.addRange(e))}function e(){var t=i.getDocument().$,e=t.selection,n=i.getDocument().getActive();"None"==e.type&&n.equals(i)&&(e=new CKEDITOR.dom.range(i),t=t.body.createTextRange(),e.moveToElementEditStart(i),(e=e.startContainer).type!=CKEDITOR.NODE_ELEMENT&&(e=e.getParent()),t.moveToElementText(e.$),t.collapse(!0),t.select())}var i=this;CKEDITOR.env.ie&&(CKEDITOR.env.version<9||CKEDITOR.env.quirks)?this.hasFocus&&(this.focus(),e()):this.hasFocus?(this.focus(),t()):this.once("focus",function(){t()},null,null,-999)},getHtmlFromRange:function(t){return t.collapsed?new CKEDITOR.dom.documentFragment(t.document):(t={doc:this.getDocument(),range:t.clone()},e.eol.detect(t,this),e.bogus.exclude(t),e.cell.shrink(t),t.fragment=t.range.cloneContents(),e.tree.rebuild(t,this),e.eol.fix(t,this),new CKEDITOR.dom.documentFragment(t.fragment.$))},extractHtmlFromRange:function(t,e){var n=E,i={range:t,doc:t.document},o=this.getHtmlFromRange(t);if(t.collapsed)return t.optimize(),o;if(t.enlarge(CKEDITOR.ENLARGE_INLINE,1),n.table.detectPurge(i),i.bookmark=t.createBookmark(),delete i.range,(r=this.editor.createRange()).moveToPosition(i.bookmark.startNode,CKEDITOR.POSITION_BEFORE_START),i.targetBookmark=r.createBookmark(),n.list.detectMerge(i,this),n.table.detectRanges(i,this),n.block.detectMerge(i,this),i.tableContentsRanges?(n.table.deleteRanges(i),t.moveToBookmark(i.bookmark),i.range=t):(t.moveToBookmark(i.bookmark),(i.range=t).extractContents(n.detectExtractMerge(i))),t.moveToBookmark(i.targetBookmark),t.optimize(),n.fixUneditableRangePosition(t),n.list.merge(i,this),n.table.purge(i,this),n.block.merge(i,this),e){if(n=t.startPath(),i=t.checkStartOfBlock()&&t.checkEndOfBlock()&&n.block&&!t.root.equals(n.block)){t:{var a,r=0;if(i=n.block.getElementsByTag("span"))for(;a=i.getItem(r++);)if(!c(a)){i=!0;break t}i=!1}i=!i}i&&(t.moveToPosition(n.block,CKEDITOR.POSITION_BEFORE_START),n.block.remove())}else n.autoParagraph(this.editor,t),f(t.startContainer)&&t.startContainer.appendBogus();return t.startContainer.mergeSiblings(),o},setup:function(){var c=this.editor;if(this.attachListener(c,"beforeGetData",function(){var t=this.getData();this.is("textarea")||!1!==c.config.ignoreEmptyParagraph&&(t=t.replace(p,function(t,e){return e})),c.setData(t,null,1)},this),this.attachListener(c,"getSnapshot",function(t){t.data=this.getData(1)},this),this.attachListener(c,"afterSetData",function(){this.setData(c.getData(1))},this),this.attachListener(c,"loadSnapshot",function(t){this.setData(t.data,1)},this),this.attachListener(c,"beforeFocus",function(){var t=c.getSelection();(t=t&&t.getNative())&&"Control"==t.type||this.focus()},this),this.attachListener(c,"insertHtml",function(t){this.insertHtml(t.data.dataValue,t.data.mode,t.data.range)},this),this.attachListener(c,"insertElement",function(t){this.insertElement(t.data)},this),this.attachListener(c,"insertText",function(t){this.insertText(t.data)},this),this.setReadOnly(c.readOnly),this.attachClass("cke_editable"),c.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?this.attachClass("cke_editable_inline"):c.elementMode!=CKEDITOR.ELEMENT_MODE_REPLACE&&c.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO||this.attachClass("cke_editable_themed"),this.attachClass("cke_contents_"+c.config.contentsLangDirection),c.keystrokeHandler.blockedKeystrokes[8]=+c.readOnly,c.keystrokeHandler.attach(this),this.on("blur",function(){this.hasFocus=!1},null,null,-1),this.on("focus",function(){this.hasFocus=!0},null,null,-1),CKEDITOR.env.webkit&&this.on("scroll",function(){c._.previousScrollTop=c.editable().$.scrollTop},null,null,-1),CKEDITOR.env.edge&&14<CKEDITOR.env.version){var e=function(){var t=c.editable();null!=c._.previousScrollTop&&t.getDocument().equals(CKEDITOR.document)&&(t.$.scrollTop=c._.previousScrollTop,c._.previousScrollTop=null,this.removeListener("scroll",e))};this.on("scroll",e)}if(c.focusManager.add(this),this.equals(CKEDITOR.document.getActive())&&(this.hasFocus=!0,c.once("contentDom",function(){c.focusManager.focus(this)},this)),this.isInline()&&this.changeAttr("tabindex",c.tabIndex),!this.is("textarea")){c.document=this.getDocument(),c.window=this.getWindow();var t=c.document;this.changeAttr("spellcheck",!c.config.disableNativeSpellChecker);var n=c.config.contentsLangDirection;this.getDirection(1)!=n&&this.changeAttr("dir",n);var i=CKEDITOR.getCss();if(i){var o=(n=t.getHead()).getCustomData("stylesheet");o?i!=o.getText()&&(
CKEDITOR.env.ie&&CKEDITOR.env.version<9?o.$.styleSheet.cssText=i:o.setText(i)):(i=t.appendStyleText(i),i=new CKEDITOR.dom.element(i.ownerNode||i.owningElement),n.setCustomData("stylesheet",i),i.data("cke-temp",1))}n=t.getCustomData("stylesheet_ref")||0,t.setCustomData("stylesheet_ref",n+1),this.setCustomData("cke_includeReadonly",!c.config.disableReadonlyStyling),this.attachListener(this,"click",function(t){t=t.data;var e=new CKEDITOR.dom.elementPath(t.getTarget(),this).contains("a");e&&2!=t.$.button&&e.isReadOnly()&&t.preventDefault()});var d={8:1,46:1};this.attachListener(c,"key",function(t){if(c.readOnly)return!0;var e,n=t.data.domEvent.getKey();if(0!==(t=c.getSelection()).getRanges().length){if(n in d){var i,o,a,r,s=t.getRanges()[0],l=s.startPath();n=8==n;CKEDITOR.env.ie&&CKEDITOR.env.version<11&&(i=t.getSelectedElement())||(i=u(t))?(c.fire("saveSnapshot"),s.moveToPosition(i,CKEDITOR.POSITION_BEFORE_START),i.remove(),s.select(),c.fire("saveSnapshot"),e=1):s.collapsed&&((o=l.block)&&(r=o[n?"getPrevious":"getNext"](h))&&r.type==CKEDITOR.NODE_ELEMENT&&r.is("table")&&s[n?"checkStartOfBlock":"checkEndOfBlock"]()?(c.fire("saveSnapshot"),s[n?"checkEndOfBlock":"checkStartOfBlock"]()&&o.remove(),s["moveToElementEdit"+(n?"End":"Start")](r),s.select(),c.fire("saveSnapshot"),e=1):l.blockLimit&&l.blockLimit.is("td")&&(a=l.blockLimit.getAscendant("table"))&&s.checkBoundaryOfElement(a,n?CKEDITOR.START:CKEDITOR.END)&&(r=a[n?"getPrevious":"getNext"](h))?(c.fire("saveSnapshot"),s["moveToElementEdit"+(n?"End":"Start")](r),s.checkStartOfBlock()&&s.checkEndOfBlock()?r.remove():s.select(),c.fire("saveSnapshot"),e=1):(a=l.contains(["td","th","caption"]))&&s.checkBoundaryOfElement(a,n?CKEDITOR.START:CKEDITOR.END)&&(e=1))}return!e}}),c.blockless&&CKEDITOR.env.ie&&CKEDITOR.env.needsBrFiller&&this.attachListener(this,"keyup",function(t){t.data.getKeystroke()in d&&!this.getFirst(L)&&(this.appendBogus(),(t=c.createRange()).moveToPosition(this,CKEDITOR.POSITION_AFTER_START),t.select())}),this.attachListener(this,"dblclick",function(t){if(c.readOnly)return!1;t={element:t.data.getTarget()},c.fire("doubleclick",t)}),CKEDITOR.env.ie&&this.attachListener(this,"click",a),CKEDITOR.env.ie&&!CKEDITOR.env.edge||this.attachListener(this,"mousedown",function(t){var e=t.data.getTarget();e.is("img","hr","input","textarea","select")&&!e.isReadOnly()&&(c.getSelection().selectElement(e),e.is("input","textarea","select")&&t.data.preventDefault())}),CKEDITOR.env.edge&&this.attachListener(this,"mouseup",function(t){(t=t.data.getTarget())&&t.is("img")&&c.getSelection().selectElement(t)}),CKEDITOR.env.gecko&&this.attachListener(this,"mouseup",function(t){if(2==t.data.$.button&&!(t=t.data.getTarget()).getOuterHtml().replace(p,"")){var e=c.createRange();e.moveToElementEditStart(t),e.select(!0)}}),CKEDITOR.env.webkit&&(this.attachListener(this,"click",function(t){t.data.getTarget().is("input","select")&&t.data.preventDefault()}),this.attachListener(this,"mouseup",function(t){t.data.getTarget().is("input","textarea")&&t.data.preventDefault()})),CKEDITOR.env.webkit&&this.attachListener(c,"key",function(t){if(c.readOnly)return!0;if((e=t.data.domEvent.getKey())in d&&0!==(t=c.getSelection()).getRanges().length){var e=8==e,n=t.getRanges()[0];if(t=n.startPath(),n.collapsed)t:{var i=t.block;if(i&&n[e?"checkStartOfBlock":"checkEndOfBlock"]()&&n.moveToClosestEditablePosition(i,!e)&&n.collapsed){if(n.startContainer.type==CKEDITOR.NODE_ELEMENT){var o=n.startContainer.getChild(n.startOffset-(e?1:0));if(o&&o.type==CKEDITOR.NODE_ELEMENT&&o.is("hr")){c.fire("saveSnapshot"),o.remove(),t=!0;break t}}var a;if(!(n=n.startPath().block)||n&&n.contains(i))t=void 0;else c.fire("saveSnapshot"),(a=(e?n:i).getBogus())&&a.remove(),o=(a=c.getSelection()).createBookmarks(),(e?i:n).moveChildren(e?n:i,!1),t.lastElement.mergeSiblings(),l(i,n,!e),a.selectBookmarks(o),t=!0}else t=!1}else e=n,a=t.block,n=e.endPath().block,a&&n&&!a.equals(n)?(c.fire("saveSnapshot"),(i=a.getBogus())&&i.remove(),e.enlarge(CKEDITOR.ENLARGE_INLINE),e.deleteContents(),n.getParent()&&(n.moveChildren(a,!1),t.lastElement.mergeSiblings(),l(a,n,!0)),(e=c.getSelection().getRanges()[0]).collapse(1),e.optimize(),""===e.startContainer.getHtml()&&e.startContainer.appendBogus(),e.select(),t=!0):t=!1;if(!t)return;return c.getSelection().scrollIntoView(),c.fire("saveSnapshot"),!1}},this,null,100)}}},_:{detach:function(){var t;if(this.editor.setData(this.editor.getData(),0,1),this.clearListeners(),this.restoreAttrs(),t=this.removeCustomData("classes"))for(;t.length;)this.removeClass(t.pop());if(!this.is("textarea")){var e=(t=this.getDocument()).getHead();if(e.getCustomData("stylesheet")){var n=t.getCustomData("stylesheet_ref");--n?t.setCustomData("stylesheet_ref",n):(t.removeCustomData("stylesheet_ref"),e.removeCustomData("stylesheet").remove())}}this.editor.fire("contentDomUnload"),delete this.editor}}}),CKEDITOR.editor.prototype.editable=function(t){var e=this._.editable;return e&&t?0:(arguments.length&&(e=this._.editable=t?t instanceof CKEDITOR.editable?t:new CKEDITOR.editable(this,t):(e&&e.detach(),null)),e)},CKEDITOR.on("instanceLoaded",function(t){var n=t.editor;n.on("insertElement",function(t){(t=t.data).type==CKEDITOR.NODE_ELEMENT&&(t.is("input")||t.is("textarea"))&&("false"!=t.getAttribute("contentEditable")&&t.data("cke-editable",t.hasAttribute("contenteditable")?"true":"1"),t.setAttribute("contentEditable",!1))}),n.on("selectionChange",function(t){if(!n.readOnly){var e=n.getSelection();e&&!e.isLocked&&(e=n.checkDirty(),n.fire("lockSnapshot"),i(t),n.fire("unlockSnapshot"),!e&&n.resetDirty())}})}),CKEDITOR.on("instanceCreated",function(t){var o=t.editor;o.on("mode",function(){var t=o.editable();if(t&&t.isInline()){var e=o.title;if(t.changeAttr("role","textbox"),t.changeAttr("aria-label",e),e&&t.changeAttr("title",e),(i=o.fire("ariaEditorHelpLabel",{}).label)&&(e=this.ui.space(this.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?"top":"contents"))){var n=CKEDITOR.tools.getNextId(),i=CKEDITOR.dom.element.createFromHtml('<span id="'+n+'" class="cke_voice_label">'+i+"</span>");e.append(i),t.changeAttr("aria-describedby",n)}}})}),CKEDITOR.addCss(".cke_editable{cursor:text}.cke_editable img,.cke_editable input,.cke_editable textarea{cursor:default}"),h=CKEDITOR.dom.walker.whitespaces(!0),c=CKEDITOR.dom.walker.bookmark(!1,!0),f=CKEDITOR.dom.walker.empty(),d=CKEDITOR.dom.walker.bogus(),p=/(^|<body\b[^>]*>)\s*<(p|div|address|h\d|center|pre)[^>]*>\s*(?:<br[^>]*>|&nbsp;|\u00A0|&#160;)?\s*(:?<\/\2>)?\s*(?=$|<\/body>)/gi,m=function(){function R(t){return t.type==CKEDITOR.NODE_ELEMENT}function k(t,e){var n,i,o,a,r=[],s=e.range.startContainer;n=e.range.startPath();s=N[s.getName()];for(var l=0,c=t.getChildren(),d=c.count(),u=-1,h=-1,f=0,p=n.contains(N.$list);l<d;++l)R(n=c.getItem(l))?(o=n.getName(),p&&o in CKEDITOR.dtd.$list?r=r.concat(k(n,e)):(a=!!s[o],"br"!=o||!n.data("cke-eol")||l&&l!=d-1||(f=(i=l?r[l-1].node:c.getItem(l+1))&&(!R(i)||!i.is("br")),i=i&&R(i)&&N.$block[i.getName()]),-1!=u||a||(u=l),a||(h=l),r.push({isElement:1,isLineBreak:f,isBlock:n.isBlockBoundary(),hasBlockSibling:i,node:n,name:o,allowed:a}),i=f=0)):r.push({isElement:0,node:n,allowed:1});return-1<u&&(r[u].firstNotAllowed=1),-1<h&&(r[h].lastNotAllowed=1),r}function _(t,e){var n,i=[],o=t.getChildren(),a=o.count(),r=0,s=N[e],l=!t.is(N.$inline)||t.is("br");for(l&&i.push(" ");r<a;r++)R(n=o.getItem(r))&&!n.is(s)?i=i.concat(_(n,e)):i.push(n);return l&&i.push(" "),i}function x(t){return R(t.startContainer)&&t.startContainer.getChild(t.startOffset-1)}function w(t){return t&&R(t)&&(t.is(N.$removeEmpty)||t.is("a")&&!t.isBlockBoundary())}function K(t,e,n,i){var o,a,r=t.clone();r.setEndAt(e,CKEDITOR.POSITION_BEFORE_END),(o=new CKEDITOR.dom.walker(r).next())&&R(o)&&s[o.getName()]&&(a=o.getPrevious())&&R(a)&&!a.getParent().equals(t.startContainer)&&n.contains(a)&&i.contains(o)&&o.isIdentical(a)&&(o.moveChildren(a),o.remove(),K(t,e,n,i))}function S(t,e){function n(t,e){if(e.isBlock&&e.isElement&&!e.node.is("br")&&R(t)&&t.is("br"))return t.remove(),1}var i=e.endContainer.getChild(e.endOffset),o=e.endContainer.getChild(e.endOffset-1);i&&n(i,t[t.length-1]),o&&n(o,t[0])&&(e.setEnd(e.endContainer,e.endOffset-1),e.collapse())}var N=CKEDITOR.dtd,s={p:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,ul:1,ol:1,li:1,pre:1,dl:1,blockquote:1},A={p:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1},M=CKEDITOR.tools.extend({},N.$inline);return delete M.br,function(t,e,n,i){var o=t.editor,a=!1;if("unfiltered_html"==e&&(e="html",a=!0),!i.checkReadOnly()){var r,s,l;if(e=(t={type:e,dontFilter:a,editable:t,editor:o,range:i,blockLimit:T=new CKEDITOR.dom.elementPath(i.startContainer,i.root).blockLimit||i.root,mergeCandidates:[],zombies:[]}).range,i=t.mergeCandidates,"text"==t.type&&e.shrink(CKEDITOR.SHRINK_ELEMENT,!0,!1)&&(r=CKEDITOR.dom.element.createFromHtml("<span>&nbsp;</span>",e.document),e.insertNode(r),e.setStartAfter(r)),a=new CKEDITOR.dom.elementPath(e.startContainer),t.endPath=T=new CKEDITOR.dom.elementPath(e.endContainer),!e.collapsed){o=T.block||T.blockLimit;var c=e.getCommonAncestor();o&&!o.equals(c)&&!o.contains(c)&&e.checkEndOfBlock()&&t.zombies.push(o),e.deleteContents()}for(;(s=x(e))&&R(s)&&s.isBlockBoundary()&&a.contains(s);)e.moveToPosition(s,CKEDITOR.POSITION_BEFORE_END);for(K(e,t.blockLimit,a,T),r&&(e.setEndBefore(r),e.collapse(),r.remove()),(o=(r=e.startPath()).contains(w,!1,1))&&(e.splitElement(o),t.inlineStylesRoot=o,t.inlineStylesPeak=r.lastElement),(o=(r=e.createBookmark()).startNode.getPrevious(L))&&R(o)&&w(o)&&i.push(o),(o=r.startNode.getNext(L))&&R(o)&&w(o)&&i.push(o),o=r.startNode;(o=o.getParent())&&w(o);)i.push(o);if(e.moveToBookmark(r),r=n){if(r=t.range,"text"==t.type&&t.inlineStylesRoot){for(e=(s=t.inlineStylesPeak).getDocument().createText("{cke-peak}"),i=t.inlineStylesRoot.getParent();!s.equals(i);)e=e.appendTo(s.clone()),s=s.getParent();n=e.getOuterHtml().split("{cke-peak}").join(n)}if(s=t.blockLimit.getName(),/^\s+|\s+$/.test(n)&&"span"in CKEDITOR.dtd[s])n=(v='<span data-cke-marker="1">&nbsp;</span>')+n+v;if(n=t.editor.dataProcessor.toHtml(n,{context:null,fixForBody:!1,protectedWhitespaces:!!v,dontFilter:t.dontFilter,filter:t.editor.activeFilter,enterMode:t.editor.activeEnterMode}),(s=r.document.createElement("body")).setHtml(n),v&&(s.getFirst().remove(),s.getLast().remove()),(v=r.startPath().block)&&(1!=v.getChildCount()||!v.getBogus()))t:{var d;if(1==s.getChildCount()&&R(d=s.getFirst())&&d.is(A)&&!d.hasAttribute("contenteditable")){for(r=0,i=(v=d.getElementsByTag("*")).count();r<i;r++)if(!(e=v.getItem(r)).is(M))break t;d.moveChildren(d.getParent(1)),d.remove()}}t.dataWrapper=s,r=n}if(r){var u;r=(d=t.range).document,s=t.blockLimit;var h,f,p,m,g,v=[];n=o=i=0,e=d.startContainer;var E,T=(a=t.endPath.elements[0]).getPosition(e);c=!(!a.getCommonAncestor(e)||T==CKEDITOR.POSITION_IDENTICAL||T&CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_IS_CONTAINED);for(S(e=k(t.dataWrapper,t),d);i<e.length;i++){if(u=(T=e[i]).isLineBreak){u=d,m=s;var b=void 0,C=void 0;T.hasBlockSibling?u=1:(b=u.startContainer.getAscendant(N.$block,1))&&b.is({div:1,p:1})?(C=b.getPosition(m))==CKEDITOR.POSITION_IDENTICAL||C==CKEDITOR.POSITION_CONTAINS?u=0:(m=u.splitElement(b),u.moveToPosition(m,CKEDITOR.POSITION_AFTER_START),u=1):u=0}if(u)n=0<i;else{if(u=d.startPath(),!T.isBlock&&F(t.editor,u.block,u.blockLimit)&&(p=P(t.editor))&&((p=r.createElement(p)).appendBogus(),d.insertNode(p),CKEDITOR.env.needsBrFiller&&(h=p.getBogus())&&h.remove(),d.moveToPosition(p,CKEDITOR.POSITION_BEFORE_END)),(u=d.startPath().block)&&!u.equals(f)&&((h=u.getBogus())&&(h.remove(),v.push(u)),f=u),T.firstNotAllowed&&(o=1),o&&T.isElement){for(u=d.startContainer,m=null;u&&!N[u.getName()][T.name];){if(u.equals(s)){u=null;break}u=(m=u).getParent()}if(u)m&&(g=d.splitElement(m),t.zombies.push(g),t.zombies.push(m));else{m=s.getName(),E=!i,u=i==e.length-1;b=[],C=(m=_(T.node,m)).length;for(var y=0,D=void 0,I=0,O=-1;y<C;y++)" "==(D=m[y])?(I||E&&!y||(b.push(new CKEDITOR.dom.text(" ")),O=b.length),I=1):(b.push(D),I=0);u&&O==b.length&&b.pop(),E=b}}if(E){for(;u=E.pop();)d.insertNode(u);E=0}else d.insertNode(T.node);T.lastNotAllowed&&i<e.length-1&&((g=c?a:g)&&d.setEndAt(g,CKEDITOR.POSITION_AFTER_START),o=0),d.collapse()}}1!=e.length?h=!1:h=(h=e[0]).isElement&&"false"==h.node.getAttribute("contenteditable"),h&&(n=!0,u=e[0].node,d.setStartAt(u,CKEDITOR.POSITION_BEFORE_START),d.setEndAt(u,CKEDITOR.POSITION_AFTER_END)),t.dontMoveCaret=n,t.bogusNeededBlocks=v}for(h=t.range,g=t.bogusNeededBlocks,E=h.createBookmark();f=t.zombies.pop();)f.getParent()&&((p=h.clone()).moveToElementEditStart(f),p.removeEmptyBlocksAtEnd());if(g)for(;f=g.pop();)CKEDITOR.env.needsBrFiller?f.appendBogus():f.append(h.document.createText("\xa0"));for(;f=t.mergeCandidates.pop();)f.mergeSiblings();if(h.moveToBookmark(E),!t.dontMoveCaret){for(f=x(h);f&&R(f)&&!f.is(N.$empty);){if(f.isBlockBoundary())h.moveToPosition(f,CKEDITOR.POSITION_BEFORE_END);else{if(w(f)&&f.getHtml().match(/(\s|&nbsp;)$/g)){l=null;break}(l=h.clone()).moveToPosition(f,CKEDITOR.POSITION_BEFORE_END)}f=f.getLast(L)}l&&h.moveToRange(l)}}}}(),g=function(){function o(t){return(t=new CKEDITOR.dom.walker(t)).guard=function(t,e){return!e&&(t.type==CKEDITOR.NODE_ELEMENT?t.is(CKEDITOR.dtd.$tableContent):void 0)},t.evaluator=function(t){return t.type==CKEDITOR.NODE_ELEMENT},t}function a(t,e,n){return e=t.getDocument().createElement(e),t.append(e,n),e}function r(t){for(var e,n=t.count();0<n--;)e=t.getItem(n),CKEDITOR.tools.trim(e.getHtml())||(e.appendBogus(),CKEDITOR.env.ie&&CKEDITOR.env.version<9&&e.getChildCount()&&e.getFirst().remove())}return function(t){var e=t.startContainer,n=e.getAscendant("table",1),i=!1;r(n.getElementsByTag("td")),r(n.getElementsByTag("th")),(n=t.clone()).setStart(e,0),(n=o(n).lastBackward())||((n=t.clone()).setEndAt(e,CKEDITOR.POSITION_BEFORE_END),n=o(n).lastForward(),i=!0),n||(n=e),n.is("table")?(t.setStartAt(n,CKEDITOR.POSITION_BEFORE_START),t.collapse(!0),n.remove()):(n.is({tbody:1,thead:1,tfoot:1})&&(n=a(n,"tr",i)),n.is("tr")&&(n=a(n,n.getParent().is("thead")?"th":"td",i)),(e=n.getBogus())&&e.remove(),t.moveToPosition(n,i?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_END))}}(),v=function(){function o(t){return(t=new CKEDITOR.dom.walker(t)).guard=function(t,e){return!e&&(t.type==CKEDITOR.NODE_ELEMENT?t.is(CKEDITOR.dtd.$list)||t.is(CKEDITOR.dtd.$listItem):void 0)},t.evaluator=function(t){return t.type==CKEDITOR.NODE_ELEMENT&&t.is(CKEDITOR.dtd.$listItem)},t}return function(t){var e,n=t.startContainer,i=!1;(e=t.clone()).setStart(n,0),(e=o(e).lastBackward())||((e=t.clone()).setEndAt(n,CKEDITOR.POSITION_BEFORE_END),e=o(e).lastForward(),i=!0),e||(e=n),e.is(CKEDITOR.dtd.$list)?(t.setStartAt(e,CKEDITOR.POSITION_BEFORE_START),t.collapse(!0),e.remove()):((n=e.getBogus())&&n.remove(),t.moveToPosition(e,i?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_END),t.select())}}(),e={eol:{detect:function(t,e){var n=t.range,i=n.clone(),o=n.clone(),a=new CKEDITOR.dom.elementPath(n.startContainer,e),r=new CKEDITOR.dom.elementPath(n.endContainer,e);i.collapse(1),o.collapse(),a.block&&i.checkBoundaryOfElement(a.block,CKEDITOR.END)&&(n.setStartAfter(a.block),t.prependEolBr=1),r.block&&o.checkBoundaryOfElement(r.block,CKEDITOR.START)&&(n.setEndBefore(r.block),t.appendEolBr=1)},fix:function(t,e){var n,i=e.getDocument();t.appendEolBr&&(n=this.createEolBr(i),t.fragment.append(n)),!t.prependEolBr||n&&!n.getPrevious()||t.fragment.append(this.createEolBr(i),1)},createEolBr:function(t){return t.createElement("br",{attributes:{"data-cke-eol":1}})}},bogus:{exclude:function(t){var e,n=(e=t.range.getBoundaryNodes()).startNode;!(e=e.endNode)||!d(e)||n&&n.equals(e)||t.range.setEndBefore(e)}},tree:{rebuild:function(t,e){var n,i=(r=t.range).getCommonAncestor(),o=new CKEDITOR.dom.elementPath(i,e),a=new CKEDITOR.dom.elementPath(r.startContainer,e),r=new CKEDITOR.dom.elementPath(r.endContainer,e);if(i.type==CKEDITOR.NODE_TEXT&&(i=i.getParent()),o.blockLimit.is({tr:1,table:1})){var s=o.contains("table").getParent();n=function(t){return!t.equals(s)}}else if(o.block&&o.block.is(CKEDITOR.dtd.$listItem)&&(a=a.contains(CKEDITOR.dtd.$list),r=r.contains(CKEDITOR.dtd.$list),!a.equals(r))){var l=o.contains(CKEDITOR.dtd.$list).getParent();n=function(t){return!t.equals(l)}}n||(n=function(t){return!t.equals(o.block)&&!t.equals(o.blockLimit)}),this.rebuildFragment(t,e,i,n)},rebuildFragment:function(t,e,n,i){for(var o;n&&!n.equals(e)&&i(n);)o=n.clone(0,1),t.fragment.appendTo(o),t.fragment=o,n=n.getParent()}},cell:{shrink:function(t){var e=(t=t.range).startContainer,n=t.endContainer,i=t.startOffset,o=t.endOffset;e.type==CKEDITOR.NODE_ELEMENT&&e.equals(n)&&e.is("tr")&&++i==o&&t.shrink(CKEDITOR.SHRINK_TEXT)}}},E=function(){function o(t,e){var n=t.getParent();n.is(CKEDITOR.dtd.$inline)&&t[e?"insertBefore":"insertAfter"](n)}function l(t,e,n){o(e),o(n,1);for(var i;i=n.getNext();)i.insertAfter(e),e=i;f(t)&&t.remove()}function u(t,e){var n=new CKEDITOR.dom.range(t);return n.setStartAfter(e.startNode),n.setEndBefore(e.endNode),n}return{list:{detectMerge:function(t,e){var n=u(e,t.bookmark),i=n.startPath(),o=n.endPath(),a=i.contains(CKEDITOR.dtd.$list),r=o.contains(CKEDITOR.dtd.$list);t.mergeList=a&&r&&a.getParent().equals(r.getParent())&&!a.equals(r),t.mergeListItems=i.block&&o.block&&i.block.is(CKEDITOR.dtd.$listItem)&&o.block.is(CKEDITOR.dtd.$listItem),(t.mergeList||t.mergeListItems)&&((n=n.clone()).setStartBefore(t.bookmark.startNode),n.setEndAfter(t.bookmark.endNode),t.mergeListBookmark=n.createBookmark())},merge:function(t,e){if(t.mergeListBookmark){var n=t.mergeListBookmark.startNode,i=t.mergeListBookmark.endNode,o=new CKEDITOR.dom.elementPath(n,e),a=new CKEDITOR.dom.elementPath(i,e);if(t.mergeList){var r=o.contains(CKEDITOR.dtd.$list),s=a.contains(CKEDITOR.dtd.$list);r.equals(s)||(s.moveChildren(r),s.remove())}t.mergeListItems&&(o=o.contains(CKEDITOR.dtd.$listItem),a=a.contains(CKEDITOR.dtd.$listItem),o.equals(a)||l(a,n,i)),n.remove(),i.remove()}}},block:{detectMerge:function(t,e){if(!t.tableContentsRanges&&!t.mergeListBookmark){var n=new CKEDITOR.dom.range(e);n.setStartBefore(t.bookmark.startNode),n.setEndAfter(t.bookmark.endNode),t.mergeBlockBookmark=n.createBookmark()}},merge:function(t,e){if(t.mergeBlockBookmark&&!t.purgeTableBookmark){var n=t.mergeBlockBookmark.startNode,i=t.mergeBlockBookmark.endNode,o=new CKEDITOR.dom.elementPath(n,e),a=new CKEDITOR.dom.elementPath(i,e);o=o.block,a=a.block;o&&a&&!o.equals(a)&&l(a,n,i),n.remove(),i.remove()}}},table:function(){function s(i){var o,a=[],t=new CKEDITOR.dom.walker(i),r=i.startPath().contains(d),s=i.endPath().contains(d),l={};return t.guard=function(t,e){if(t.type==CKEDITOR.NODE_ELEMENT){var n="visited_"+(e?"out":"in");if(t.getCustomData(n))return;CKEDITOR.dom.element.setMarker(l,t,n,1)}e&&r&&t.equals(r)?((o=i.clone()).setEndAt(r,CKEDITOR.POSITION_BEFORE_END),a.push(o)):!e&&s&&t.equals(s)?((o=i.clone()).setStartAt(s,CKEDITOR.POSITION_AFTER_START),a.push(o)):((n=!e)&&(n=t.type==CKEDITOR.NODE_ELEMENT&&t.is(d)&&(!r||c(t,r))&&(!s||c(t,s))),n&&((o=i.clone()).selectNodeContents(t),a.push(o)))},t.lastForward(),CKEDITOR.dom.element.clearAllMarkers(l),a}function c(t,e){var n=CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_IS_CONTAINED,i=t.getPosition(e);return i!==CKEDITOR.POSITION_IDENTICAL&&0==(i&n)}var d={td:1,th:1,caption:1};return{detectPurge:function(t){var e=t.range;(n=e.clone()).enlarge(CKEDITOR.ENLARGE_ELEMENT);var n=new CKEDITOR.dom.walker(n),i=0;if(n.evaluator=function(t){t.type==CKEDITOR.NODE_ELEMENT&&t.is(d)&&++i},n.checkForward(),1<i){n=e.startPath().contains("table");var o=e.endPath().contains("table");n&&o&&e.checkBoundaryOfElement(n,CKEDITOR.START)&&e.checkBoundaryOfElement(o,CKEDITOR.END)&&((e=t.range.clone()).setStartBefore(n),e.setEndAfter(o),t.purgeTableBookmark=e.createBookmark())}},detectRanges:function(t,e){var n,i,o=u(e,t.bookmark),a=o.clone(),r=o.getCommonAncestor();r.is(CKEDITOR.dtd.$tableContent)&&!r.is(d)&&(r=r.getAscendant("table",!0)),i=r,r=new CKEDITOR.dom.elementPath(o.startContainer,i),i=new CKEDITOR.dom.elementPath(o.endContainer,i),r=r.contains("table"),i=i.contains("table"),(r||i)&&(r&&i&&c(r,i)?((t.tableSurroundingRange=a).setStartAt(r,CKEDITOR.POSITION_AFTER_END),a.setEndAt(i,CKEDITOR.POSITION_BEFORE_START),(a=o.clone()).setEndAt(r,CKEDITOR.POSITION_AFTER_END),(n=o.clone()).setStartAt(i,CKEDITOR.POSITION_BEFORE_START),n=s(a).concat(s(n))):r?i||((t.tableSurroundingRange=a).setStartAt(r,CKEDITOR.POSITION_AFTER_END),o.setEndAt(r,CKEDITOR.POSITION_AFTER_END)):((t.tableSurroundingRange=a).setEndAt(i,CKEDITOR.POSITION_BEFORE_START),o.setStartAt(i,CKEDITOR.POSITION_AFTER_START)),t.tableContentsRanges=n||s(o))},deleteRanges:function(t){for(var e;e=t.tableContentsRanges.pop();)e.extractContents(),f(e.startContainer)&&e.startContainer.appendBogus();t.tableSurroundingRange&&t.tableSurroundingRange.extractContents()},purge:function(t){if(t.purgeTableBookmark){var e=t.doc,n=t.range.clone();(e=e.createElement("p")).insertBefore(t.purgeTableBookmark.startNode),n.moveToBookmark(t.purgeTableBookmark),n.deleteContents(),t.range.moveToPosition(e,CKEDITOR.POSITION_AFTER_START)}}}}(),detectExtractMerge:function(t){return!(t.range.startPath().contains(CKEDITOR.dtd.$listItem)&&t.range.endPath().contains(CKEDITOR.dtd.$listItem))},fixUneditableRangePosition:function(t){t.startContainer.getDtd()["#"]||t.moveToClosestEditablePosition(null,!0)},autoParagraph:function(t,e){var n,i=e.startPath();F(t,i.block,i.blockLimit)&&(n=P(t))&&((n=e.document.createElement(n)).appendBogus(),e.insertNode(n),e.moveToPosition(n,CKEDITOR.POSITION_AFTER_START))}}}()}(),function(){function h(t,e){if(0===t.length)return!1;var n,i;if((n=!e&&1===t.length)&&!(n=t[0].collapsed)){var o=t[0];n=o.startContainer.getAscendant({td:1,th:1},!0);var a=o.endContainer.getAscendant({td:1,th:1},!0);i=CKEDITOR.tools.trim,n&&n.equals(a)&&!n.findOne("td, th, tr, tbody, table")?n=!(o=o.cloneContents()).getFirst()||i(o.getFirst().getText())!==i(n.getText()):n=!1}if(n)return!1;for(i=0;i<t.length;i++)if(!(n=t[i]._getTableElement()))return!1;return!0}function a(t){function e(t){t=t.find("td, th");var e,n=[];for(e=0;e<t.count();e++)n.push(t.getItem(e));return n}var n,i,o=[];for(i=0;i<t.length;i++)(n=t[i]._getTableElement()).is&&n.is({td:1,th:1})?o.push(n):o=o.concat(e(n));return o}function i(t){t=a(t);var e,n,i="",o=[];for(n=0;n<t.length;n++)e&&!e.equals(t[n].getAscendant("tr"))?(i+=o.join("\t")+"\n",e=t[n].getAscendant("tr"),o=[]):0===n&&(e=t[n].getAscendant("tr")),o.push(t[n].getText());return i+o.join("\t")}function f(t){var e=this.root.editor,n=e.getSelection(1);this.reset(),C=!0,n.root.once("selectionchange",function(t){t.cancel()},null,null,0),n.selectRanges([t[0]]),(n=this._.cache).ranges=new CKEDITOR.dom.rangeList(t),n.type=CKEDITOR.SELECTION_TEXT,n.selectedElement=t[0]._getTableElement(),n.selectedText=i(t),n.nativeSel=null,this.isFake=1,this.rev=I++,e._.fakeSelection=this,C=!1,this.root.fire("selectionchange")}function g(){var t,e=this._.fakeSelection;if(e){var n;if(!(n=!(t=this.getSelection(1)))&&(n=!t.isHidden())){n=e;var i=t.getRanges(),o=n.getRanges(),a=i.length&&i[0]._getTableElement()&&i[0]._getTableElement().getAscendant("table",!0),r=o.length&&o[0]._getTableElement()&&o[0]._getTableElement().getAscendant("table",!0),s=1===i.length&&i[0]._getTableElement()&&i[0]._getTableElement().is("table"),l=1===o.length&&o[0]._getTableElement()&&o[0]._getTableElement().is("table"),c=1===i.length&&i[0].collapsed;o=h(i,!!CKEDITOR.env.webkit)&&h(o);(a=!(!a||!r)&&(a.equals(r)||r.contains(a)))&&(c||o)?(s&&!l&&n.selectRanges(i),n=!0):n=!1,n=!n}n&&(e.reset(),e=0)}(e||(e=t||this.getSelection(1))&&e.getType()!=CKEDITOR.SELECTION_NONE)&&(this.fire("selectionCheck",e),(t=this.elementPath()).compare(this._.selectionPreviousPath)||(n=this._.selectionPreviousPath&&this._.selectionPreviousPath.blockLimit.equals(t.blockLimit),CKEDITOR.env.webkit&&!n&&(this._.previousActive=this.document.getActive()),this._.selectionPreviousPath=t,this.fire("selectionChange",{selection:e,path:t})))}function v(){y=!0,e||(t.call(this),e=CKEDITOR.tools.setTimeout(t,200,this))}function t(){e=null,y&&(CKEDITOR.tools.setTimeout(g,0,this),y=!1)}function r(t){return!(!c(t)&&(t.type!=CKEDITOR.NODE_ELEMENT||t.is(CKEDITOR.dtd.$empty)))}function p(n){function t(t,e){return!(!t||t.type==CKEDITOR.NODE_TEXT)&&n.clone()["moveToElementEdit"+(e?"End":"Start")](t)}if(!(n.root instanceof CKEDITOR.editable))return!1;var e=n.startContainer,i=n.getPreviousNode(r,null,e),o=n.getNextNode(r,null,e);return!(!t(i)&&!t(o,1)&&(i||o||e.type==CKEDITOR.NODE_ELEMENT&&e.isBlockBoundary()&&e.getBogus()))}function m(t){E(t,!1);var e=t.getDocument().createText(l);return t.setCustomData("cke-fillingChar",e),e}function E(t,e){var n=t&&t.removeCustomData("cke-fillingChar");if(n){if(!1!==e){var i=t.getDocument().getSelection().getNative(),o=i&&"None"!=i.type&&i.getRangeAt(0),a=l.length;if(n.getLength()>a&&o&&o.intersectsNode(n.$)){var r=[{node:i.anchorNode,offset:i.anchorOffset},{node:i.focusNode,offset:i.focusOffset}];i.anchorNode==n.$&&i.anchorOffset>a&&(r[0].offset-=a),i.focusNode==n.$&&i.focusOffset>a&&(r[1].offset-=a)}}n.setText(s(n.getText(),1)),r&&(i=(n=t.getDocument().$).getSelection(),(n=n.createRange()).setStart(r[0].node,r[0].offset),n.collapse(!0),i.removeAllRanges(),i.addRange(n),i.extend(r[1].node,r[1].offset))}}function s(t,e){return e?t.replace(n,function(t,e){return e?"\xa0":""}):t.replace(l,"")}function T(t,e){var n=CKEDITOR.dom.element.createFromHtml('<div data-cke-hidden-sel="1" data-cke-temp="1" style="'+(CKEDITOR.env.ie&&CKEDITOR.env.version<14?"display:none":"position:fixed;top:0;left:-1000px")+'">'+(e||"&nbsp;")+"</div>",t.document);t.fire("lockSnapshot"),t.editable().append(n);var i=t.getSelection(1),o=t.createRange(),a=i.root.on("selectionchange",function(t){t.cancel()},null,null,0);o.setStartAt(n,CKEDITOR.POSITION_AFTER_START),o.setEndAt(n,CKEDITOR.POSITION_BEFORE_END),i.selectRanges([o]),a.removeListener(),t.fire("unlockSnapshot"),t._.hiddenSelectionContainer=n}function b(o){var a={37:1,39:1,8:1,46:1};return function(t){var e=t.data.getKeystroke();if(a[e]){var n=o.getSelection().getRanges(),i=n[0];1==n.length&&i.collapsed&&(e=i[e<38?"getPreviousEditableNode":"getNextEditableNode"]())&&e.type==CKEDITOR.NODE_ELEMENT&&"false"==e.getAttribute("contenteditable")&&(o.getSelection().fake(e),t.data.preventDefault(),t.cancel())}}}function o(n){for(var i=0;i<n.length;i++){var o=n[i];if(o.getCommonAncestor().isReadOnly()&&n.splice(i,1),!o.collapsed){if(o.startContainer.isReadOnly())for(var t,e=o.startContainer;e&&!((t=e.type==CKEDITOR.NODE_ELEMENT)&&e.is("body")||!e.isReadOnly());)t&&"false"==e.getAttribute("contentEditable")&&o.setStartAfter(e),e=e.getParent();e=o.startContainer,t=o.endContainer;var a=o.startOffset,r=o.endOffset,s=o.clone();e&&e.type==CKEDITOR.NODE_TEXT&&(a>=e.getLength()?s.setStartAfter(e):s.setStartBefore(e)),t&&t.type==CKEDITOR.NODE_TEXT&&(r?s.setEndAfter(t):s.setEndBefore(t)),(e=new CKEDITOR.dom.walker(s)).evaluator=function(t){if(t.type==CKEDITOR.NODE_ELEMENT&&t.isReadOnly()){var e=o.clone();return o.setEndBefore(t),o.collapsed&&n.splice(i--,1),t.getPosition(s.endContainer)&CKEDITOR.POSITION_CONTAINS||(e.setStartAfter(t),e.collapsed||n.splice(i+1,0,e)),!0}return!1},e.next()}}return n}var C,e,y,D="function"!=typeof window.getSelection,I=1,l=CKEDITOR.tools.repeat("\u200b",7),n=new RegExp(l+"( )?","g"),c=CKEDITOR.dom.walker.invisible(1),d=function(){function t(n){return function(t){var e=t.editor.createRange();return e.moveToClosestEditablePosition(t.selected,n)&&t.editor.getSelection().selectRanges([e]),!1}}function e(o){return function(t){var e,n=t.editor,i=n.createRange();return(e=i.moveToClosestEditablePosition(t.selected,o))||(e=i.moveToClosestEditablePosition(t.selected,!o)),e&&n.getSelection().selectRanges([i]),n.fire("saveSnapshot"),t.selected.remove(),e||(i.moveToElementEditablePosition(n.editable()),n.getSelection().selectRanges([i])),n.fire("saveSnapshot"),!1}}var n=t(),i=t(1);return{37:n,38:n,39:i,40:i,8:e(),46:e(1)}}();CKEDITOR.on("instanceCreated",function(t){function e(){var t=m.getSelection();t&&t.removeAllRanges()}var m=t.editor;m.on("contentDom",function(){function t(){(o=new CKEDITOR.dom.selection(m.getSelection())).lock()}function n(){l.removeListener("mouseup",n),u.removeListener("mouseup",n);var t=CKEDITOR.document.$.selection,e=t.createRange();"None"!=t.type&&e.parentElement().ownerDocument==s.$&&e.select()}function i(t){if(CKEDITOR.env.ie){var e=(t=t.getRanges()[0])?t.startContainer.getAscendant(function(t){return t.type==CKEDITOR.NODE_ELEMENT&&("false"==t.getAttribute("contenteditable")||"true"==t.getAttribute("contenteditable"))},!0):null;return t&&"false"==e.getAttribute("contenteditable")&&e}}var e,o,a,r,s=m.document,l=CKEDITOR.document,c=m.editable(),d=s.getBody(),u=s.getDocumentElement(),h=c.isInline();if((CKEDITOR.env.gecko&&c.attachListener(c,"focus",function(t){t.removeListener(),0!==e&&(t=m.getSelection().getNative())&&t.isCollapsed&&t.anchorNode==c.$&&((t=m.createRange()).moveToElementEditStart(c),t.select())},null,null,-2),c.attachListener(c,CKEDITOR.env.webkit?"DOMFocusIn":"focus",function(){e&&CKEDITOR.env.webkit&&(e=m._.previousActive&&m._.previousActive.equals(s.getActive()))&&null!=m._.previousScrollTop&&m._.previousScrollTop!=c.$.scrollTop&&(c.$.scrollTop=m._.previousScrollTop),m.unlockSelection(e),e=0},null,null,-1),c.attachListener(c,"mousedown",function(){e=0}),(CKEDITOR.env.ie||h)&&(D?c.attachListener(c,"beforedeactivate",t,null,null,-1):c.attachListener(m,"selectionCheck",t,null,null,-1),c.attachListener(c,CKEDITOR.env.webkit?"DOMFocusOut":"blur",function(){m.lockSelection(o),e=1},null,null,-1),c.attachListener(c,"mousedown",function(){e=0})),CKEDITOR.env.ie&&!h)&&(c.attachListener(c,"mousedown",function(t){2==t.data.$.button&&((t=m.document.getSelection())&&t.getType()!=CKEDITOR.SELECTION_NONE||(a=m.window.getScrollPosition()))}),c.attachListener(c,"mouseup",function(t){2==t.data.$.button&&a&&(m.document.$.documentElement.scrollLeft=a.x,m.document.$.documentElement.scrollTop=a.y),a=null}),"BackCompat"!=s.$.compatMode)){var f,p;if(CKEDITOR.env.ie7Compat||CKEDITOR.env.ie6Compat)u.on("mousedown",function(t){function e(t){if(t=t.data.$,f){var e=d.$.createTextRange();try{e.moveToPoint(t.clientX,t.clientY)}catch(i){}f.setEndPoint(p.compareEndPoints("StartToStart",e)<0?"EndToEnd":"StartToStart",e),f.select()}}function n(){u.removeListener("mousemove",e),l.removeListener("mouseup",n),u.removeListener("mouseup",n),f.select()}if((t=t.data).getTarget().is("html")&&t.$.y<u.$.clientHeight&&t.$.x<u.$.clientWidth){f=d.$.createTextRange();try{f.moveToPoint(t.$.clientX,t.$.clientY)}catch(i){}p=f.duplicate(),u.on("mousemove",e),l.on("mouseup",n),u.on("mouseup",n)}});7<CKEDITOR.env.version&&CKEDITOR.env.version<11&&u.on("mousedown",function(t){t.data.getTarget().is("html")&&(l.on("mouseup",n),u.on("mouseup",n))})}(c.attachListener(c,"selectionchange",g,m),c.attachListener(c,"keyup",v,m),c.attachListener(c,"keydown",function(t){var e=this.getSelection(1);i(e)&&(e.selectElement(i(e)),t.data.preventDefault())},m),c.attachListener(c,CKEDITOR.env.webkit?"DOMFocusIn":"focus",function(){m.forceNextSelectionCheck(),m.selectionChange(1)}),h&&(CKEDITOR.env.webkit||CKEDITOR.env.gecko))?(c.attachListener(c,"mousedown",function(){r=1}),c.attachListener(s.getDocumentElement(),"mouseup",function(){r&&v.call(m),r=0})):c.attachListener(CKEDITOR.env.ie?c:s.getDocumentElement(),"mouseup",v,m);CKEDITOR.env.webkit&&c.attachListener(s,"keydown",function(t){switch(t.data.getKey()){case 13:case 33:case 34:case 35:case 36:case 37:case 39:case 8:case 45:case 46:c.hasFocus&&E(c)}},null,null,-1),c.attachListener(c,"keydown",b(m),null,null,-1)}),m.on("setData",function(){m.unlockSelection(),CKEDITOR.env.webkit&&e()}),m.on("contentDomUnload",function(){m.unlockSelection()}),CKEDITOR.env.ie9Compat&&m.on("beforeDestroy",e,null,null,9),m.on("dataReady",function(){delete m._.fakeSelection,delete m._.hiddenSelectionContainer,m.selectionChange(1)}),m.on("loadSnapshot",function(){var t=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_ELEMENT),e=m.editable().getLast(t);e&&e.hasAttribute("data-cke-hidden-sel")&&(e.remove(),CKEDITOR.env.gecko&&(t=m.editable().getFirst(t))&&t.is("br")&&t.getAttribute("_moz_editor_bogus_node")&&t.remove())},null,null,100),m.on("key",function(t){if("wysiwyg"==m.mode){var e=m.getSelection();if(e.isFake){var n=d[t.data.keyCode];if(n)return n({editor:m,selected:e.getSelectedElement(),selection:e,keyEvent:t})}}})}),CKEDITOR.env.webkit&&CKEDITOR.on("instanceReady",function(t){var n=t.editor;n.on("selectionChange",function(){var t=n.editable(),e=t.getCustomData("cke-fillingChar");e&&(e.getCustomData("ready")?(E(t),t.editor.fire("selectionCheck")):e.setCustomData("ready",1))},null,null,-1),n.on("beforeSetMode",
function(){E(n.editable())},null,null,-1),n.on("getSnapshot",function(t){t.data&&(t.data=s(t.data))},n,null,20),n.on("toDataFormat",function(t){t.data.dataValue=s(t.data.dataValue)},null,null,0)}),CKEDITOR.editor.prototype.selectionChange=function(t){(t?g:v).call(this)},CKEDITOR.editor.prototype.getSelection=function(t){return!this._.savedSelection&&!this._.fakeSelection||t?(t=this.editable())&&"wysiwyg"==this.mode?new CKEDITOR.dom.selection(t):null:this._.savedSelection||this._.fakeSelection},CKEDITOR.editor.prototype.lockSelection=function(t){return(t=t||this.getSelection(1)).getType()!=CKEDITOR.SELECTION_NONE&&(!t.isLocked&&t.lock(),this._.savedSelection=t,!0)},CKEDITOR.editor.prototype.unlockSelection=function(t){var e=this._.savedSelection;return!!e&&(e.unlock(t),delete this._.savedSelection,!0)},CKEDITOR.editor.prototype.forceNextSelectionCheck=function(){delete this._.selectionPreviousPath},CKEDITOR.dom.document.prototype.getSelection=function(){return new CKEDITOR.dom.selection(this)},CKEDITOR.dom.range.prototype.select=function(){var t=this.root instanceof CKEDITOR.editable?this.root.editor.getSelection():new CKEDITOR.dom.selection(this.root);return t.selectRanges([this]),t},CKEDITOR.SELECTION_NONE=1,CKEDITOR.SELECTION_TEXT=2,CKEDITOR.SELECTION_ELEMENT=3,CKEDITOR.dom.selection=function(t){if(t instanceof CKEDITOR.dom.selection){var e=t;t=t.root}var n,i,o=t instanceof CKEDITOR.dom.element;if(this.rev=e?e.rev:I++,this.document=t instanceof CKEDITOR.dom.document?t:t.getDocument(),this.root=o?t:this.document.getBody(),this.isLocked=0,this._={cache:{}},e)return CKEDITOR.tools.extend(this._.cache,e._.cache),this.isFake=e.isFake,this.isLocked=e.isLocked,this;if(t=this.getNative())if(t.getRangeAt)n=(i=t.rangeCount&&t.getRangeAt(0))&&new CKEDITOR.dom.node(i.commonAncestorContainer);else{try{i=t.createRange()}catch(E){}n=i&&CKEDITOR.dom.element.get(i.item&&i.item(0)||i.parentElement())}return(!n||n.type!=CKEDITOR.NODE_ELEMENT&&n.type!=CKEDITOR.NODE_TEXT||!this.root.equals(n)&&!this.root.contains(n))&&(this._.cache.type=CKEDITOR.SELECTION_NONE,this._.cache.startElement=null,this._.cache.selectedElement=null,this._.cache.selectedText="",this._.cache.ranges=new CKEDITOR.dom.rangeList),this};var u,O={img:1,hr:1,li:1,table:1,tr:1,td:1,th:1,embed:1,object:1,ol:1,ul:1,a:1,input:1,form:1,select:1,textarea:1,button:1,fieldset:1,thead:1,tfoot:1};CKEDITOR.tools.extend(CKEDITOR.dom.selection,{_removeFillingCharSequenceString:s,_createFillingCharSequenceNode:m,FILLING_CHAR_SEQUENCE:l}),CKEDITOR.dom.selection.prototype={getNative:function(){return void 0!==this._.cache.nativeSel?this._.cache.nativeSel:this._.cache.nativeSel=D?this.document.$.selection:this.document.getWindow().$.getSelection()},getType:D?function(){var t=this._.cache;if(t.type)return t.type;var e=CKEDITOR.SELECTION_NONE;try{var n=this.getNative(),i=n.type;"Text"==i&&(e=CKEDITOR.SELECTION_TEXT),"Control"==i&&(e=CKEDITOR.SELECTION_ELEMENT),n.createRange().parentElement()&&(e=CKEDITOR.SELECTION_TEXT)}catch(g){}return t.type=e}:function(){var t=this._.cache;if(t.type)return t.type;var e=CKEDITOR.SELECTION_TEXT;if((n=this.getNative())&&n.rangeCount){if(1==n.rangeCount){var n,i=(n=n.getRangeAt(0)).startContainer;i==n.endContainer&&1==i.nodeType&&1==n.endOffset-n.startOffset&&O[i.childNodes[n.startOffset].nodeName.toLowerCase()]&&(e=CKEDITOR.SELECTION_ELEMENT)}}else e=CKEDITOR.SELECTION_NONE;return t.type=e},getRanges:(u=D?function(){function h(t){return new CKEDITOR.dom.node(t).getIndex()}var s=function(t,e){(t=t.duplicate()).collapse(e);var n=t.parentElement();if(!n.hasChildNodes())return{container:n,offset:0};for(var i,o,a,r,s=n.children,l=t.duplicate(),c=0,d=s.length-1,u=-1;c<=d;)if(i=s[u=Math.floor((c+d)/2)],l.moveToElementText(i),0<(a=l.compareEndPoints("StartToStart",t)))d=u-1;else{if(!(a<0))return{container:n,offset:h(i)};c=u+1}if(-1==u||u==s.length-1&&a<0){if(l.moveToElementText(n),l.setEndPoint("StartToStart",t),l=l.text.replace(/(\r\n|\r)/g,"\n").length,s=n.childNodes,!l)return(i=s[s.length-1]).nodeType!=CKEDITOR.NODE_TEXT?{container:n,offset:s.length}:{container:i,offset:i.nodeValue.length};for(n=s.length;0<l&&0<n;)(o=s[--n]).nodeType==CKEDITOR.NODE_TEXT&&(l-=(r=o).nodeValue.length);return{container:r,offset:-l}}if(l.collapse(0<a),l.setEndPoint(0<a?"StartToStart":"EndToStart",t),!(l=l.text.replace(/(\r\n|\r)/g,"\n").length))return{container:n,offset:h(i)+(0<a?0:1)};for(;0<l;)try{(o=i[0<a?"previousSibling":"nextSibling"]).nodeType==CKEDITOR.NODE_TEXT&&(l-=o.nodeValue.length,r=o),i=o}catch(I){return{container:n,offset:h(i)}}return{container:r,offset:0<a?-l:r.nodeValue.length+l}};return function(){var t=(r=this.getNative())&&r.createRange(),e=this.getType();if(!r)return[];if(e==CKEDITOR.SELECTION_TEXT)return r=new CKEDITOR.dom.range(this.root),e=s(t,!0),r.setStart(new CKEDITOR.dom.node(e.container),e.offset),e=s(t),r.setEnd(new CKEDITOR.dom.node(e.container),e.offset),r.endContainer.getPosition(r.startContainer)&CKEDITOR.POSITION_PRECEDING&&r.endOffset<=r.startContainer.getIndex()&&r.collapse(),[r];if(e!=CKEDITOR.SELECTION_ELEMENT)return[];e=[];for(var n=0;n<t.length;n++){for(var i=t.item(n),o=i.parentNode,a=0,r=new CKEDITOR.dom.range(this.root);a<o.childNodes.length&&o.childNodes[a]!=i;a++);r.setStart(new CKEDITOR.dom.node(o),a),r.setEnd(new CKEDITOR.dom.node(o),a+1),e.push(r)}return e}}():function(){var t,e=[],n=this.getNative();if(!n)return e;for(var i=0;i<n.rangeCount;i++){var o=n.getRangeAt(i);(t=new CKEDITOR.dom.range(this.root)).setStart(new CKEDITOR.dom.node(o.startContainer),o.startOffset),t.setEnd(new CKEDITOR.dom.node(o.endContainer),o.endOffset),e.push(t)}return e},function(t){var e=this._.cache,n=e.ranges;return n||(e.ranges=n=new CKEDITOR.dom.rangeList(u.call(this))),t?o(new CKEDITOR.dom.rangeList(n.slice())):n}),getStartElement:function(){var t,e=this._.cache;if(void 0!==e.startElement)return e.startElement;switch(this.getType()){case CKEDITOR.SELECTION_ELEMENT:return this.getSelectedElement();case CKEDITOR.SELECTION_TEXT:var n=this.getRanges()[0];if(n){if(n.collapsed)(t=n.startContainer).type!=CKEDITOR.NODE_ELEMENT&&(t=t.getParent());else{for(n.optimize();t=n.startContainer,n.startOffset==(t.getChildCount?t.getChildCount():t.getLength())&&!t.isBlockBoundary();)n.setStartAfter(t);if((t=n.startContainer).type!=CKEDITOR.NODE_ELEMENT)return t.getParent();if((t=t.getChild(n.startOffset))&&t.type==CKEDITOR.NODE_ELEMENT)for(n=t.getFirst();n&&n.type==CKEDITOR.NODE_ELEMENT;)n=(t=n).getFirst();else t=n.startContainer}t=t.$}}return e.startElement=t?new CKEDITOR.dom.element(t):null},getSelectedElement:function(){var t=this._.cache;if(void 0!==t.selectedElement)return t.selectedElement;var o=this,e=CKEDITOR.tools.tryThese(function(){return o.getNative().createRange().item(0)},function(){for(var t,e,n=o.getRanges()[0].clone(),i=2;i&&!((t=n.getEnclosedNode())&&t.type==CKEDITOR.NODE_ELEMENT&&O[t.getName()]&&(e=t));i--)n.shrink(CKEDITOR.SHRINK_ELEMENT);return e&&e.$});return t.selectedElement=e?new CKEDITOR.dom.element(e):null},getSelectedText:function(){var t=this._.cache;if(void 0!==t.selectedText)return t.selectedText;var e=this.getNative();e=D?"Control"==e.type?"":e.createRange().text:e.toString();return t.selectedText=e},lock:function(){this.getRanges(),this.getStartElement(),this.getSelectedElement(),this.getSelectedText(),this._.cache.nativeSel=null,this.isLocked=1},unlock:function(t){if(this.isLocked){if(t)var e=this.getSelectedElement(),n=this.getRanges(),i=this.isFake;this.isLocked=0,this.reset(),t&&(t=e||n[0]&&n[0].getCommonAncestor())&&t.getAscendant("body",1)&&(h(n)?f.call(this,n):i?this.fake(e):e?this.selectElement(e):this.selectRanges(n))}},reset:function(){this._.cache={},this.isFake=0;var t=this.root.editor;if(t&&t._.fakeSelection)if(this.rev==t._.fakeSelection.rev){delete t._.fakeSelection;var e=t._.hiddenSelectionContainer;if(e){var n=t.checkDirty();t.fire("lockSnapshot"),e.remove(),t.fire("unlockSnapshot"),!n&&t.resetDirty()}delete t._.hiddenSelectionContainer}else CKEDITOR.warn("selection-fake-reset");this.rev=I++},selectElement:function(t){var e=new CKEDITOR.dom.range(this.root);e.setStartBefore(t),e.setEndAfter(t),this.selectRanges([e])},selectRanges:function(t){var e=this.root.editor,n=e&&e._.hiddenSelectionContainer;if(this.reset(),n){n=this.root;for(var i,o=0;o<t.length;++o)(i=t[o]).endContainer.equals(n)&&(i.endOffset=Math.min(i.endOffset,n.getChildCount()))}if(t.length)if(this.isLocked){var a=CKEDITOR.document.getActive();this.unlock(),this.selectRanges(t),this.lock(),a&&!a.equals(this.root)&&a.focus()}else{var r,s,l;if(1==t.length&&!(l=t[0]).collapsed&&(r=l.getEnclosedNode())&&r.type==CKEDITOR.NODE_ELEMENT&&((l=l.clone()).shrink(CKEDITOR.SHRINK_ELEMENT,!0),(s=l.getEnclosedNode())&&s.type==CKEDITOR.NODE_ELEMENT&&(r=s),"false"==r.getAttribute("contenteditable"))||(r=void 0),r)this.fake(r);else if(e&&e.plugins.tableselection&&CKEDITOR.plugins.tableselection.isSupportedEnvironment&&h(t)&&!C)f.call(this,t);else{if(D){var c,d,u;if(s=CKEDITOR.dom.walker.whitespaces(!0),r=/\ufeff|\u00a0/,l={table:1,tbody:1,tr:1},1<t.length&&(e=t[t.length-1],t[0].setEnd(e.endContainer,e.endOffset)),t=(e=t[0]).collapsed,(n=e.getEnclosedNode())&&n.type==CKEDITOR.NODE_ELEMENT&&n.getName()in O&&(!n.is("a")||!n.getText()))try{return(u=n.$.createControlRange()).addElement(n.$),void u.select()}catch(T){}(e.startContainer.type==CKEDITOR.NODE_ELEMENT&&e.startContainer.getName()in l||e.endContainer.type==CKEDITOR.NODE_ELEMENT&&e.endContainer.getName()in l)&&(e.shrink(CKEDITOR.NODE_ELEMENT,!0),t=e.collapsed),l=(u=e.createBookmark()).startNode,t||(a=u.endNode),(u=e.document.$.body.createTextRange()).moveToElementText(l.$),u.moveStart("character",1),a?((r=e.document.$.body.createTextRange()).moveToElementText(a.$),u.setEndPoint("EndToEnd",r),u.moveEnd("character",-1)):(c=l.getNext(s),d=l.hasAscendant("pre"),c=!(c&&c.getText&&c.getText().match(r))&&(d||!l.hasPrevious()||l.getPrevious().is&&l.getPrevious().is("br")),(d=e.document.createElement("span")).setHtml("&#65279;"),d.insertBefore(l),c&&e.document.createText("\ufeff").insertBefore(l)),e.setStartBefore(l),l.remove(),t?(c?(u.moveStart("character",-1),u.select(),e.document.$.selection.clear()):u.select(),e.moveToPosition(d,CKEDITOR.POSITION_BEFORE_START),d.remove()):(e.setEndBefore(a),a.remove(),u.select())}else{if(!(a=this.getNative()))return;for(this.removeAllRanges(),u=0;u<t.length;u++)if(u<t.length-1&&(c=t[u],d=t[u+1],(r=c.clone()).setStart(c.endContainer,c.endOffset),r.setEnd(d.startContainer,d.startOffset),!r.collapsed&&(r.shrink(CKEDITOR.NODE_ELEMENT,!0),e=r.getCommonAncestor(),r=r.getEnclosedNode(),e.isReadOnly()||r&&r.isReadOnly())))d.setStart(c.startContainer,c.startOffset),t.splice(u--,1);else{e=t[u],d=this.document.$.createRange(),e.collapsed&&CKEDITOR.env.webkit&&p(e)&&(r=m(this.root),e.insertNode(r),(c=r.getNext())&&!r.getPrevious()&&c.type==CKEDITOR.NODE_ELEMENT&&"br"==c.getName()?(E(this.root),e.moveToPosition(c,CKEDITOR.POSITION_BEFORE_START)):e.moveToPosition(r,CKEDITOR.POSITION_AFTER_END)),d.setStart(e.startContainer.$,e.startOffset);try{d.setEnd(e.endContainer.$,e.endOffset)}catch(y){if(!(0<=y.toString().indexOf("NS_ERROR_ILLEGAL_VALUE")))throw y;e.collapse(1),d.setEnd(e.endContainer.$,e.endOffset)}a.addRange(d)}}this.reset(),this.root.fire("selectionchange")}}},fake:function(t,e){var n=this.root.editor;void 0===e&&t.hasAttribute("aria-label")&&(e=t.getAttribute("aria-label")),this.reset(),T(n,e);var i=this._.cache,o=new CKEDITOR.dom.range(this.root);o.setStartBefore(t),o.setEndAfter(t),i.ranges=new CKEDITOR.dom.rangeList(o),i.selectedElement=i.startElement=t,i.type=CKEDITOR.SELECTION_ELEMENT,i.selectedText=i.nativeSel=null,this.isFake=1,this.rev=I++,(n._.fakeSelection=this).root.fire("selectionchange")},isHidden:function(){var t=this.getCommonAncestor();return t&&t.type==CKEDITOR.NODE_TEXT&&(t=t.getParent()),!(!t||!t.data("cke-hidden-sel"))},isInTable:function(){return h(this.getRanges())},createBookmarks:function(t){return t=this.getRanges().createBookmarks(t),this.isFake&&(t.isFake=1),t},createBookmarks2:function(t){return t=this.getRanges().createBookmarks2(t),this.isFake&&(t.isFake=1),t},selectBookmarks:function(t){for(var e,n=[],i=0;i<t.length;i++){var o=new CKEDITOR.dom.range(this.root);o.moveToBookmark(t[i]),n.push(o)}return t.isFake&&((e=h(n)?n[0]._getTableElement():n[0].getEnclosedNode())&&e.type==CKEDITOR.NODE_ELEMENT||(CKEDITOR.warn("selection-not-fake"),t.isFake=0)),t.isFake&&!h(n)?this.fake(e):this.selectRanges(n),this},getCommonAncestor:function(){var t=this.getRanges();return t.length?t[0].startContainer.getCommonAncestor(t[t.length-1].endContainer):null},scrollIntoView:function(){this.type!=CKEDITOR.SELECTION_NONE&&this.getRanges()[0].scrollIntoView()},removeAllRanges:function(){if(this.getType()!=CKEDITOR.SELECTION_NONE){var t=this.getNative();try{t&&t[D?"empty":"removeAllRanges"]()}catch(i){}this.reset()}}}}(),CKEDITOR.STYLE_BLOCK=1,CKEDITOR.STYLE_INLINE=2,CKEDITOR.STYLE_OBJECT=3,function(){function R(t,e){for(var n,i;(t=t.getParent())&&!t.equals(e);)if(t.getAttribute("data-nostyle"))n=t;else if(!i){var o=t.getAttribute("contentEditable");"false"==o?n=t:"true"==o&&(i=1)}return n}function k(t,e,n,i){return(t.getPosition(e)|i)==i&&(!n.childRule||n.childRule(t))}function _(t){var e=t.document;if(t.collapsed)e=K(this,e),t.insertNode(e),t.moveToPosition(e,CKEDITOR.POSITION_BEFORE_END);else{var n,i=this.element,o=this._.definition,a=(h=o.ignoreReadonly)||o.includeReadonly;null==a&&(a=t.root.getCustomData("cke_includeReadonly"));var r=CKEDITOR.dtd[i];r||(n=!0,r=CKEDITOR.dtd.span),t.enlarge(CKEDITOR.ENLARGE_INLINE,1),t.trim();var s,l=t.createBookmark(),c=l.startNode,d=l.endNode,u=c;if(!h){var h=R(c,f=t.getCommonAncestor()),f=R(d,f);h&&(u=h.getNextSourceNode(!0)),f&&(d=f)}for(u.getPosition(d)==CKEDITOR.POSITION_FOLLOWING&&(u=0);u;){if(h=!1,u.equals(d))h=!(u=null);else{f=(b=u.type==CKEDITOR.NODE_ELEMENT?u.getName():null)&&"false"==u.getAttribute("contentEditable");var p=b&&u.getAttribute("data-nostyle");if(b&&u.data("cke-bookmark")){u=u.getNextSourceNode(!0);continue}if(f&&a&&CKEDITOR.dtd.$block[b])for(var m=void 0,g=0,v=(O=(I=x(v=u)).length)&&new CKEDITOR.dom.range(v.getDocument());g<O;++g){m=I[g];var E=CKEDITOR.filter.instances[m.data("cke-filter")];E&&!E.check(this)||(v.selectNodeContents(m),_.call(this,v))}if(I=b?!r[b]||p?0:f&&!a?0:k(u,d,o,N):1){if(I=o,O=i,g=n,!(m=u.getParent())||!(m.getDtd()||CKEDITOR.dtd.span)[O]&&!g||I.parentRule&&!I.parentRule(m))h=!0;else if(s||b&&CKEDITOR.dtd.$removeEmpty[b]&&(u.getPosition(d)|N)!=N||(s=t.clone()).setStartBefore(u),(b=u.type)==CKEDITOR.NODE_TEXT||f||b==CKEDITOR.NODE_ELEMENT&&!u.getChildCount()){for(var T,b=u;(h=!b.getNext(S))&&r[(T=b.getParent()).getName()]&&k(T,c,o,A);)b=T;s.setEndAfter(b)}}else h=!0;u=u.getNextSourceNode(p||f)}if(h&&s&&!s.collapsed){f=(h=K(this,e)).hasAttributes(),p=s.getCommonAncestor(),b={};for(var C,y,D,I={},O=(m={},{});h&&p;){if(p.getName()==i){for(C in o.attributes)!O[C]&&(D=p.getAttribute(y))&&(h.getAttribute(C)==D?I[C]=1:O[C]=1);for(y in o.styles)!m[y]&&(D=p.getStyle(y))&&(h.getStyle(y)==D?b[y]=1:m[y]=1)}p=p.getParent()}for(C in I)h.removeAttribute(C);for(y in b)h.removeStyle(y);f&&!h.hasAttributes()&&(h=null),h?(s.extractContents().appendTo(h),s.insertNode(h),w.call(this,h),h.mergeSiblings(),CKEDITOR.env.ie||h.$.normalize()):(h=new CKEDITOR.dom.element("span"),s.extractContents().appendTo(h),s.insertNode(h),w.call(this,h),h.remove(!0)),s=null}}t.moveToBookmark(l),t.shrink(CKEDITOR.SHRINK_TEXT),t.shrink(CKEDITOR.NODE_ELEMENT,!0)}}function e(t){function e(){for(var t=new CKEDITOR.dom.elementPath(r.getParent()),e=new CKEDITOR.dom.elementPath(d.getParent()),n=null,i=null,o=0;o<t.elements.length;o++){var a=t.elements[o];if(a==t.block||a==t.blockLimit)break;u.checkElementRemovable(a,!0)&&(n=a)}for(o=0;o<e.elements.length&&((a=e.elements[o])!=e.block&&a!=e.blockLimit);o++)u.checkElementRemovable(a,!0)&&(i=a);i&&d.breakParent(i),n&&r.breakParent(n)}t.enlarge(CKEDITOR.ENLARGE_INLINE,1);var n=t.createBookmark(),r=n.startNode,i=this._.definition.alwaysRemoveElement;if(t.collapsed){for(var o,a,s=new CKEDITOR.dom.elementPath(r.getParent(),t.root),l=0;l<s.elements.length&&(a=s.elements[l])&&a!=s.block&&a!=s.blockLimit;l++)if(this.checkElementRemovable(a)){var c;!i&&t.collapsed&&(t.checkBoundaryOfElement(a,CKEDITOR.END)||(c=t.checkBoundaryOfElement(a,CKEDITOR.START)))?(o=a).match=c?"start":"end":(a.mergeSiblings(),a.is(this.element)?h.call(this,a):f(a,m(this)[a.getName()]))}if(o){for(i=r,l=0;!(a=s.elements[l]).equals(o);l++)a.match||((a=a.clone()).append(i),i=a);i["start"==o.match?"insertBefore":"insertAfter"](o)}}else{var d=n.endNode,u=this;for(e(),s=r;!s.equals(d);)o=s.getNextSourceNode(),s.type==CKEDITOR.NODE_ELEMENT&&this.checkElementRemovable(s)&&(s.getName()==this.element?h.call(this,s):f(s,m(this)[s.getName()]),o.type==CKEDITOR.NODE_ELEMENT&&o.contains(r)&&(e(),o=r.getNext())),s=o}t.moveToBookmark(n),t.shrink(CKEDITOR.NODE_ELEMENT,!0)}function x(t){var e=[];return t.forEach(function(t){if("true"==t.getAttribute("contenteditable"))return e.push(t),!1},CKEDITOR.NODE_ELEMENT,!0),e}function n(t){var e=t.getEnclosedNode()||t.getCommonAncestor(!1,!0);(t=new CKEDITOR.dom.elementPath(e,t.root).contains(this.element,1))&&!t.isReadOnly()&&s(t,this)}function i(t){var e=t.getCommonAncestor(!0,!0);if(t=new CKEDITOR.dom.elementPath(e,t.root).contains(this.element,1)){var n=(e=this._.definition).attributes;if(n)for(var i in n)t.removeAttribute(i,n[i]);if(e.styles)for(var o in e.styles)e.styles.hasOwnProperty(o)&&t.removeStyle(o)}}function o(t){var e=t.createBookmark(!0),n=t.createIterator();n.enforceRealBlocks=!0,this._.enterMode&&(n.enlargeBr=this._.enterMode!=CKEDITOR.ENTER_BR);for(var i,o=t.document;i=n.getNextParagraph();)!i.isReadOnly()&&(!n.activeFilter||n.activeFilter.check(this))&&r(i,K(this,o,i));t.moveToBookmark(e)}function a(t){var e,n,i=t.createBookmark(1),o=t.createIterator();for(o.enforceRealBlocks=!0,o.enlargeBr=this._.enterMode!=CKEDITOR.ENTER_BR;e=o.getNextParagraph();)this.checkElementRemovable(e)&&(e.is("pre")?((n=this._.enterMode==CKEDITOR.ENTER_BR?null:t.document.createElement(this._.enterMode==CKEDITOR.ENTER_P?"p":"div"))&&e.copyAttributes(n),r(e,n)):h.call(this,e));t.moveToBookmark(i)}function r(t,e){(n=!e)&&(e=t.getDocument().createElement("div"),t.copyAttributes(e));var n,i,o=e&&e.is("pre"),a=t.is("pre"),r=!o&&a;if(o&&!a){if(a=e,(r=t.getBogus())&&r.remove(),r=(r=(r=(r=c(r=t.getHtml(),/(?:^[ \t\n\r]+)|(?:[ \t\n\r]+$)/g,"")).replace(/[ \t\r\n]*(<br[^>]*>)[ \t\r\n]*/gi,"$1")).replace(/([ \t\n\r]+|&nbsp;)/g," ")).replace(/<br\b[^>]*>/gi,"\n"),CKEDITOR.env.ie){var s=t.getDocument().createElement("div");s.append(a),a.$.outerHTML="<pre>"+r+"</pre>",a.copyAttributes(s.getFirst()),a=s.getFirst().remove()}else a.setHtml(r);e=a}else r?e=d(n?[t.getHtml()]:l(t),e):t.moveChildren(e);(e.replace(t),o)?(i=(n=e).getPrevious(D))&&i.type==CKEDITOR.NODE_ELEMENT&&i.is("pre")&&(o=c(i.getHtml(),/\n$/,"")+"\n\n"+c(n.getHtml(),/^\n/,""),CKEDITOR.env.ie?n.$.outerHTML="<pre>"+o+"</pre>":n.setHtml(o),i.remove()):n&&u(e)}function l(t){var n=[];return c(t.getOuterHtml(),/(\S\s*)\n(?:\s|(<span[^>]+data-cke-bookmark.*?\/span>))*\n(?!$)/gi,function(t,e,n){return e+"</pre>"+n+"<pre>"}).replace(/<pre\b.*?>([\s\S]*?)<\/pre>/gi,function(t,e){n.push(e)}),n}function c(t,e,n){var i="",o="";return t=t.replace(/(^<span[^>]+data-cke-bookmark.*?\/span>)|(<span[^>]+data-cke-bookmark.*?\/span>$)/gi,function(t,e,n){return e&&(i=e),n&&(o=n),""}),i+t.replace(e,n)+o}function d(t,e){var n;1<t.length&&(n=new CKEDITOR.dom.documentFragment(e.getDocument()));for(var i=0;i<t.length;i++){var o=(o=(o=c(o=c(o=c(o=(o=t[i]).replace(/(\r\n|\r)/g,"\n"),/^[ \t]*\n/,""),/\n$/,""),/^[ \t]+|[ \t]+$/g,function(t,e){return 1==t.length?"&nbsp;":e?" "+CKEDITOR.tools.repeat("&nbsp;",t.length-1):CKEDITOR.tools.repeat("&nbsp;",t.length-1)+" "})).replace(/\n/g,"<br>")).replace(/[ \t]{2,}/g,function(t){return CKEDITOR.tools.repeat("&nbsp;",t.length-1)+" "});if(n){var a=e.clone();a.setHtml(o),n.append(a)}else e.setHtml(o)}return n||e}function h(t,e){var n,i=(o=this._.definition).attributes,o=o.styles,a=m(this)[t.getName()],r=CKEDITOR.tools.isEmpty(i)&&CKEDITOR.tools.isEmpty(o);for(n in i)("class"!=n&&!this._.definition.fullMatch||t.getAttribute(n)==g(n,i[n]))&&(e&&"data-"==n.slice(0,5)||(r=t.hasAttribute(n),t.removeAttribute(n)));for(var s in o)this._.definition.fullMatch&&t.getStyle(s)!=g(s,o[s],!0)||(r=r||!!t.getStyle(s),t.removeStyle(s));f(t,a,T[t.getName()]),r&&(this._.definition.alwaysRemoveElement?u(t,1):!CKEDITOR.dtd.$block[t.getName()]||this._.enterMode==CKEDITOR.ENTER_BR&&!t.hasAttributes()?u(t):t.renameNode(this._.enterMode==CKEDITOR.ENTER_P?"p":"div"))}function w(t){for(var e,n=m(this),i=t.getElementsByTag(this.element),o=i.count();0<=--o;)(e=i.getItem(o)).isReadOnly()||h.call(this,e,!0);for(var a in n)if(a!=this.element)for(o=(i=t.getElementsByTag(a)).count()-1;0<=o;o--)(e=i.getItem(o)).isReadOnly()||f(e,n[a])}function f(t,e,n){if(e=e&&e.attributes)for(var i=0;i<e.length;i++){var o,a=e[i][0];if(o=t.getAttribute(a)){var r=e[i][1];(null===r||r.test&&r.test(o)||"string"==typeof r&&o==r)&&t.removeAttribute(a)}}n||u(t)}function u(t,e){if(!t.hasAttributes()||e)if(CKEDITOR.dtd.$block[t.getName()]){var n=t.getPrevious(D),i=t.getNext(D);!n||n.type!=CKEDITOR.NODE_TEXT&&n.isBlockBoundary({br:1})||t.append("br",1),!i||i.type!=CKEDITOR.NODE_TEXT&&i.isBlockBoundary({br:1})||t.append("br"),t.remove(!0)}else n=t.getFirst(),i=t.getLast(),t.remove(!0),n&&(n.type==CKEDITOR.NODE_ELEMENT&&n.mergeSiblings(),i&&!n.equals(i)&&i.type==CKEDITOR.NODE_ELEMENT&&i.mergeSiblings())}function K(t,e,n){var i;return"*"==(i=t.element)&&(i="span"),i=new CKEDITOR.dom.element(i,e),n&&n.copyAttributes(i),i=s(i,t),e.getCustomData("doc_processing_style")&&i.hasAttribute("id")?i.removeAttribute("id"):e.setCustomData("doc_processing_style",1),i}function s(t,e){var n=(i=e._.definition).attributes,i=CKEDITOR.style.getStyleText(i);if(n)for(var o in n)t.setAttribute(o,n[o]);return i&&t.setAttribute("style",i),t}function p(t,n){for(var e in t)t[e]=t[e].replace(y,function(t,e){return n[e]})}function m(t){if(t._.overrides)return t._.overrides;var e=t._.overrides={},n=t._.definition.overrides;if(n){CKEDITOR.tools.isArray(n)||(n=[n]);for(var i=0;i<n.length;i++){var o,a;if("string"==typeof(s=n[i])?o=s.toLowerCase():(o=s.element?s.element.toLowerCase():t.element,a=s.attributes),s=e[o]||(e[o]={}),a){var r,s=s.attributes=s.attributes||[];for(r in a)s.push([r.toLowerCase(),a[r]])}}}return e}function g(t,e,n){var i=new CKEDITOR.dom.element("span");return i[n?"setStyle":"setAttribute"](t,e),i[n?"getStyle":"getAttribute"](t)}function v(t,e){function n(t,e){return"font-family"==e.toLowerCase()?t.replace(/["']/g,""):t}for(var i in"string"==typeof t&&(t=CKEDITOR.tools.parseCssText(t)),"string"==typeof e&&(e=CKEDITOR.tools.parseCssText(e,!0)),t)if(!(i in e)||n(e[i],i)!=n(t[i],i)&&"inherit"!=t[i]&&"inherit"!=e[i])return!1;return!0}function E(t,e,n){var i,o,a=t.document,r=t.getRanges();if(e=e?this.removeFromRange:this.applyToRange,t.isFake&&t.isInTable())for(i=[],o=0;o<r.length;o++)i.push(r[o].clone());for(var s=r.createIterator();o=s.getNextRange();)e.call(this,o,n);t.selectRanges(i||r),a.removeCustomData("doc_processing_style")}var T={address:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,p:1,pre:1,section:1,header:1,footer:1,nav:1,article:1,aside:1,figure:1,dialog:1,hgroup:1,time:1,meter:1,menu:1,command:1,keygen:1,output:1,progress:1,details:1,datagrid:1,datalist:1},b={a:1,blockquote:1,embed:1,hr:1,img:1,li:1,object:1,ol:1,table:1,td:1,tr:1,th:1,ul:1,dl:1,dt:1,dd:1,form:1,audio:1,video:1},C=/\s*(?:;\s*|$)/,y=/#\((.+?)\)/g,S=CKEDITOR.dom.walker.bookmark(0,1),D=CKEDITOR.dom.walker.whitespaces(1);CKEDITOR.style=function(t,e){if("string"==typeof t.type)return new CKEDITOR.style.customHandlers[t.type](t);var n=t.attributes;n&&n.style&&(t.styles=CKEDITOR.tools.extend({},t.styles,CKEDITOR.tools.parseCssText(n.style)),delete n.style),e&&(p((t=CKEDITOR.tools.clone(t)).attributes,e),p(t.styles,e)),n=this.element=t.element?"string"==typeof t.element?t.element.toLowerCase():t.element:"*",this.type=t.type||(T[n]?CKEDITOR.STYLE_BLOCK:b[n]?CKEDITOR.STYLE_OBJECT:CKEDITOR.STYLE_INLINE),"object"==typeof this.element&&(this.type=CKEDITOR.STYLE_OBJECT),this._={definition:t}},CKEDITOR.style.prototype={apply:function(t){if(t instanceof CKEDITOR.dom.document)return E.call(this,t.getSelection());if(this.checkApplicable(t.elementPath(),t)){var e=this._.enterMode;e||(this._.enterMode=t.activeEnterMode),E.call(this,t.getSelection(),0,t),this._.enterMode=e}},remove:function(t){if(t instanceof CKEDITOR.dom.document)return E.call(this,t.getSelection(),1);if(this.checkApplicable(t.elementPath(),t)){var e=this._.enterMode;e||(this._.enterMode=t.activeEnterMode),E.call(this,t.getSelection(),1,t),this._.enterMode=e}},applyToRange:function(t){return this.applyToRange=this.type==CKEDITOR.STYLE_INLINE?_:this.type==CKEDITOR.STYLE_BLOCK?o:this.type==CKEDITOR.STYLE_OBJECT?n:null,this.applyToRange(t)},removeFromRange:function(t){return this.removeFromRange=this.type==CKEDITOR.STYLE_INLINE?e:this.type==CKEDITOR.STYLE_BLOCK?a:this.type==CKEDITOR.STYLE_OBJECT?i:null,this.removeFromRange(t)},applyToObject:function(t){s(t,this)},checkActive:function(t,e){switch(this.type){case CKEDITOR.STYLE_BLOCK:return this.checkElementRemovable(t.block||t.blockLimit,!0,e);case CKEDITOR.STYLE_OBJECT:case CKEDITOR.STYLE_INLINE:for(var n,i=t.elements,o=0;o<i.length;o++)if(n=i[o],this.type!=CKEDITOR.STYLE_INLINE||n!=t.block&&n!=t.blockLimit){if(this.type==CKEDITOR.STYLE_OBJECT){var a=n.getName();if(!("string"==typeof this.element?a==this.element:a in this.element))continue}if(this.checkElementRemovable(n,!0,e))return!0}}return!1},checkApplicable:function(t,e,n){if(e&&e instanceof CKEDITOR.filter&&(n=e),n&&!n.check(this))return!1;switch(this.type){case CKEDITOR.STYLE_OBJECT:return!!t.contains(this.element);case CKEDITOR.STYLE_BLOCK:return!!t.blockLimit.getDtd()[this.element]}return!0},checkElementMatch:function(t,e){var n=this._.definition;if(!t||!n.ignoreReadonly&&t.isReadOnly())return!1;var i=t.getName();if("string"==typeof this.element?i==this.element:i in this.element){if(!e&&!t.hasAttributes())return!0;if(i=n._AC)n=i;else{i={};var o=0,a=n.attributes;if(a)for(var r in a)o++,i[r]=a[r];(r=CKEDITOR.style.getStyleText(n))&&(i.style||o++,i.style=r),i._length=o,n=n._AC=i}if(!n._length)return!0;for(var s in n)if("_length"!=s)if(i=t.getAttribute(s)||"","style"==s?v(n[s],i):n[s]==i){if(!e)return!0}else if(e)return!1;if(e)return!0}return!1},checkElementRemovable:function(t,e,n){if(this.checkElementMatch(t,e,n))return!0;if(e=m(this)[t.getName()]){var i;if(!(e=e.attributes))return!0;for(n=0;n<e.length;n++)if(i=e[n][0],i=t.getAttribute(i)){var o=e[n][1];if(null===o)return!0;if("string"==typeof o){if(i==o)return!0}else if(o.test(i))return!0}}return!1},buildPreview:function(t){var e=this._.definition,n=[],i=e.element;"bdo"==i&&(i="span");n=["<",i];var o=e.attributes;if(o)for(var a in o)n.push(" ",a,'="',o[a],'"');return(o=CKEDITOR.style.getStyleText(e))&&n.push(' style="',o,'"'),n.push(">",t||e.name,"</",i,">"),n.join("")},getDefinition:function(){return this._.definition}},CKEDITOR.style.getStyleText=function(t){if(e=t._ST)return e;var e=t.styles,n=t.attributes&&t.attributes.style||"",i="";for(var o in n.length&&(n=n.replace(C,";")),e){var a=e[o],r=(o+":"+a).replace(C,";");"inherit"==a?i+=r:n+=r}return n.length&&(n=CKEDITOR.tools.normalizeCssText(n,!0)),t._ST=n+i},CKEDITOR.style.customHandlers={},CKEDITOR.style.addCustomHandler=function(t){var e=function(t){this._={definition:t},this.setup&&this.setup(t)};return e.prototype=CKEDITOR.tools.extend(CKEDITOR.tools.prototypedCopy(CKEDITOR.style.prototype),{assignedTo:CKEDITOR.STYLE_OBJECT},t,!0),this.customHandlers[t.type]=e};var N=CKEDITOR.POSITION_PRECEDING|CKEDITOR.POSITION_IDENTICAL|CKEDITOR.POSITION_IS_CONTAINED,A=CKEDITOR.POSITION_FOLLOWING|CKEDITOR.POSITION_IDENTICAL|CKEDITOR.POSITION_IS_CONTAINED}(),CKEDITOR.styleCommand=function(t,e){this.requiredContent=this.allowedContent=this.style=t,CKEDITOR.tools.extend(this,e,!0)},CKEDITOR.styleCommand.prototype.exec=function(t){t.focus(),this.state==CKEDITOR.TRISTATE_OFF?t.applyStyle(this.style):this.state==CKEDITOR.TRISTATE_ON&&t.removeStyle(this.style)},CKEDITOR.stylesSet=new CKEDITOR.resourceManager("","stylesSet"),CKEDITOR.addStylesSet=CKEDITOR.tools.bind(CKEDITOR.stylesSet.add,CKEDITOR.stylesSet),CKEDITOR.loadStylesSet=function(t,e,n){CKEDITOR.stylesSet.addExternal(t,e,""),CKEDITOR.stylesSet.load(t,n)},CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{attachStyleStateChange:function(t,e){var o=this._.styleStateChangeCallbacks;o||(o=this._.styleStateChangeCallbacks=[],this.on("selectionChange",function(t){for(var e=0;e<o.length;e++){var n=o[e],i=n.style.checkActive(t.data.path,this)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF;n.fn.call(this,i)}})),o.push({style:t,fn:e})},applyStyle:function(t){t.apply(this)},removeStyle:function(t){t.remove(this)},getStylesSet:function(e){if(this._.stylesDefinitions)e(this._.stylesDefinitions);else{var n=this;if(!1===(t=n.config.stylesCombo_stylesSet||n.config.stylesSet))e(null);else if(t instanceof Array)n._.stylesDefinitions=t,e(t);else{t||(t="default");var t,i=(t=t.split(":"))[0];CKEDITOR.stylesSet.addExternal(i,t[1]?t.slice(1).join(":"):CKEDITOR.getUrl("styles.js"),""),CKEDITOR.stylesSet.load(i,function(t){n._.stylesDefinitions=t[i],e(n._.stylesDefinitions)})}}}}),CKEDITOR.dom.comment=function(t,e){"string"==typeof t&&(t=(e?e.$:document).createComment(t)),CKEDITOR.dom.domObject.call(this,t)},CKEDITOR.dom.comment.prototype=new CKEDITOR.dom.node,CKEDITOR.tools.extend(CKEDITOR.dom.comment.prototype,{type:CKEDITOR.NODE_COMMENT,getOuterHtml:function(){return"<!--"+this.$.nodeValue+"-->"}}),function(){var t,d={},u={};for(t in CKEDITOR.dtd.$blockLimit)t in CKEDITOR.dtd.$list||(d[t]=1);for(t in CKEDITOR.dtd.$block)t in CKEDITOR.dtd.$blockLimit||t in CKEDITOR.dtd.$empty||(u[t]=1);CKEDITOR.dom.elementPath=function(t,e){var n,i=null,o=null,a=[],r=t;e=e||t.getDocument().getBody(),r||(r=e);do{if(r.type==CKEDITOR.NODE_ELEMENT){if(a.push(r),!this.lastElement&&((this.lastElement=r).is(CKEDITOR.dtd.$object)||"false"==r.getAttribute("contenteditable")))continue;if(r.equals(e))break;if(!o&&(n=r.getName(),"true"==r.getAttribute("contenteditable")?o=r:!i&&u[n]&&(i=r),d[n])){if(n=!i&&"div"==n){t:{for(var s=0,l=(n=r.getChildren()).count();s<l;s++){var c=n.getItem(s);if(c.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$block[c.getName()]){n=!0;break t}}n=!1}n=!n}n?i=r:o=r}}}while(r=r.getParent());o||(o=e),this.block=i,this.blockLimit=o,this.root=e,this.elements=a}}(),CKEDITOR.dom.elementPath.prototype={compare:function(t){var e=this.elements;if(!(t=t&&t.elements)||e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].equals(t[n]))return!1;return!0},contains:function(e,t,n){var i;"string"==typeof e&&(i=function(t){return t.getName()==e}),e instanceof CKEDITOR.dom.element?i=function(t){return t.equals(e)}:CKEDITOR.tools.isArray(e)?i=function(t){return-1<CKEDITOR.tools.indexOf(e,t.getName())}:"function"==typeof e?i=e:"object"==typeof e&&(i=function(t){return t.getName()in e});var o=this.elements,a=o.length;for(t&&a--,n&&(o=Array.prototype.slice.call(o,0)).reverse(),t=0;t<a;t++)if(i(o[t]))return o[t];return null},isContextFor:function(t){return!(t in CKEDITOR.dtd.$block)||!!(this.contains(CKEDITOR.dtd.$intermediate)||this.root.equals(this.block)&&this.block||this.blockLimit).getDtd()[t]},direction:function(){return(this.block||this.blockLimit||this.root).getDirection(1)}},CKEDITOR.dom.text=function(t,e){"string"==typeof t&&(t=(e?e.$:document).createTextNode(t)),this.$=t},CKEDITOR.dom.text.prototype=new CKEDITOR.dom.node,CKEDITOR.tools.extend(CKEDITOR.dom.text.prototype,{type:CKEDITOR.NODE_TEXT,getLength:function(){return this.$.nodeValue.length},getText:function(){return this.$.nodeValue},setText:function(t){this.$.nodeValue=t},split:function(t){var e=this.$.parentNode,n=e.childNodes.length,i=this.getLength(),o=this.getDocument(),a=new CKEDITOR.dom.text(this.$.splitText(t),o);return e.childNodes.length==n&&(i<=t?(a=o.createText("")).insertAfter(this):((t=o.createText("")).insertAfter(a),t.remove())),a},substring:function(t,e){return"number"!=typeof e?this.$.nodeValue.substr(t):this.$.nodeValue.substring(t,e)}}),function(){function a(t,e,n){var i=t.serializable,o=e[n?"endContainer":"startContainer"],a=n?"endOffset":"startOffset",r=i?e.document.getById(t.startNode):t.startNode;return t=i?e.document.getById(t.endNode):t.endNode,o.equals(r.getPrevious())?(e.startOffset=e.startOffset-o.getLength()-t.getPrevious().getLength(),o=t.getNext()):o.equals(t.getPrevious())&&(e.startOffset-=o.getLength(),o=t.getNext()),o.equals(r.getParent()
)&&e[a]++,o.equals(t.getParent())&&e[a]++,e[n?"endContainer":"startContainer"]=o,e}CKEDITOR.dom.rangeList=function(t){return t instanceof CKEDITOR.dom.rangeList?t:(t?t instanceof CKEDITOR.dom.range&&(t=[t]):t=[],CKEDITOR.tools.extend(t,e))};var e={createIterator:function(){var a,r=this,s=CKEDITOR.dom.walker.bookmark(),l=[];return{getNextRange:function(t){var e=r[a=void 0===a?0:a+1];if(e&&1<r.length){if(!a)for(var n=r.length-1;0<=n;n--)l.unshift(r[n].createBookmark(!0));if(t)for(var i=0;r[a+i+1];){var o=e.document;for(t=0,n=o.getById(l[i].endNode),o=o.getById(l[i+1].startNode);;){if(n=n.getNextSourceNode(!1),o.equals(n))t=1;else if(s(n)||n.type==CKEDITOR.NODE_ELEMENT&&n.isBlockBoundary())continue;break}if(!t)break;i++}for(e.moveToBookmark(l.shift());i--;)(n=r[++a]).moveToBookmark(l.shift()),e.setEnd(n.endContainer,n.endOffset)}return e}}},createBookmarks:function(t){for(var e,n=[],i=0;i<this.length;i++){n.push(e=this[i].createBookmark(t,!0));for(var o=i+1;o<this.length;o++)this[o]=a(e,this[o]),this[o]=a(e,this[o],!0)}return n},createBookmarks2:function(t){for(var e=[],n=0;n<this.length;n++)e.push(this[n].createBookmark2(t));return e},moveToBookmarks:function(t){for(var e=0;e<this.length;e++)this[e].moveToBookmark(t[e])}}}(),function(){function a(){return CKEDITOR.getUrl(CKEDITOR.skinName.split(",")[1]||"skins/"+CKEDITOR.skinName.split(",")[0]+"/")}function n(t){var e=CKEDITOR.skin["ua_"+t],n=CKEDITOR.env;if(e){e=e.split(",").sort(function(t,e){return e<t?-1:1});for(var i,o=0;o<e.length;o++)if(i=e[o],n.ie&&(i.replace(/^ie/,"")==n.version||n.quirks&&"iequirks"==i)&&(i="ie"),n[i]){t+="_"+e[o];break}}return CKEDITOR.getUrl(a()+t+".css")}function i(t,e){o[t]||(CKEDITOR.document.appendStyleSheet(n(t)),o[t]=1),e&&e()}function r(t){var e=t.getById(l);return e||((e=t.getHead().append("style")).setAttribute("id",l),e.setAttribute("type","text/css")),e}function s(t,e,n){var i,o,a;if(CKEDITOR.env.webkit)for(e=e.split("}").slice(0,-1),o=0;o<e.length;o++)e[o]=e[o].split("{");for(var r=0;r<t.length;r++)if(CKEDITOR.env.webkit)for(o=0;o<e.length;o++){for(a=e[o][1],i=0;i<n.length;i++)a=a.replace(n[i][0],n[i][1]);t[r].$.sheet.addRule(e[o][0],a)}else{for(a=e,i=0;i<n.length;i++)a=a.replace(n[i][0],n[i][1]);CKEDITOR.env.ie&&CKEDITOR.env.version<11?t[r].$.styleSheet.cssText+=a:t[r].$.innerHTML+=a}}var o={};CKEDITOR.skin={path:a,loadPart:function(t,e){CKEDITOR.skin.name!=CKEDITOR.skinName.split(",")[0]?CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(a()+"skin.js"),function(){i(t,e)}):i(t,e)},getPath:function(t){return CKEDITOR.getUrl(n(t))},icons:{},addIcon:function(t,e,n,i){t=t.toLowerCase(),this.icons[t]||(this.icons[t]={path:e,offset:n||0,bgsize:i||"16px"})},getIconStyle:function(t,e,n,i,o){var a;return t&&(t=t.toLowerCase(),e&&(a=this.icons[t+"-rtl"]),a||(a=this.icons[t])),t=n||a&&a.path||"",i=i||a&&a.offset,o=o||a&&a.bgsize||"16px",t&&(t=t.replace(/'/g,"\\'")),t&&"background-image:url('"+CKEDITOR.getUrl(t)+"');background-position:0 "+i+"px;background-size:"+o+";"}},CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{getUiColor:function(){return this.uiColor},setUiColor:function(t){var o=r(CKEDITOR.document);return(this.setUiColor=function(t){this.uiColor=t;var e=CKEDITOR.skin.chameleon,n="",i="";"function"==typeof e&&(n=e(this,"editor"),i=e(this,"panel")),s([o],n,t=[[d,t]]),s(c,i,t)}).call(this,t)}});var l="cke_ui_color",c=[],d=/\$color/g;CKEDITOR.on("instanceLoaded",function(t){if(!CKEDITOR.env.ie||!CKEDITOR.env.quirks){var n=t.editor;t=function(t){if(!(t=(t.data[0]||t.data).element.getElementsByTag("iframe").getItem(0).getFrameDocument()).getById("cke_ui_color")){t=r(t),c.push(t);var e=n.getUiColor();e&&s([t],CKEDITOR.skin.chameleon(n,"panel"),[[d,e]])}},n.on("panelShow",t),n.on("menuShow",t),n.config.uiColor&&n.setUiColor(n.config.uiColor)}})}(),function(){if(CKEDITOR.env.webkit)CKEDITOR.env.hc=!1;else{var t=CKEDITOR.dom.element.createFromHtml('<div style="width:0;height:0;position:absolute;left:-10000px;border:1px solid;border-color:red blue"></div>',CKEDITOR.document);t.appendTo(CKEDITOR.document.getHead());try{var e=t.getComputedStyle("border-top-color"),n=t.getComputedStyle("border-right-color");CKEDITOR.env.hc=!(!e||e!=n)}catch(i){CKEDITOR.env.hc=!1}t.remove()}if(CKEDITOR.env.hc&&(CKEDITOR.env.cssClass+=" cke_hc"),CKEDITOR.document.appendStyleText(".cke{visibility:hidden;}"),CKEDITOR.status="loaded",CKEDITOR.fireOnce("loaded"),t=CKEDITOR._.pending)for(delete CKEDITOR._.pending,e=0;e<t.length;e++)CKEDITOR.editor.prototype.constructor.apply(t[e][0],t[e][1]),CKEDITOR.add(t[e][0])}(),CKEDITOR.skin.name="moono-lisa",CKEDITOR.skin.ua_editor="ie,iequirks,ie8,gecko",CKEDITOR.skin.ua_dialog="ie,iequirks,ie8",CKEDITOR.skin.chameleon=(q=function(t,e){for(var n=t.match(/[^#]./g),i=0;i<3;i++){var o,a=i;o=parseInt(n[i],16),o=("0"+(e<0?0|o*(1+e):0|o+(255-o)*e).toString(16)).slice(-2),n[a]=o}return"#"+n.join("")},W={editor:new CKEDITOR.template("{id}.cke_chrome [border-color:{defaultBorder};] {id} .cke_top [ background-color:{defaultBackground};border-bottom-color:{defaultBorder};] {id} .cke_bottom [background-color:{defaultBackground};border-top-color:{defaultBorder};] {id} .cke_resizer [border-right-color:{ckeResizer}] {id} .cke_dialog_title [background-color:{defaultBackground};border-bottom-color:{defaultBorder};] {id} .cke_dialog_footer [background-color:{defaultBackground};outline-color:{defaultBorder};] {id} .cke_dialog_tab [background-color:{dialogTab};border-color:{defaultBorder};] {id} .cke_dialog_tab:hover [background-color:{lightBackground};] {id} .cke_dialog_contents [border-top-color:{defaultBorder};] {id} .cke_dialog_tab_selected, {id} .cke_dialog_tab_selected:hover [background:{dialogTabSelected};border-bottom-color:{dialogTabSelectedBorder};] {id} .cke_dialog_body [background:{dialogBody};border-color:{defaultBorder};] {id} a.cke_button_off:hover,{id} a.cke_button_off:focus,{id} a.cke_button_off:active [background-color:{darkBackground};border-color:{toolbarElementsBorder};] {id} .cke_button_on [background-color:{ckeButtonOn};border-color:{toolbarElementsBorder};] {id} .cke_toolbar_separator,{id} .cke_toolgroup a.cke_button:last-child:after,{id} .cke_toolgroup a.cke_button.cke_button_disabled:hover:last-child:after [background-color: {toolbarElementsBorder};border-color: {toolbarElementsBorder};] {id} a.cke_combo_button:hover,{id} a.cke_combo_button:focus,{id} .cke_combo_on a.cke_combo_button [border-color:{toolbarElementsBorder};background-color:{darkBackground};] {id} .cke_combo:after [border-color:{toolbarElementsBorder};] {id} .cke_path_item [color:{elementsPathColor};] {id} a.cke_path_item:hover,{id} a.cke_path_item:focus,{id} a.cke_path_item:active [background-color:{darkBackground};] {id}.cke_panel [border-color:{defaultBorder};] "),panel:new CKEDITOR.template(".cke_panel_grouptitle [background-color:{lightBackground};border-color:{defaultBorder};] .cke_menubutton_icon [background-color:{menubuttonIcon};] .cke_menubutton:hover,.cke_menubutton:focus,.cke_menubutton:active [background-color:{menubuttonHover};] .cke_menubutton:hover .cke_menubutton_icon, .cke_menubutton:focus .cke_menubutton_icon, .cke_menubutton:active .cke_menubutton_icon [background-color:{menubuttonIconHover};] .cke_menubutton_disabled:hover .cke_menubutton_icon,.cke_menubutton_disabled:focus .cke_menubutton_icon,.cke_menubutton_disabled:active .cke_menubutton_icon [background-color:{menubuttonIcon};] .cke_menuseparator [background-color:{menubuttonIcon};] a:hover.cke_colorbox, a:active.cke_colorbox [border-color:{defaultBorder};] a:hover.cke_colorauto, a:hover.cke_colormore, a:active.cke_colorauto, a:active.cke_colormore [background-color:{ckeColorauto};border-color:{defaultBorder};] ")},function(t,e){var n=q(t.uiColor,.4);return n={id:"."+t.id,defaultBorder:q(n,-.2),toolbarElementsBorder:q(n,-.25),defaultBackground:n,lightBackground:q(n,.8),darkBackground:q(n,-.15),ckeButtonOn:q(n,.4),ckeResizer:q(n,-.4),ckeColorauto:q(n,.8),dialogBody:q(n,.7),dialogTab:q(n,.65),dialogTabSelected:"#FFF",dialogTabSelectedBorder:"#FFF",elementsPathColor:q(n,-.6),menubuttonHover:q(n,.1),menubuttonIcon:q(n,.5),menubuttonIconHover:q(n,.3)},W[e].output(n).replace(/\[/g,"{").replace(/\]/g,"}")}),CKEDITOR.plugins.add("dialogui",{onLoad:function(){var s,l,c,d=function(t){this._||(this._={}),this._["default"]=this._.initValue=t["default"]||"",this._.required=t.required||!1;for(var e=[this._],n=1;n<arguments.length;n++)e.push(arguments[n]);return e.push(!0),CKEDITOR.tools.extend.apply(CKEDITOR.tools,e),this._},t={build:function(t,e,n){return new CKEDITOR.ui.dialog.textInput(t,e,n)}},e={build:function(t,e,n){return new CKEDITOR.ui.dialog[e.type](t,e,n)}},n={isChanged:function(){return this.getValue()!=this.getInitValue()},reset:function(t){this.setValue(this.getInitValue(),t)},setInitValue:function(){this._.initValue=this.getValue()},resetInitValue:function(){this._.initValue=this._["default"]},getInitValue:function(){return this._.initValue}},i=CKEDITOR.tools.extend({},CKEDITOR.ui.dialog.uiElement.prototype.eventProcessors,{onChange:function(t,e){this._.domOnChangeRegistered||(t.on("load",function(){this.getInputElement().on("change",function(){t.parts.dialog.isVisible()&&this.fire("change",{value:this.getValue()})},this)},this),this._.domOnChangeRegistered=!0),this.on("change",e)}},!0),o=/^on([A-Z]\w+)/,m=function(t){for(var e in t)(o.test(e)||"title"==e||"type"==e)&&delete t[e];return t},u=function(t){(t=t.data.getKeystroke())==CKEDITOR.SHIFT+CKEDITOR.ALT+36?this.setDirectionMarker("ltr"):t==CKEDITOR.SHIFT+CKEDITOR.ALT+35&&this.setDirectionMarker("rtl")};CKEDITOR.tools.extend(CKEDITOR.ui.dialog,{labeledElement:function(n,i,t,o){if(!(arguments.length<4)){var a=d.call(this,i);a.labelId=CKEDITOR.tools.getNextId()+"_label",this._.children=[];var e={role:i.role||"presentation"};i.includeLabel&&(e["aria-labelledby"]=a.labelId),CKEDITOR.ui.dialog.uiElement.call(this,n,i,t,"div",null,e,function(){var t=[],e=i.required?" cke_required":"";return"horizontal"!=i.labelLayout?t.push('<label class="cke_dialog_ui_labeled_label'+e+'" ',' id="'+a.labelId+'"',a.inputId?' for="'+a.inputId+'"':"",(i.labelStyle?' style="'+i.labelStyle+'"':"")+">",i.label,"</label>",'<div class="cke_dialog_ui_labeled_content"',i.controlStyle?' style="'+i.controlStyle+'"':"",' role="presentation">',o.call(this,n,i),"</div>"):(e={type:"hbox",widths:i.widths,padding:0,children:[{type:"html",html:'<label class="cke_dialog_ui_labeled_label'+e+'" id="'+a.labelId+'" for="'+a.inputId+'"'+(i.labelStyle?' style="'+i.labelStyle+'"':"")+">"+CKEDITOR.tools.htmlEncode(i.label)+"</label>"},{type:"html",html:'<span class="cke_dialog_ui_labeled_content"'+(i.controlStyle?' style="'+i.controlStyle+'"':"")+">"+o.call(this,n,i)+"</span>"}]},CKEDITOR.dialog._.uiElementBuilders.hbox.build(n,e,t)),t.join("")})}},textInput:function(e,n,t){if(!(arguments.length<3)){d.call(this,n);var i=this._.inputId=CKEDITOR.tools.getNextId()+"_textInput",o={"class":"cke_dialog_ui_input_"+n.type,id:i,type:n.type};n.validate&&(this.validate=n.validate),n.maxLength&&(o.maxlength=n.maxLength),n.size&&(o.size=n.size),n.inputStyle&&(o.style=n.inputStyle);var a=this,r=!1;e.on("load",function(){a.getInputElement().on("keydown",function(t){13==t.data.getKeystroke()&&(r=!0)}),a.getInputElement().on("keyup",function(t){13==t.data.getKeystroke()&&r&&(e.getButton("ok")&&setTimeout(function(){e.getButton("ok").click()},0),r=!1),a.bidi&&u.call(a,t)},null,null,1e3)}),CKEDITOR.ui.dialog.labeledElement.call(this,e,n,t,function(){var t=['<div class="cke_dialog_ui_input_',n.type,'" role="presentation"'];for(var e in n.width&&t.push('style="width:'+n.width+'" '),t.push("><input "),o["aria-labelledby"]=this._.labelId,this._.required&&(o["aria-required"]=this._.required),o)t.push(e+'="'+o[e]+'" ');return t.push(" /></div>"),t.join("")})}},textarea:function(t,e,n){if(!(arguments.length<3)){d.call(this,e);var i=this,o=this._.inputId=CKEDITOR.tools.getNextId()+"_textarea",a={};e.validate&&(this.validate=e.validate),a.rows=e.rows||5,a.cols=e.cols||20,a["class"]="cke_dialog_ui_input_textarea "+(e["class"]||""),"undefined"!=typeof e.inputStyle&&(a.style=e.inputStyle),e.dir&&(a.dir=e.dir),i.bidi&&t.on("load",function(){i.getInputElement().on("keyup",u)},i),CKEDITOR.ui.dialog.labeledElement.call(this,t,e,n,function(){a["aria-labelledby"]=this._.labelId,this._.required&&(a["aria-required"]=this._.required);var t,e=['<div class="cke_dialog_ui_input_textarea" role="presentation"><textarea id="',o,'" '];for(t in a)e.push(t+'="'+CKEDITOR.tools.htmlEncode(a[t])+'" ');return e.push(">",CKEDITOR.tools.htmlEncode(i._["default"]),"</textarea></div>"),e.join("")})}},checkbox:function(o,a,t){if(!(arguments.length<3)){var r=d.call(this,a,{"default":!!a["default"]});a.validate&&(this.validate=a.validate),CKEDITOR.ui.dialog.uiElement.call(this,o,a,t,"span",null,null,function(){var t=CKEDITOR.tools.extend({},a,{id:a.id?a.id+"_checkbox":CKEDITOR.tools.getNextId()+"_checkbox"},!0),e=[],n=CKEDITOR.tools.getNextId()+"_label",i={"class":"cke_dialog_ui_checkbox_input",type:"checkbox","aria-labelledby":n};return m(t),a["default"]&&(i.checked="checked"),"undefined"!=typeof t.inputStyle&&(t.style=t.inputStyle),r.checkbox=new CKEDITOR.ui.dialog.uiElement(o,t,e,"input",null,i),e.push(' <label id="',n,'" for="',i.id,'"'+(a.labelStyle?' style="'+a.labelStyle+'"':"")+">",CKEDITOR.tools.htmlEncode(a.label),"</label>"),e.join("")})}},radio:function(u,h,t){if(!(arguments.length<3)){d.call(this,h),this._["default"]||(this._["default"]=this._.initValue=h.items[0][1]),h.validate&&(this.validate=h.validate);var f=[],p=this;h.role="radiogroup",h.includeLabel=!0,CKEDITOR.ui.dialog.labeledElement.call(this,u,h,t,function(){for(var t=[],e=[],n=(h.id?h.id:CKEDITOR.tools.getNextId())+"_radio",i=0;i<h.items.length;i++){var o=h.items[i],a=void 0!==o[2]?o[2]:o[0],r=void 0!==o[1]?o[1]:o[0],s=(l=CKEDITOR.tools.getNextId()+"_radio_input")+"_label",l=CKEDITOR.tools.extend({},h,{id:l,title:null,type:null},!0),c=(a=CKEDITOR.tools.extend({},l,{title:a},!0),{type:"radio","class":"cke_dialog_ui_radio_input",name:n,value:r,"aria-labelledby":s}),d=[];p._["default"]==r&&(c.checked="checked"),m(l),m(a),"undefined"!=typeof l.inputStyle&&(l.style=l.inputStyle),l.keyboardFocusable=!0,f.push(new CKEDITOR.ui.dialog.uiElement(u,l,d,"input",null,c)),d.push(" "),new CKEDITOR.ui.dialog.uiElement(u,a,d,"label",null,{id:s,"for":c.id},o[0]),t.push(d.join(""))}return new CKEDITOR.ui.dialog.hbox(u,f,t,e),e.join("")}),this._.children=f}},button:function(t,e,n){if(arguments.length){"function"==typeof e&&(e=e(t.getParentEditor())),d.call(this,e,{disabled:e.disabled||!1}),CKEDITOR.event.implementOn(this);var i=this;t.on("load",function(){var t=this.getElement();t.on("click",function(t){i.click(),t.data.preventDefault()}),t.on("keydown",function(t){t.data.getKeystroke()in{32:1}&&(i.click(),t.data.preventDefault())}),t.unselectable()},this);var o=CKEDITOR.tools.extend({},e);delete o.style;var a=CKEDITOR.tools.getNextId()+"_label";CKEDITOR.ui.dialog.uiElement.call(this,t,o,n,"a",null,{style:e.style,href:"javascript:void(0)",title:e.label,hidefocus:"true","class":e["class"],role:"button","aria-labelledby":a},'<span id="'+a+'" class="cke_dialog_ui_button">'+CKEDITOR.tools.htmlEncode(e.label)+"</span>")}},select:function(r,s,t){if(!(arguments.length<3)){var l=d.call(this,s);s.validate&&(this.validate=s.validate),l.inputId=CKEDITOR.tools.getNextId()+"_select",CKEDITOR.ui.dialog.labeledElement.call(this,r,s,t,function(){var t=CKEDITOR.tools.extend({},s,{id:s.id?s.id+"_select":CKEDITOR.tools.getNextId()+"_select"},!0),e=[],n=[],i={id:l.inputId,"class":"cke_dialog_ui_input_select","aria-labelledby":this._.labelId};e.push('<div class="cke_dialog_ui_input_',s.type,'" role="presentation"'),s.width&&e.push('style="width:'+s.width+'" '),e.push(">"),void 0!==s.size&&(i.size=s.size),void 0!==s.multiple&&(i.multiple=s.multiple),m(t);for(var o,a=0;a<s.items.length&&(o=s.items[a]);a++)n.push('<option value="',CKEDITOR.tools.htmlEncode(void 0!==o[1]?o[1]:o[0]).replace(/"/g,"&quot;"),'" /> ',CKEDITOR.tools.htmlEncode(o[0]));return"undefined"!=typeof t.inputStyle&&(t.style=t.inputStyle),l.select=new CKEDITOR.ui.dialog.uiElement(r,t,e,"select",null,i,n.join("")),e.push("</div>"),e.join("")})}},file:function(t,e,n){if(!(arguments.length<3)){void 0===e["default"]&&(e["default"]="");var i=CKEDITOR.tools.extend(d.call(this,e),{definition:e,buttons:[]});e.validate&&(this.validate=e.validate),t.on("load",function(){CKEDITOR.document.getById(i.frameId).getParent().addClass("cke_dialog_ui_input_file")}),CKEDITOR.ui.dialog.labeledElement.call(this,t,e,n,function(){i.frameId=CKEDITOR.tools.getNextId()+"_fileInput";var t=['<iframe frameborder="0" allowtransparency="0" class="cke_dialog_ui_input_file" role="presentation" id="',i.frameId,'" title="',e.label,'" src="javascript:void('];return t.push(CKEDITOR.env.ie?"(function(){"+encodeURIComponent("document.open();("+CKEDITOR.tools.fixDomain+")();document.close();")+"})()":"0"),t.push(')"></iframe>'),t.join("")})}},fileButton:function(n,i,t){var e=this;if(!(arguments.length<3)){d.call(this,i),i.validate&&(this.validate=i.validate);var o=CKEDITOR.tools.extend({},i),a=o.onClick;o.className=(o.className?o.className+" ":"")+"cke_dialog_ui_button",o.onClick=function(t){var e=i["for"];a&&!1===a.call(this,t)||(n.getContentElement(e[0],e[1]).submit(),this.disable())},n.on("load",function(){n.getContentElement(i["for"][0],i["for"][1])._.buttons.push(e)}),CKEDITOR.ui.dialog.button.call(this,n,o,t)}},html:(s=/^\s*<[\w:]+\s+([^>]*)?>/,l=/^(\s*<[\w:]+(?:\s+[^>]*)?)((?:.|\r|\n)+)$/,c=/\/$/,function(t,e,n){if(!(arguments.length<3)){var i=[],o=e.html;"<"!=o.charAt(0)&&(o="<span>"+o+"</span>");var a=e.focus;if(a){var r=this.focus;this.focus=function(){("function"==typeof a?a:r).call(this),this.fire("focus")},e.isFocusable&&(this.isFocusable=this.isFocusable),this.keyboardFocusable=!0}CKEDITOR.ui.dialog.uiElement.call(this,t,e,i,"span",null,null,""),i=i.join("").match(s),o=o.match(l)||["","",""],c.test(o[1])&&(o[1]=o[1].slice(0,-1),o[2]="/"+o[2]),n.push([o[1]," ",i[1]||"",o[2]].join(""))}}),fieldset:function(t,e,n,i,o){var a=o.label;this._={children:e},CKEDITOR.ui.dialog.uiElement.call(this,t,o,i,"fieldset",null,null,function(){var t=[];a&&t.push("<legend"+(o.labelStyle?' style="'+o.labelStyle+'"':"")+">"+a+"</legend>");for(var e=0;e<n.length;e++)t.push(n[e]);return t.join("")})}},!0),CKEDITOR.ui.dialog.html.prototype=new CKEDITOR.ui.dialog.uiElement,CKEDITOR.ui.dialog.labeledElement.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{setLabel:function(t){var e=CKEDITOR.document.getById(this._.labelId);return e.getChildCount()<1?new CKEDITOR.dom.text(t,CKEDITOR.document).appendTo(e):e.getChild(0).$.nodeValue=t,this},getLabel:function(){var t=CKEDITOR.document.getById(this._.labelId);return!t||t.getChildCount()<1?"":t.getChild(0).getText()},eventProcessors:i},!0),CKEDITOR.ui.dialog.button.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{click:function(){return!this._.disabled&&this.fire("click",{dialog:this._.dialog})},enable:function(){this._.disabled=!1;var t=this.getElement();t&&t.removeClass("cke_disabled")},disable:function(){this._.disabled=!0,this.getElement().addClass("cke_disabled")},isVisible:function(){return this.getElement().getFirst().isVisible()},isEnabled:function(){return!this._.disabled},eventProcessors:CKEDITOR.tools.extend({},CKEDITOR.ui.dialog.uiElement.prototype.eventProcessors,{onClick:function(t,e){this.on("click",function(){e.apply(this,arguments)})}},!0),accessKeyUp:function(){this.click()},accessKeyDown:function(){this.focus()},keyboardFocusable:!0},!0),CKEDITOR.ui.dialog.textInput.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement,{getInputElement:function(){return CKEDITOR.document.getById(this._.inputId)},focus:function(){var e=this.selectParentTab();setTimeout(function(){var t=e.getInputElement();t&&t.$.focus()},0)},select:function(){var e=this.selectParentTab();setTimeout(function(){var t=e.getInputElement();t&&(t.$.focus(),t.$.select())},0)},accessKeyUp:function(){this.select()},setValue:function(t){if(this.bidi){var e=t&&t.charAt(0);(e="\u202a"==e?"ltr":"\u202b"==e?"rtl":null)&&(t=t.slice(1)),this.setDirectionMarker(e)}return t||(t=""),CKEDITOR.ui.dialog.uiElement.prototype.setValue.apply(this,arguments)},getValue:function(){var t=CKEDITOR.ui.dialog.uiElement.prototype.getValue.call(this);if(this.bidi&&t){var e=this.getDirectionMarker();e&&(t=("ltr"==e?"\u202a":"\u202b")+t)}return t},setDirectionMarker:function(t){var e=this.getInputElement();t?e.setAttributes({dir:t,"data-cke-dir-marker":t}):this.getDirectionMarker()&&e.removeAttributes(["dir","data-cke-dir-marker"])},getDirectionMarker:function(){return this.getInputElement().data("cke-dir-marker")},keyboardFocusable:!0},n,!0),CKEDITOR.ui.dialog.textarea.prototype=new CKEDITOR.ui.dialog.textInput,CKEDITOR.ui.dialog.select.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement,{getInputElement:function(){return this._.select.getElement()},add:function(t,e,n){var i=new CKEDITOR.dom.element("option",this.getDialog().getParentEditor().document),o=this.getInputElement().$;return i.$.text=t,i.$.value=null==e?t:e,null==n?CKEDITOR.env.ie?o.add(i.$):o.add(i.$,null):o.add(i.$,n),this},remove:function(t){return this.getInputElement().$.remove(t),this},clear:function(){for(var t=this.getInputElement().$;0<t.length;)t.remove(0);return this},keyboardFocusable:!0},n,!0),CKEDITOR.ui.dialog.checkbox.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{getInputElement:function(){return this._.checkbox.getElement()},setValue:function(t,e){this.getInputElement().$.checked=t,!e&&this.fire("change",{value:t})},getValue:function(){return this.getInputElement().$.checked},accessKeyUp:function(){this.setValue(!this.getValue())},eventProcessors:{onChange:function(t,e){return!CKEDITOR.env.ie||8<CKEDITOR.env.version?i.onChange.apply(this,arguments):(t.on("load",function(){var e=this._.checkbox.getElement();e.on("propertychange",function(t){"checked"==(t=t.data.$).propertyName&&this.fire("change",{value:e.$.checked})},this)},this),this.on("change",e),null)}},keyboardFocusable:!0},n,!0),CKEDITOR.ui.dialog.radio.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{setValue:function(t,e){for(var n,i=this._.children,o=0;o<i.length&&(n=i[o]);o++)n.getElement().$.checked=n.getValue()==t;!e&&this.fire("change",{value:t})},getValue:function(){for(var t=this._.children,e=0;e<t.length;e++)if(t[e].getElement().$.checked)return t[e].getValue();return null},accessKeyUp:function(){var t,e=this._.children;for(t=0;t<e.length;t++)if(e[t].getElement().$.checked)return void e[t].getElement().focus();e[0].getElement().focus()},eventProcessors:{onChange:function(t,e){return!CKEDITOR.env.ie||8<CKEDITOR.env.version?i.onChange.apply(this,arguments):(t.on("load",function(){for(var t=this._.children,e=this,n=0;n<t.length;n++)t[n].getElement().on("propertychange",function(t){"checked"==(t=t.data.$).propertyName&&this.$.checked&&e.fire("change",{value:this.getAttribute("value")})})},this),this.on("change",e),null)}}},n,!0),CKEDITOR.ui.dialog.file.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement,n,{getInputElement:function(){var t=CKEDITOR.document.getById(this._.frameId).getFrameDocument();return 0<t.$.forms.length?new CKEDITOR.dom.element(t.$.forms[0].elements[0]):this.getElement()},submit:function(){return this.getInputElement().getParent().$.submit(),this},getAction:function(){return this.getInputElement().getParent().$.action},registerEvents:function(t){var e,n,i=/^on([A-Z]\w+)/,o=function(t,e,n,i){t.on("formLoaded",function(){t.getInputElement().on(n,i,t)})};for(n in t)(e=n.match(i))&&(this.eventProcessors[n]?this.eventProcessors[n].call(this,this._.dialog,t[n]):o(this,this._.dialog,e[1].toLowerCase(),t[n]));return this},reset:function(){function t(){i.$.open();var t="";o.size&&(t=o.size-(CKEDITOR.env.ie?7:0));var e=n.frameId+"_input";for(i.$.write(['<html dir="'+l+'" lang="'+c+'"><head><title></title></head><body style="margin: 0; overflow: hidden; background: transparent;">','<form enctype="multipart/form-data" method="POST" dir="'+l+'" lang="'+c+'" action="',CKEDITOR.tools.htmlEncode(o.action),'"><label id="',n.labelId,'" for="',e,'" style="display:none">',CKEDITOR.tools.htmlEncode(o.label),'</label><input style="width:100%" id="',e,'" aria-labelledby="',n.labelId,'" type="file" name="',CKEDITOR.tools.htmlEncode(o.id||"cke_upload"),'" size="',CKEDITOR.tools.htmlEncode(0<t?t:""),'" /></form></body></html><script>',CKEDITOR.env.ie?"("+CKEDITOR.tools.fixDomain+")();":"","window.parent.CKEDITOR.tools.callFunction("+r+");","window.onbeforeunload = function() {window.parent.CKEDITOR.tools.callFunction("+s+")}","</script>"].join("")),i.$.close(),t=0;t<a.length;t++)a[t].enable()}var n=this._,i=CKEDITOR.document.getById(n.frameId).getFrameDocument(),o=n.definition,a=n.buttons,r=this.formLoadedNumber,s=this.formUnloadNumber,l=n.dialog._.editor.lang.dir,c=n.dialog._.editor.langCode;r||(r=this.formLoadedNumber=CKEDITOR.tools.addFunction(function(){this.fire("formLoaded")},this),s=this.formUnloadNumber=CKEDITOR.tools.addFunction(function(){this.getInputElement().clearCustomData()},this),this.getDialog()._.editor.on("destroy",function(){CKEDITOR.tools.removeFunction(r),CKEDITOR.tools.removeFunction(s)})),CKEDITOR.env.gecko?setTimeout(t,500):t()},getValue:function(){return this.getInputElement().$.value||""},setInitValue:function(){this._.initValue=""},eventProcessors:{onChange:function(t,e){this._.domOnChangeRegistered||(this.on("formLoaded",function(){this.getInputElement().on("change",function(){this.fire("change",{value:this.getValue()})},this)},this),this._.domOnChangeRegistered=!0),this.on("change",e)}},keyboardFocusable:!0},!0),CKEDITOR.ui.dialog.fileButton.prototype=new CKEDITOR.ui.dialog.button,CKEDITOR.ui.dialog.fieldset.prototype=CKEDITOR.tools.clone(CKEDITOR.ui.dialog.hbox.prototype),CKEDITOR.dialog.addUIElement("text",t),CKEDITOR.dialog.addUIElement("password",t),CKEDITOR.dialog.addUIElement("textarea",e),CKEDITOR.dialog.addUIElement("checkbox",e),CKEDITOR.dialog.addUIElement("radio",e),CKEDITOR.dialog.addUIElement("button",e),CKEDITOR.dialog.addUIElement("select",e),CKEDITOR.dialog.addUIElement("file",e),CKEDITOR.dialog.addUIElement("fileButton",e),CKEDITOR.dialog.addUIElement("html",e),CKEDITOR.dialog.addUIElement("fieldset",{build:function(t,e,n){for(var i,o=e.children,a=[],r=[],s=0;s<o.length&&(i=o[s]);s++){var l=[];a.push(l),r.push(CKEDITOR.dialog._.uiElementBuilders[i.type].build(t,i,l))}return new CKEDITOR.ui.dialog[e.type](t,r,a,n,e)}})}}),CKEDITOR.DIALOG_RESIZE_NONE=0,CKEDITOR.DIALOG_RESIZE_WIDTH=1,CKEDITOR.DIALOG_RESIZE_HEIGHT=2,CKEDITOR.DIALOG_RESIZE_BOTH=3,CKEDITOR.DIALOG_STATE_IDLE=1,CKEDITOR.DIALOG_STATE_BUSY=2,function(){function v(){for(var t=this._.tabIdList.length,e=CKEDITOR.tools.indexOf(this._.tabIdList,this._.currentTabId)+t,n=e-1;e-t<n;n--)if(this._.tabs[this._.tabIdList[n%t]][0].$.offsetHeight)return this._.tabIdList[n%t];return null}function E(){for(var t=this._.tabIdList.length,e=CKEDITOR.tools.indexOf(this._.tabIdList,this._.currentTabId),n=e+1;n<e+t;n++)if(this._.tabs[this._.tabIdList[n%t]][0].$.offsetHeight)return this._.tabIdList[n%t];return null}function a(t,e){for(var n=t.$.getElementsByTagName("input"),i=0,o=n.length;i<o;i++){var a=new CKEDITOR.dom.element(n[i]);"text"==a.getAttribute("type").toLowerCase()&&(e?(a.setAttribute("value",a.getCustomData("fake_value")||""),a.removeCustomData("fake_value")):(a.setCustomData("fake_value",a.getAttribute("value")),a.setAttribute("value","")))}}function T(t,e){var n=this.getInputElement();n&&(t?n.removeAttribute("aria-invalid"):n.setAttribute("aria-invalid",!0)),t||(this.select?this.select():this.focus()),e&&alert(e),this.fire("validated",{valid:t,msg:e})}function b(){var t=this.getInputElement();t&&t.removeAttribute("aria-invalid")}function C(t){var e=CKEDITOR.dom.element.createFromHtml(CKEDITOR.addTemplate("dialog",h).output({id:CKEDITOR.tools.getNextNumber(),editorId:t.id,langDir:t.lang.dir,langCode:t.langCode,editorDialogClass:"cke_editor_"+t.name.replace(/\./g,"\\.")+"_dialog",closeTitle:t.lang.common.close,hidpi:CKEDITOR.env.hidpi?"cke_hidpi":""})),n=e.getChild([0,0,0,0,0]),i=n.getChild(0),o=n.getChild(1);return t.plugins.clipboard&&CKEDITOR.plugins.clipboard.preventDefaultDropOnElement(n),!CKEDITOR.env.ie||CKEDITOR.env.quirks||CKEDITOR.env.edge||(t="javascript:void(function(){"+encodeURIComponent("document.open();("+CKEDITOR.tools.fixDomain+")();document.close();")+"}())",CKEDITOR.dom.element.createFromHtml('<iframe frameBorder="0" class="cke_iframe_shim" src="'+t+'" tabIndex="-1"></iframe>').appendTo(n.getParent())),i.unselectable(),o.unselectable(),{element:e,parts:{dialog:e.getChild(0),title:i,close:o,tabs:n.getChild(2),contents:n.getChild([3,0,0,0]),footer:n.getChild([3,0,1,0])}}}function i(t,e,n){this.element=e,this.focusIndex=n,this.tabIndex=0,this.isFocusable=function(){return!e.getAttribute("disabled")&&e.isVisible()},this.focus=function(){t._.currentFocusIndex=this.focusIndex,this.element.focus()},e.on("keydown",function(t){t.data.getKeystroke()in{32:1,13:1}&&this.fire("click")}),e.on("focus",function(){this.fire("mouseover")}),e.on("blur",function(){this.fire("mouseout")})}function l(t){function e(){t.layout()}var n=CKEDITOR.document.getWindow();n.on("resize",e),t.on("hide",function(){n.removeListener("resize",e)})}function r(t,e){this._={dialog:t},CKEDITOR.tools.extend(this,e)}function y(s){function n(t){var e=s.getSize(),n=CKEDITOR.document.getWindow().getViewPaneSize(),i=t.data.$.screenX,o=t.data.$.screenY,a=i-l.x,r=o-l.y;l={x:i,y:o},c.x+=a,c.y+=r,s.move(c.x+h[3]<u?-h[3]:c.x-h[1]>n.width-e.width-u?n.width-e.width+("rtl"==d.lang.dir?0:h[1]):c.x,c.y+h[0]<u?-h[0]:c.y-h[2]>n.height-e.height-u?n.height-e.height+h[2]:c.y,1),t.data.preventDefault()}function i(){if(CKEDITOR.document.removeListener("mousemove",n),CKEDITOR.document.removeListener("mouseup",i),CKEDITOR.env.ie6Compat){var t=R.getChild(0).getFrameDocument();t.removeListener("mousemove",n),t.removeListener("mouseup",i)}}var l=null,c=null,d=s.getParentEditor(),u=d.config.dialog_magnetDistance,h=CKEDITOR.skin.margins||[0,0,0,0];void 0===u&&(u=20),s.parts.title.on("mousedown",function(t){if(l={x:t.data.$.screenX,y:t.data.$.screenY},CKEDITOR.document.on("mousemove",n),CKEDITOR.document.on("mouseup",i),c=s.getPosition(),CKEDITOR.env.ie6Compat){var e=R.getChild(0).getFrameDocument();e.on("mousemove",n),e.on("mouseup",i)}t.data.preventDefault()},s)}function D(l){function n(t){var e="rtl"==g.lang.dir,n=m.width,i=m.height,o=n+(t.data.$.screenX-p.x)*(e?-1:1)*(l._.moved?1:2),a=i+(t.data.$.screenY-p.y)*(l._.moved?1:2),r=l._.element.getFirst(),s=(r=e&&r.getComputedStyle("right"),l.getPosition());s.y+a>f.height&&(a=f.height-s.y),(e?r:s.x)+o>f.width&&(o=f.width-(e?r:s.x)),d!=CKEDITOR.DIALOG_RESIZE_WIDTH&&d!=CKEDITOR.DIALOG_RESIZE_BOTH||(n=Math.max(c.minWidth||0,o-u)),d!=CKEDITOR.DIALOG_RESIZE_HEIGHT&&d!=CKEDITOR.DIALOG_RESIZE_BOTH||(i=Math.max(c.minHeight||0,a-h)),l.resize(n,i),l._.moved||l.layout(),t.data.preventDefault()}function i(){if(CKEDITOR.document.removeListener("mouseup",i),CKEDITOR.document.removeListener("mousemove",n),o&&(o.remove(),o=null),CKEDITOR.env.ie6Compat){var t=R.getChild(0).getFrameDocument();t.removeListener("mouseup",i),t.removeListener("mousemove",n)}}var c=l.definition,d=c.resizable;if(d!=CKEDITOR.DIALOG_RESIZE_NONE){var u,h,f,p,m,o,g=l.getParentEditor(),e=CKEDITOR.tools.addFunction(function(t){m=l.getSize();var e=l.parts.contents;e.$.getElementsByTagName("iframe").length&&(o=CKEDITOR.dom.element.createFromHtml('<div class="cke_dialog_resize_cover" style="height: 100%; position: absolute; width: 100%;"></div>'),e.append(o)),h=m.height-l.parts.contents.getSize("height",!(CKEDITOR.env.gecko||CKEDITOR.env.ie&&CKEDITOR.env.quirks)),u=m.width-l.parts.contents.getSize("width",1),p={x:t.screenX,y:t.screenY},f=CKEDITOR.document.getWindow().getViewPaneSize(),CKEDITOR.document.on("mousemove",n),CKEDITOR.document.on("mouseup",i),CKEDITOR.env.ie6Compat&&((e=R.getChild(0).getFrameDocument()).on("mousemove",n),e.on("mouseup",i)),t.preventDefault&&t.preventDefault()});l.on("load",function(){var t="";d==CKEDITOR.DIALOG_RESIZE_WIDTH?t=" cke_resizer_horizontal":d==CKEDITOR.DIALOG_RESIZE_HEIGHT&&(t=" cke_resizer_vertical"),t=CKEDITOR.dom.element.createFromHtml('<div class="cke_resizer'+t+" cke_resizer_"+g.lang.dir+'" title="'+CKEDITOR.tools.htmlEncode(g.lang.common.resize)+'" onmousedown="CKEDITOR.tools.callFunction('+e+', event )">'+("ltr"==g.lang.dir?"\u25e2":"\u25e3")+"</div>"),l.parts.footer.append(t,1)}),g.on("destroy",function(){CKEDITOR.tools.removeFunction(e)})}}function c(t){t.data.preventDefault(1
)}function d(t){var n=CKEDITOR.document.getWindow(),e=t.config,i=CKEDITOR.skinName||t.config.skin,o=e.dialog_backgroundCoverColor||("moono-lisa"==i?"black":"white"),a=(i=e.dialog_backgroundCoverOpacity,e.baseFloatZIndex),r=(e=CKEDITOR.tools.genKey(o,i,a),N[e]);r?r.show():(a=['<div tabIndex="-1" style="position: ',CKEDITOR.env.ie6Compat?"absolute":"fixed","; z-index: ",a,"; top: 0px; left: 0px; ",CKEDITOR.env.ie6Compat?"":"background-color: "+o,'" class="cke_dialog_background_cover">'],CKEDITOR.env.ie6Compat&&(o="<html><body style=\\'background-color:"+o+";\\'></body></html>",a.push('<iframe hidefocus="true" frameborder="0" id="cke_dialog_background_iframe" src="javascript:'),a.push("void((function(){"+encodeURIComponent("document.open();("+CKEDITOR.tools.fixDomain+")();document.write( '"+o+"' );document.close();")+"})())"),a.push('" style="position:absolute;left:0;top:0;width:100%;height: 100%;filter: progid:DXImageTransform.Microsoft.Alpha(opacity=0)"></iframe>')),a.push("</div>"),(r=CKEDITOR.dom.element.createFromHtml(a.join(""))).setOpacity(void 0!==i?i:.5),r.on("keydown",c),r.on("keypress",c),r.on("keyup",c),r.appendTo(CKEDITOR.document.getBody()),N[e]=r),t.focusManager.add(r),R=r;var s=function(){var t=n.getScrollPosition(),e=CKEDITOR.dialog._.currentTop;if(r.setStyles({left:t.x+"px",top:t.y+"px"}),e)for(;t=e.getPosition(),e.move(t.x,t.y),e=e._.parentDialog;);};if(g=t=function(){var t=n.getViewPaneSize();r.setStyles({width:t.width+"px",height:t.height+"px"})},n.on("resize",t),t(),CKEDITOR.env.mac&&CKEDITOR.env.webkit||r.focus(),CKEDITOR.env.ie6Compat){var l=function(){s(),arguments.callee.prevScrollHandler.apply(this,arguments)};n.$.setTimeout(function(){l.prevScrollHandler=window.onscroll||function(){},window.onscroll=l},0),s()}}function o(t){R&&(t.focusManager.remove(R),t=CKEDITOR.document.getWindow(),R.hide(),t.removeListener("resize",g),CKEDITOR.env.ie6Compat&&t.$.setTimeout(function(){window.onscroll=window.onscroll&&window.onscroll.prevScrollHandler||null},0),g=null)}var t,n,s,u=CKEDITOR.tools.cssLength,h='<div class="cke_reset_all {editorId} {editorDialogClass} {hidpi}" dir="{langDir}" lang="{langCode}" role="dialog" aria-labelledby="cke_dialog_title_{id}"><table class="cke_dialog '+CKEDITOR.env.cssClass+' cke_{langDir}" style="position:absolute" role="presentation"><tr><td role="presentation"><div class="cke_dialog_body" role="presentation"><div id="cke_dialog_title_{id}" class="cke_dialog_title" role="presentation"></div><a id="cke_dialog_close_button_{id}" class="cke_dialog_close_button" href="javascript:void(0)" title="{closeTitle}" role="button"><span class="cke_label">X</span></a><div id="cke_dialog_tabs_{id}" class="cke_dialog_tabs" role="tablist"></div><table class="cke_dialog_contents" role="presentation"><tr><td id="cke_dialog_contents_{id}" class="cke_dialog_contents_body" role="presentation"></td></tr><tr><td id="cke_dialog_footer_{id}" class="cke_dialog_footer" role="presentation"></td></tr></table></div></td></tr></table></div>';CKEDITOR.dialog=function(o,t){function e(){var t=p._.focusList;t.sort(function(t,e){return t.tabIndex!=e.tabIndex?e.tabIndex-t.tabIndex:t.focusIndex-e.focusIndex});for(var e=t.length,n=0;n<e;n++)t[n].focusIndex=n}function a(t){var e=p._.focusList;if(t=t||0,!(e.length<1)){var n=p._.currentFocusIndex;p._.tabBarMode&&t<0&&(n=0);try{e[n].getInputElement().$.blur()}catch(r){}var i=n,o=1<p._.pageCount;do{if(i+=t,o&&!p._.tabBarMode&&(i==e.length||-1==i))return p._.tabBarMode=!0,p._.tabs[p._.currentTabId][0].focus(),void(p._.currentFocusIndex=-1);if((i=(i+e.length)%e.length)==n)break}while(t&&!e[i].isFocusable());e[i].focus(),"text"==e[i].type&&e[i].select()}}function r(t){if(p==CKEDITOR.dialog._.currentTop){var e=t.data.getKeystroke(),n="rtl"==o.lang.dir,i=[37,38,39,40];if(l=c=0,9==e||e==CKEDITOR.SHIFT+9)a(e==CKEDITOR.SHIFT+9?-1:1),l=1;else if(e==CKEDITOR.ALT+121&&!p._.tabBarMode&&1<p.getPageCount())p._.tabBarMode=!0,p._.tabs[p._.currentTabId][0].focus(),p._.currentFocusIndex=-1,l=1;else if(-1!=CKEDITOR.tools.indexOf(i,e)&&p._.tabBarMode)e=-1!=CKEDITOR.tools.indexOf([n?39:37,38],e)?v.call(p):E.call(p),p.selectPage(e),p._.tabs[e][0].focus(),l=1;else if(13!=e&&32!=e||!p._.tabBarMode)if(13==e)(e=t.data.getTarget()).is("a","button","select","textarea")||e.is("input")&&"button"==e.$.type||((e=this.getButton("ok"))&&CKEDITOR.tools.setTimeout(e.click,0,e),l=1),c=1;else{if(27!=e)return;(e=this.getButton("cancel"))?CKEDITOR.tools.setTimeout(e.click,0,e):!1!==this.fire("cancel",{hide:!0}).hide&&this.hide(),c=1}else this.selectPage(this._.currentTabId),this._.tabBarMode=!1,this._.currentFocusIndex=-1,a(1),l=1;s(t)}}function s(t){l?t.data.preventDefault(1):c&&t.data.stopPropagation()}var l,c,n=CKEDITOR.dialog._.dialogDefinitions[t],i=CKEDITOR.tools.clone(I),d=o.config.dialog_buttonsOrder||"OS",u=o.lang.dir,h={};if(("OS"==d&&CKEDITOR.env.mac||"rtl"==d&&"ltr"==u||"ltr"==d&&"rtl"==u)&&i.buttons.reverse(),n=CKEDITOR.tools.extend(n(o),i),n=CKEDITOR.tools.clone(n),n=new O(this,n),i=C(o),this._={editor:o,element:i.element,name:t,contentSize:{width:0,height:0},size:{width:0,height:0},contents:{},buttons:{},accessKeyMap:{},tabs:{},tabIdList:[],currentTabId:null,currentTabIndex:null,pageCount:0,lastTab:null,tabBarMode:!1,focusList:[],currentFocusIndex:0,hasFocus:!1},this.parts=i.parts,CKEDITOR.tools.setTimeout(function(){o.fire("ariaWidget",this.parts.contents)},0,this),(i={position:CKEDITOR.env.ie6Compat?"absolute":"fixed",top:0,visibility:"hidden"})["rtl"==u?"right":"left"]=0,this.parts.dialog.setStyles(i),CKEDITOR.event.call(this),this.definition=n=CKEDITOR.fire("dialogDefinition",{name:t,definition:n},o).definition,!("removeDialogTabs"in o._)&&o.config.removeDialogTabs){for(i=o.config.removeDialogTabs.split(";"),u=0;u<i.length;u++)if(2==(d=i[u].split(":")).length){var f=d[0];h[f]||(h[f]=[]),h[f].push(d[1])}o._.removeDialogTabs=h}if(o._.removeDialogTabs&&(h=o._.removeDialogTabs[t]))for(u=0;u<h.length;u++)n.removeContents(h[u]);n.onLoad&&this.on("load",n.onLoad),n.onShow&&this.on("show",n.onShow),n.onHide&&this.on("hide",n.onHide),n.onOk&&this.on("ok",function(t){o.fire("saveSnapshot"),setTimeout(function(){o.fire("saveSnapshot")},0),!1===n.onOk.call(this,t)&&(t.data.hide=!1)}),this.state=CKEDITOR.DIALOG_STATE_IDLE,n.onCancel&&this.on("cancel",function(t){!1===n.onCancel.call(this,t)&&(t.data.hide=!1)});var p=this,m=function(t){var e,n=p._.contents;for(e in n)for(var i in n[e])if(t.call(this,n[e][i]))return};this.on("ok",function(i){m(function(t){if(t.validate){var e=t.validate(this),n="string"==typeof e||!1===e;return n&&(i.data.hide=!1,i.stop()),T.call(t,!n,"string"==typeof e?e:void 0),n}})},this,null,0),this.on("cancel",function(e){m(function(t){if(t.isChanged())return o.config.dialog_noConfirmCancel||confirm(o.lang.common.confirmCancel)||(e.data.hide=!1),!0})},this,null,0),this.parts.close.on("click",function(t){!1!==this.fire("cancel",{hide:!0}).hide&&this.hide(),t.data.preventDefault()},this),this.changeFocus=a;var g=this._.element;for(o.focusManager.add(g,1),this.on("show",function(){g.on("keydown",r,this),CKEDITOR.env.gecko&&g.on("keypress",s,this)}),this.on("hide",function(){g.removeListener("keydown",r),CKEDITOR.env.gecko&&g.removeListener("keypress",s),m(function(t){b.apply(t)})}),this.on("iframeAdded",function(t){new CKEDITOR.dom.document(t.data.iframe.$.contentWindow.document).on("keydown",r,this,null,0)}),this.on("show",function(){e();var t=1<p._.pageCount;o.config.dialog_startupFocusTab&&t?(p._.tabBarMode=!0,p._.tabs[p._.currentTabId][0].focus(),p._.currentFocusIndex=-1):this._.hasFocus||(this._.currentFocusIndex=t?-1:this._.focusList.length-1,n.onFocus?(t=n.onFocus.call(this))&&t.focus():a(1))},this,null,4294967295),CKEDITOR.env.ie6Compat&&this.on("load",function(){var t=this.getElement(),e=t.getFirst();e.remove(),e.appendTo(t)},this),y(this),D(this),new CKEDITOR.dom.text(n.title,CKEDITOR.document).appendTo(this.parts.title),u=0;u<n.contents.length;u++)(h=n.contents[u])&&this.addPage(h);for(this.parts.tabs.on("click",function(t){var e=t.data.getTarget();e.hasClass("cke_dialog_tab")&&(e=e.$.id,this.selectPage(e.substring(4,e.lastIndexOf("_"))),this._.tabBarMode&&(this._.tabBarMode=!1,this._.currentFocusIndex=-1,a(1)),t.data.preventDefault())},this),u=[],h=CKEDITOR.dialog._.uiElementBuilders.hbox.build(this,{type:"hbox",className:"cke_dialog_footer_buttons",widths:[],children:n.buttons},u).getChild(),this.parts.footer.setHtml(u.join("")),u=0;u<h.length;u++)this._.buttons[h[u].id]=h[u]},CKEDITOR.dialog.prototype={destroy:function(){this.hide(),this._.element.remove()},resize:function(t,e){this._.contentSize&&this._.contentSize.width==t&&this._.contentSize.height==e||(CKEDITOR.dialog.fire("resize",{dialog:this,width:t,height:e},this._.editor),this.fire("resize",{width:t,height:e},this._.editor),this.parts.contents.setStyles({width:t+"px",height:e+"px"}),"rtl"==this._.editor.lang.dir&&this._.position&&(this._.position.x=CKEDITOR.document.getWindow().getViewPaneSize().width-this._.contentSize.width-parseInt(this._.element.getFirst().getStyle("right"),10)),this._.contentSize={width:t,height:e})},getSize:function(){var t=this._.element.getFirst();return{width:t.$.offsetWidth||0,height:t.$.offsetHeight||0}},move:function(t,e,n){var i=this._.element.getFirst(),o="rtl"==this._.editor.lang.dir,a="fixed"==i.getComputedStyle("position");CKEDITOR.env.ie&&i.setStyle("zoom","100%"),a&&this._.position&&this._.position.x==t&&this._.position.y==e||(this._.position={x:t,y:e},a||(t+=(a=CKEDITOR.document.getWindow().getScrollPosition()).x,e+=a.y),o&&(a=this.getSize(),t=CKEDITOR.document.getWindow().getViewPaneSize().width-a.width-t),(e={top:(0<e?e:0)+"px"})[o?"right":"left"]=(0<t?t:0)+"px",i.setStyles(e),n&&(this._.moved=1))},getPosition:function(){return CKEDITOR.tools.extend({},this._.position)},show:function(){var t=this._.element,e=this.definition;for(var n in t.getParent()&&t.getParent().equals(CKEDITOR.document.getBody())?t.setStyle("display","block"):t.appendTo(CKEDITOR.document.getBody()),this.resize(this._.contentSize&&this._.contentSize.width||e.width||e.minWidth,this._.contentSize&&this._.contentSize.height||e.height||e.minHeight),this.reset(),this.selectPage(this.definition.contents[0].id),null===CKEDITOR.dialog._.currentZIndex&&(CKEDITOR.dialog._.currentZIndex=this._.editor.config.baseFloatZIndex),this._.element.getFirst().setStyle("z-index",CKEDITOR.dialog._.currentZIndex+=10),null===CKEDITOR.dialog._.currentTop?((CKEDITOR.dialog._.currentTop=this)._.parentDialog=null,d(this._.editor)):(this._.parentDialog=CKEDITOR.dialog._.currentTop,this._.parentDialog.getElement().getFirst().$.style.zIndex-=Math.floor(this._.editor.config.baseFloatZIndex/2),CKEDITOR.dialog._.currentTop=this),t.on("keydown",M),t.on("keyup",L),this._.hasFocus=!1,e.contents)if(e.contents[n]){t=e.contents[n];var i=this._.tabs[t.id],o=t.requiredContent,a=0;if(i){for(var r in this._.contents[t.id]){var s=this._.contents[t.id][r];"hbox"!=s.type&&"vbox"!=s.type&&s.getInputElement()&&(s.requiredContent&&!this._.editor.activeFilter.check(s.requiredContent)?s.disable():(s.enable(),a++))}!a||o&&!this._.editor.activeFilter.check(o)?i[0].addClass("cke_dialog_tab_disabled"):i[0].removeClass("cke_dialog_tab_disabled")}}CKEDITOR.tools.setTimeout(function(){this.layout(),l(this),this.parts.dialog.setStyle("visibility",""),this.fireOnce("load",{}),CKEDITOR.ui.fire("ready",this),this.fire("show",{}),this._.editor.fire("dialogShow",this),this._.parentDialog||this._.editor.focusManager.lock(),this.foreach(function(t){t.setInitValue&&t.setInitValue()})},100,this)},layout:function(){var t=this.parts.dialog,e=this.getSize(),n=CKEDITOR.document.getWindow().getViewPaneSize(),i=(n.width-e.width)/2,o=(n.height-e.height)/2;CKEDITOR.env.ie6Compat||(e.height+(0<o?o:0)>n.height||e.width+(0<i?i:0)>n.width?t.setStyle("position","absolute"):t.setStyle("position","fixed")),this.move(this._.moved?this._.position.x:i,this._.moved?this._.position.y:o)},foreach:function(t){for(var e in this._.contents)for(var n in this._.contents[e])t.call(this,this._.contents[e][n]);return this},reset:(t=function(t){t.reset&&t.reset(1)},function(){return this.foreach(t),this}),setupContent:function(){var e=arguments;this.foreach(function(t){t.setup&&t.setup.apply(t,e)})},commitContent:function(){var e=arguments;this.foreach(function(t){CKEDITOR.env.ie&&this._.currentFocusIndex==t.focusIndex&&t.getInputElement().$.blur(),t.commit&&t.commit.apply(t,e)})},hide:function(){if(this.parts.dialog.isVisible()){this.fire("hide",{}),this._.editor.fire("dialogHide",this),this.selectPage(this._.tabIdList[0]);var t=this._.element;for(t.setStyle("display","none"),this.parts.dialog.setStyle("visibility","hidden"),P(this);CKEDITOR.dialog._.currentTop!=this;)CKEDITOR.dialog._.currentTop.hide();if(this._.parentDialog){var e=this._.parentDialog.getElement().getFirst();e.setStyle("z-index",parseInt(e.$.style.zIndex,10)+Math.floor(this._.editor.config.baseFloatZIndex/2))}else o(this._.editor);if(CKEDITOR.dialog._.currentTop=this._.parentDialog)CKEDITOR.dialog._.currentZIndex-=10;else{CKEDITOR.dialog._.currentZIndex=null,t.removeListener("keydown",M),t.removeListener("keyup",L);var n=this._.editor;n.focus(),setTimeout(function(){n.focusManager.unlock(),CKEDITOR.env.iOS&&n.window.focus()},0)}delete this._.parentDialog,this.foreach(function(t){t.resetInitValue&&t.resetInitValue()}),this.setState(CKEDITOR.DIALOG_STATE_IDLE)}},addPage:function(t){if(!t.requiredContent||this._.editor.filter.check(t.requiredContent)){for(var e=[],n=t.label?' title="'+CKEDITOR.tools.htmlEncode(t.label)+'"':"",i=CKEDITOR.dialog._.uiElementBuilders.vbox.build(this,{type:"vbox",className:"cke_dialog_page_contents",children:t.elements,expand:!!t.expand,padding:t.padding,style:t.style||"width: 100%;"},e),o=this._.contents[t.id]={},a=i.getChild(),r=0;i=a.shift();)i.notAllowed||"hbox"==i.type||"vbox"==i.type||r++,"function"==typeof(o[i.id]=i).getChild&&a.push.apply(a,i.getChild());r||(t.hidden=!0),(e=CKEDITOR.dom.element.createFromHtml(e.join(""))).setAttribute("role","tabpanel"),i=CKEDITOR.env,o="cke_"+t.id+"_"+CKEDITOR.tools.getNextNumber(),n=CKEDITOR.dom.element.createFromHtml(['<a class="cke_dialog_tab"',0<this._.pageCount?" cke_last":"cke_first",n,t.hidden?' style="display:none"':"",' id="',o,'"',i.gecko&&!i.hc?"":' href="javascript:void(0)"',' tabIndex="-1" hidefocus="true" role="tab">',t.label,"</a>"].join("")),e.setAttribute("aria-labelledby",o),this._.tabs[t.id]=[n,e],this._.tabIdList.push(t.id),!t.hidden&&this._.pageCount++,this._.lastTab=n,this.updateStyle(),e.setAttribute("name",t.id),e.appendTo(this.parts.contents),n.unselectable(),this.parts.tabs.append(n),t.accessKey&&(F(this,this,"CTRL+"+t.accessKey,$,B),this._.accessKeyMap["CTRL+"+t.accessKey]=t.id)}},selectPage:function(t){if(this._.currentTabId!=t&&!this._.tabs[t][0].hasClass("cke_dialog_tab_disabled")&&!1!==this.fire("selectPage",{page:t,currentPage:this._.currentTabId})){for(var e in this._.tabs){var n=this._.tabs[e][0],i=this._.tabs[e][1];e!=t&&(n.removeClass("cke_dialog_tab_selected"),i.hide()),i.setAttribute("aria-hidden",e!=t)}var o=this._.tabs[t];o[0].addClass("cke_dialog_tab_selected"),CKEDITOR.env.ie6Compat||CKEDITOR.env.ie7Compat?(a(o[1]),o[1].show(),setTimeout(function(){a(o[1],1)},0)):o[1].show(),this._.currentTabId=t,this._.currentTabIndex=CKEDITOR.tools.indexOf(this._.tabIdList,t)}},updateStyle:function(){this.parts.dialog[(1===this._.pageCount?"add":"remove")+"Class"]("cke_single_page")},hidePage:function(t){var e=this._.tabs[t]&&this._.tabs[t][0];e&&1!=this._.pageCount&&e.isVisible()&&(t==this._.currentTabId&&this.selectPage(v.call(this)),e.hide(),this._.pageCount--,this.updateStyle())},showPage:function(t){(t=this._.tabs[t]&&this._.tabs[t][0])&&(t.show(),this._.pageCount++,this.updateStyle())},getElement:function(){return this._.element},getName:function(){return this._.name},getContentElement:function(t,e){var n=this._.contents[t];return n&&n[e]},getValueOf:function(t,e){return this.getContentElement(t,e).getValue()},setValueOf:function(t,e,n){return this.getContentElement(t,e).setValue(n)},getButton:function(t){return this._.buttons[t]},click:function(t){return this._.buttons[t].click()},disableButton:function(t){return this._.buttons[t].disable()},enableButton:function(t){return this._.buttons[t].enable()},getPageCount:function(){return this._.pageCount},getParentEditor:function(){return this._.editor},getSelectedElement:function(){return this.getParentEditor().getSelection().getSelectedElement()},addFocusable:function(t,e){if(void 0===e)e=this._.focusList.length,this._.focusList.push(new i(this,t,e));else{this._.focusList.splice(e,0,new i(this,t,e));for(var n=e+1;n<this._.focusList.length;n++)this._.focusList[n].focusIndex++}},setState:function(t){if(this.state!=t){if((this.state=t)==CKEDITOR.DIALOG_STATE_BUSY){if(!this.parts.spinner){var e=this.getParentEditor().lang.dir,n={attributes:{"class":"cke_dialog_spinner"},styles:{"float":"rtl"==e?"right":"left"}};n.styles["margin-"+("rtl"==e?"left":"right")]="8px",this.parts.spinner=CKEDITOR.document.createElement("div",n),this.parts.spinner.setHtml("&#8987;"),this.parts.spinner.appendTo(this.parts.title,1)}this.parts.spinner.show(),this.getButton("ok").disable()}else t==CKEDITOR.DIALOG_STATE_IDLE&&(this.parts.spinner&&this.parts.spinner.hide(),this.getButton("ok").enable());this.fire("state",t)}}},CKEDITOR.tools.extend(CKEDITOR.dialog,{add:function(t,e){this._.dialogDefinitions[t]&&"function"!=typeof e||(this._.dialogDefinitions[t]=e)},exists:function(t){return!!this._.dialogDefinitions[t]},getCurrent:function(){return CKEDITOR.dialog._.currentTop},isTabEnabled:function(t,e,n){return!((t=t.config.removeDialogTabs)&&t.match(new RegExp("(?:^|;)"+e+":"+n+"(?:$|;)","i")))},okButton:(s=function(t,e){return e=e||{},CKEDITOR.tools.extend({id:"ok",type:"button",label:t.lang.common.ok,"class":"cke_dialog_ui_button_ok",onClick:function(t){!1!==(t=t.data.dialog).fire("ok",{hide:!0}).hide&&t.hide()}},e,!0)},s.type="button",s.override=function(e){return CKEDITOR.tools.extend(function(t){return s(t,e)},{type:"button"},!0)},s),cancelButton:(n=function(t,e){return e=e||{},CKEDITOR.tools.extend({id:"cancel",type:"button",label:t.lang.common.cancel,"class":"cke_dialog_ui_button_cancel",onClick:function(t){!1!==(t=t.data.dialog).fire("cancel",{hide:!0}).hide&&t.hide()}},e,!0)},n.type="button",n.override=function(e){return CKEDITOR.tools.extend(function(t){return n(t,e)},{type:"button"},!0)},n),addUIElement:function(t,e){this._.uiElementBuilders[t]=e}}),CKEDITOR.dialog._={uiElementBuilders:{},dialogDefinitions:{},currentTop:null,currentZIndex:null},CKEDITOR.event.implementOn(CKEDITOR.dialog),CKEDITOR.event.implementOn(CKEDITOR.dialog.prototype);var I={resizable:CKEDITOR.DIALOG_RESIZE_BOTH,minWidth:600,minHeight:400,buttons:[CKEDITOR.dialog.okButton,CKEDITOR.dialog.cancelButton]},f=function(t,e,n){for(var i,o=0;i=t[o];o++)if(i.id==e||n&&i[n]&&(i=f(i[n],e,n)))return i;return null},p=function(t,e,n,i,o){if(n){for(var a,r=0;a=t[r];r++){if(a.id==n)return t.splice(r,0,e),e;if(i&&a[i]&&(a=p(a[i],e,n,i,!0)))return a}if(o)return null}return t.push(e),e},m=function(t,e,n){for(var i,o=0;i=t[o];o++){if(i.id==e)return t.splice(o,1);if(n&&i[n]&&(i=m(i[n],e,n)))return i}return null},O=function(t,e){this.dialog=t;for(var n,i=e.contents,o=0;n=i[o];o++)i[o]=n&&new r(t,n);CKEDITOR.tools.extend(this,e)};O.prototype={getContents:function(t){return f(this.contents,t)},getButton:function(t){return f(this.buttons,t)},addContents:function(t,e){return p(this.contents,t,e)},addButton:function(t,e){return p(this.buttons,t,e)},removeContents:function(t){m(this.contents,t)},removeButton:function(t){m(this.buttons,t)}},r.prototype={get:function(t){return f(this.elements,t,"children")},add:function(t,e){return p(this.elements,t,e,"children")},remove:function(t){m(this.elements,t,"children")}};var g,R,e,k,_,x,w,K,S,N={},A={},M=function(t){var e=t.data.$.ctrlKey||t.data.$.metaKey,n=t.data.$.altKey,i=t.data.$.shiftKey,o=String.fromCharCode(t.data.$.keyCode);(e=A[(e?"CTRL+":"")+(n?"ALT+":"")+(i?"SHIFT+":"")+o])&&e.length&&((e=e[e.length-1]).keydown&&e.keydown.call(e.uiElement,e.dialog,e.key),t.data.preventDefault())},L=function(t){var e=t.data.$.ctrlKey||t.data.$.metaKey,n=t.data.$.altKey,i=t.data.$.shiftKey,o=String.fromCharCode(t.data.$.keyCode);(e=A[(e?"CTRL+":"")+(n?"ALT+":"")+(i?"SHIFT+":"")+o])&&e.length&&((e=e[e.length-1]).keyup&&(e.keyup.call(e.uiElement,e.dialog,e.key),t.data.preventDefault()))},F=function(t,e,n,i,o){(A[n]||(A[n]=[])).push({uiElement:t,dialog:e,key:n,keyup:o||t.accessKeyUp,keydown:i||t.accessKeyDown})},P=function(t){for(var e in A){for(var n=A[e],i=n.length-1;0<=i;i--)n[i].dialog!=t&&n[i].uiElement!=t||n.splice(i,1);0===n.length&&delete A[e]}},B=function(t,e){t._.accessKeyMap[e]&&t.selectPage(t._.accessKeyMap[e])},$=function(){};CKEDITOR.ui.dialog={uiElement:function(n,i,t,e,o,a,r){if(!(arguments.length<4)){var s=(e.call?e(i):e)||"div",l=["<",s," "],c=(o&&o.call?o(i):o)||{},d=(a&&a.call?a(i):a)||{},u=(r&&r.call?r.call(this,n,i):r)||"",h=this.domId=d.id||CKEDITOR.tools.getNextId()+"_uiElement";i.requiredContent&&!n.getParentEditor().filter.check(i.requiredContent)&&(c.display="none",this.notAllowed=!0),d.id=h;var f={};i.type&&(f["cke_dialog_ui_"+i.type]=1),i.className&&(f[i.className]=1),i.disabled&&(f.cke_disabled=1);var p=d["class"]&&d["class"].split?d["class"].split(" "):[];for(h=0;h<p.length;h++)p[h]&&(f[p[h]]=1);for(h in p=[],f)p.push(h);for(h in d["class"]=p.join(" "),i.title&&(d.title=i.title),f=(i.style||"").split(";"),i.align&&(p=i.align,c["margin-left"]="left"==p?0:"auto",c["margin-right"]="right"==p?0:"auto"),c)f.push(h+":"+c[h]);for(i.hidden&&f.push("display:none"),h=f.length-1;0<=h;h--)""===f[h]&&f.splice(h,1);for(h in 0<f.length&&(d.style=(d.style?d.style+"; ":"")+f.join("; ")),d)l.push(h+'="'+CKEDITOR.tools.htmlEncode(d[h])+'" ');l.push(">",u,"</",s,">"),t.push(l.join("")),(this._||(this._={})).dialog=n,"boolean"==typeof i.isChanged&&(this.isChanged=function(){return i.isChanged}),"function"==typeof i.isChanged&&(this.isChanged=i.isChanged),"function"==typeof i.setValue&&(this.setValue=CKEDITOR.tools.override(this.setValue,function(e){return function(t){e.call(this,i.setValue.call(this,t))}})),"function"==typeof i.getValue&&(this.getValue=CKEDITOR.tools.override(this.getValue,function(t){return function(){return i.getValue.call(this,t.call(this))}})),CKEDITOR.event.implementOn(this),this.registerEvents(i),this.accessKeyUp&&this.accessKeyDown&&i.accessKey&&F(this,n,"CTRL+"+i.accessKey);var m=this;n.on("load",function(){var t=m.getInputElement();if(t){var e=m.type in{checkbox:1,ratio:1}&&CKEDITOR.env.ie&&CKEDITOR.env.version<8?"cke_dialog_ui_focused":"";t.on("focus",function(){n._.tabBarMode=!1,n._.hasFocus=!0,m.fire("focus"),e&&this.addClass(e)}),t.on("blur",function(){m.fire("blur"),e&&this.removeClass(e)})}}),CKEDITOR.tools.extend(this,i),this.keyboardFocusable&&(this.tabIndex=i.tabIndex||0,this.focusIndex=n._.focusList.push(this)-1,this.on("focus",function(){n._.currentFocusIndex=m.focusIndex}))}},hbox:function(t,e,i,n,o){if(!(arguments.length<4)){this._||(this._={});var a,r=this._.children=e,s=o&&o.widths||null,l=o&&o.height||null,c={role:"presentation"};o&&o.align&&(c.align=o.align),CKEDITOR.ui.dialog.uiElement.call(this,t,o||{type:"hbox"},n,"table",{},c,function(){var t=['<tbody><tr class="cke_dialog_ui_hbox">'];for(a=0;a<i.length;a++){var e="cke_dialog_ui_hbox_child",n=[];0===a&&(e="cke_dialog_ui_hbox_first"),a==i.length-1&&(e="cke_dialog_ui_hbox_last"),t.push('<td class="',e,'" role="presentation" '),s?s[a]&&n.push("width:"+u(s[a])):n.push("width:"+Math.floor(100/i.length)+"%"),l&&n.push("height:"+u(l)),o&&void 0!==o.padding&&n.push("padding:"+u(o.padding)),CKEDITOR.env.ie&&CKEDITOR.env.quirks&&r[a].align&&n.push("text-align:"+r[a].align),0<n.length&&t.push('style="'+n.join("; ")+'" '),t.push(">",i[a],"</td>")}return t.push("</tr></tbody>"),t.join("")})}},vbox:function(i,t,o,e,a){if(!(arguments.length<3)){this._||(this._={});var r=this._.children=t,s=a&&a.width||null,l=a&&a.heights||null;CKEDITOR.ui.dialog.uiElement.call(this,i,a||{type:"vbox"},e,"div",null,{role:"presentation"},function(){var t=['<table role="presentation" cellspacing="0" border="0" '];t.push('style="'),a&&a.expand&&t.push("height:100%;"),t.push("width:"+u(s||"100%"),";"),CKEDITOR.env.webkit&&t.push("float:none;"),t.push('"'),t.push('align="',CKEDITOR.tools.htmlEncode(a&&a.align||("ltr"==i.getParentEditor().lang.dir?"left":"right")),'" '),t.push("><tbody>");for(var e=0;e<o.length;e++){var n=[];t.push('<tr><td role="presentation" '),s&&n.push("width:"+u(s||"100%")),l?n.push("height:"+u(l[e])):a&&a.expand&&n.push("height:"+Math.floor(100/o.length)+"%"),a&&void 0!==a.padding&&n.push("padding:"+u(a.padding)),CKEDITOR.env.ie&&CKEDITOR.env.quirks&&r[e].align&&n.push("text-align:"+r[e].align),0<n.length&&t.push('style="',n.join("; "),'" '),t.push(' class="cke_dialog_ui_vbox_child">',o[e],"</td></tr>")}return t.push("</tbody></table>"),t.join("")})}}},CKEDITOR.ui.dialog.uiElement.prototype={getElement:function(){return CKEDITOR.document.getById(this.domId)},getInputElement:function(){return this.getElement()},getDialog:function(){return this._.dialog},setValue:function(t,e){return this.getInputElement().setValue(t),!e&&this.fire("change",{value:t}),this},getValue:function(){return this.getInputElement().getValue()},isChanged:function(){return!1},selectParentTab:function(){for(var t=this.getInputElement();(t=t.getParent())&&-1==t.$.className.search("cke_dialog_page_contents"););return t&&(t=t.getAttribute("name"),this._.dialog._.currentTabId!=t&&this._.dialog.selectPage(t)),this},focus:function(){return this.selectParentTab().getInputElement().focus(),this},registerEvents:function(t){var e,n,i=/^on([A-Z]\w+)/,o=function(t,e,n,i){e.on("load",function(){t.getInputElement().on(n,i,t)})};for(n in t)(e=n.match(i))&&(this.eventProcessors[n]?this.eventProcessors[n].call(this,this._.dialog,t[n]):o(this,this._.dialog,e[1].toLowerCase(),t[n]));return this},eventProcessors:{onLoad:function(t,e){t.on("load",e,this)},onShow:function(t,e){t.on("show",e,this)},onHide:function(t,e){t.on("hide",e,this)}},accessKeyDown:function(){this.focus()},accessKeyUp:function(){},disable:function(){var t=this.getElement();this.getInputElement().setAttribute("disabled","true"),t.addClass("cke_disabled")},enable:function(){var t=this.getElement();this.getInputElement().removeAttribute("disabled"),t.removeClass("cke_disabled")},isEnabled:function(){return!this.getElement().hasClass("cke_disabled")},isVisible:function(){return this.getInputElement().isVisible()},isFocusable:function(){return!(!this.isEnabled()||!this.isVisible())}},CKEDITOR.ui.dialog.hbox.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{getChild:function(t){return arguments.length<1?this._.children.concat():(t.splice||(t=[t]),t.length<2?this._.children[t[0]]:this._.children[t[0]]&&this._.children[t[0]].getChild?this._.children[t[0]].getChild(t.slice(1,t.length)):null)}},!0),CKEDITOR.ui.dialog.vbox.prototype=new CKEDITOR.ui.dialog.hbox,e={build:function(t,e,n){for(var i,o=e.children,a=[],r=[],s=0;s<o.length&&(i=o[s]);s++){var l=[];a.push(l),r.push(CKEDITOR.dialog._.uiElementBuilders[i.type].build(t,i,l))}return new CKEDITOR.ui.dialog[e.type](t,r,a,n,e)}},CKEDITOR.dialog.addUIElement("hbox",e),CKEDITOR.dialog.addUIElement("vbox",e),CKEDITOR.dialogCommand=function(t,e){this.dialogName=t,CKEDITOR.tools.extend(this,e,!0)},CKEDITOR.dialogCommand.prototype={exec:function(t){t.openDialog(this.dialogName)},canUndo:!1,editorFocus:1},k=/^([a]|[^a])+$/,_=/^\d*$/,x=/^\d*(?:\.\d+)?$/,w=/^(((\d*(\.\d+))|(\d*))(px|\%)?)?$/,K=/^(((\d*(\.\d+))|(\d*))(px|em|ex|in|cm|mm|pt|pc|\%)?)?$/i,S=/^(\s*[\w-]+\s*:\s*[^:;]+(?:;|$))*$/,CKEDITOR.VALIDATE_OR=1,CKEDITOR.VALIDATE_AND=2,CKEDITOR.dialog.validate={functions:function(){var r=arguments;return function(){var t,e,n=this&&this.getValue?this.getValue():r[0],i=CKEDITOR.VALIDATE_AND,o=[];for(e=0;e<r.length&&"function"==typeof r[e];e++)o.push(r[e]);e<r.length&&"string"==typeof r[e]&&(t=r[e],e++),e<r.length&&"number"==typeof r[e]&&(i=r[e]);var a=i==CKEDITOR.VALIDATE_AND;for(e=0;e<o.length;e++)a=i==CKEDITOR.VALIDATE_AND?a&&o[e](n):a||o[e](n);return!!a||t}},regex:function(e,n){return function(t){return t=this&&this.getValue?this.getValue():t,!!e.test(t)||n}},notEmpty:function(t){return this.regex(k,t)},integer:function(t){return this.regex(_,t)},number:function(t){return this.regex(x,t)},cssLength:function(t){return this.functions(function(t){return K.test(CKEDITOR.tools.trim(t))},t)},htmlLength:function(t){return this.functions(function(t){return w.test(CKEDITOR.tools.trim(t))},t)},inlineStyle:function(t){return this.functions(function(t){return S.test(CKEDITOR.tools.trim(t))},t)},equals:function(e,t){return this.functions(function(t){return t==e},t)},notEqual:function(e,t){return this.functions(function(t){return t!=e},t)}},CKEDITOR.on("instanceDestroyed",function(t){if(CKEDITOR.tools.isEmpty(CKEDITOR.instances)){for(var e;e=CKEDITOR.dialog._.currentTop;)e.hide();for(var n in N)N[n].remove();N={}}for(var i in t=t.editor._.storedDialogs)t[i].destroy()}),CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{openDialog:function(t,e){var n=null,i=CKEDITOR.dialog._.dialogDefinitions[t];if(null===CKEDITOR.dialog._.currentTop&&d(this),"function"==typeof i)n=(n=this._.storedDialogs||(this._.storedDialogs={}))[t]||(n[t]=new CKEDITOR.dialog(this,t)),e&&e.call(n,n),n.show();else{if("failed"==i)throw o(this),Error('[CKEDITOR.dialog.openDialog] Dialog "'+t+'" failed when loading definition.');"string"==typeof i&&CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(i),function(){"function"!=typeof CKEDITOR.dialog._.dialogDefinitions[t]&&(CKEDITOR.dialog._.dialogDefinitions[t]="failed"),this.openDialog(t,e)},this,0,1)}return CKEDITOR.skin.loadPart("dialog"),n}})}(),CKEDITOR.plugins.add("dialog",{requires:"dialogui",init:function(e){e.on("doubleclick",function(t){t.data.dialog&&e.openDialog(t.data.dialog)},null,null,999)}}),CKEDITOR.plugins.add("about",{requires:"dialog",init:function(t){var e=t.addCommand("about",new CKEDITOR.dialogCommand("about"));e.modes={wysiwyg:1,source:1},e.canUndo=!1,e.readOnly=1,t.ui.addButton&&t.ui.addButton("About",{label:t.lang.about.title,command:"about",toolbar:"about"}),CKEDITOR.dialog.add("about",this.path+"dialogs/about.js")}}),CKEDITOR.plugins.add("a11yhelp",{requires:"dialog",availableLangs:{af:1,ar:1,az:1,bg:1,ca:1,cs:1,cy:1,da:1,de:1,"de-ch":1,el:1,en:1,"en-gb":1,eo:1,es:1,"es-mx":1,et:1,eu:1,fa:1,fi:1,fo:1,fr:1,"fr-ca":1,gl:1,gu:1,he:1,hi:1,hr:1,hu:1,id:1,it:1,ja:1,km:1,ko:1,ku:1,lt:1,lv:1,mk:1,mn:1,nb:1,nl:1,no:1,oc:1,pl:1,pt:1,"pt-br":1,ro:1,ru:1,si:1,sk:1,sl:1,sq:1,sr:1,"sr-latn":1,sv:1,th:1,tr:1,tt:1,ug:1,uk:1,vi:1,zh:1,"zh-cn":1},init:function(e){var n=this;e.addCommand("a11yHelp",{exec:function(){var t=e.langCode;t=n.availableLangs[t]?t:n.availableLangs[t.replace(/-.*/,"")]?t.replace(/-.*/,""):"en",CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(n.path+"dialogs/lang/"+t+".js"),function(){e.lang.a11yhelp=n.langEntries[t],e.openDialog("a11yHelp")})},modes:{wysiwyg:1,source:1},readOnly:1,canUndo:!1}),e.setKeystroke(CKEDITOR.ALT+48,"a11yHelp"),CKEDITOR.dialog.add("a11yHelp",this.path+"dialogs/a11yhelp.js"),e.on("ariaEditorHelpLabel",function(t){t.data.label=e.lang.common.editorHelp})}}),function(){function r(t){var e=this.att;void 0!==(t=t&&t.hasAttribute(e)&&t.getAttribute(e)||"")&&this.setValue(t)}function s(){for(var t,e=0;e<arguments.length;e++)if(arguments[e]instanceof CKEDITOR.dom.element){t=arguments[e];break}if(t){e=this.att;var n=this.getValue();n?t.setAttribute(e,n):t.removeAttribute(e,n)}}var l={id:1,dir:1,classes:1,styles:1};CKEDITOR.plugins.add("dialogadvtab",{requires:"dialog",allowedContent:function(t){t||(t=l);var e=[];t.id&&e.push("id"),t.dir&&e.push("dir");var n="";return e.length&&(n+="["+e.join(",")+"]"),t.classes&&(n+="(*)"),t.styles&&(n+="{*}"),n},createAdvancedTab:function(o,t,e){t||(t=l);var n=o.lang.common,i={id:"advanced",label:n.advancedTab,title:n.advancedTab,elements:[{type:"vbox",padding:1,children:[]}]},a=[];return(t.id||t.dir)&&(t.id&&a.push({id:"advId",att:"id",type:"text",requiredContent:e?e+"[id]":null,label:n.id,setup:r,commit:s}),t.dir&&a.push({id:"advLangDir",att:"dir",type:"select",requiredContent:e?e+"[dir]":null,label:n.langDir,"default":"",style:"width:100%",items:[[n.notSet,""],[n.langDirLTR,"ltr"],[n.langDirRTL,"rtl"]],setup:r,commit:s}),i.elements[0].children.push({type:"hbox",widths:["50%","50%"],children:[].concat(a)})),(t.styles||t.classes)&&(a=[],t.styles&&a.push({id:"advStyles",att:"style",type:"text",requiredContent:e?e+"{cke-xyz}":null,label:n.styles,"default":"",validate:CKEDITOR.dialog.validate.inlineStyle(n.invalidInlineStyle),
onChange:function(){},getStyle:function(t,e){var n=this.getValue().match(new RegExp("(?:^|;)\\s*"+t+"\\s*:\\s*([^;]*)","i"));return n?n[1]:e},updateStyle:function(t,e){var n=this.getValue(),i=o.document.createElement("span");i.setAttribute("style",n),i.setStyle(t,e),n=CKEDITOR.tools.normalizeCssText(i.getAttribute("style")),this.setValue(n,1)},setup:r,commit:s}),t.classes&&a.push({type:"hbox",widths:["45%","55%"],children:[{id:"advCSSClasses",att:"class",type:"text",requiredContent:e?e+"(cke-xyz)":null,label:n.cssClasses,"default":"",setup:r,commit:s}]}),i.elements[0].children.push({type:"hbox",widths:["50%","50%"],children:[].concat(a)})),i}})}(),CKEDITOR.plugins.add("basicstyles",{init:function(a){var r=0,t=function(t,e,n,i){if(i){i=new CKEDITOR.style(i);var o=s[n];o.unshift(i),a.attachStyleStateChange(i,function(t){!a.readOnly&&a.getCommand(n).setState(t)}),a.addCommand(n,new CKEDITOR.styleCommand(i,{contentForms:o})),a.ui.addButton&&a.ui.addButton(t,{label:e,command:n,toolbar:"basicstyles,"+(r+=10)})}},s={bold:["strong","b",["span",function(t){return"bold"==(t=t.styles["font-weight"])||700<=+t}]],italic:["em","i",["span",function(t){return"italic"==t.styles["font-style"]}]],underline:["u",["span",function(t){return"underline"==t.styles["text-decoration"]}]],strike:["s","strike",["span",function(t){return"line-through"==t.styles["text-decoration"]}]],subscript:["sub"],superscript:["sup"]},e=a.config,n=a.lang.basicstyles;t("Bold",n.bold,"bold",e.coreStyles_bold),t("Italic",n.italic,"italic",e.coreStyles_italic),t("Underline",n.underline,"underline",e.coreStyles_underline),t("Strike",n.strike,"strike",e.coreStyles_strike),t("Subscript",n.subscript,"subscript",e.coreStyles_subscript),t("Superscript",n.superscript,"superscript",e.coreStyles_superscript),a.setKeystroke([[CKEDITOR.CTRL+66,"bold"],[CKEDITOR.CTRL+73,"italic"],[CKEDITOR.CTRL+85,"underline"]])}}),CKEDITOR.config.coreStyles_bold={element:"strong",overrides:"b"},CKEDITOR.config.coreStyles_italic={element:"em",overrides:"i"},CKEDITOR.config.coreStyles_underline={element:"u"},CKEDITOR.config.coreStyles_strike={element:"s",overrides:"strike"},CKEDITOR.config.coreStyles_subscript={element:"sub"},CKEDITOR.config.coreStyles_superscript={element:"sup"},function(){function f(t,e,n,i){if(!t.isReadOnly()&&!t.equals(n.editable())){CKEDITOR.dom.element.setMarker(i,t,"bidi_processed",1),i=t;for(var o=n.editable();(i=i.getParent())&&!i.equals(o);)if(i.getCustomData("bidi_processed"))return t.removeStyle("direction"),void t.removeAttribute("dir");((i="useComputedState"in n.config?n.config.useComputedState:1)?t.getComputedStyle("direction"):t.getStyle("direction")||t.hasAttribute("dir"))!=e&&(t.removeStyle("direction"),i?(t.removeAttribute("dir"),e!=t.getComputedStyle("direction")&&t.setAttribute("dir",e)):t.setAttribute("dir",e),n.forceNextSelectionCheck())}}function p(t,e,n){var i=t.getCommonAncestor(!1,!0);if((t=t.clone()).enlarge(n==CKEDITOR.ENTER_BR?CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS:CKEDITOR.ENLARGE_BLOCK_CONTENTS),t.checkBoundaryOfElement(i,CKEDITOR.START)&&t.checkBoundaryOfElement(i,CKEDITOR.END)){for(var o;i&&i.type==CKEDITOR.NODE_ELEMENT&&(o=i.getParent())&&1==o.getChildCount()&&!(i.getName()in e);)i=o;return i.type==CKEDITOR.NODE_ELEMENT&&i.getName()in e&&i}}function n(h){return{context:"p",allowedContent:{"h1 h2 h3 h4 h5 h6 table ul ol blockquote div tr p div li td":{propertiesOnly:!0,attributes:"dir"}},requiredContent:"p[dir]",refresh:function(t,e){var n,i;if(!(i=void 0===(i=t.config.useComputedState)||i)){n=e.lastElement;for(var o=t.editable();n&&!(n.getName()in r||n.equals(o));){var a=n.getParent();if(!a)break;n=a}}(n=n||e.block||e.blockLimit).equals(t.editable())&&(o=t.getSelection().getRanges()[0].getEnclosedNode())&&o.type==CKEDITOR.NODE_ELEMENT&&(n=o),n&&(i=i?n.getComputedStyle("direction"):n.getStyle("direction")||n.getAttribute("dir"),t.getCommand("bidirtl").setState("rtl"==i?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF),t.getCommand("bidiltr").setState("ltr"==i?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF)),(i=(e.block||e.blockLimit||t.editable()).getDirection(1))!=(t._.selDir||t.lang.dir)&&(t._.selDir=i,t.fire("contentDirChanged",i))},exec:function(t){var e=t.getSelection(),i=t.config.enterMode;if((r=e.getRanges())&&r.length){for(var n,o={},a=e.createBookmarks(),r=r.createIterator(),s=0;n=r.getNextRange(1);){var l=n.getEnclosedNode();l&&(!l||l.type==CKEDITOR.NODE_ELEMENT&&l.getName()in g)||(l=p(n,m,i)),l&&f(l,h,t,o);var c=new CKEDITOR.dom.walker(n),d=a[s].startNode,u=a[s++].endNode;for(c.evaluator=function(t){var e,n=i==CKEDITOR.ENTER_P?"p":"div";return(e=!!t&&t.type==CKEDITOR.NODE_ELEMENT&&t.getName()in m)&&((n=t.is(n))&&(n=!!(n=t.getParent())&&n.type==CKEDITOR.NODE_ELEMENT),e=!(n&&t.getParent().is("blockquote"))),!!(e&&t.getPosition(d)&CKEDITOR.POSITION_FOLLOWING&&(t.getPosition(u)&CKEDITOR.POSITION_PRECEDING+CKEDITOR.POSITION_CONTAINS)==CKEDITOR.POSITION_PRECEDING)};l=c.next();)f(l,h,t,o);for((n=n.createIterator()).enlargeBr=i!=CKEDITOR.ENTER_BR;l=n.getNextParagraph(i==CKEDITOR.ENTER_P?"p":"div");)f(l,h,t,o)}CKEDITOR.dom.element.clearAllMarkers(o),t.forceNextSelectionCheck(),e.selectBookmarks(a),t.focus()}}}}function t(o){var a=o==e.setAttribute,r=o==e.removeAttribute,s=/\bdirection\s*:\s*(.*?)\s*(:?$|;)/;return function(t,e){if(!this.isReadOnly()){var n;if(n=t==(a||r?"dir":"direction")||"style"==t&&(r||s.test(e))){t:{for(var i=(n=this).getDocument().getBody().getParent();n;){if(n.equals(i)){n=!1;break t}n=n.getParent()}n=!0}n=!n}if(n&&(n=this.getDirection(1),i=o.apply(this,arguments),n!=this.getDirection(1)))return this.getDocument().fire("dirChanged",this),i}return o.apply(this,arguments)}}var m={table:1,ul:1,ol:1,blockquote:1,div:1},g={},r={};CKEDITOR.tools.extend(g,m,{tr:1,p:1,div:1,li:1}),CKEDITOR.tools.extend(r,g,{td:1}),CKEDITOR.plugins.add("bidi",{init:function(a){function t(t,e,n,i,o){a.addCommand(n,new CKEDITOR.command(a,i)),a.ui.addButton&&a.ui.addButton(t,{label:e,command:n,toolbar:"bidi,"+o})}if(!a.blockless){var e=a.lang.bidi;t("BidiLtr",e.ltr,"bidiltr",n("ltr"),10),t("BidiRtl",e.rtl,"bidirtl",n("rtl"),20),a.on("contentDom",function(){a.document.on("dirChanged",function(t){a.fire("dirChanged",{node:t.data,dir:t.data.getDirection(1)})})}),a.on("contentDirChanged",function(t){t=(a.lang.dir!=t.data?"add":"remove")+"Class";var e=a.ui.space(a.config.toolbarLocation);e&&e[t]("cke_mixed_dir_content")})}}});for(var e=CKEDITOR.dom.element.prototype,i=["setStyle","removeStyle","setAttribute","removeAttribute"],o=0;o<i.length;o++)e[i[o]]=CKEDITOR.tools.override(e[i[o]],t)}(),j={exec:function(t){var e=t.getCommand("blockquote").state,n=t.getSelection(),i=n&&n.getRanges()[0];if(i){var o=n.createBookmarks();if(CKEDITOR.env.ie){var a,r=o[0].startNode,s=o[0].endNode;if(r&&"blockquote"==r.getParent().getName())for(a=r;a=a.getNext();)if(a.type==CKEDITOR.NODE_ELEMENT&&a.isBlockBoundary()){r.move(a,!0);break}if(s&&"blockquote"==s.getParent().getName())for(a=s;a=a.getPrevious();)if(a.type==CKEDITOR.NODE_ELEMENT&&a.isBlockBoundary()){s.move(a);break}}if((l=i.createIterator()).enlargeBr=t.config.enterMode!=CKEDITOR.ENTER_BR,e==CKEDITOR.TRISTATE_OFF){for(r=[];e=l.getNextParagraph();)r.push(e);for(r.length<1&&(e=t.document.createElement(t.config.enterMode==CKEDITOR.ENTER_P?"p":"div"),s=o.shift(),i.insertNode(e),e.append(new CKEDITOR.dom.text("\ufeff",t.document)),i.moveToBookmark(s),i.selectNodeContents(e),i.collapse(!0),s=i.createBookmark(),r.push(e),o.unshift(s)),a=r[0].getParent(),i=[],s=0;s<r.length;s++)e=r[s],a=a.getCommonAncestor(e.getParent());for(e={table:1,tbody:1,tr:1,ol:1,ul:1};e[a.getName()];)a=a.getParent();for(s=null;0<r.length;){for(e=r.shift();!e.getParent().equals(a);)e=e.getParent();e.equals(s)||i.push(e),s=e}for(;0<i.length;)if("blockquote"==(e=i.shift()).getName()){for(s=new CKEDITOR.dom.documentFragment(t.document);e.getFirst();)s.append(e.getFirst().remove()),r.push(s.getLast());s.replace(e)}else r.push(e);for((i=t.document.createElement("blockquote")).insertBefore(r[0]);0<r.length;)e=r.shift(),i.append(e)}else if(e==CKEDITOR.TRISTATE_ON){for(s=[],a={};e=l.getNextParagraph();){for(r=i=null;e.getParent();){if("blockquote"==e.getParent().getName()){i=e.getParent(),r=e;break}e=e.getParent()}i&&r&&!r.getCustomData("blockquote_moveout")&&(s.push(r),CKEDITOR.dom.element.setMarker(a,r,"blockquote_moveout",!0))}for(CKEDITOR.dom.element.clearAllMarkers(a),e=[],r=[],a={};0<s.length;)i=(l=s.shift()).getParent(),l.getPrevious()?l.getNext()?(l.breakParent(l.getParent()),r.push(l.getNext())):l.remove().insertAfter(i):l.remove().insertBefore(i),i.getCustomData("blockquote_processed")||(r.push(i),CKEDITOR.dom.element.setMarker(a,i,"blockquote_processed",!0)),e.push(l);for(CKEDITOR.dom.element.clearAllMarkers(a),s=r.length-1;0<=s;s--){t:{for(var l=0,c=(a=i=r[s]).getChildCount(),d=void 0;l<c&&(d=a.getChild(l));l++)if(d.type==CKEDITOR.NODE_ELEMENT&&d.isBlockBoundary()){a=!1;break t}a=!0}a&&i.remove()}if(t.config.enterMode==CKEDITOR.ENTER_BR)for(i=!0;e.length;)if("div"==(l=e.shift()).getName()){for(s=new CKEDITOR.dom.documentFragment(t.document),!i||!l.getPrevious()||l.getPrevious().type==CKEDITOR.NODE_ELEMENT&&l.getPrevious().isBlockBoundary()||s.append(t.document.createElement("br")),i=l.getNext()&&!(l.getNext().type==CKEDITOR.NODE_ELEMENT&&l.getNext().isBlockBoundary());l.getFirst();)l.getFirst().remove().appendTo(s);i&&s.append(t.document.createElement("br")),s.replace(l),i=!1}}n.selectBookmarks(o),t.focus()}},refresh:function(t,e){this.setState(t.elementPath(e.block||e.blockLimit).contains("blockquote",1)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF)},context:"blockquote",allowedContent:"blockquote",requiredContent:"blockquote"},CKEDITOR.plugins.add("blockquote",{init:function(t){t.blockless||(t.addCommand("blockquote",j),t.ui.addButton&&t.ui.addButton("Blockquote",{label:t.lang.blockquote.toolbar,command:"blockquote",toolbar:"blocks,10"}))}}),function(){var t='<a id="{id}" class="cke_button cke_button__{name} cke_button_{state} {cls}"'+(CKEDITOR.env.gecko&&!CKEDITOR.env.hc?"":" href=\"javascript:void('{titleJs}')\"")+' title="{title}" tabindex="-1" hidefocus="true" role="button" aria-labelledby="{id}_label" aria-describedby="{id}_description" aria-haspopup="{hasArrow}" aria-disabled="{ariaDisabled}"';CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(t+=' onkeypress="return false;"'),CKEDITOR.env.gecko&&(t+=' onblur="this.style.cssText = this.style.cssText;"');t=(t=t+' onkeydown="return CKEDITOR.tools.callFunction({keydownFn},event);" onfocus="return CKEDITOR.tools.callFunction({focusFn},event);" '+(CKEDITOR.env.ie?'onclick="return false;" onmouseup':"onclick")+'="CKEDITOR.tools.callFunction({clickFn},this);return false;"><span class="cke_button_icon cke_button__{iconName}_icon" style="{style}"')+'>&nbsp;</span><span id="{id}_label" class="cke_button_label cke_button__{name}_label" aria-hidden="false">{label}</span><span id="{id}_description" class="cke_button_label" aria-hidden="false">{ariaShortcut}</span>{arrowHtml}</a>';var g=CKEDITOR.addTemplate("buttonArrow",'<span class="cke_button_arrow">'+(CKEDITOR.env.hc?"&#9660;":"")+"</span>"),v=CKEDITOR.addTemplate("button",t);CKEDITOR.plugins.add("button",{beforeInit:function(t){t.ui.addHandler(CKEDITOR.UI_BUTTON,CKEDITOR.ui.button.handler)}}),CKEDITOR.UI_BUTTON="button",CKEDITOR.ui.button=function(e){CKEDITOR.tools.extend(this,e,{title:e.label,click:e.click||function(t){t.execCommand(e.command)}}),this._={}},CKEDITOR.ui.button.handler={create:function(t){return new CKEDITOR.ui.button(t)}},CKEDITOR.ui.button.prototype={render:function(i,t){function e(){var t=i.mode;t&&(t=this.modes[t]?void 0!==p[t]?p[t]:CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,t=i.readOnly&&!this.readOnly?CKEDITOR.TRISTATE_DISABLED:t,this.setState(t),this.refresh&&this.refresh())}var n,o,a,r=CKEDITOR.env,s=this._.id=CKEDITOR.tools.getNextId(),l="",c=this.command;this._.editor=i;var d={id:s,button:this,editor:i,focus:function(){CKEDITOR.document.getById(s).focus()},execute:function(){this.button.click(i)},attach:function(t){this.button.attach(t)}},u=CKEDITOR.tools.addFunction(function(t){if(d.onkey)return t=new CKEDITOR.dom.event(t),!1!==d.onkey(d,t.getKeystroke())}),h=CKEDITOR.tools.addFunction(function(t){var e;return d.onfocus&&(e=!1!==d.onfocus(d,new CKEDITOR.dom.event(t))),e}),f=0;if(d.clickFn=n=CKEDITOR.tools.addFunction(function(){f&&(i.unlockSelection(1),f=0),d.execute(),r.iOS&&i.focus()}),this.modes){var p={};i.on("beforeModeUnload",function(){i.mode&&this._.state!=CKEDITOR.TRISTATE_DISABLED&&(p[i.mode]=this._.state)},this),i.on("activeFilterChange",e,this),i.on("mode",e,this),!this.readOnly&&i.on("readOnly",e,this)}else c&&(c=i.getCommand(c))&&(c.on("state",function(){this.setState(c.state)},this),l+=c.state==CKEDITOR.TRISTATE_ON?"on":c.state==CKEDITOR.TRISTATE_DISABLED?"disabled":"off");this.directional&&i.on("contentDirChanged",function(t){var e=CKEDITOR.document.getById(this._.id),n=e.getFirst();(t=t.data)!=i.lang.dir?e.addClass("cke_"+t):e.removeClass("cke_ltr").removeClass("cke_rtl"),n.setAttribute("style",CKEDITOR.skin.getIconStyle(m,"rtl"==t,this.icon,this.iconOffset))},this),c?(o=i.getCommandKeystroke(c))&&(a=CKEDITOR.tools.keystrokeToString(i.lang.common.keyboard,o)):l+="off";var m=o=this.name||this.command;return this.icon&&!/\./.test(this.icon)&&(m=this.icon,this.icon=null),l={id:s,name:o,iconName:m,label:this.label,cls:this.className||"",state:l,ariaDisabled:"disabled"==l?"true":"false",title:this.title+(a?" ("+a.display+")":""),ariaShortcut:a?i.lang.common.keyboardShortcut+" "+a.aria:"",titleJs:r.gecko&&!r.hc?"":(this.title||"").replace("'",""),hasArrow:this.hasArrow?"true":"false",keydownFn:u,focusFn:h,clickFn:n,style:CKEDITOR.skin.getIconStyle(m,"rtl"==i.lang.dir,this.icon,this.iconOffset),arrowHtml:this.hasArrow?g.output():""},v.output(l,t),this.onRender&&this.onRender(),d},setState:function(t){if(this._.state==t)return!1;this._.state=t;var e=CKEDITOR.document.getById(this._.id);return!!e&&(e.setState(t,"cke_button"),t==CKEDITOR.TRISTATE_DISABLED?e.setAttribute("aria-disabled",!0):e.removeAttribute("aria-disabled"),this.hasArrow?(t=t==CKEDITOR.TRISTATE_ON?this._.editor.lang.button.selectedLabel.replace(/%1/g,this.label):this.label,CKEDITOR.document.getById(this._.id+"_label").setText(t)):t==CKEDITOR.TRISTATE_ON?e.setAttribute("aria-pressed",!0):e.removeAttribute("aria-pressed"),!0)},getState:function(){return this._.state},toFeature:function(t){if(this._.feature)return this._.feature;var e=this;return this.allowedContent||this.requiredContent||!this.command||(e=t.getCommand(this.command)||e),this._.feature=e}},CKEDITOR.ui.prototype.addButton=function(t,e){this.add(t,CKEDITOR.UI_BUTTON,e)}}(),function(){function D(s){function t(){for(var t=l(),e=CKEDITOR.tools.clone(s.config.toolbarGroups)||d(s),n=0;n<e.length;n++){var i=e[n];if("/"!=i){"string"==typeof i&&(i=e[n]={name:i});var o,a=i.groups;if(a)for(var r=0;r<a.length;r++)(o=t[o=a[r]])&&c(i,o);(o=t[i.name])&&c(i,o)}}return e}function l(){var t,e,n,i={};for(t in s.ui.items)e=(n=(n=(e=s.ui.items[t]).toolbar||"others").split(","))[0],n=parseInt(n[1]||-1,10),i[e]||(i[e]=[]),i[e].push({name:t,order:n});for(e in i)i[e]=i[e].sort(function(t,e){return t.order==e.order?0:e.order<0?-1:t.order<0?1:t.order<e.order?-1:1});return i}function c(t,e){if(e.length){t.items?t.items.push(s.ui.create("-")):t.items=[];for(var n;n=e.shift();)n="string"==typeof n?n:n.name,i&&-1!=CKEDITOR.tools.indexOf(i,n)||(n=s.ui.create(n))&&s.addFeature(n)&&t.items.push(n)}}function e(t){var e,n,i,o=[];for(e=0;e<t.length;++e)i={},"/"==(n=t[e])?o.push(n):CKEDITOR.tools.isArray(n)?(c(i,CKEDITOR.tools.clone(n)),o.push(i)):n.items&&(c(i,CKEDITOR.tools.clone(n.items)),i.name=n.name,o.push(i));return o}var i=(i=s.config.removeButtons)&&i.split(","),n=s.config.toolbar;return"string"==typeof n&&(n=s.config["toolbar_"+n]),s.toolbar=n?e(n):t()}function d(t){return t._.toolbarGroups||(t._.toolbarGroups=[{name:"document",groups:["mode","document","doctools"]},{name:"clipboard",groups:["clipboard","undo"]},{name:"editing",groups:["find","selection","spellchecker"]},{name:"forms"},"/",{name:"basicstyles",groups:["basicstyles","cleanup"]},{name:"paragraph",groups:["list","indent","blocks","align","bidi"]},{name:"links"},{name:"insert"},"/",{name:"styles"},{name:"colors"},{name:"tools"},{name:"others"},{name:"about"}])}var I=function(){this.toolbars=[],this.focusCommandExecuted=!1};I.prototype.focus=function(){for(var t,e=0;t=this.toolbars[e++];)for(var n,i=0;n=t.items[i++];)if(n.focus)return void n.focus()};var t={modes:{wysiwyg:1,source:1},readOnly:1,exec:function(t){t.toolbox&&(t.toolbox.focusCommandExecuted=!0,CKEDITOR.env.ie||CKEDITOR.env.air?setTimeout(function(){t.toolbox.focus()},100):t.toolbox.focus())}};CKEDITOR.plugins.add("toolbar",{requires:"button",init:function(C){var r,y=function(t,e){var n,i=(o="rtl"==C.lang.dir)?37:39,o=o?39:37,a=void 0===(a=C.config.toolbarGroupCycling)||a;switch(e){case 9:case CKEDITOR.SHIFT+9:for(;!n||!n.items.length;)if((n=9==e?(n?n.next:t.toolbar.next)||C.toolbox.toolbars[0]:(n?n.previous:t.toolbar.previous)||C.toolbox.toolbars[C.toolbox.toolbars.length-1]).items.length)for(t=n.items[r?n.items.length-1:0];t&&!t.focus;)(t=r?t.previous:t.next)||(n=0);return t&&t.focus(),!1;case i:for(n=t;!(n=n.next)&&a&&(n=t.toolbar.items[0]),n&&!n.focus;);return n?n.focus():y(t,9),!1;case 40:return t.button&&t.button.hasArrow?t.execute():y(t,40==e?i:o),!1;case o:case 38:for(n=t;!(n=n.previous)&&a&&(n=t.toolbar.items[t.toolbar.items.length-1]),n&&!n.focus;);return n?n.focus():(r=1,y(t,CKEDITOR.SHIFT+9),r=0),!1;case 27:return C.focus(),!1;case 13:case 32:return t.execute(),!1}return!0};C.on("uiSpace",function(t){if(t.data.space==C.config.toolbarLocation){t.removeListener(),C.toolbox=new I;var e,n,i=['<span id="',o=CKEDITOR.tools.getNextId(),'" class="cke_voice_label">',C.lang.toolbar.toolbars,"</span>",'<span id="'+C.ui.spaceId("toolbox")+'" class="cke_toolbox" role="group" aria-labelledby="',o,'" onmousedown="return false;">'],o=!1!==C.config.toolbarStartupExpanded;C.config.toolbarCanCollapse&&C.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE&&i.push('<span class="cke_toolbox_main"'+(o?">":' style="display:none">'));for(var a=C.toolbox.toolbars,r=D(C),s=r.length,l=0;l<s;l++){var c,d,u,h=0,f=r[l],p="/"!==f&&("/"===r[l+1]||l==s-1);if(f)if(e&&(i.push("</span>"),n=e=0),"/"===f)i.push('<span class="cke_toolbar_break"></span>');else{u=f.items||f;for(var m=0;m<u.length;m++){var g,v=u[m];if(v){var E=function(t){t=t.render(C,i),0<(T=h.items.push(t)-1)&&(t.previous=h.items[T-1],t.previous.next=t),t.toolbar=h,t.onkey=y,t.onfocus=function(){C.toolbox.focusCommandExecuted||C.focus()}};if(v.type==CKEDITOR.UI_SEPARATOR)n=e&&v;else{if(g=!1!==v.canGroup,!h){c=CKEDITOR.tools.getNextId(),h={id:c,items:[]},d=f.name&&(C.lang.toolbar.toolbarGroups[f.name]||f.name),i.push('<span id="',c,'" class="cke_toolbar'+(p?' cke_toolbar_last"':'"'),d?' aria-labelledby="'+c+'_label"':"",' role="toolbar">'),d&&i.push('<span id="',c,'_label" class="cke_voice_label">',d,"</span>"),i.push('<span class="cke_toolbar_start"></span>');var T=a.push(h)-1;0<T&&(h.previous=a[T-1],h.previous.next=h)}g?e||(i.push('<span class="cke_toolgroup" role="presentation">'),e=1):e&&(i.push("</span>"),e=0),n&&(E(n),n=0),E(v)}}}e&&(i.push("</span>"),n=e=0),h&&i.push('<span class="cke_toolbar_end"></span></span>')}}if(C.config.toolbarCanCollapse&&i.push("</span>"),C.config.toolbarCanCollapse&&C.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE){var b=CKEDITOR.tools.addFunction(function(){C.execCommand("toolbarCollapse")});C.on("destroy",function(){CKEDITOR.tools.removeFunction(b)}),C.addCommand("toolbarCollapse",{readOnly:1,exec:function(t){var e=t.ui.space("toolbar_collapser"),n=e.getPrevious(),i=t.ui.space("contents"),o=n.getParent(),a=parseInt(i.$.style.height,10),r=o.$.offsetHeight,s=e.hasClass("cke_toolbox_collapser_min");s?(n.show(),e.removeClass("cke_toolbox_collapser_min"),e.setAttribute("title",t.lang.toolbar.toolbarCollapse)):(n.hide(),e.addClass("cke_toolbox_collapser_min"),e.setAttribute("title",t.lang.toolbar.toolbarExpand)),e.getFirst().setText(s?"\u25b2":"\u25c0"),i.setStyle("height",a-(o.$.offsetHeight-r)+"px"),t.fire("resize",{outerHeight:t.container.$.offsetHeight,contentsHeight:i.$.offsetHeight,outerWidth:t.container.$.offsetWidth})},modes:{wysiwyg:1,source:1}}),C.setKeystroke(CKEDITOR.ALT+(CKEDITOR.env.ie||CKEDITOR.env.webkit?189:109),"toolbarCollapse"),i.push('<a title="'+(o?C.lang.toolbar.toolbarCollapse:C.lang.toolbar.toolbarExpand)+'" id="'+C.ui.spaceId("toolbar_collapser")+'" tabIndex="-1" class="cke_toolbox_collapser'),o||i.push(" cke_toolbox_collapser_min"),i.push('" onclick="CKEDITOR.tools.callFunction('+b+')">','<span class="cke_arrow">&#9650;</span>',"</a>")}i.push("</span>"),t.data.html+=i.join("")}}),C.on("destroy",function(){if(this.toolbox){var t,e,n,i,o=0;for(t=this.toolbox.toolbars;o<t.length;o++)for(n=t[o].items,e=0;e<n.length;e++)(i=n[e]).clickFn&&CKEDITOR.tools.removeFunction(i.clickFn),i.keyDownFn&&CKEDITOR.tools.removeFunction(i.keyDownFn)}}),C.on("uiReady",function(){var t=C.ui.space("toolbox");t&&C.focusManager.add(t,1)}),C.addCommand("toolbarFocus",t),C.setKeystroke(CKEDITOR.ALT+121,"toolbarFocus"),C.ui.add("-",CKEDITOR.UI_SEPARATOR,{}),C.ui.addHandler(CKEDITOR.UI_SEPARATOR,{create:function(){return{render:function(t,e){return e.push('<span class="cke_toolbar_separator" role="separator"></span>'),{}}}}})}}),CKEDITOR.ui.prototype.addToolbarGroup=function(t,e,n){var i=d(this.editor),o=0===e,a={name:t};if(n){if(n=CKEDITOR.tools.search(i,function(t){return t.name==n}))return!n.groups&&(n.groups=[]),e&&0<=(e=CKEDITOR.tools.indexOf(n.groups,e))?void n.groups.splice(e+1,0,t):void(o?n.groups.splice(0,0,t):n.groups.push(t));e=null}e&&(e=CKEDITOR.tools.indexOf(i,function(t){return t.name==e})),o?i.splice(0,0,t):"number"==typeof e?i.splice(e+1,0,a):i.push(t)}}(),CKEDITOR.UI_SEPARATOR="separator",CKEDITOR.config.toolbarLocation="top",CKEDITOR.plugins.add("notification",{requires:"toolbar",init:function(a){function n(t){var e=new CKEDITOR.dom.element("div");e.setStyles({position:"fixed","margin-left":"-9999px"}),e.setAttributes({"aria-live":"assertive","aria-atomic":"true"}),e.setText(t),CKEDITOR.document.getBody().append(e),setTimeout(function(){e.remove()},100)}a._.notificationArea=new e(a),a.showNotification=function(t,e,n){var i,o;return"progress"==e?i=n:o=n,(t=new CKEDITOR.plugins.notification(a,{message:t,type:e,progress:i,duration:o})).show(),t},a.on("key",function(t){if(27==t.data.keyCode){var e=a._.notificationArea.notifications;e.length&&(n(a.lang.notification.closed),e[e.length-1].hide(),t.cancel())}})}}),t.prototype={show:function(){!1!==this.editor.fire("notificationShow",{notification:this})&&(this.area.add(this),this._hideAfterTimeout())},update:function(t){var e=!0;!1===this.editor.fire("notificationUpdate",{notification:this,options:t})&&(e=!1);var n=this.element,i=n.findOne(".cke_notification_message"),o=n.findOne(".cke_notification_progress"),a=t.type;n.removeAttribute("role"),t.progress&&"progress"!=this.type&&(a="progress"),a&&(n.removeClass(this._getClass()),n.removeAttribute("aria-label"),this.type=a,n.addClass(this._getClass()),n.setAttribute("aria-label",this.type),"progress"!=this.type||o?"progress"!=this.type&&o&&o.remove():(o=this._createProgressElement()).insertBefore(i)),void 0!==t.message&&(this.message=t.message,i.setHtml(this.message)),void 0!==t.progress&&(this.progress=t.progress,o&&o.setStyle("width",this._getPercentageProgress())),e&&t.important&&(n.setAttribute("role","alert"),this.isVisible()||this.area.add(this)),this.duration=t.duration,this._hideAfterTimeout()},hide:function(){!1!==this.editor.fire("notificationHide",{notification:this})&&this.area.remove(this)},isVisible:function(){return 0<=CKEDITOR.tools.indexOf(this.area.notifications,this)},_createElement:function(){var t,e,n=this,i=this.editor.lang.common.close;return(t=new CKEDITOR.dom.element("div")).addClass("cke_notification"),t.addClass(this._getClass()),t.setAttributes({id:this.id,role:"alert","aria-label":this.type}),"progress"==this.type&&t.append(this._createProgressElement()),(e=new CKEDITOR.dom.element("p")).addClass("cke_notification_message"),e.setHtml(this.message),t.append(e),e=CKEDITOR.dom.element.createFromHtml('<a class="cke_notification_close" href="javascript:void(0)" title="'+i+'" role="button" tabindex="-1"><span class="cke_label">X</span></a>'),t.append(e),e.on("click",function(){n.editor.focus(),n.hide()}),t},_getClass:function(){return"progress"==this.type?"cke_notification_info":"cke_notification_"+this.type},_createProgressElement:function(){var t=new CKEDITOR.dom.element("span");return t.addClass("cke_notification_progress"),t.setStyle("width",this._getPercentageProgress()),t},_getPercentageProgress:function(){return Math.round(100*(this.progress||0))+"%"},_hideAfterTimeout:function(){var t,e=this;this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),"number"==typeof this.duration?t=this.duration:"info"!=this.type&&"success"!=this.type||(t="number"==typeof this.editor.config.notification_duration?this.editor.config.notification_duration:5e3),t&&(e._hideTimeoutId=setTimeout(function(){e.hide()},t))}},e.prototype={add:function(t){this.notifications.push(t),this.element.append(t.element),1==this.element.getChildCount()&&(CKEDITOR.document.getBody().append(this.element),this._attachListeners()),this._layout()},remove:function(t){var e=CKEDITOR.tools.indexOf(this.notifications,t);e<0||(this.notifications.splice(e,1),t.element.remove(),this.element.getChildCount()||(this._removeListeners(),this.element.remove()))},_createElement:function(){var t=this.editor,e=t.config,n=new CKEDITOR.dom.element("div");return n.addClass("cke_notifications_area"),n.setAttribute("id","cke_notifications_area_"+t.name),n.setStyle("z-index",e.baseFloatZIndex-2),n},_attachListeners:function(){var t=CKEDITOR.document.getWindow(),e=this.editor;t.on("scroll",this._uiBuffer.input),t.on("resize",this._uiBuffer.input),e.on("change",this._changeBuffer.input),e.on("floatingSpaceLayout",this._layout,this,null,20),e.on("blur",this._layout,this,null,20)},_removeListeners:function(){var t=CKEDITOR.document.getWindow(),e=this.editor;t.removeListener("scroll",this._uiBuffer.input),t.removeListener("resize",this._uiBuffer.input),e.removeListener("change",this._changeBuffer.input),e.removeListener("floatingSpaceLayout",this._layout),e.removeListener("blur",this._layout)},_layout:function(){function t(){i.setStyle("left",p(m+o.width-l-c))}var e,n,i=this.element,o=(e=this.editor).ui.contentsElement.getClientRect(),a=e.ui.contentsElement.getDocumentPosition(),r=(e=e.ui.space("top")).getClientRect(),s=i.getClientRect(),l=this._notificationWidth,c=this._notificationMargin,d=(n=CKEDITOR.document.getWindow()).getScrollPosition(),u=n.getViewPaneSize(),h=CKEDITOR.document.getBody(),f=h.getDocumentPosition(),p=CKEDITOR.tools.cssLength;l&&c||(n=this.element.getChild(0),l=this._notificationWidth=n.getClientRect().width,c=this._notificationMargin=parseInt(n.getComputedStyle("margin-left"),10)+parseInt(n.getComputedStyle("margin-right"),10)),e.isVisible()&&r.bottom>o.top&&r.bottom<o.bottom-s.height?i.setStyles({position:"fixed",top:p(r.bottom)}):0<o.top?i.setStyles({position:"absolute",top:p(a.y)}):a.y+o.height-s.height>d.y?i.setStyles({position:"fixed",top:0}):i.setStyles({position:"absolute",top:p(a.y+o.height-s.height)});var m="fixed"==i.getStyle("position")?o.left:"static"!=h.getComputedStyle("position")?a.x-f.x:a.x;o.width<l+c?a.x+l+c>d.x+u.width?t():i.setStyle("left",p(m)):a.x+l+c>d.x+u.width?i.setStyle("left",p(m)):a.x+o.width/2+l/2+c>d.x+u.width?i.setStyle("left",p(m-a.x+d.x+u.width-l-c)):o.left+o.width-l-c<0?t():o.left+o.width/2-l/2<0?i.setStyle("left",p(m-a.x+d.x)):i.setStyle("left",p(m+o.width/2-l/2-c/2))}},CKEDITOR.plugins.notification=t,function(){function E(t,e,n){return e.type||(e.type="auto"),!(n&&!1===t.fire("beforePaste",e)||!e.dataValue&&e.dataTransfer.isEmpty())&&(e.dataValue||(e.dataValue=""),CKEDITOR.env.gecko&&"drop"==e.method&&t.toolbox&&t.once("afterPaste",function(){t.toolbox.focus()}),t.fire("paste",e))}function e(h){function t(){var t,e=h.editable();if(CKEDITOR.plugins.clipboard.isCustomCopyCutSupported){var n=function(t){h.readOnly&&"cut"==t.name||p.initPasteDataTransfer(t,h),t.data.preventDefault()};e.on("copy",n),e.on("cut",n),e.on("cut",function(){h.readOnly||h.extractSelectedHtml()},null,null,999)}e.on(p.mainPasteEvent,function(t){"beforepaste"==p.mainPasteEvent&&m||d(t)}),"beforepaste"==p.mainPasteEvent&&(e.on("paste",function(t){g||(i(),t.data.preventDefault(),d(t),a("paste"))}),e.on("contextmenu",o,null,null,0),e.on("beforepaste",function(t){!t.data||t.data.$.ctrlKey||t.data.$.shiftKey||o()},null,null,0)),e.on("beforecut",function(){!m&&r(h)}),e.attachListener(CKEDITOR.env.ie?e:h.document.getDocumentElement(),"mouseup",function(){t=setTimeout(function(){u()},0)}),h.on("destroy",function(){clearTimeout(t)}),e.on("keyup",u)}function e(t){return{type:t,canUndo:"cut"==t,startDisabled:!0,fakeKeystroke:"cut"==t?CKEDITOR.CTRL+88:CKEDITOR.CTRL+67,exec:function(){var t;"cut"==this.type&&r();var e=this.type;if(CKEDITOR.env.ie)t=a(e);else try{t=h.document.$.execCommand(e,!1,null)}catch(n){t=!1}return t||h.showNotification(h.lang.clipboard[this.type+"Error"]),t}}}function n(){return{canUndo:!1,async:!0,fakeKeystroke:CKEDITOR.CTRL+86,exec:function(n,t){function e(t,e){e=void 0===e||e,t?(t.method="paste",t.dataTransfer||(t.dataTransfer=p.initPasteDataTransfer()),E(n,t,e)):o&&n.showNotification(s,"info",n.config.clipboard_notificationDuration),n.fire("afterCommandExec",{name:"paste",command:i,returnValue:!!t})}var i=this,o="undefined"==typeof(t=null!=t?t:{}).notification||t.notification,a=t.type,r=CKEDITOR.tools.keystrokeToString(n.lang.common.keyboard,n.getCommandKeystroke(this)),s="string"==typeof o?o:n.lang.clipboard.pasteNotification.replace(/%1/,'<kbd aria-label="'+r.aria+'">'+r.display+"</kbd>");r="string"==typeof t?t:t.dataValue;a?n._.nextPasteType=a:delete n._.nextPasteType,"string"==typeof r?e({dataValue:r}):n.getClipboardData(e)}}}function i(){g=1,setTimeout(function(){g=0},100)}function o(){m=1,setTimeout(function(){m=0},10)}function a(t){var e=h.document,n=e.getBody(),i=!1,o=function(){i=!0};return n.on(t,o),7<CKEDITOR.env.version?e.$.execCommand(t):e.$.selection.createRange().execCommand(t),n.removeListener(t,o),i}function r(){if(CKEDITOR.env.ie&&!CKEDITOR.env.quirks){var t,e,n,i=h.getSelection();i.getType()==CKEDITOR.SELECTION_ELEMENT&&(t=i.getSelectedElement())&&(e=i.getRanges()[0],(n=h.document.createText("")).insertBefore(t),e.setStartBefore(n),e.setEndAfter(t),i.selectRanges([e]),setTimeout(function(){t.getParent()&&(n.remove(),i.selectElement(t))},0))}}function s(t,e){var n,i=h.document,o=h.editable(),a=function(t){t.cancel()};if(!i.getById("cke_pastebin")){var r=h.getSelection(),s=r.createBookmarks();CKEDITOR.env.ie&&r.root.fire("selectionchange");var l=new CKEDITOR.dom.element(!CKEDITOR.env.webkit&&!o.is("body")||CKEDITOR.env.ie?"div":"body",i);l.setAttributes({id:"cke_pastebin","data-cke-temp":"1"});var c=0;i=i.getWindow();CKEDITOR.env.webkit?(o.append(l),l.addClass("cke_editable"),o.is("body")||(c=(c="static"!=o.getComputedStyle("position")?o:CKEDITOR.dom.element.get(o.$.offsetParent)).getDocumentPosition().y)):o.getAscendant(CKEDITOR.env.ie?"body":"html",1).append(l),l.setStyles({position:"absolute",top:i.getScrollPosition().y-c+10+"px",width:"1px",height:Math.max(1,i.getViewPaneSize().height-20)+"px",overflow:"hidden",margin:0,padding:0}),CKEDITOR.env.safari&&l.setStyles(CKEDITOR.tools.cssVendorPrefix("user-select","text")),(c=l.getParent().isReadOnly())?(l.setOpacity(0),l.setAttribute("contenteditable",!0)):l.setStyle("ltr"==h.config.contentsLangDirection?"left":"right","-10000px"),h.on("selectionChange",a,null,null,0),(CKEDITOR.env.webkit||CKEDITOR.env.gecko)&&(n=o.once("blur",a,null,null,-100)),c&&l.focus(),(c=new CKEDITOR.dom.range(l)).selectNodeContents(l);var d=c.select();CKEDITOR.env.ie&&(n=o.once("blur",function(){h.lockSelection(d)}));var u=CKEDITOR.document.getWindow().getScrollPosition().y;setTimeout(function(){var t;CKEDITOR.env.webkit&&(CKEDITOR.document.getBody().$.scrollTop=u),n&&n.removeListener(),CKEDITOR.env.ie&&o.focus(),r.selectBookmarks(s),l.remove(),CKEDITOR.env.webkit&&(t=l.getFirst())&&t.is&&t.hasClass("Apple-style-span")&&(l=t),h.removeListener("selectionChange",a),e(l.getHtml())},0)}}function l(){if("paste"==p.mainPasteEvent)return h.fire("beforePaste",{type:"auto",method:"paste"}),!1;h.focus(),i();var t=h.focusManager;return t.lock(),h.editable().fire(p.mainPasteEvent)&&!a("paste")?(t.unlock(),!1):(t.unlock(),!0)}function c(t){if("wysiwyg"==h.mode)switch(t.data.keyCode){case CKEDITOR.CTRL+86:case CKEDITOR.SHIFT+45:
t=h.editable(),i(),"paste"==p.mainPasteEvent&&t.fire("beforepaste");break;case CKEDITOR.CTRL+88:case CKEDITOR.SHIFT+46:h.fire("saveSnapshot"),setTimeout(function(){h.fire("saveSnapshot")},50)}}function d(t){var e={type:"auto",method:"paste",dataTransfer:p.initPasteDataTransfer(t)};e.dataTransfer.cacheData();var n=!1!==h.fire("beforePaste",e);n&&p.canClipboardApiBeTrusted(e.dataTransfer,h)?(t.data.preventDefault(),setTimeout(function(){E(h,e)},0)):s(t,function(t){e.dataValue=t.replace(/<span[^>]+data-cke-bookmark[^<]*?<\/span>/gi,""),n&&E(h,e)})}function u(){if("wysiwyg"==h.mode){var t=f("paste");h.getCommand("cut").setState(f("cut")),h.getCommand("copy").setState(f("copy")),h.getCommand("paste").setState(t),h.fire("pasteState",t)}}function f(t){if(v&&t in{paste:1,cut:1})return CKEDITOR.TRISTATE_DISABLED;if("paste"==t)return CKEDITOR.TRISTATE_OFF;var e=(t=h.getSelection()).getRanges();return t.getType()==CKEDITOR.SELECTION_NONE||1==e.length&&e[0].collapsed?CKEDITOR.TRISTATE_DISABLED:CKEDITOR.TRISTATE_OFF}var p=CKEDITOR.plugins.clipboard,m=0,g=0,v=0;h.on("key",c),h.on("contentDom",t),h.on("selectionChange",function(t){v=t.data.selection.getRanges()[0].checkReadOnly(),u()}),h.contextMenu&&h.contextMenu.addListener(function(t,e){return v=e.getRanges()[0].checkReadOnly(),{cut:f("cut"),copy:f("copy"),paste:f("paste")}}),function(){function t(t,e,n,i,o){var a=h.lang.clipboard[e];h.addCommand(e,n),h.ui.addButton&&h.ui.addButton(t,{label:a,command:e,toolbar:"clipboard,"+i}),h.addMenuItems&&h.addMenuItem(e,{label:a,command:e,group:"clipboard",order:o})}t("Cut","cut",e("cut"),10,1),t("Copy","copy",e("copy"),20,4),t("Paste","paste",n(),30,8)}(),h.getClipboardData=function(t,e){function n(t){t.removeListener(),t.cancel(),e(t.data)}e||(e=t,t=null),h.on("paste",n,null,null,0),!1===l()&&(h.removeListener("paste",n),e(null))}}function l(t){if(CKEDITOR.env.webkit){if(!t.match(/^[^<]*$/g)&&!t.match(/^(<div><br( ?\/)?><\/div>|<div>[^<]*<\/div>)*$/gi))return"html"}else if(CKEDITOR.env.ie){if(!t.match(/^([^<]|<br( ?\/)?>)*$/gi)&&!t.match(/^(<p>([^<]|<br( ?\/)?>)*<\/p>|(\r\n))*$/gi))return"html"}else{if(!CKEDITOR.env.gecko)return"html";if(!t.match(/^([^<]|<br( ?\/)?>)*$/gi))return"html"}return"htmlifiedtext"}function c(t,e){function n(t){return CKEDITOR.tools.repeat("</p><p>",~~(t/2))+(1==t%2?"<br>":"")}return(e=(e=e.replace(/\s+/g," ").replace(/> +</g,"><").replace(/<br ?\/>/gi,"<br>")).replace(/<\/?[A-Z]+>/g,function(t){return t.toLowerCase()})).match(/^[^<]$/)?e:(CKEDITOR.env.webkit&&-1<e.indexOf("<div>")&&((e=e.replace(/^(<div>(<br>|)<\/div>)(?!$|(<div>(<br>|)<\/div>))/g,"<br>").replace(/^(<div>(<br>|)<\/div>){2}(?!$)/g,"<div></div>")).match(/<div>(<br>|)<\/div>/)&&(e="<p>"+e.replace(/(<div>(<br>|)<\/div>)+/g,function(t){return n(t.split("</div><div>").length+1)})+"</p>"),e=(e=e.replace(/<\/div><div>/g,"<br>")).replace(/<\/?div>/g,"")),CKEDITOR.env.gecko&&t.enterMode!=CKEDITOR.ENTER_BR&&(CKEDITOR.env.gecko&&(e=e.replace(/^<br><br>$/,"<br>")),-1<e.indexOf("<br><br>")&&(e="<p>"+e.replace(/(<br>){2,}/g,function(t){return n(t.length/4)})+"</p>")),i(t,e))}function n(){function e(){var t,e={};for(t in CKEDITOR.dtd)"$"!=t.charAt(0)&&"div"!=t&&"span"!=t&&(e[t]=1);return e}var n={};return{get:function(t){return"plain-text"==t?n.plainText||(n.plainText=new CKEDITOR.filter("br")):"semantic-content"==t?((t=n.semanticContent)||((t=new CKEDITOR.filter).allow({$1:{elements:e(),attributes:!0,styles:!1,classes:!1}}),t=n.semanticContent=t),t):t?new CKEDITOR.filter(t):null}}}function d(t,e,n){e=CKEDITOR.htmlParser.fragment.fromHtml(e);var i=new CKEDITOR.htmlParser.basicWriter;return n.applyTo(e,!0,!1,t.activeEnterMode),e.writeHtml(i),i.getHtml()}function i(t,e){return t.enterMode==CKEDITOR.ENTER_BR?e=e.replace(/(<\/p><p>)+/g,function(t){return CKEDITOR.tools.repeat("<br>",t.length/7*2)}).replace(/<\/?p>/g,""):t.enterMode==CKEDITOR.ENTER_DIV&&(e=e.replace(/<(\/)?p>/g,"<$1div>")),e}function o(t){t.data.preventDefault(),t.data.$.dataTransfer.dropEffect="none"}function u(l){var c=CKEDITOR.plugins.clipboard;l.on("contentDom",function(){function o(t,e,n){e.select(),E(l,{dataTransfer:n,method:"drop"},1),n.sourceEditor.fire("saveSnapshot"),n.sourceEditor.editable().extractHtmlFromRange(t),n.sourceEditor.getSelection().selectRanges([t]),n.sourceEditor.fire("saveSnapshot")}function a(t,e){t.select(),E(l,{dataTransfer:e,method:"drop"},1),c.resetDragDataTransfer()}function i(t,e,n){var i={$:t.data.$,target:t.data.getTarget()};e&&(i.dragRange=e),n&&(i.dropRange=n),!1===l.fire(t.name,i)&&t.data.preventDefault()}function e(t){return t.type!=CKEDITOR.NODE_ELEMENT&&(t=t.getParent()),t.getChildCount()}var t=l.editable(),n=CKEDITOR.plugins.clipboard.getDropTarget(l),r=l.ui.space("top"),s=l.ui.space("bottom");c.preventDefaultDropOnElement(r),c.preventDefaultDropOnElement(s),t.attachListener(n,"dragstart",i),t.attachListener(l,"dragstart",c.resetDragDataTransfer,c,null,1),t.attachListener(l,"dragstart",function(t){c.initDragDataTransfer(t,l)},null,null,2),t.attachListener(l,"dragstart",function(){var t=c.dragRange=l.getSelection().getRanges()[0];CKEDITOR.env.ie&&CKEDITOR.env.version<10&&(c.dragStartContainerChildCount=t?e(t.startContainer):null,c.dragEndContainerChildCount=t?e(t.endContainer):null)},null,null,100),t.attachListener(n,"dragend",i),t.attachListener(l,"dragend",c.initDragDataTransfer,c,null,1),t.attachListener(l,"dragend",c.resetDragDataTransfer,c,null,100),t.attachListener(n,"dragover",function(t){if(CKEDITOR.env.edge)t.data.preventDefault();else{var e=t.data.getTarget();e&&e.is&&e.is("html")?t.data.preventDefault():CKEDITOR.env.ie&&CKEDITOR.plugins.clipboard.isFileApiSupported&&t.data.$.dataTransfer.types.contains("Files")&&t.data.preventDefault()}}),t.attachListener(n,"drop",function(t){if(!t.data.$.defaultPrevented&&(t.data.preventDefault(),!(e=t.data.getTarget()).isReadOnly()||e.type==CKEDITOR.NODE_ELEMENT&&e.is("html"))){var e=c.getRangeAtDropPosition(t,l),n=c.dragRange;e&&i(t,n,e)}},null,null,9999),t.attachListener(l,"drop",c.initDragDataTransfer,c,null,1),t.attachListener(l,"drop",function(t){if(t=t.data){var e=t.dropRange,n=t.dragRange,i=t.dataTransfer;i.getTransferType(l)==CKEDITOR.DATA_TRANSFER_INTERNAL?setTimeout(function(){c.internalDrop(n,e,i,l)},0):i.getTransferType(l)==CKEDITOR.DATA_TRANSFER_CROSS_EDITORS?o(n,e,i):a(e,i)}},null,null,9999)})}CKEDITOR.plugins.add("clipboard",{requires:"notification",init:function(r){var t,s=n();if(r.config.forcePasteAsPlainText?t="plain-text":r.config.pasteFilter?t=r.config.pasteFilter:!CKEDITOR.env.webkit||"pasteFilter"in r.config||(t="semantic-content"),r.pasteFilter=s.get(t),e(r),u(r),CKEDITOR.env.gecko){var o,a=["image/png","image/jpeg","image/gif"];r.on("paste",function(t){var e=t.data,n=e.dataTransfer;if(!e.dataValue&&"paste"==e.method&&n&&1==n.getFilesCount()&&o!=n.id&&(n=n.getFile(0),-1!=CKEDITOR.tools.indexOf(a,n.type))){var i=new FileReader;i.addEventListener("load",function(){t.data.dataValue='<img src="'+i.result+'" />',r.fire("paste",t.data)},!1),i.addEventListener("abort",function(){r.fire("paste",t.data)},!1),i.addEventListener("error",function(){r.fire("paste",t.data)},!1),i.readAsDataURL(n),o=e.dataTransfer.id,t.stop()}},null,null,1)}r.on("paste",function(t){if(t.data.dataTransfer||(t.data.dataTransfer=new CKEDITOR.plugins.clipboard.dataTransfer),!t.data.dataValue){var e=t.data.dataTransfer,n=e.getData("text/html");n?(t.data.dataValue=n,t.data.type="html"):(n=e.getData("text/plain"))&&(t.data.dataValue=r.editable().transformPlainTextToHtml(n),t.data.type="text")}},null,null,1),r.on("paste",function(n){var t=n.data.dataValue,i=CKEDITOR.dtd.$block;if(-1<t.indexOf("Apple-")&&(t=t.replace(/<span class="Apple-converted-space">&nbsp;<\/span>/gi," "),"html"!=n.data.type&&(t=t.replace(/<span class="Apple-tab-span"[^>]*>([^<]*)<\/span>/gi,function(t,e){return e.replace(/\t/g,"&nbsp;&nbsp; &nbsp;")})),-1<t.indexOf('<br class="Apple-interchange-newline">')&&(n.data.startsWithEOL=1,n.data.preSniffing="html",t=t.replace(/<br class="Apple-interchange-newline">/,"")),t=t.replace(/(<[^>]+) class="Apple-[^"]*"/gi,"$1")),t.match(/^<[^<]+cke_(editable|contents)/i)){var e,o,a=new CKEDITOR.dom.element("div");for(a.setHtml(t);1==a.getChildCount()&&(e=a.getFirst())&&e.type==CKEDITOR.NODE_ELEMENT&&(e.hasClass("cke_editable")||e.hasClass("cke_contents"));)a=o=e;o&&(t=o.getHtml().replace(/<br>$/i,""))}CKEDITOR.env.ie?t=t.replace(/^&nbsp;(?: |\r\n)?<(\w+)/g,function(t,e){return e.toLowerCase()in i?(n.data.preSniffing="html","<"+e):t}):CKEDITOR.env.webkit?t=t.replace(/<\/(\w+)><div><br><\/div>$/,function(t,e){return e in i?(n.data.endsWithEOL=1,"</"+e+">"):t}):CKEDITOR.env.gecko&&(t=t.replace(/(\s)<br>$/,"$1")),n.data.dataValue=t},null,null,3),r.on("paste",function(t){t=t.data;var e,n=r._.nextPasteType||t.type,i=t.dataValue,o=r.config.clipboard_defaultContentType||"html",a=t.dataTransfer.getTransferType(r);e="html"==n||"html"==t.preSniffing?"html":l(i),delete r._.nextPasteType,"htmlifiedtext"==e&&(i=c(r.config,i)),"text"==n&&"html"==e?i=d(r,i,s.get("plain-text")):a==CKEDITOR.DATA_TRANSFER_EXTERNAL&&r.pasteFilter&&!t.dontFilter&&(i=d(r,i,r.pasteFilter)),t.startsWithEOL&&(i='<br data-cke-eol="1">'+i),t.endsWithEOL&&(i+='<br data-cke-eol="1">'),"auto"==n&&(n="html"==e||"html"==o?"html":"text"),t.type=n,t.dataValue=i,delete t.preSniffing,delete t.startsWithEOL,delete t.endsWithEOL},null,null,6),r.on("paste",function(t){(t=t.data).dataValue&&(r.insertHtml(t.dataValue,t.type,t.range),setTimeout(function(){r.fire("afterPaste")},0))},null,null,1e3)}}),CKEDITOR.plugins.clipboard={isCustomCopyCutSupported:!CKEDITOR.env.ie&&!CKEDITOR.env.iOS,isCustomDataTypesSupported:!CKEDITOR.env.ie,isFileApiSupported:!CKEDITOR.env.ie||9<CKEDITOR.env.version,mainPasteEvent:CKEDITOR.env.ie&&!CKEDITOR.env.edge?"beforepaste":"paste",canClipboardApiBeTrusted:function(t,e){return!!(t.getTransferType(e)!=CKEDITOR.DATA_TRANSFER_EXTERNAL||CKEDITOR.env.chrome&&!t.isEmpty()||CKEDITOR.env.gecko&&(t.getData("text/html")||t.getFilesCount())||CKEDITOR.env.safari&&603<=CKEDITOR.env.version&&!CKEDITOR.env.iOS)},getDropTarget:function(t){var e=t.editable();return CKEDITOR.env.ie&&CKEDITOR.env.version<9||e.isInline()?e:t.document},fixSplitNodesAfterDrop:function(t,o,e,n){function i(t,e,n){var i=t;if(i.type==CKEDITOR.NODE_TEXT&&(i=t.getParent()),i.equals(e)&&n!=e.getChildCount())return t=o.startContainer.getChild(o.startOffset-1),e=o.startContainer.getChild(o.startOffset),t&&t.type==CKEDITOR.NODE_TEXT&&e&&e.type==CKEDITOR.NODE_TEXT&&(n=t.getLength(),t.setText(t.getText()+e.getText()),e.remove(),o.setStart(t,n),o.collapse(!0)),!0}var a=o.startContainer;"number"==typeof n&&"number"==typeof e&&a.type==CKEDITOR.NODE_ELEMENT&&(i(t.startContainer,a,e)||i(t.endContainer,a,n))},isDropRangeAffectedByDragRange:function(t,e){var n=e.startContainer,i=e.endOffset;return!!(t.endContainer.equals(n)&&t.endOffset<=i||t.startContainer.getParent().equals(n)&&t.startContainer.getIndex()<i||t.endContainer.getParent().equals(n)&&t.endContainer.getIndex()<i)},internalDrop:function(t,e,n,i){var o,a,r=CKEDITOR.plugins.clipboard,s=i.editable();i.fire("saveSnapshot"),i.fire("lockSnapshot",{dontUpdate:1}),CKEDITOR.env.ie&&CKEDITOR.env.version<10&&this.fixSplitNodesAfterDrop(t,e,r.dragStartContainerChildCount,r.dragEndContainerChildCount),(a=this.isDropRangeAffectedByDragRange(t,e))||(o=t.createBookmark(!1)),r=e.clone().createBookmark(!1),a&&(o=t.createBookmark(!1)),t=o.startNode,e=o.endNode,a=r.startNode,e&&t.getPosition(a)&CKEDITOR.POSITION_PRECEDING&&e.getPosition(a)&CKEDITOR.POSITION_FOLLOWING&&a.insertBefore(t),(t=i.createRange()).moveToBookmark(o),s.extractHtmlFromRange(t,1),(e=i.createRange()).moveToBookmark(r),E(i,{dataTransfer:n,method:"drop",range:e},1),i.fire("unlockSnapshot")},getRangeAtDropPosition:function(t,e){var n=t.data.$,i=n.clientX,o=n.clientY,a=e.getSelection(!0).getRanges()[0],r=e.createRange();if(t.data.testRange)return t.data.testRange;if(document.caretRangeFromPoint&&e.document.$.caretRangeFromPoint(i,o))n=e.document.$.caretRangeFromPoint(i,o),r.setStart(CKEDITOR.dom.node(n.startContainer),n.startOffset),r.collapse(!0);else if(n.rangeParent)r.setStart(CKEDITOR.dom.node(n.rangeParent),n.rangeOffset),r.collapse(!0);else{if(CKEDITOR.env.ie&&8<CKEDITOR.env.version&&a&&e.editable().hasFocus)return a;if(!document.body.createTextRange)return null;e.focus(),n=e.document.getBody().$.createTextRange();try{for(var s=!1,l=0;l<20&&!s;l++){if(!s)try{n.moveToPoint(i,o-l),s=!0}catch(m){}if(!s)try{n.moveToPoint(i,o+l),s=!0}catch(f){}}if(s){var c="cke-temp-"+(new Date).getTime();n.pasteHTML('<span id="'+c+'">\u200b</span>');var d=e.document.getById(c);r.moveToPosition(d,CKEDITOR.POSITION_BEFORE_START),d.remove()}else{var u=e.document.$.elementFromPoint(i,o),h=new CKEDITOR.dom.element(u);if(h.equals(e.editable())||"html"==h.getName())return a&&a.startContainer&&!a.startContainer.equals(e.editable())?a:null;i<h.getClientRect().left?r.setStartAt(h,CKEDITOR.POSITION_AFTER_START):r.setStartAt(h,CKEDITOR.POSITION_BEFORE_END),r.collapse(!0)}}catch(p){return null}}return r},initDragDataTransfer:function(t,e){var n=t.data.$?t.data.$.dataTransfer:null,i=new this.dataTransfer(n,e);n?this.dragData&&i.id==this.dragData.id?i=this.dragData:this.dragData=i:this.dragData?i=this.dragData:this.dragData=i,t.data.dataTransfer=i},resetDragDataTransfer:function(){this.dragData=null},initPasteDataTransfer:function(t,e){if(this.isCustomCopyCutSupported){if(t&&t.data&&t.data.$){var n=new this.dataTransfer(t.data.$.clipboardData,e);return this.copyCutData&&n.id==this.copyCutData.id?(n=this.copyCutData).$=t.data.$.clipboardData:this.copyCutData=n,n}return new this.dataTransfer(null,e)}return new this.dataTransfer(CKEDITOR.env.edge&&t&&t.data.$&&t.data.$.clipboardData||null,e)},preventDefaultDropOnElement:function(t){t&&t.on("dragover",o)}};var m=CKEDITOR.plugins.clipboard.isCustomDataTypesSupported?"cke/id":"Text";CKEDITOR.plugins.clipboard.dataTransfer=function(t,e){if(t&&(this.$=t),this._={metaRegExp:/^<meta.*?>/i,bodyRegExp:/<body(?:[\s\S]*?)>([\s\S]*)<\/body>/i,fragmentRegExp:/\x3c!--(?:Start|End)Fragment--\x3e/g,data:{},files:[],normalizeType:function(t){return"text"==(t=t.toLowerCase())||"text/plain"==t?"Text":"url"==t?"URL":t}},this.id=this.getData(m),this.id||(this.id="Text"==m?"":"cke-"+CKEDITOR.tools.getUniqueId()),"Text"!=m)try{this.$.setData(m,this.id)}catch(n){}e&&(this.sourceEditor=e,this.setData("text/html",e.getSelectedHtml(1)),"Text"==m||this.getData("text/plain")||this.setData("text/plain",e.getSelection().getSelectedText()))},CKEDITOR.DATA_TRANSFER_INTERNAL=1,CKEDITOR.DATA_TRANSFER_CROSS_EDITORS=2,CKEDITOR.DATA_TRANSFER_EXTERNAL=3,CKEDITOR.plugins.clipboard.dataTransfer.prototype={getData:function(t,e){t=this._.normalizeType(t);var n,i=this._.data[t];if(null==i||""===i)try{i=this.$.getData(t)}catch(o){}return null!=i&&""!==i||(i=""),"text/html"!=t||e?"Text"==t&&CKEDITOR.env.gecko&&this.getFilesCount()&&"file://"==i.substring(0,7)&&(i=""):(i=i.replace(this._.metaRegExp,""),(n=this._.bodyRegExp.exec(i))&&n.length&&(i=(i=n[1]).replace(this._.fragmentRegExp,""))),"string"==typeof i&&(i=-1!==(n=i.indexOf("</html>"))?i.substring(0,n+7):i),i},setData:function(t,e){if(t=this._.normalizeType(t),this._.data[t]=e,CKEDITOR.plugins.clipboard.isCustomDataTypesSupported||"URL"==t||"Text"==t){"Text"==m&&"Text"==t&&(this.id=e);try{this.$.setData(t,e)}catch(n){}}},getTransferType:function(t){return this.sourceEditor?this.sourceEditor==t?CKEDITOR.DATA_TRANSFER_INTERNAL:CKEDITOR.DATA_TRANSFER_CROSS_EDITORS:CKEDITOR.DATA_TRANSFER_EXTERNAL},cacheData:function(){function t(t){t=i._.normalizeType(t);var e=i.getData(t,!0);e&&(i._.data[t]=e)}if(this.$){var e,n,i=this;if(CKEDITOR.plugins.clipboard.isCustomDataTypesSupported){if(this.$.types)for(e=0;e<this.$.types.length;e++)t(this.$.types[e])}else t("Text"),t("URL");if(n=this._getImageFromClipboard(),this.$&&this.$.files||n){if(this._.files=[],this.$.files&&this.$.files.length)for(e=0;e<this.$.files.length;e++)this._.files.push(this.$.files[e]);0===this._.files.length&&n&&this._.files.push(n)}}},getFilesCount:function(){return this._.files.length?this._.files.length:this.$&&this.$.files&&this.$.files.length?this.$.files.length:this._getImageFromClipboard()?1:0},getFile:function(t){return this._.files.length?this._.files[t]:this.$&&this.$.files&&this.$.files.length?this.$.files[t]:0===t?this._getImageFromClipboard():void 0},isEmpty:function(){var t,e={};if(this.getFilesCount())return!1;for(t in this._.data)e[t]=1;if(this.$)if(CKEDITOR.plugins.clipboard.isCustomDataTypesSupported){if(this.$.types)for(var n=0;n<this.$.types.length;n++)e[this.$.types[n]]=1}else e.Text=1,e.URL=1;for(t in"Text"!=m&&(e[m]=0),e)if(e[t]&&""!==this.getData(t))return!1;return!0},_getImageFromClipboard:function(){var t;if(this.$&&this.$.items&&this.$.items[0])try{if((t=this.$.items[0].getAsFile())&&t.type)return t}catch(e){}}}}(),CKEDITOR.config.clipboard_notificationDuration=1e4,CKEDITOR.plugins.add("panelbutton",{requires:"button",onLoad:function(){function n(t){var e=this._;e.state!=CKEDITOR.TRISTATE_DISABLED&&(this.createPanel(t),e.on?e.panel.hide():e.panel.showBlock(this._.id,this.document.getById(this._.id),4))}CKEDITOR.ui.panelButton=CKEDITOR.tools.createClass({base:CKEDITOR.ui.button,$:function(t){var e=t.panel||{};delete t.panel,this.base(t),this.document=e.parent&&e.parent.getDocument()||CKEDITOR.document,e.block={attributes:e.attributes},this.hasArrow=e.toolbarRelated=!0,this.click=n,this._={panelDefinition:e}},statics:{handler:{create:function(t){return new CKEDITOR.ui.panelButton(t)}}},proto:{createPanel:function(e){var n=this._;if(!n.panel){var t=this._.panelDefinition,i=this._.panelDefinition.block,o=t.parent||CKEDITOR.document.getBody(),a=this._.panel=new CKEDITOR.ui.floatPanel(e,o,t),r=(t=a.addBlock(n.id,i),this);a.onShow=function(){r.className&&this.element.addClass(r.className+"_panel"),r.setState(CKEDITOR.TRISTATE_ON),n.on=1,r.editorFocus&&e.focus(),r.onOpen&&r.onOpen()},a.onHide=function(t){r.className&&this.element.getFirst().removeClass(r.className+"_panel"),r.setState(r.modes&&r.modes[e.mode]?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED),n.on=0,!t&&r.onClose&&r.onClose()},a.onEscape=function(){a.hide(1),r.document.getById(n.id).focus()},this.onBlock&&this.onBlock(a,t),t.onHide=function(){n.on=0,r.setState(CKEDITOR.TRISTATE_OFF)}}}}})},beforeInit:function(t){t.ui.addHandler(CKEDITOR.UI_PANELBUTTON,CKEDITOR.ui.panelButton.handler)}}),CKEDITOR.UI_PANELBUTTON="panelbutton",function(){CKEDITOR.plugins.add("panel",{beforeInit:function(t){t.ui.addHandler(CKEDITOR.UI_PANEL,CKEDITOR.ui.panel.handler)}}),CKEDITOR.UI_PANEL="panel",CKEDITOR.ui.panel=function(t,e){e&&CKEDITOR.tools.extend(this,e),CKEDITOR.tools.extend(this,{className:"",css:[]}),this.id=CKEDITOR.tools.getNextId(),this.document=t,this.isFramed=this.forceIFrame||this.css.length,this._={blocks:{}}},CKEDITOR.ui.panel.handler={create:function(t){return new CKEDITOR.ui.panel(t)}};var o=CKEDITOR.addTemplate("panel",'<div lang="{langCode}" id="{id}" dir={dir} class="cke cke_reset_all {editorId} cke_panel cke_panel {cls} cke_{dir}" style="z-index:{z-index}" role="presentation">{frame}</div>'),a=CKEDITOR.addTemplate("panel-frame",'<iframe id="{id}" class="cke_panel_frame" role="presentation" frameborder="0" src="{src}"></iframe>'),r=CKEDITOR.addTemplate("panel-frame-inner",'<!DOCTYPE html><html class="cke_panel_container {env}" dir="{dir}" lang="{langCode}"><head>{css}</head><body class="cke_{dir}" style="margin:0;padding:0" onload="{onload}"></body></html>');CKEDITOR.ui.panel.prototype={render:function(t,e){this.getHolderElement=function(){if(!(e=this._.holder)){if(this.isFramed){var t=(e=this.document.getById(this.id+"_frame")).getParent(),e=e.getFrameDocument();CKEDITOR.env.iOS&&t.setStyles({overflow:"scroll","-webkit-overflow-scrolling":"touch"}),t=CKEDITOR.tools.addFunction(CKEDITOR.tools.bind(function(){this.isLoaded=!0,this.onLoad&&this.onLoad()},this)),e.write(r.output(CKEDITOR.tools.extend({css:CKEDITOR.tools.buildStyleHtml(this.css),onload:"window.parent.CKEDITOR.tools.callFunction("+t+");"},n))),e.getWindow().$.CKEDITOR=CKEDITOR,e.on("keydown",function(t){var e=t.data.getKeystroke(),n=this.document.getById(this.id).getAttribute("dir");this._.onKeyDown&&!1===this._.onKeyDown(e)?t.data.preventDefault():(27==e||e==("rtl"==n?39:37))&&this.onEscape&&!1===this.onEscape(e)&&t.data.preventDefault()},this),(e=e.getBody()).unselectable(),CKEDITOR.env.air&&CKEDITOR.tools.callFunction(t)}else e=this.document.getById(this.id);this._.holder=e}return e};var n={editorId:t.id,id:this.id,langCode:t.langCode,dir:t.lang.dir,cls:this.className,frame:"",env:CKEDITOR.env.cssClass,"z-index":t.config.baseFloatZIndex+1};if(this.isFramed){var i=CKEDITOR.env.air?"javascript:void(0)":CKEDITOR.env.ie?"javascript:void(function(){"+encodeURIComponent("document.open();("+CKEDITOR.tools.fixDomain+")();document.close();")+"}())":"";n.frame=a.output({id:this.id+"_frame",src:i})}return i=o.output(n),e&&e.push(i),i},addBlock:function(t,e){return e=this._.blocks[t]=e instanceof CKEDITOR.ui.panel.block?e:new CKEDITOR.ui.panel.block(this.getHolderElement(),e),this._.currentBlock||this.showBlock(t),e},getBlock:function(t){return this._.blocks[t]},showBlock:function(t){t=this._.blocks[t];var e=this._.currentBlock,n=!this.forceIFrame||CKEDITOR.env.ie?this._.holder:this.document.getById(this.id+"_frame");return e&&e.hide(),this._.currentBlock=t,CKEDITOR.fire("ariaWidget",n),t._.focusIndex=-1,this._.onKeyDown=t.onKeyDown&&CKEDITOR.tools.bind(t.onKeyDown,t),t.show(),t},destroy:function(){this.element&&this.element.remove()}},CKEDITOR.ui.panel.block=CKEDITOR.tools.createClass({$:function(t,e){this.element=t.append(t.getDocument().createElement("div",{attributes:{tabindex:-1,"class":"cke_panel_block"},styles:{display:"none"}})),e&&CKEDITOR.tools.extend(this,e),this.element.setAttributes({role:this.attributes.role||"presentation","aria-label":this.attributes["aria-label"],title:this.attributes.title||this.attributes["aria-label"]}),this.keys={},this._.focusIndex=-1,this.element.disableContextMenu()},_:{markItem:function(t){-1!=t&&(t=this.element.getElementsByTag("a").getItem(this._.focusIndex=t),CKEDITOR.env.webkit&&t.getDocument().getWindow().focus(),t.focus(),this.onMark&&this.onMark(t))},markFirstDisplayed:function(t){for(var e,n,i=function(t){return t.type==CKEDITOR.NODE_ELEMENT&&"none"==t.getStyle("display")},o=this._.getItems(),a=o.count()-1;0<=a;a--)if((e=o.getItem(a)).getAscendant(i)||(n=e,this._.focusIndex=a),"true"==e.getAttribute("aria-selected")){n=e,this._.focusIndex=a;break}n&&(t&&t(),CKEDITOR.env.webkit&&n.getDocument().getWindow().focus(),n.focus(),this.onMark&&this.onMark(n))},getItems:function(){return this.element.getElementsByTag("a")}},proto:{show:function(){this.element.setStyle("display","")},hide:function(){this.onHide&&!0===this.onHide.call(this)||this.element.setStyle("display","none")},onKeyDown:function(t,e){switch(o=this.keys[t]){case"next":for(var n,i=this._.focusIndex,o=this.element.getElementsByTag("a");n=o.getItem(++i);)if(n.getAttribute("_cke_focus")&&n.$.offsetWidth){this._.focusIndex=i,n.focus();break}return!n&&!e&&(this._.focusIndex=-1,this.onKeyDown(t,1));case"prev":for(i=this._.focusIndex,o=this.element.getElementsByTag("a");0<i&&(n=o.getItem(--i));){if(n.getAttribute("_cke_focus")&&n.$.offsetWidth){this._.focusIndex=i,n.focus();break}n=null}return!n&&!e&&(this._.focusIndex=o.count(),this.onKeyDown(t,1));case"click":case"mouseup":return(n=0<=(i=this._.focusIndex)&&this.element.getElementsByTag("a").getItem(i))&&(n.$[o]?n.$[o]():n.$["on"+o]()),!1}return!0}}})}(),CKEDITOR.plugins.add("floatpanel",{requires:"panel"}),function(){function c(t,e,n,i,o){o=CKEDITOR.tools.genKey(e.getUniqueId(),n.getUniqueId(),t.lang.dir,t.uiColor||"",i.css||"",o||"");var a=r[o];return a||((a=r[o]=new CKEDITOR.ui.panel(e,i)).element=n.append(CKEDITOR.dom.element.createFromHtml(a.render(t),e)),a.element.setStyles({display:"none",position:"absolute"})),a}var r={};CKEDITOR.ui.floatPanel=CKEDITOR.tools.createClass({$:function(t,e,n,i){function o(){l.hide()}n.forceIFrame=1,n.toolbarRelated&&t.elementMode==CKEDITOR.ELEMENT_MODE_INLINE&&(e=CKEDITOR.document.getById("cke_"+t.name));var a=e.getDocument(),r=(i=c(t,a,e,n,i||0)).element,s=r.getFirst(),l=this;r.disableContextMenu(),this.element=r,this._={editor:t,panel:i,parentElement:e,definition:n,document:a,iframe:s,children:[],dir:t.lang.dir,showBlockParams:null},t.on("mode",o),t.on("resize",o),a.getWindow().on("resize",function(){this.reposition()},this)},proto:{addBlock:function(t,e){return this._.panel.addBlock(t,e)},addListBlock:function(t,e){return this._.panel.addListBlock(t,e)},getBlock:function(t){return this._.panel.getBlock(t)},showBlock:function(t,e,n,i,o,s){var l=this._.panel,c=l.showBlock(t);this._.showBlockParams=[].slice.call(arguments),this.allowBlur(!1);var a=this._.editor.editable();this._.returnFocus=a.hasFocus?a:new CKEDITOR.dom.element(CKEDITOR.document.$.activeElement),this._.hideTimeout=0;var d=this.element,r=(a=this._.iframe,a=CKEDITOR.env.ie&&!CKEDITOR.env.edge?a:new CKEDITOR.dom.window(a.$.contentWindow),d.getDocument()),u=this._.parentElement.getPositionedAncestor(),h=e.getDocumentPosition(r),f=(r=u?u.getDocumentPosition(r):{x:0,y:0},"rtl"==this._.dir),p=h.x+(i||0)-r.x,m=h.y+(o||0)-r.y;!f||1!=n&&4!=n?f||2!=n&&3!=n||(p+=e.$.offsetWidth-1):p+=e.$.offsetWidth,3!=n&&4!=n||(m+=e.$.offsetHeight-1),this._.panel._.offsetParentId=e.getId(),d.setStyles({top:m+"px",left:0,display:""}),d.setOpacity(0),d.getFirst().removeStyle("width"),this._.editor.focusManager.add(a),this._.blurSet||(CKEDITOR.event.useCapture=!0,a.on("blur",function(t){function e(){delete this._.returnFocus,this.hide()}this.allowBlur()&&t.data.getPhase()==CKEDITOR.EVENT_PHASE_AT_TARGET&&this.visible&&!this._.activeChild&&(CKEDITOR.env.iOS?this._.hideTimeout||(this._.hideTimeout=CKEDITOR.tools.setTimeout(e,0,this)):e.call(this))},this),a.on("focus",function(){this._.focused=!0,this.hideChild(),this.allowBlur(!0)},this),CKEDITOR.env.iOS&&(a.on("touchstart",function(){clearTimeout(this._.hideTimeout)},this),a.on("touchend",function(){this._.hideTimeout=0,this.focus()},this)),CKEDITOR.event.useCapture=!1,this._.blurSet=1),l.onEscape=CKEDITOR.tools.bind(function(t){if(this.onEscape&&!1===this.onEscape(t))return!1},this),CKEDITOR.tools.setTimeout(function(){var t=CKEDITOR.tools.bind(function(){if((n=d).removeStyle("width"),c.autoSize){var t=c.element.getDocument();t=(CKEDITOR.env.webkit||CKEDITOR.env.edge?c.element:t.getBody()).$.scrollWidth;CKEDITOR.env.ie&&CKEDITOR.env.quirks&&0<t&&(t+=(n.$.offsetWidth||0)-(n.$.clientWidth||0)+3),n.setStyle("width",t+10+"px"),t=c.element.$.scrollHeight,CKEDITOR.env.ie&&CKEDITOR.env.quirks&&0<t&&(t+=(n.$.offsetHeight||0)-(n.$.clientHeight||0)+3),n.setStyle("height",t+"px"),l._.currentBlock.element.setStyle("display","none").removeStyle("display")}else n.removeStyle("height");f&&(p-=d.$.offsetWidth),d.setStyle("left",p+"px");t=l.element.getWindow();var e,n=d.$.getBoundingClientRect(),i=(t=t.getViewPaneSize(),n.width||n.right-n.left),o=n.height||n.bottom-n.top,a=f?n.right:t.width-n.left,r=f?t.width-n.right:n.left;f?a<i&&(p=i<r?p+i:t.width>i?p-n.left:p-n.right+t.width):a<i&&(p=i<r?p-i:t.width>i?p-n.right+t.width:p-n.left),i=n.top,t.height-n.top<o&&(m=o<i?m-o:t.height>o?m-n.bottom+t.height:m-n.top),CKEDITOR.env.ie&&("html"==(t=n=new CKEDITOR.dom.element(d.$.offsetParent)).getName()&&(t=t.getDocument().getBody()),"rtl"==t.getComputedStyle("direction")&&(p=CKEDITOR.env.ie8Compat?p-2*d.getDocument().getDocumentElement().$.scrollLeft:p-(n.$.scrollWidth-n.$.clientWidth))),(e=(n=d.getFirst()).getCustomData("activePanel"))&&e.onHide&&e.onHide.call(this,1),n.setCustomData("activePanel",this),d.setStyles({top:m+"px",left:p+"px"}),d.setOpacity(1),s&&s()},this);l.isLoaded?t():l.onLoad=t,CKEDITOR.tools.setTimeout(function(){var t=CKEDITOR.env.webkit&&CKEDITOR.document.getWindow().getScrollPosition().y;this.focus(),c.element.focus(),CKEDITOR.env.webkit&&(CKEDITOR.document.getBody().$.scrollTop=t),this.allowBlur(!0),CKEDITOR.env.ie?CKEDITOR.tools.setTimeout(function(){c.markFirstDisplayed?c.markFirstDisplayed():c._.markFirstDisplayed()},0):c.markFirstDisplayed?c.markFirstDisplayed():c._.markFirstDisplayed(),this._.editor.fire("panelShow",this)},0,this)},CKEDITOR.env.air?200:0,this),this.visible=1,this.onShow&&this.onShow.call(this)},reposition:function(){var t=this._.showBlockParams;this.visible&&this._.showBlockParams&&(this.hide(),this.showBlock.apply(this,t))},focus:function(){if(CKEDITOR.env.webkit){var t=CKEDITOR.document.getActive();t&&!t.equals(this._.iframe)&&t.$.blur()}(this._.lastFocused||this._.iframe.getFrameDocument().getWindow()).focus()},blur:function(){var t=this._.iframe.getFrameDocument().getActive();t&&t.is("a")&&(this._.lastFocused=t)},hide:function(t){!this.visible||this.onHide&&!0===this.onHide.call(this)||(this.hideChild(),CKEDITOR.env.gecko&&this._.iframe.getFrameDocument().$.activeElement.blur(),this.element.setStyle("display","none"),this.visible=0,this.element.getFirst().removeCustomData("activePanel"),(t=t&&this._.returnFocus)&&(CKEDITOR.env.webkit&&t.type&&t.getWindow().$.focus(),t.focus()),delete this._.lastFocused,this._.showBlockParams=null,this._.editor.fire("panelHide",this))},allowBlur:function(t){var e=this._.panel;return void 0!==t&&(e.allowBlur=t),e.allowBlur},showAsChild:function(t,e,n,i,o,a){this._.activeChild==t&&t._.panel._.offsetParentId==n.getId()||(this.hideChild(),t.onHide=CKEDITOR.tools.bind(function(){CKEDITOR.tools.setTimeout(function(){this._.focused||this.hide()},0,this)},this),this._.activeChild=t,this._.focused=!1,t.showBlock(e,n,i,o,a),this.blur(),(CKEDITOR.env.ie7Compat||CKEDITOR.env.ie6Compat)&&setTimeout(function(){t.element.getChild(0).$.style.cssText+=""},100))},hideChild:function(t){var e=this._.activeChild;e&&(delete e.onHide,delete this._.activeChild,e.hide(),t&&this.focus())}}}),CKEDITOR.on("instanceDestroyed",function(){var t,e=CKEDITOR.tools.isEmpty(CKEDITOR.instances);for(t in r){var n=r[t];e?n.destroy():n.element.hide()}e&&(r={})})}(),CKEDITOR.plugins.add("colorbutton",{requires:"panelbutton,floatpanel",init:function(f){function t(t,a,e,n,i){var r,o=new CKEDITOR.style(m["colorButton_"+a+"Style"]),s=CKEDITOR.tools.getNextId()+"_colorBox";i=i||{},f.ui.add(t,CKEDITOR.UI_PANELBUTTON,{label:e,title:e,modes:{wysiwyg:1},editorFocus:0,toolbar:"colors,"+n,allowedContent:o,requiredContent:o,contentTransformations:i.contentTransformations,panel:{css:CKEDITOR.skin.getPath("editor"),attributes:{role:"listbox","aria-label":g.panelTitle}},onBlock:function(t,e){(r=e).autoSize=!0,e.element.addClass("cke_colorblock"),e.element.setHtml(l(t,a,s)),e.element.getDocument().getBody().setStyle("overflow","hidden"),CKEDITOR.ui.fire("ready",this);var n=e.keys,i="rtl"==f.lang.dir;n[i?37:39]="next",n[40]="next",n[9]="next",n[i?39:37]="prev",n[38]="prev",n[CKEDITOR.SHIFT+9]="prev",n[32]="click"},refresh:function(){f.activeFilter.check(o)||this.setState(CKEDITOR.TRISTATE_DISABLED)},onOpen:function(){var t=(n=f.getSelection())&&n.getStartElement(),e=f.elementPath(t);if(e){for(t=e.block||e.blockLimit||f.document.getBody();e=t&&t.getComputedStyle("back"==a?"background-color":"color")||"transparent","back"==a&&"transparent"==e&&t&&(t=t.getParent()););if(e&&"transparent"!=e||(e="#ffffff"),!1!==m.colorButton_enableAutomatic&&this._.panel._.iframe.getFrameDocument().getById(s).setStyle("background-color",e),t=n&&n.getRanges()[0]){var n=new CKEDITOR.dom.walker(t),i=t.collapsed?t.startContainer:n.next();for(t="";i;){if(i.type===CKEDITOR.NODE_TEXT&&(i=i.getParent()),i=c(i.getComputedStyle("back"==a?"background-color":"color")),(t=t||i)!==i){t="";break}i=n.next()}for(n=t,t=r._.getItems(),i=0;i<t.count();i++){var o=t.getItem(i);o.removeAttribute("aria-selected"),n&&n==c(o.getAttribute("data-value"))&&o.setAttribute("aria-selected",!0)}}return e}}})}function l(o,t,e){var n=[],i=m.colorButton_colors.split(","),a=m.colorButton_colorsPerRow||6,r=f.plugins.colordialog&&!1!==m.colorButton_enableMore,s=i.length+(r?2:1),l=CKEDITOR.tools.addFunction(function h(t,e){function n(t){this.removeListener("ok",n),this.removeListener("cancel",n),"ok"==t.name&&h(this.getContentElement("picker","selectedColor").getValue(),e)}if("?"==t)f.openDialog("colordialog",function(){this.on("ok",n),this.on("cancel",n)});else{if(f.focus(),o.hide(),f.fire("saveSnapshot"),f.removeStyle(new CKEDITOR.style(m["colorButton_"+e+"Style"],{color:"inherit"})),t){var i=m["colorButton_"+e+"Style"];i.childRule="back"==e?function(t){return p(t)}:function(t){return!(t.is("a")||t.getElementsByTag("a").count())||p(t)},f.applyStyle(new CKEDITOR.style(i,{color:t}))}f.fire("saveSnapshot")}});for(!1!==m.colorButton_enableAutomatic&&n.push(
'<a class="cke_colorauto" _cke_focus=1 hidefocus=true title="',g.auto,'" onclick="CKEDITOR.tools.callFunction(',l,",null,'",t,"');return false;\" href=\"javascript:void('",g.auto,'\')" role="option" aria-posinset="1" aria-setsize="',s,'"><table role="presentation" cellspacing=0 cellpadding=0 width="100%"><tr><td colspan="'+a+'" align="center"><span class="cke_colorbox" id="',e,'"></span>',g.auto,"</td></tr></table></a>"),n.push('<table role="presentation" cellspacing=0 cellpadding=0 width="100%">'),e=0;e<i.length;e++){0==e%a&&n.push("</tr><tr>");var c=i[e].split("/"),d=c[0],u=c[1]||d;c[1]||(d="#"+d.replace(/^(.)(.)(.)$/,"$1$1$2$2$3$3")),c=f.lang.colorbutton.colors[u]||u,n.push('<td><a class="cke_colorbox" _cke_focus=1 hidefocus=true title="',c,'" onclick="CKEDITOR.tools.callFunction(',l,",'",d,"','",t,"'); return false;\" href=\"javascript:void('",c,'\')" data-value="'+u+'" role="option" aria-posinset="',e+2,'" aria-setsize="',s,'"><span class="cke_colorbox" style="background-color:#',u,'"></span></a></td>')}return r&&n.push('</tr><tr><td colspan="'+a+'" align="center"><a class="cke_colormore" _cke_focus=1 hidefocus=true title="',g.more,'" onclick="CKEDITOR.tools.callFunction(',l,",'?','",t,"');return false;\" href=\"javascript:void('",g.more,"')\"",' role="option" aria-posinset="',s,'" aria-setsize="',s,'">',g.more,"</a></td>"),n.push("</tr></table>"),n.join("")}function p(t){return"false"==t.getAttribute("contentEditable")||t.getAttribute("data-nostyle")}function c(t){return CKEDITOR.tools.convertRgbToHex(t||"").replace(/#/,"").toLowerCase()}var m=f.config,g=f.lang.colorbutton;if(!CKEDITOR.env.hc){t("TextColor","fore",g.textColorTitle,10,{contentTransformations:[[{element:"font",check:"span{color}",left:function(t){return!!t.attributes.color},right:function(t){t.name="span",t.attributes.color&&(t.styles.color=t.attributes.color),delete t.attributes.color}}]]});var e={},n=f.config.colorButton_normalizeBackground;(void 0===n||n)&&(e.contentTransformations=[[{element:"span",left:function(t){var e=CKEDITOR.tools;return!("span"!=t.name||!t.styles||!t.styles.background)&&((t=e.style.parse.background(t.styles.background)).color&&1===e.objectKeys(t).length)},right:function(t){var e=new CKEDITOR.style(f.config.colorButton_backStyle,{color:t.styles.background}).getDefinition();return t.name=e.element,t.styles=e.styles,t.attributes=e.attributes||{},t}}]]),t("BGColor","back",g.bgColorTitle,20,e)}}}),CKEDITOR.config.colorButton_colors="1ABC9C,2ECC71,3498DB,9B59B6,4E5F70,F1C40F,16A085,27AE60,2980B9,8E44AD,2C3E50,F39C12,E67E22,E74C3C,ECF0F1,95A5A6,DDD,FFF,D35400,C0392B,BDC3C7,7F8C8D,999,000",CKEDITOR.config.colorButton_foreStyle={element:"span",styles:{color:"#(color)"},overrides:[{element:"font",attributes:{color:null}}]},CKEDITOR.config.colorButton_backStyle={element:"span",styles:{"background-color":"#(color)"}},CKEDITOR.plugins.colordialog={requires:"dialog",init:function(t){var e=new CKEDITOR.dialogCommand("colordialog");e.editorFocus=!1,t.addCommand("colordialog",e),CKEDITOR.dialog.add("colordialog",this.path+"dialogs/colordialog.js"),t.getColorFromDialog=function(e,n){var i=function(t){this.removeListener("ok",i),this.removeListener("cancel",i),t="ok"==t.name?this.getValueOf("picker","selectedColor"):null,e.call(n,t)},o=function(t){t.on("ok",i),t.on("cancel",i)};t.execCommand("colordialog"),t._.storedDialogs&&t._.storedDialogs.colordialog?o(t._.storedDialogs.colordialog):CKEDITOR.on("dialogDefinition",function(t){if("colordialog"==t.data.name){var e=t.data.definition;t.removeListener(),e.onLoad=CKEDITOR.tools.override(e.onLoad,function(t){return function(){o(this),"function"==typeof(e.onLoad=t)&&t.call(this)}})}})}}},CKEDITOR.plugins.add("colordialog",CKEDITOR.plugins.colordialog),function(){CKEDITOR.plugins.add("templates",{requires:"dialog",init:function(t){CKEDITOR.dialog.add("templates",CKEDITOR.getUrl(this.path+"dialogs/templates.js")),t.addCommand("templates",new CKEDITOR.dialogCommand("templates")),t.ui.addButton&&t.ui.addButton("Templates",{label:t.lang.templates.button,command:"templates",toolbar:"doctools,10"})}});var n={},a={};CKEDITOR.addTemplates=function(t,e){n[t]=e},CKEDITOR.getTemplates=function(t){return n[t]},CKEDITOR.loadTemplates=function(t,e){for(var n=[],i=0,o=t.length;i<o;i++)a[t[i]]||(n.push(t[i]),a[t[i]]=1);n.length?CKEDITOR.scriptLoader.load(n,e):setTimeout(e,0)}}(),CKEDITOR.config.templates_files=[CKEDITOR.getUrl("plugins/templates/templates/default.js")],CKEDITOR.config.templates_replaceContent=!0,CKEDITOR.plugins.add("menu",{requires:"floatpanel",beforeInit:function(t){for(var e=t.config.menu_groups.split(","),n=t._.menuGroups={},i=t._.menuItems={},o=0;o<e.length;o++)n[e[o]]=o+1;t.addMenuGroup=function(t,e){n[t]=e||100},t.addMenuItem=function(t,e){n[e.group]&&(i[t]=new CKEDITOR.menuItem(this,t,e))},t.addMenuItems=function(t){for(var e in t)this.addMenuItem(e,t[e])},t.getMenuItem=function(t){return i[t]},t.removeMenuItem=function(t){delete i[t]}}}),function(){function f(t){t.sort(function(t,e){return t.group<e.group?-1:t.group>e.group?1:t.order<e.order?-1:t.order>e.order?1:0})}var t='<span class="cke_menuitem"><a id="{id}" class="cke_menubutton cke_menubutton__{name} cke_menubutton_{state} {cls}" href="{href}" title="{title}" tabindex="-1" _cke_focus=1 hidefocus="true" role="{role}" aria-label="{label}" aria-describedby="{id}_description" aria-haspopup="{hasPopup}" aria-disabled="{disabled}" {ariaChecked} draggable="false"';CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(t+=' onkeypress="return false;"'),CKEDITOR.env.gecko&&(t+=' onblur="this.style.cssText = this.style.cssText;" ondragstart="return false;"');t=t+' onmouseover="CKEDITOR.tools.callFunction({hoverFn},{index});" onmouseout="CKEDITOR.tools.callFunction({moveOutFn},{index});" '+(CKEDITOR.env.ie?'onclick="return false;" onmouseup':"onclick")+'="CKEDITOR.tools.callFunction({clickFn},{index}); return false;">';var p=CKEDITOR.addTemplate("menuItem",t+'<span class="cke_menubutton_inner"><span class="cke_menubutton_icon"><span class="cke_button_icon cke_button__{iconName}_icon" style="{iconStyle}"></span></span><span class="cke_menubutton_label">{label}</span>{shortcutHtml}{arrowHtml}</span></a><span id="{id}_description" class="cke_voice_label" aria-hidden="false">{ariaShortcut}</span></span>'),m=CKEDITOR.addTemplate("menuArrow",'<span class="cke_menuarrow"><span>{label}</span></span>'),g=CKEDITOR.addTemplate("menuShortcut",'<span class="cke_menubutton_label cke_menubutton_shortcut">{shortcut}</span>');CKEDITOR.menu=CKEDITOR.tools.createClass({$:function(t,e){e=this._.definition=e||{},this.id=CKEDITOR.tools.getNextId(),this.editor=t,this.items=[],this._.listeners=[],this._.level=e.level||1;var n=CKEDITOR.tools.extend({},e.panel,{css:[CKEDITOR.skin.getPath("editor")],level:this._.level-1,block:{}}),i=n.block.attributes=n.attributes||{};!i.role&&(i.role="menu"),this._.panelDefinition=n},_:{onShow:function(){var t=this.editor.getSelection(),e=t&&t.getStartElement(),n=this.editor.elementPath(),i=this._.listeners;this.removeAll();for(var o=0;o<i.length;o++){var a=i[o](e,t,n);if(a)for(var r in a){var s=this.editor.getMenuItem(r);!s||s.command&&!this.editor.getCommand(s.command).state||(s.state=a[r],this.add(s))}}},onClick:function(t){this.hide(),t.onClick?t.onClick():t.command&&this.editor.execCommand(t.command)},onEscape:function(t){var e=this.parent;return e?e._.panel.hideChild(1):27==t&&this.hide(1),!1},onHide:function(){this.onHide&&this.onHide()},showSubMenu:function(t){var e=this._.subMenu,n=this.items[t];if(n=n.getItems&&n.getItems()){for(var i in e?e.removeAll():((e=this._.subMenu=new CKEDITOR.menu(this.editor,CKEDITOR.tools.extend({},this._.definition,{level:this._.level+1},!0))).parent=this,e._.onClick=CKEDITOR.tools.bind(this._.onClick,this)),n){var o=this.editor.getMenuItem(i);o&&(o.state=n[i],e.add(o))}var a=this._.panel.getBlock(this.id).element.getDocument().getById(this.id+String(t));setTimeout(function(){e.show(a,2)},0)}else this._.panel.hideChild(1)}},proto:{add:function(t){t.order||(t.order=this.items.length),this.items.push(t)},removeAll:function(){this.items=[]},show:function(t,e,n,i){if(this.parent||(this._.onShow(),this.items.length)){e=e||("rtl"==this.editor.lang.dir?2:1);var o=this.items,a=this.editor,r=this._.panel,s=this._.element;if(!r)(r=this._.panel=new CKEDITOR.ui.floatPanel(this.editor,CKEDITOR.document.getBody(),this._.panelDefinition,this._.level)).onEscape=CKEDITOR.tools.bind(function(t){if(!1===this._.onEscape(t))return!1},this),r.onShow=function(){r._.panel.getHolderElement().getParent().addClass("cke").addClass("cke_reset_all")},r.onHide=CKEDITOR.tools.bind(function(){this._.onHide&&this._.onHide()},this),(s=r.addBlock(this.id,this._.panelDefinition.block)).autoSize=!0,(l=s.keys)[40]="next",l[9]="next",l[38]="prev",l[CKEDITOR.SHIFT+9]="prev",l["rtl"==a.lang.dir?37:39]=CKEDITOR.env.ie?"mouseup":"click",l[32]=CKEDITOR.env.ie?"mouseup":"click",CKEDITOR.env.ie&&(l[13]="mouseup"),(l=(s=this._.element=s.element).getDocument()).getBody().setStyle("overflow","hidden"),l.getElementsByTag("html").getItem(0).setStyle("overflow","hidden"),this._.itemOverFn=CKEDITOR.tools.addFunction(function(t){clearTimeout(this._.showSubTimeout),this._.showSubTimeout=CKEDITOR.tools.setTimeout(this._.showSubMenu,a.config.menu_subMenuDelay||400,this,[t])},this),this._.itemOutFn=CKEDITOR.tools.addFunction(function(){clearTimeout(this._.showSubTimeout)},this),this._.itemClickFn=CKEDITOR.tools.addFunction(function(t){var e=this.items[t];e.state==CKEDITOR.TRISTATE_DISABLED?this.hide(1):e.getItems?this._.showSubMenu(t):this._.onClick(e)},this);f(o);for(var l=['<div class="cke_menu'+((l=a.elementPath())&&l.direction()!=a.lang.dir?" cke_mixed_dir_content":"")+'" role="presentation">'],c=o.length,d=c&&o[0].group,u=0;u<c;u++){var h=o[u];d!=h.group&&(l.push('<div class="cke_menuseparator" role="separator"></div>'),d=h.group),h.render(this,u,l)}l.push("</div>"),s.setHtml(l.join("")),CKEDITOR.ui.fire("ready",this),this.parent?this.parent._.panel.showAsChild(r,this.id,t,e,n,i):r.showBlock(this.id,t,e,n,i),a.fire("menuShow",[r])}},addListener:function(t){this._.listeners.push(t)},hide:function(t){this._.onHide&&this._.onHide(),this._.panel&&this._.panel.hide(t)}}}),CKEDITOR.menuItem=CKEDITOR.tools.createClass({$:function(t,e,n){CKEDITOR.tools.extend(this,n,{order:0,className:"cke_menubutton__"+e}),this.group=t._.menuGroups[this.group],this.editor=t,this.name=e},proto:{render:function(t,e,n){var i,o,a=t.id+String(e),r="undefined"==typeof this.state?CKEDITOR.TRISTATE_OFF:this.state,s="",l=this.editor,c=r==CKEDITOR.TRISTATE_ON?"on":r==CKEDITOR.TRISTATE_DISABLED?"disabled":"off";this.role in{menuitemcheckbox:1,menuitemradio:1}&&(s=' aria-checked="'+(r==CKEDITOR.TRISTATE_ON?"true":"false")+'"');var d=this.getItems,u="&#"+("rtl"==this.editor.lang.dir?"9668":"9658")+";",h=this.name;this.icon&&!/\./.test(this.icon)&&(h=this.icon),this.command&&(i=l.getCommand(this.command),(i=l.getCommandKeystroke(i))&&(o=CKEDITOR.tools.keystrokeToString(l.lang.common.keyboard,i))),t={id:a,name:this.name,iconName:h,label:this.label,cls:this.className||"",state:c,hasPopup:d?"true":"false",disabled:r==CKEDITOR.TRISTATE_DISABLED,title:this.label+(o?" ("+o.display+")":""),ariaShortcut:o?l.lang.common.keyboardShortcut+" "+o.aria:"",href:"javascript:void('"+(this.label||"").replace("'")+"')",hoverFn:t._.itemOverFn,moveOutFn:t._.itemOutFn,clickFn:t._.itemClickFn,index:e,iconStyle:CKEDITOR.skin.getIconStyle(h,"rtl"==this.editor.lang.dir,h==this.icon?null:this.icon,this.iconOffset),shortcutHtml:o?g.output({shortcut:o.display}):"",arrowHtml:d?m.output({label:u}):"",role:this.role?this.role:"menuitem",ariaChecked:s},p.output(t,n)}}})}(),CKEDITOR.config.menu_groups="clipboard,form,tablecell,tablecellproperties,tablerow,tablecolumn,table,anchor,link,image,flash,checkbox,radio,textfield,hiddenfield,imagebutton,button,select,textarea,div",CKEDITOR.plugins.add("contextmenu",{requires:"menu",onLoad:function(){CKEDITOR.plugins.contextMenu=CKEDITOR.tools.createClass({base:CKEDITOR.menu,$:function(t){this.base.call(this,t,{panel:{className:"cke_menu_panel",attributes:{"aria-label":t.lang.contextmenu.options}}})},proto:{addTarget:function(t,r){if(t.on("contextmenu",function(t){t=t.data;var e=CKEDITOR.env.webkit?s:CKEDITOR.env.mac?t.$.metaKey:t.$.ctrlKey;if(!r||!e){if(t.preventDefault(),CKEDITOR.env.mac&&CKEDITOR.env.webkit){e=this.editor;(n=new CKEDITOR.dom.elementPath(t.getTarget(),e.editable()).contains(function(t){return t.hasAttribute("contenteditable")},!0))&&"false"==n.getAttribute("contenteditable")&&e.getSelection().fake(n)}var n=t.getTarget().getDocument(),i=t.getTarget().getDocument().getDocumentElement(),o=(e=!n.equals(CKEDITOR.document),n=n.getWindow().getScrollPosition(),e?t.$.clientX:t.$.pageX||n.x+t.$.clientX),a=e?t.$.clientY:t.$.pageY||n.y+t.$.clientY;CKEDITOR.tools.setTimeout(function(){this.open(i,null,o,a)},CKEDITOR.env.ie?200:0,this)}},this),CKEDITOR.env.webkit){var s,e=function(){s=0};t.on("keydown",function(t){s=CKEDITOR.env.mac?t.data.$.metaKey:t.data.$.ctrlKey}),t.on("keyup",e),t.on("contextmenu",e)}},open:function(t,e,n,i){!1!==this.editor.config.enableContextMenu&&(this.editor.focus(),t=t||CKEDITOR.document.getDocumentElement(),this.editor.selectionChange(1),this.show(t,e,n,i))}}})},beforeInit:function(t){var e=t.contextMenu=new CKEDITOR.plugins.contextMenu(t);t.on("contentDom",function(){e.addTarget(t.editable(),!1!==t.config.browserContextMenuOnCtrl)}),t.addCommand("contextMenu",{exec:function(){t.contextMenu.open(t.document.getBody())}}),t.setKeystroke(CKEDITOR.SHIFT+121,"contextMenu"),t.setKeystroke(CKEDITOR.CTRL+CKEDITOR.SHIFT+121,"contextMenu")}}),function(){function i(t){var e=(t=t.data)&&t.$;return!(!t||!e)&&(CKEDITOR.env.ie&&CKEDITOR.env.version<9?1===e.button:0===e.button)}function s(t,e,n,i){var o=new CKEDITOR.dom.walker(t);if(!(t=t.startContainer.getAscendant(e,!0)||t.endContainer.getAscendant(e,!0))||(n(t),!i))for(;(t=o.next())&&(!(t=t.getAscendant(e,!0))||(n(t),!i)););}function l(e,t){var n={ul:"ol",ol:"ul"};return-1!==h(t,function(t){return t.element===e||t.element===n[e]})}function t(t){this.styles=null,this.sticky=!1,this.editor=t,this.filter=new CKEDITOR.filter(t.config.copyFormatting_allowRules),!0===t.config.copyFormatting_allowRules&&(this.filter.disabled=!0),t.config.copyFormatting_disallowRules&&this.filter.disallow(t.config.copyFormatting_disallowRules)}var h=CKEDITOR.tools.indexOf,e=!1;CKEDITOR.plugins.add("copyformatting",{lang:"az,de,en,it,ja,nb,nl,oc,pl,pt-br,ru,sv,tr,zh,zh-cn",icons:"copyformatting",hidpi:!0,init:function(r){var s=CKEDITOR.plugins.copyformatting;s._addScreenReaderContainer(),e||(CKEDITOR.document.appendStyleSheet(this.path+"styles/copyformatting.css"),e=!0),r.addContentsCss&&r.addContentsCss(this.path+"styles/copyformatting.css"),r.copyFormatting=new s.state(r),r.addCommand("copyFormatting",s.commands.copyFormatting),r.addCommand("applyFormatting",s.commands.applyFormatting),r.ui.addButton("CopyFormatting",{label:r.lang.copyformatting.label,command:"copyFormatting",toolbar:"cleanup,0"}),r.on("contentDom",function(){var n=r.editable(),t=n.isInline()?n:r.document,e=r.ui.get("CopyFormatting");n.attachListener(t,"mouseup",function(t){i(t)&&r.execCommand("applyFormatting")}),n.attachListener(CKEDITOR.document,"mouseup",function(t){var e=r.getCommand("copyFormatting");i(t)&&e.state===CKEDITOR.TRISTATE_ON&&!n.contains(t.data.getTarget())&&r.execCommand("copyFormatting")}),e&&(t=CKEDITOR.document.getById(e._.id),n.attachListener(t,"dblclick",function(){r.execCommand("copyFormatting",{sticky:!0})}),n.attachListener(t,"mouseup",function(t){t.data.stopPropagation()}))}),r.config.copyFormatting_keystrokeCopy&&r.setKeystroke(r.config.copyFormatting_keystrokeCopy,"copyFormatting"),r.on("key",function(t){var e=r.getCommand("copyFormatting");(t=t.data.domEvent).getKeystroke&&27===t.getKeystroke()&&e.state===CKEDITOR.TRISTATE_ON&&r.execCommand("copyFormatting")}),r.copyFormatting.on("extractFormatting",function(t){var e=t.data.element;return e.contains(r.editable())||e.equals(r.editable())?t.cancel():(e=s._convertElementToStyleDef(e),r.copyFormatting.filter.check(new CKEDITOR.style(e),!0,!0)?void(t.data.styleDef=e):t.cancel())}),r.copyFormatting.on("applyFormatting",function(t){if(!t.data.preventFormatStripping){var e,n,i=t.data.range,o=s._extractStylesFromRange(r,i),a=s._determineContext(i);if(r.copyFormatting._isContextAllowed(a))for(n=0;n<o.length;n++)a=o[n],e=i.createBookmark(),-1===h(s.preservedElements,a.element)?CKEDITOR.env.webkit&&!CKEDITOR.env.chrome?o[n].removeFromRange(t.data.range,t.editor):o[n].remove(t.editor):l(a.element,t.data.styles)&&s._removeStylesFromElementInRange(i,a.element),i.moveToBookmark(e)}}),r.copyFormatting.on("applyFormatting",function(t){var e=CKEDITOR.plugins.copyformatting,n=e._determineContext(t.data.range);"list"===n&&r.copyFormatting._isContextAllowed("list")?e._applyStylesToListContext(t.editor,t.data.range,t.data.styles):"table"===n&&r.copyFormatting._isContextAllowed("table")?e._applyStylesToTableContext(t.editor,t.data.range,t.data.styles):r.copyFormatting._isContextAllowed("text")&&e._applyStylesToTextContext(t.editor,t.data.range,t.data.styles)},null,null,999)}}),t.prototype._isContextAllowed=function(t){var e=this.editor.config.copyFormatting_allowedContexts;return!0===e||-1!==h(e,t)},CKEDITOR.event.implementOn(t.prototype),CKEDITOR.plugins.copyformatting={state:t,inlineBoundary:"h1 h2 h3 h4 h5 h6 p div".split(" "),excludedAttributes:["id","style","href","data-cke-saved-href","dir"],elementsForInlineTransform:["li"],excludedElementsFromInlineTransform:["table","thead","tbody","ul","ol"],excludedAttributesFromInlineTransform:["value","type"],preservedElements:"ul ol li td th tr thead tbody table".split(" "),breakOnElements:["ul","ol","table"],_initialKeystrokePasteCommand:null,commands:{copyFormatting:{exec:function(t,e){var n=CKEDITOR.plugins.copyformatting,i=t.copyFormatting,o=!!e&&"keystrokeHandler"==e.from,a=!!e&&(e.sticky||o),r=n._getCursorContainer(t),s=CKEDITOR.document.getDocumentElement();if(this.state===CKEDITOR.TRISTATE_ON)return i.styles=null,i.sticky=!1,r.removeClass("cke_copyformatting_active"),s.removeClass("cke_copyformatting_disabled"),s.removeClass("cke_copyformatting_tableresize_cursor"),n._putScreenReaderMessage(t,"canceled"),n._detachPasteKeystrokeHandler(t),this.setState(CKEDITOR.TRISTATE_OFF);i.styles=n._extractStylesFromElement(t,t.elementPath().lastElement),this.setState(CKEDITOR.TRISTATE_ON),o||(r.addClass("cke_copyformatting_active"),s.addClass("cke_copyformatting_tableresize_cursor"),t.config.copyFormatting_outerCursor&&s.addClass("cke_copyformatting_disabled")),i.sticky=a,n._putScreenReaderMessage(t,"copied"),n._attachPasteKeystrokeHandler(t)}},applyFormatting:{editorFocus:!1,exec:function(t,e){var n=t.getCommand("copyFormatting"),i=!!e&&"keystrokeHandler"==e.from,o=CKEDITOR.plugins.copyformatting,a=t.copyFormatting,r=o._getCursorContainer(t),s=CKEDITOR.document.getDocumentElement();if(i||n.state===CKEDITOR.TRISTATE_ON){if(i&&!a.styles)return o._putScreenReaderMessage(t,"failed"),o._detachPasteKeystrokeHandler(t),!1;i=o._applyFormat(t,a.styles),a.sticky||(a.styles=null,r.removeClass("cke_copyformatting_active"),s.removeClass("cke_copyformatting_disabled"),s.removeClass("cke_copyformatting_tableresize_cursor"),n.setState(CKEDITOR.TRISTATE_OFF),o._detachPasteKeystrokeHandler(t)),o._putScreenReaderMessage(t,i?"applied":"canceled")}}}},_getCursorContainer:function(t){return t.elementMode===CKEDITOR.ELEMENT_MODE_INLINE?t.editable():t.editable().getParent()},_convertElementToStyleDef:function(t){var e=CKEDITOR.tools,n=t.getAttributes(CKEDITOR.plugins.copyformatting.excludedAttributes);e=e.parseCssText(t.getAttribute("style"),!0,!0);return{element:t.getName(),type:CKEDITOR.STYLE_INLINE,attributes:n,styles:e}},_extractStylesFromElement:function(t,e){var n={},i=[];do{if(e.type===CKEDITOR.NODE_ELEMENT&&!e.hasAttribute("data-cke-bookmark")&&(n.element=e,t.copyFormatting.fire("extractFormatting",n,t)&&n.styleDef&&i.push(new CKEDITOR.style(n.styleDef)),e.getName&&-1!==h(CKEDITOR.plugins.copyformatting.breakOnElements,e.getName())))break}while((e=e.getParent())&&e.type===CKEDITOR.NODE_ELEMENT);return i},_extractStylesFromRange:function(t,e){for(var n,i=[],o=new CKEDITOR.dom.walker(e);n=o.next();)i=i.concat(CKEDITOR.plugins.copyformatting._extractStylesFromElement(t,n));return i},_removeStylesFromElementInRange:function(t,e){for(var n,i=-1!==h(["ol","ul","table"],e),o=new CKEDITOR.dom.walker(t);(n=o.next())&&(!(n=n.getAscendant(e,!0))||(n.removeAttributes(n.getAttributes()),!i)););},_getSelectedWordOffset:function(t){function c(t,e){return t[e?"getPrevious":"getNext"](function(t){return t.type!==CKEDITOR.NODE_COMMENT})}function d(t){return t.type==CKEDITOR.NODE_ELEMENT?(t=t.getHtml().replace(/<span.*?>&nbsp;<\/span>/g,"")).replace(/<.*?>/g,""):t.getText()}function u(t,e){var n,i,o=t,a=/\s/g,r="p br ol ul li td th div caption body".split(" "),s=!1,l=!1;do{for(n=c(o,e);!n&&o.getParent();){if(o=o.getParent(),-1!==h(r,o.getName())){l=s=!0;break}n=c(o,e)}if(n&&n.getName&&-1!==h(r,n.getName())){s=!0;break}o=n}while(o&&o.getStyle&&("none"==o.getStyle("display")||!o.getText()));for(o||(o=t);o.type!==CKEDITOR.NODE_TEXT;)o=!s||e||l?o.getChild(0):o.getChild(o.getChildCount()-1);for(r=d(o);null!=(l=a.exec(r))&&(i=l.index,e););if("number"!=typeof i&&!s)return u(o,e);if(s)e?i=0:i=(l=(a=/([\.\b]*$)/).exec(r))?l.index:r.length;else if(e&&(i+=1)>r.length)return u(o);return{node:o,offset:i}}var e,n,i,o,a,r=/\b\w+\b/gi;for(e=d(i=o=a=t.startContainer);null!=(n=r.exec(e));)if(n.index+n[0].length>=t.startOffset)return t=n.index,r=n.index+n[0].length,0===n.index&&(o=(n=u(i,!0)).node,t=n.offset),r>=e.length&&(a=(e=u(i)).node,r=e.offset),{startNode:o,startOffset:t,endNode:a,endOffset:r};return null},_filterStyles:function(t){var e,n,i=CKEDITOR.tools.isEmpty,o=[];for(n=0;n<t.length;n++)e=t[n]._.definition,-1!==CKEDITOR.tools.indexOf(CKEDITOR.plugins.copyformatting.inlineBoundary,e.element)&&(e.element=t[n].element="span"),"span"===e.element&&i(e.attributes)&&i(e.styles)||o.push(t[n]);return o},_determineContext:function(i){function t(t){var e,n=new CKEDITOR.dom.walker(i);if(i.startContainer.getAscendant(t,!0)||i.endContainer.getAscendant(t,!0))return!0;for(;e=n.next();)if(e.getAscendant(t,!0))return!0}return t({ul:1,ol:1})?"list":t("table")?"table":"text"},_applyStylesToTextContext:function(t,e,n){var i,o,a=CKEDITOR.plugins.copyformatting,r=a.excludedAttributesFromInlineTransform;for(CKEDITOR.env.webkit&&!CKEDITOR.env.chrome&&t.getSelection().selectRanges([e]),i=0;i<n.length;i++)if(e=n[i],-1===h(a.excludedElementsFromInlineTransform,e.element)){if(-1!==h(a.elementsForInlineTransform,e.element))for(e.element=e._.definition.element="span",o=0;o<r.length;o++)e._.definition.attributes[r[o]]&&delete e._.definition.attributes[r[o]];e.apply(t)}},_applyStylesToListContext:function(t,e,n){var i,o,a;for(a=0;a<n.length;a++)i=n[a],o=e.createBookmark(),"ol"===i.element||"ul"===i.element?s(e,{ul:1,ol:1},function(t){var e=i;t.getName()!==e.element&&t.renameNode(e.element),e.applyToObject(t)},!0):"li"===i.element?s(e,"li",function(t){i.applyToObject(t)}):CKEDITOR.plugins.copyformatting._applyStylesToTextContext(t,e,[i]),e.moveToBookmark(o)},_applyStylesToTableContext:function(t,e,n){function i(t,e){t.getName()!==e.element&&((e=e.getDefinition()).element=t.getName(),e=new CKEDITOR.style(e)),e.applyToObject(t)}var o,a,r;for(r=0;r<n.length;r++)o=n[r],a=e.createBookmark(),-1!==h(["table","tr"],o.element)?s(e,o.element,function(t){o.applyToObject(t)}):-1!==h(["td","th"],o.element)?s(e,{td:1,th:1},function(t){i(t,o)}):-1!==h(["thead","tbody"],o.element)?s(e,{thead:1,tbody:1},function(t){i(t,o)}):CKEDITOR.plugins.copyformatting._applyStylesToTextContext(t,e,[o]),e.moveToBookmark(a)},_applyFormat:function(t,e){var n,i,o=t.getSelection().getRanges()[0],a=CKEDITOR.plugins.copyformatting;if(!o)return!1;if(o.collapsed){if(i=t.getSelection().createBookmarks(),!(n=a._getSelectedWordOffset(o)))return;(o=t.createRange()).setStart(n.startNode,n.startOffset),o.setEnd(n.endNode,n.endOffset),o.select()}return e=a._filterStyles(e),!!t.copyFormatting.fire("applyFormatting",{styles:e,range:o,preventFormatStripping:!1},t)&&(i&&t.getSelection().selectBookmarks(i),!0)},_putScreenReaderMessage:function(t,e){var n=this._getScreenReaderContainer();n&&n.setText(t.lang.copyformatting.notification[e])},_addScreenReaderContainer:function(){return this._getScreenReaderContainer()?this._getScreenReaderContainer():CKEDITOR.env.ie6Compat||CKEDITOR.env.ie7Compat?void 0:CKEDITOR.document.getBody().append(CKEDITOR.dom.element.createFromHtml('<div class="cke_screen_reader_only cke_copyformatting_notification"><div aria-live="polite"></div></div>')).getChild(0)},_getScreenReaderContainer:function(){if(!CKEDITOR.env.ie6Compat&&!CKEDITOR.env.ie7Compat)return CKEDITOR.document.getBody().findOne(".cke_copyformatting_notification div[aria-live]")},_attachPasteKeystrokeHandler:function(t){var e=t.config.copyFormatting_keystrokePaste;e&&(this._initialKeystrokePasteCommand=t.keystrokeHandler.keystrokes[e],t.setKeystroke(e,"applyFormatting"))},_detachPasteKeystrokeHandler:function(t){var e=t.config.copyFormatting_keystrokePaste;e&&t.setKeystroke(e,this._initialKeystrokePasteCommand||!1)}},CKEDITOR.config.copyFormatting_outerCursor=!0,CKEDITOR.config.copyFormatting_allowRules="b s u i em strong span p div td th ol ul li(*)[*]{*}",CKEDITOR.config.copyFormatting_disallowRules="*[data-cke-widget*,data-widget*,data-cke-realelement](cke_widget*)",CKEDITOR.config.copyFormatting_allowedContexts=!0,CKEDITOR.config.copyFormatting_keystrokeCopy=CKEDITOR.CTRL+CKEDITOR.SHIFT+67,CKEDITOR.config.copyFormatting_keystrokePaste=CKEDITOR.CTRL+CKEDITOR.SHIFT+86}(),CKEDITOR.plugins.add("div",{requires:"dialog",init:function(e){if(!e.blockless){var t=e.lang.div,n="div(*)";CKEDITOR.dialog.isTabEnabled(e,"editdiv","advanced")&&(n+=";div[dir,id,lang,title]{*}"),e.addCommand("creatediv",new CKEDITOR.dialogCommand("creatediv",{allowedContent:n,requiredContent:"div",contextSensitive:!0,contentTransformations:[["div: alignmentToStyle"]],refresh:function(t,e){this.setState("div"in(t.config.div_wrapTable?e.root:e.blockLimit).getDtd()?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED)}})),e.addCommand("editdiv",new CKEDITOR.dialogCommand("editdiv",{requiredContent:"div"})),e.addCommand("removediv",{requiredContent:"div",exec:function(e){function t(t){(t=CKEDITOR.plugins.div.getSurroundDiv(e,t))&&!t.data("cke-div-added")&&(r.push(t),t.data("cke-div-added"))}for(var n,i=e.getSelection(),o=i&&i.getRanges(),a=i.createBookmarks(),r=[],s=0;s<o.length;s++)(n=o[s]).collapsed?t(i.getStartElement()):((n=new CKEDITOR.dom.walker(n)).evaluator=t,n.lastForward());for(s=0;s<r.length;s++)r[s].remove(!0);i.selectBookmarks(a)}}),e.ui.addButton&&e.ui.addButton("CreateDiv",{label:t.toolbar,command:"creatediv",toolbar:"blocks,50"}),e.addMenuItems&&(e.addMenuItems({editdiv:{label:t.edit,command:"editdiv",group:"div",order:1},removediv:{label:t.remove,command:"removediv",group:"div",order:5}}),e.contextMenu&&e.contextMenu.addListener(function(t){return!t||t.isReadOnly()?null:CKEDITOR.plugins.div.getSurroundDiv(e)?{editdiv:CKEDITOR.TRISTATE_OFF,removediv:CKEDITOR.TRISTATE_OFF}:null})),CKEDITOR.dialog.add("creatediv",this.path+"dialogs/div.js"),CKEDITOR.dialog.add("editdiv",this.path+"dialogs/div.js")}}}),CKEDITOR.plugins.div={getSurroundDiv:function(t,e){var n=t.elementPath(e);return t.elementPath(n.blockLimit).contains(function(t){return t.is("div")&&!t.isReadOnly()},1)}},CKEDITOR.plugins.add("resize",{init:function(o){function e(t){var e=l.width,n=l.height,i=e+(t.data.$.screenX-s.x)*("rtl"==r?-1:1);t=n+(t.data.$.screenY-s.y),d&&(e=Math.max(a.resize_minWidth,Math.min(i,a.resize_maxWidth))),u&&(n=Math.max(a.resize_minHeight,Math.min(t,a.resize_maxHeight))),o.resize(d?e:null,n)}function n(){CKEDITOR.document.removeListener("mousemove",e),CKEDITOR.document.removeListener("mouseup",n),o.document&&(o.document.removeListener("mousemove",e),o.document.removeListener("mouseup",n))}var a=o.config,i=o.ui.spaceId("resizer"),r=o.element?o.element.getDirection(1):"ltr";if(!a.resize_dir&&(a.resize_dir="vertical"),void 0===a.resize_maxWidth&&(a.resize_maxWidth=3e3),void 0===a.resize_maxHeight&&(a.resize_maxHeight=3e3),void 0===a.resize_minWidth&&(a.resize_minWidth=750),void 0===a.resize_minHeight&&(a.resize_minHeight=250),!1!==a.resize_enabled){var s,l,c=null,d=("both"==a.resize_dir||"horizontal"==a.resize_dir)&&a.resize_minWidth!=a.resize_maxWidth,u=("both"==a.resize_dir||"vertical"==a.resize_dir)&&a.resize_minHeight!=a.resize_maxHeight,h=CKEDITOR.tools.addFunction(function(t){c||(c=o.getResizable()),l={width:c.$.offsetWidth||0,height:c.$.offsetHeight||0},s={x:t.screenX,y:t.screenY},a.resize_minWidth>l.width&&(a.resize_minWidth=l.width),a.resize_minHeight>l.height&&(a.resize_minHeight=l.height),CKEDITOR.document.on("mousemove",e),CKEDITOR.document.on("mouseup",n),o.document&&(o.document.on("mousemove",e),o.document.on("mouseup",n)),t.preventDefault&&t.preventDefault()});o.on("destroy",function(){CKEDITOR.tools.removeFunction(h)}),o.on("uiSpace",function(t){if("bottom"==t.data.space){var e="";d&&!u&&(e=" cke_resizer_horizontal"),!d&&u&&(e=" cke_resizer_vertical");var n='<span id="'+i+'" class="cke_resizer'+e+" cke_resizer_"+r+'" title="'+CKEDITOR.tools.htmlEncode(o.lang.common.resize)+'" onmousedown="CKEDITOR.tools.callFunction('+h+', event)">'+("ltr"==r?"\u25e2":"\u25e3")+"</span>";"ltr"==r&&"ltr"==e?t.data.html+=n:t.data.html=n+t.data.html}},o,null,100),o.on("maximize",function(t){o.ui.space("resizer")[t.data==CKEDITOR.TRISTATE_ON?"hide":"show"]()})}}}),function(){function n(h,t){function o(t){var e;(t=m.list[t]).equals(h.editable())||"true"==t.getAttribute("contenteditable")?((e=h.createRange()).selectNodeContents(t),e=e.select()):(e=h.getSelection()).selectElement(t),CKEDITOR.env.ie&&h.fire("selectionChange",{selection:e,path:new CKEDITOR.dom.elementPath(t)}),h.focus()}function e(){f&&f.setHtml('<span class="cke_path_empty">&nbsp;</span>'),delete m.list}var f,p=h.ui.spaceId("path"),m=h._.elementsPath,g=m.idBase;t.html+='<span id="'+p+'_label" class="cke_voice_label">'+h.lang.elementspath.eleLabel+'</span><span id="'+p+'" class="cke_path" role="group" aria-labelledby="'+p+'_label"><span class="cke_path_empty">&nbsp;</span></span>',h.on("uiReady",function(){var t=h.ui.space("path");t&&h.focusManager.add(t,1)}),m.onClick=o;var v=CKEDITOR.tools.addFunction(o),E=CKEDITOR.tools.addFunction(function(t,e){var n,i=m.idBase;switch(e=new CKEDITOR.dom.event(e),n="rtl"==h.lang.dir,e.getKeystroke()){case n?39:37:case 9:return(n=CKEDITOR.document.getById(i+(t+1)))||(n=CKEDITOR.document.getById(i+"0")),n.focus(),!1;case n?37:39:case CKEDITOR.SHIFT+9:return(n=CKEDITOR.document.getById(i+(t-1)))||(n=CKEDITOR.document.getById(i+(m.list.length-1))),n.focus(),!1;case 27:return h.focus(),!1;case 13:case 32:return o(t),!1}return!0});h.on("selectionChange",function(){for(var t,e=[],n=m.list=[],i=[],o=m.filters,a=!0,r=h.elementPath().elements,s=r.length;s--;){var l=r[s],c=0;t=l.data("cke-display-name")?l.data("cke-display-name"):l.data("cke-real-element-type")?l.data("cke-real-element-type"):l.getName(),(a=l.hasAttribute("contenteditable")?"true"==l.getAttribute("contenteditable"):a)||l.hasAttribute("contenteditable")||(c=1);for(var d=0;d<o.length;d++){var u=o[d](l,t);if(!1===u){c=1;break}t=u||t}c||(n.unshift(l),i.unshift(t))}for(n=n.length,o=0;o<n;o++)t=i[o],a=h.lang.elementspath.eleTitle.replace(/%1/,t),t=T.output({id:g+o,label:a,text:t,jsTitle:"javascript:void('"+t+"')",index:o,keyDownFn:E,clickFn:v}),e.unshift(t);f||(f=CKEDITOR.document.getById(p)),(i=f).setHtml(e.join("")+'<span class="cke_path_empty">&nbsp;</span>'),h.fire("elementsPathUpdate",{space:i})}),h.on("readOnly",e),h.on("contentDomUnload",e),h.addCommand("elementsPathFocus",i.toolbarFocus),h.setKeystroke(CKEDITOR.ALT+122,"elementsPathFocus")}var i={toolbarFocus:{editorFocus:!1,readOnly:1,exec:function(t){(t=CKEDITOR.document.getById(t._.elementsPath.idBase+"0"))&&t.focus(CKEDITOR.env.ie||CKEDITOR.env.air)}}},t="";CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(t+=' onkeypress="return false;"'),CKEDITOR.env.gecko&&(t+=' onblur="this.style.cssText = this.style.cssText;"');var T=CKEDITOR.addTemplate("pathItem",'<a id="{id}" href="{jsTitle}" tabindex="-1" class="cke_path_item" title="{label}"'+t+' hidefocus="true"  onkeydown="return CKEDITOR.tools.callFunction({keyDownFn},{index}, event );" onclick="CKEDITOR.tools.callFunction({clickFn},{index}); return false;" role="button" aria-label="{label}">{text}</a>');CKEDITOR.plugins.add("elementspath",{init:function(e){e._.elementsPath={idBase:"cke_elementspath_"+CKEDITOR.tools.getNextNumber(
)+"_",filters:[]},e.on("uiSpace",function(t){"bottom"==t.data.space&&n(e,t.data)})}})}(),function(){function e(t,e,n){if(n=t.config.forceEnterMode||n,"wysiwyg"==t.mode){e||(e=t.activeEnterMode);var i=t.elementPath();i&&!i.isContextFor("p")&&(e=CKEDITOR.ENTER_BR,n=1),t.fire("saveSnapshot"),e==CKEDITOR.ENTER_BR?T(t,e,null,n):c(t,e,null,n),t.fire("saveSnapshot")}}function m(t){for(var e=(t=t.getSelection().getRanges(!0)).length-1;0<e;e--)t[e].deleteContents();return t[0]}function g(t){var e=t.startContainer.getAscendant(function(t){return t.type==CKEDITOR.NODE_ELEMENT&&"true"==t.getAttribute("contenteditable")},!0);return t.root.equals(e)?t:((e=new CKEDITOR.dom.range(e)).moveToRange(t),e)}CKEDITOR.plugins.add("enterkey",{init:function(t){t.addCommand("enter",{modes:{wysiwyg:1},editorFocus:!1,exec:function(t){e(t)}}),t.addCommand("shiftEnter",{modes:{wysiwyg:1},editorFocus:!1,exec:function(t){e(t,t.activeShiftEnterMode,1)}}),t.setKeystroke([[13,"enter"],[CKEDITOR.SHIFT+13,"shiftEnter"]])}});var v=CKEDITOR.dom.walker.whitespaces(),E=CKEDITOR.dom.walker.bookmark();CKEDITOR.plugins.enterkey={enterBlock:function(t,e,n,i){if(n=n||m(t)){var o,a=(n=g(n)).document,r=n.checkStartOfBlock(),s=n.checkEndOfBlock(),l=t.elementPath(n.startContainer),c=l.block,d=e==CKEDITOR.ENTER_DIV?"div":"p";if(r&&s){if(c&&(c.is("li")||c.getParent().is("li"))){c.is("li")||(c=c.getParent()),o=(n=c.getParent()).getParent(),i=!c.hasPrevious();var u=!c.hasNext(),h=(d=t.getSelection()).createBookmarks(),f=(r=c.getDirection(1),s=c.getAttribute("class"),c.getAttribute("style")),p=o.getDirection(1)!=r;if(t=t.enterMode!=CKEDITOR.ENTER_BR||p||f||s,o.is("li"))i||u?(i&&u&&n.remove(),c[u?"insertAfter":"insertBefore"](o)):c.breakParent(o);else{if(t)l.block.is("li")?(o=a.createElement(e==CKEDITOR.ENTER_P?"p":"div"),p&&o.setAttribute("dir",r),f&&o.setAttribute("style",f),s&&o.setAttribute("class",s),c.moveChildren(o)):o=l.block,i||u?o[i?"insertBefore":"insertAfter"](n):(c.breakParent(n),o.insertAfter(n));else if(c.appendBogus(!0),i||u)for(;a=c[i?"getFirst":"getLast"]();)a[i?"insertBefore":"insertAfter"](n);else for(c.breakParent(n);a=c.getLast();)a.insertAfter(n);c.remove()}return void d.selectBookmarks(h)}if(c&&c.getParent().is("blockquote"))return c.breakParent(c.getParent()),c.getPrevious().getFirst(CKEDITOR.dom.walker.invisible(1))||c.getPrevious().remove(),c.getNext().getFirst(CKEDITOR.dom.walker.invisible(1))||c.getNext().remove(),n.moveToElementEditStart(c),void n.select()}else if(c&&c.is("pre")&&!s)return void T(t,e,n,i);if(r=n.splitBlock(d)){if(e=r.previousBlock,c=r.nextBlock,l=r.wasStartOfBlock,t=r.wasEndOfBlock,c?(h=c.getParent()).is("li")&&(c.breakParent(h),c.move(c.getNext(),1)):e&&(h=e.getParent())&&h.is("li")&&(e.breakParent(h),h=e.getNext(),n.moveToElementEditStart(h),e.move(e.getPrevious())),l||t){if(e?(e.is("li")||!b.test(e.getName())&&!e.is("pre"))&&(o=e.clone()):c&&(o=c.clone()),o?i&&!o.is("li")&&o.renameNode(d):h&&h.is("li")?o=h:(o=a.createElement(d),e&&(u=e.getDirection())&&o.setAttribute("dir",u)),a=r.elementPath)for(i=0,d=a.elements.length;i<d&&(!(h=a.elements[i]).equals(a.block)&&!h.equals(a.blockLimit));i++)CKEDITOR.dtd.$removeEmpty[h.getName()]&&(h=h.clone(),o.moveChildren(h),o.append(h));o.appendBogus(),o.getParent()||n.insertNode(o),o.is("li")&&o.removeAttribute("value"),!CKEDITOR.env.ie||!l||t&&e.getChildCount()||(n.moveToElementEditStart(t?e:o),n.select()),n.moveToElementEditStart(l&&!t?c:o)}else c.is("li")&&((o=n.clone()).selectNodeContents(c),(o=new CKEDITOR.dom.walker(o)).evaluator=function(t){return!(E(t)||v(t)||t.type==CKEDITOR.NODE_ELEMENT&&t.getName()in CKEDITOR.dtd.$inline&&!(t.getName()in CKEDITOR.dtd.$empty))},(h=o.next())&&h.type==CKEDITOR.NODE_ELEMENT&&h.is("ul","ol")&&(CKEDITOR.env.needsBrFiller?a.createElement("br"):a.createText("\xa0")).insertBefore(h)),c&&n.moveToElementEditStart(c);n.select(),n.scrollIntoView()}}},enterBr:function(t,e,n,i){if(n=n||m(t)){var o=n.document,a=n.checkEndOfBlock(),r=new CKEDITOR.dom.elementPath(t.getSelection().getStartElement()),s=r.block,l=s&&r.block.getName();i||"li"!=l?(!i&&a&&b.test(l)?(a=s.getDirection())?((o=o.createElement("div")).setAttribute("dir",a),o.insertAfter(s),n.setStart(o,0)):(o.createElement("br").insertAfter(s),CKEDITOR.env.gecko&&o.createText("").insertAfter(s),n.setStartAt(s.getNext(),CKEDITOR.env.ie?CKEDITOR.POSITION_BEFORE_START:CKEDITOR.POSITION_AFTER_START)):(t="pre"==l&&CKEDITOR.env.ie&&CKEDITOR.env.version<8?o.createText("\r"):o.createElement("br"),n.deleteContents(),n.insertNode(t),CKEDITOR.env.needsBrFiller?(o.createText("\ufeff").insertAfter(t),a&&(s||r.blockLimit).appendBogus(),t.getNext().$.nodeValue="",n.setStartAt(t.getNext(),CKEDITOR.POSITION_AFTER_START)):n.setStartAt(t,CKEDITOR.POSITION_AFTER_END)),n.collapse(!0),n.select(),n.scrollIntoView()):c(t,e,n,i)}}};var t=CKEDITOR.plugins.enterkey,T=t.enterBr,c=t.enterBlock,b=/^h[1-6]$/}(),function(){function c(t,i){var o={},a=[],r={nbsp:"\xa0",shy:"\xad",gt:">",lt:"<",amp:"&",apos:"'",quot:'"'};if(t=t.replace(/\b(nbsp|shy|gt|lt|amp|apos|quot)(?:,|$)/g,function(t,e){var n=i?"&"+e+";":r[e];return o[n]=i?r[e]:"&"+e+";",a.push(n),""}),!i&&t){t=t.split(",");var e,n=document.createElement("div");for(n.innerHTML="&"+t.join(";&")+";",e=n.innerHTML,n=null,n=0;n<e.length;n++){var s=e.charAt(n);o[s]="&"+t[n]+";",a.push(s)}}return o.regex=a.join(i?"|":""),o}CKEDITOR.plugins.add("entities",{afterInit:function(t){function e(t){return s[t]}function n(t){return"force"!=i.entities_processNumerical&&a[t]?a[t]:"&#"+t.charCodeAt(0)+";"}var i=t.config;if(t=(t=t.dataProcessor)&&t.htmlFilter){var o=[];!1!==i.basicEntities&&o.push("nbsp,gt,lt,amp"),i.entities&&(o.length&&o.push("quot,iexcl,cent,pound,curren,yen,brvbar,sect,uml,copy,ordf,laquo,not,shy,reg,macr,deg,plusmn,sup2,sup3,acute,micro,para,middot,cedil,sup1,ordm,raquo,frac14,frac12,frac34,iquest,times,divide,fnof,bull,hellip,prime,Prime,oline,frasl,weierp,image,real,trade,alefsym,larr,uarr,rarr,darr,harr,crarr,lArr,uArr,rArr,dArr,hArr,forall,part,exist,empty,nabla,isin,notin,ni,prod,sum,minus,lowast,radic,prop,infin,ang,and,or,cap,cup,int,there4,sim,cong,asymp,ne,equiv,le,ge,sub,sup,nsub,sube,supe,oplus,otimes,perp,sdot,lceil,rceil,lfloor,rfloor,lang,rang,loz,spades,clubs,hearts,diams,circ,tilde,ensp,emsp,thinsp,zwnj,zwj,lrm,rlm,ndash,mdash,lsquo,rsquo,sbquo,ldquo,rdquo,bdquo,dagger,Dagger,permil,lsaquo,rsaquo,euro"),i.entities_latin&&o.push("Agrave,Aacute,Acirc,Atilde,Auml,Aring,AElig,Ccedil,Egrave,Eacute,Ecirc,Euml,Igrave,Iacute,Icirc,Iuml,ETH,Ntilde,Ograve,Oacute,Ocirc,Otilde,Ouml,Oslash,Ugrave,Uacute,Ucirc,Uuml,Yacute,THORN,szlig,agrave,aacute,acirc,atilde,auml,aring,aelig,ccedil,egrave,eacute,ecirc,euml,igrave,iacute,icirc,iuml,eth,ntilde,ograve,oacute,ocirc,otilde,ouml,oslash,ugrave,uacute,ucirc,uuml,yacute,thorn,yuml,OElig,oelig,Scaron,scaron,Yuml"),i.entities_greek&&o.push("Alpha,Beta,Gamma,Delta,Epsilon,Zeta,Eta,Theta,Iota,Kappa,Lambda,Mu,Nu,Xi,Omicron,Pi,Rho,Sigma,Tau,Upsilon,Phi,Chi,Psi,Omega,alpha,beta,gamma,delta,epsilon,zeta,eta,theta,iota,kappa,lambda,mu,nu,xi,omicron,pi,rho,sigmaf,sigma,tau,upsilon,phi,chi,psi,omega,thetasym,upsih,piv"),i.entities_additional&&o.push(i.entities_additional));var a=c(o.join(",")),r=a.regex?"["+a.regex+"]":"a^";delete a.regex,i.entities&&i.entities_processNumerical&&(r="[^ -~]|"+r);r=new RegExp(r,"g");var s=c("nbsp,gt,lt,amp,shy",!0),l=new RegExp(s.regex,"g");t.addRules({text:function(t){return t.replace(l,e).replace(r,n)}},{applyToAll:!0,excludeNestedEditable:!0})}}})}(),CKEDITOR.config.basicEntities=!0,CKEDITOR.config.entities=!0,CKEDITOR.config.entities_latin=!0,CKEDITOR.config.entities_greek=!0,CKEDITOR.config.entities_additional="#39",CKEDITOR.plugins.add("popup"),CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{popup:function(t,e,n,i){n=n||"70%","string"==typeof(e=e||"80%")&&1<e.length&&"%"==e.substr(e.length-1,1)&&(e=parseInt(window.screen.width*parseInt(e,10)/100,10)),"string"==typeof n&&1<n.length&&"%"==n.substr(n.length-1,1)&&(n=parseInt(window.screen.height*parseInt(n,10)/100,10)),e<640&&(e=640),n<420&&(n=420);var o=parseInt((window.screen.height-n)/2,10),a=parseInt((window.screen.width-e)/2,10);i=(i||"location=no,menubar=no,toolbar=no,dependent=yes,minimizable=no,modal=yes,alwaysRaised=yes,resizable=yes,scrollbars=yes")+",width="+e+",height="+n+",top="+o+",left="+a;var r=window.open("",null,i,!0);if(!r)return!1;try{-1==navigator.userAgent.toLowerCase().indexOf(" chrome/")&&(r.moveTo(a,o),r.resizeTo(e,n)),r.focus(),r.location.href=t}catch(s){window.open(t,null,i,!0)}return!0}}),function(){function o(t,e){var n=[];if(!e)return t;for(var i in e)n.push(i+"="+encodeURIComponent(e[i]));return t+(-1!=t.indexOf("?")?"&":"?")+n.join("&")}function l(t){return(t+="").charAt(0).toUpperCase()+t.substr(1)}function c(){var t=(n=this.getDialog()).getParentEditor();t._.filebrowserSe=this;var e=t.config["filebrowser"+l(n.getName())+"WindowWidth"]||t.config.filebrowserWindowWidth||"80%",n=t.config["filebrowser"+l(n.getName())+"WindowHeight"]||t.config.filebrowserWindowHeight||"70%",i=this.filebrowser.params||{};i.CKEditor=t.name,i.CKEditorFuncNum=t._.filebrowserFn,i.langCode||(i.langCode=t.langCode),i=o(this.filebrowser.url,i),t.popup(i,e,n,t.config.filebrowserWindowFeatures||t.config.fileBrowserWindowFeatures)}function d(){var t=this.getDialog();return t.getParentEditor()._.filebrowserSe=this,!(!t.getContentElement(this["for"][0],this["for"][1]).getInputElement().$.value||!t.getContentElement(this["for"][0],this["for"][1]).getAction())}function u(t,e,n){var i=n.params||{};i.CKEditor=t.name,i.CKEditorFuncNum=t._.filebrowserFn,i.langCode||(i.langCode=t.langCode),e.action=o(n.url,i),e.filebrowser=n}function h(t,e,n,i){if(i&&i.length)for(var o,a=i.length;a--;)if("hbox"!=(o=i[a]).type&&"vbox"!=o.type&&"fieldset"!=o.type||h(t,e,n,o.children),o.filebrowser)if("string"==typeof o.filebrowser&&(o.filebrowser={action:"fileButton"==o.type?"QuickUpload":"Browse",target:o.filebrowser}),"Browse"==o.filebrowser.action){var r=o.filebrowser.url;void 0===r&&(void 0===(r=t.config["filebrowser"+l(e)+"BrowseUrl"])&&(r=t.config.filebrowserBrowseUrl)),r&&(o.onClick=c,o.filebrowser.url=r,o.hidden=!1)}else if("QuickUpload"==o.filebrowser.action&&o["for"]&&(void 0===(r=o.filebrowser.url)&&(void 0===(r=t.config["filebrowser"+l(e)+"UploadUrl"])&&(r=t.config.filebrowserUploadUrl)),r)){var s=o.onClick;o.onClick=function(t){var e=t.sender;return(!s||!1!==s.call(e,t))&&(!!d.call(e,t)&&(t=e.getDialog().getContentElement(this["for"][0],this["for"][1]).getInputElement(),(e=new CKEDITOR.dom.element(t.$.form))&&((t=e.$.elements.ckCsrfToken)?t=new CKEDITOR.dom.element(t):((t=new CKEDITOR.dom.element("input")).setAttributes({name:"ckCsrfToken",type:"hidden"}),e.append(t)),t.setAttribute("value",CKEDITOR.tools.getCsrfToken())),!0))},o.filebrowser.url=r,o.hidden=!1,u(t,n.getContents(o["for"][0]).get(o["for"][1]),o.filebrowser)}}function a(t,e,n){if(-1===n.indexOf(";"))return(t=t.getContents(e).get(n).filebrowser)&&t.url;n=n.split(";");for(var i=0;i<n.length;i++)if(a(t,e,n[i]))return!0;return!1}function e(t,e){var n=this._.filebrowserSe.getDialog(),i=this._.filebrowserSe["for"],o=this._.filebrowserSe.filebrowser.onSelect;i&&n.getContentElement(i[0],i[1]).reset(),"function"==typeof e&&!1===e.call(this._.filebrowserSe)||o&&!1===o.call(this._.filebrowserSe,t,e)||("string"==typeof e&&e&&alert(e),t&&(n=(i=this._.filebrowserSe).getDialog(),i=i.filebrowser.target||null)&&(i=i.split(":"),(o=n.getContentElement(i[0],i[1]))&&(o.setValue(t),n.selectPage(i[0]))))}CKEDITOR.plugins.add("filebrowser",{requires:"popup",init:function(t){t._.filebrowserFn=CKEDITOR.tools.addFunction(e,t),t.on("destroy",function(){CKEDITOR.tools.removeFunction(this._.filebrowserFn)})}}),CKEDITOR.on("dialogDefinition",function(t){if(t.editor.plugins.filebrowser)for(var e,n=t.data.definition,i=0;i<n.contents.length;++i)(e=n.contents[i])&&(h(t.editor,t.data.name,n,e.elements),e.hidden&&e.filebrowser&&(e.hidden=!a(n,e.id,e.filebrowser)))})}(),CKEDITOR.plugins.add("find",{requires:"dialog",init:function(t){var e=t.addCommand("find",new CKEDITOR.dialogCommand("find"));e.canUndo=!1,e.readOnly=1,t.addCommand("replace",new CKEDITOR.dialogCommand("replace")).canUndo=!1,t.ui.addButton&&(t.ui.addButton("Find",{label:t.lang.find.find,command:"find",toolbar:"find,10"}),t.ui.addButton("Replace",{label:t.lang.find.replace,command:"replace",toolbar:"find,20"})),CKEDITOR.dialog.add("find",this.path+"dialogs/find.js"),CKEDITOR.dialog.add("replace",this.path+"dialogs/find.js")}}),CKEDITOR.config.find_highlight={element:"span",styles:{"background-color":"#004",color:"#fff"}},function(){function o(t,e){var n=a.exec(t),i=a.exec(e);if(n){if(!n[2]&&"px"==i[2])return i[1];if("px"==n[2]&&!i[2])return i[1]+"px"}return e}var r=CKEDITOR.htmlParser.cssStyle,s=CKEDITOR.tools.cssLength,a=/^((?:\d*(?:\.\d+))|(?:\d+))(.*)?$/i,e={elements:{$:function(t){var e=t.attributes;if((e=(e=(e=e&&e["data-cke-realelement"])&&new CKEDITOR.htmlParser.fragment.fromHtml(decodeURIComponent(e)))&&e.children[0])&&t.attributes["data-cke-resizable"]){var n=new r(t).rules;t=e.attributes;var i=n.width;n=n.height;i&&(t.width=o(t.width,i)),n&&(t.height=o(t.height,n))}return e}}};CKEDITOR.plugins.add("fakeobjects",{init:function(t){t.filter.allow("img[!data-cke-realelement,src,alt,title](*){*}","fakeobjects")},afterInit:function(t){(t=(t=t.dataProcessor)&&t.htmlFilter)&&t.addRules(e,{applyToAll:!0})}}),CKEDITOR.editor.prototype.createFakeElement=function(t,e,n,i){var o=(o=this.lang.fakeobjects)[n]||o.unknown;return e={"class":e,"data-cke-realelement":encodeURIComponent(t.getOuterHtml()),"data-cke-real-node-type":t.type,alt:o,title:o,align:t.getAttribute("align")||""},CKEDITOR.env.hc||(e.src=CKEDITOR.tools.transparentImageData),n&&(e["data-cke-real-element-type"]=n),i&&(e["data-cke-resizable"]=i,n=new r,i=t.getAttribute("width"),t=t.getAttribute("height"),i&&(n.rules.width=s(i)),t&&(n.rules.height=s(t)),n.populate(e)),this.document.createElement("img",{attributes:e})},CKEDITOR.editor.prototype.createFakeParserElement=function(t,e,n,i){var o,a=(a=this.lang.fakeobjects)[n]||a.unknown;return o=new CKEDITOR.htmlParser.basicWriter,t.writeHtml(o),o=o.getHtml(),e={"class":e,"data-cke-realelement":encodeURIComponent(o),"data-cke-real-node-type":t.type,alt:a,title:a,align:t.attributes.align||""},CKEDITOR.env.hc||(e.src=CKEDITOR.tools.transparentImageData),n&&(e["data-cke-real-element-type"]=n),i&&(e["data-cke-resizable"]=i,i=t.attributes,t=new r,n=i.width,i=i.height,void 0!==n&&(t.rules.width=s(n)),void 0!==i&&(t.rules.height=s(i)),t.populate(e)),new CKEDITOR.htmlParser.element("img",e)},CKEDITOR.editor.prototype.restoreRealElement=function(t){if(t.data("cke-real-node-type")!=CKEDITOR.NODE_ELEMENT)return null;var e=CKEDITOR.dom.element.createFromHtml(decodeURIComponent(t.data("cke-realelement")),this.document);if(t.data("cke-resizable")){var n=t.getStyle("width");t=t.getStyle("height"),n&&e.setAttribute("width",o(e.getAttribute("width"),n)),t&&e.setAttribute("height",o(e.getAttribute("height"),t))}return e}}(),function(){function i(t){return"application/x-shockwave-flash"==(t=t.attributes).type||e.test(t.src||"")}function o(t,e){return t.createFakeParserElement(e,"cke_flash","flash",!0)}var e=/\.swf(?:$|\?)/i;CKEDITOR.plugins.add("flash",{requires:"dialog,fakeobjects",onLoad:function(){CKEDITOR.addCss("img.cke_flash{background-image: url("+CKEDITOR.getUrl(this.path+"images/placeholder.png")+");background-position: center center;background-repeat: no-repeat;border: 1px solid #a9a9a9;width: 80px;height: 80px;}")},init:function(t){var e="object[classid,codebase,height,hspace,vspace,width];param[name,value];embed[height,hspace,pluginspage,src,type,vspace,width]";CKEDITOR.dialog.isTabEnabled(t,"flash","properties")&&(e+=";object[align]; embed[allowscriptaccess,quality,scale,wmode]"),CKEDITOR.dialog.isTabEnabled(t,"flash","advanced")&&(e+=";object[id]{*}; embed[bgcolor]{*}(*)"),t.addCommand("flash",new CKEDITOR.dialogCommand("flash",{allowedContent:e,requiredContent:"embed"})),t.ui.addButton&&t.ui.addButton("Flash",{label:t.lang.common.flash,command:"flash",toolbar:"insert,20"}),CKEDITOR.dialog.add("flash",this.path+"dialogs/flash.js"),t.addMenuItems&&t.addMenuItems({flash:{label:t.lang.flash.properties,command:"flash",group:"flash"}}),t.on("doubleclick",function(t){var e=t.data.element;e.is("img")&&"flash"==e.data("cke-real-element-type")&&(t.data.dialog="flash")}),t.contextMenu&&t.contextMenu.addListener(function(t){if(t&&t.is("img")&&!t.isReadOnly()&&"flash"==t.data("cke-real-element-type"))return{flash:CKEDITOR.TRISTATE_OFF}})},afterInit:function(n){var t=n.dataProcessor;(t=t&&t.dataFilter)&&t.addRules({elements:{"cke:object":function(t){var e=t.attributes;if(e.classid&&String(e.classid).toLowerCase()||i(t))return o(n,t);for(e=0;e<t.children.length;e++)if("cke:embed"==t.children[e].name){if(!i(t.children[e]))break;return o(n,t)}return null},"cke:embed":function(t){return i(t)?o(n,t):null}}},5)}})}(),CKEDITOR.tools.extend(CKEDITOR.config,{flashEmbedTagOnly:!1,flashAddEmbedTag:!0,flashConvertOnEdit:!1}),function(){function e(m){var g=m.config,t=m.fire("uiSpace",{space:"top",html:""}).html,v=function(){function n(t,e,n){E.setStyle(e,b(n)),E.setStyle("position",t)}function i(t){var e=a.getDocumentPosition();switch(t){case"top":n("absolute","top",e.y-c-h);break;case"pin":n("fixed","top",p);break;case"bottom":n("absolute","top",e.y+(s.height||s.bottom-s.top)+h)}o=t}var o,a,r,s,l,c,d,u=g.floatSpaceDockedOffsetX||0,h=g.floatSpaceDockedOffsetY||0,f=g.floatSpacePinnedOffsetX||0,p=g.floatSpacePinnedOffsetY||0;return function(t){if(a=m.editable()){var e=t&&"focus"==t.name;e&&E.show(),m.fire("floatingSpaceLayout",{show:e}),E.removeStyle("left"),E.removeStyle("right"),r=E.getClientRect(),s=a.getClientRect(),l=T.getViewPaneSize(),c=r.height,d="pageXOffset"in T.$?T.$.pageXOffset:CKEDITOR.document.$.documentElement.scrollLeft,o?(c+h<=s.top?i("top"):c+h>l.height-s.bottom?i("pin"):i("bottom"),t=l.width/2,t=g.floatSpacePreferRight?"right":0<s.left&&s.right<l.width&&s.width>r.width?"rtl"==g.contentsLangDirection?"right":"left":t-s.left>s.right-t?"left":"right",r.width>l.width?(t="left",e=0):(e="left"==t?0<s.left?s.left:0:s.right<l.width?l.width-s.right:0)+r.width>l.width&&(t="left"==t?"right":"left",e=0),E.setStyle(t,b(("pin"==o?f:u)+e+("pin"==o?0:"left"==t?d:-d)))):(i(o="pin"),v(t))}}}();if(t){var e=new CKEDITOR.template('<div id="cke_{name}" class="cke {id} cke_reset_all cke_chrome cke_editor_{name} cke_float cke_{langDir} '+CKEDITOR.env.cssClass+'" dir="{langDir}" title="'+(CKEDITOR.env.gecko?" ":"")+'" lang="{langCode}" role="application" style="{style}"'+(m.title?' aria-labelledby="cke_{name}_arialbl"':" ")+">"+(m.title?'<span id="cke_{name}_arialbl" class="cke_voice_label">{voiceLabel}</span>':" ")+'<div class="cke_inner"><div id="{topId}" class="cke_top" role="presentation">{content}</div></div></div>'),E=CKEDITOR.document.getBody().append(CKEDITOR.dom.element.createFromHtml(e.output({content:t,id:m.id,langDir:m.lang.dir,langCode:m.langCode,name:m.name,style:"display:none;z-index:"+(g.baseFloatZIndex-1),topId:m.ui.spaceId("top"),voiceLabel:m.title}))),n=CKEDITOR.tools.eventsBuffer(500,v),i=CKEDITOR.tools.eventsBuffer(100,v);E.unselectable(),E.on("mousedown",function(t){(t=t.data).getTarget().hasAscendant("a",1)||t.preventDefault()}),m.on("focus",function(t){v(t),m.on("change",n.input),T.on("scroll",i.input),T.on("resize",i.input)}),m.on("blur",function(){E.hide(),m.removeListener("change",n.input),T.removeListener("scroll",i.input),T.removeListener("resize",i.input)}),m.on("destroy",function(){T.removeListener("scroll",i.input),T.removeListener("resize",i.input),E.clearCustomData(),E.remove()}),m.focusManager.hasFocus&&E.show(),m.focusManager.add(E,1)}}var T=CKEDITOR.document.getWindow(),b=CKEDITOR.tools.cssLength;CKEDITOR.plugins.add("floatingspace",{init:function(t){t.on("loaded",function(){e(this)},null,null,20)}})}(),CKEDITOR.plugins.add("listblock",{requires:"panel",onLoad:function(){var e=CKEDITOR.addTemplate("panel-list",'<ul role="presentation" class="cke_panel_list">{items}</ul>'),o=CKEDITOR.addTemplate("panel-list-item",'<li id="{id}" class="cke_panel_listItem" role=presentation><a id="{id}_option" _cke_focus=1 hidefocus=true title="{title}" href="javascript:void(\'{val}\')"  {onclick}="CKEDITOR.tools.callFunction({clickFn},\'{val}\'); return false;" role="option">{text}</a></li>'),n=CKEDITOR.addTemplate("panel-list-group",'<h1 id="{id}" class="cke_panel_grouptitle" role="presentation" >{label}</h1>'),a=/\'/g;CKEDITOR.ui.panel.prototype.addListBlock=function(t,e){return this.addBlock(t,new CKEDITOR.ui.listBlock(this.getHolderElement(),e))},CKEDITOR.ui.listBlock=CKEDITOR.tools.createClass({base:CKEDITOR.ui.panel.block,$:function(t,e){var n=(e=e||{}).attributes||(e.attributes={});(this.multiSelect=!!e.multiSelect)&&(n["aria-multiselectable"]=!0),!n.role&&(n.role="listbox"),this.base.apply(this,arguments),this.element.setAttribute("role",n.role),(n=this.keys)[40]="next",n[9]="next",n[38]="prev",n[CKEDITOR.SHIFT+9]="prev",n[32]=CKEDITOR.env.ie?"mouseup":"click",CKEDITOR.env.ie&&(n[13]="mouseup"),this._.pendingHtml=[],this._.pendingList=[],this._.items={},this._.groups={}},_:{close:function(){if(this._.started){var t=e.output({items:this._.pendingList.join("")});this._.pendingList=[],this._.pendingHtml.push(t),delete this._.started}},getClick:function(){return this._.click||(this._.click=CKEDITOR.tools.addFunction(function(t){var e=this.toggle(t);this.onClick&&this.onClick(t,e)},this)),this._.click}},proto:{add:function(t,e,n){var i=CKEDITOR.tools.getNextId();this._.started||(this._.started=1,this._.size=this._.size||0),t={id:this._.items[t]=i,val:CKEDITOR.tools.htmlEncodeAttr(t).replace(a,"\\'"),onclick:CKEDITOR.env.ie?'onclick="return false;" onmouseup':"onclick",clickFn:this._.getClick(),title:CKEDITOR.tools.htmlEncodeAttr(n||t),text:e||t},this._.pendingList.push(o.output(t))},startGroup:function(t){this._.close();var e=CKEDITOR.tools.getNextId();this._.groups[t]=e,this._.pendingHtml.push(n.output({id:e,label:t}))},commit:function(){this._.close(),this.element.appendHtml(this._.pendingHtml.join("")),delete this._.size,this._.pendingHtml=[]},toggle:function(t){var e=this.isMarked(t);return e?this.unmark(t):this.mark(t),!e},hideGroup:function(t){var e=(t=this.element.getDocument().getById(this._.groups[t]))&&t.getNext();t&&(t.setStyle("display","none"),e&&"ul"==e.getName()&&e.setStyle("display","none"))},hideItem:function(t){this.element.getDocument().getById(this._.items[t]).setStyle("display","none")},showAll:function(){var t,e=this._.items,n=this._.groups,i=this.element.getDocument();for(t in e)i.getById(e[t]).setStyle("display","");for(var o in n)t=(e=i.getById(n[o])).getNext(),e.setStyle("display",""),t&&"ul"==t.getName()&&t.setStyle("display","")},mark:function(t){this.multiSelect||this.unmarkAll(),t=this._.items[t];var e=this.element.getDocument().getById(t);e.addClass("cke_selected"),this.element.getDocument().getById(t+"_option").setAttribute("aria-selected",!0),this.onMark&&this.onMark(e)},markFirstDisplayed:function(){var t=this;this._.markFirstDisplayed(function(){t.multiSelect||t.unmarkAll()})},unmark:function(t){var e=this.element.getDocument();t=this._.items[t];var n=e.getById(t);n.removeClass("cke_selected"),e.getById(t+"_option").removeAttribute("aria-selected"),this.onUnmark&&this.onUnmark(n)},unmarkAll:function(){var t,e=this._.items,n=this.element.getDocument();for(t in e){var i=e[t];n.getById(i).removeClass("cke_selected"),n.getById(i+"_option").removeAttribute("aria-selected")}this.onUnmark&&this.onUnmark()},isMarked:function(t){return this.element.getDocument().getById(this._.items[t]).hasClass("cke_selected")},focus:function(t){this._.focusIndex=-1;var e,n=this.element.getElementsByTag("a"),i=-1;if(t){for(e=this.element.getDocument().getById(this._.items[t]).getFirst();t=n.getItem(++i);)if(t.equals(e)){this._.focusIndex=i;break}}else this.element.focus();e&&setTimeout(function(){e.focus()},0)}}})}}),CKEDITOR.plugins.add("richcombo",{requires:"floatpanel,listblock,button",beforeInit:function(t){t.ui.addHandler(CKEDITOR.UI_RICHCOMBO,CKEDITOR.ui.richCombo.handler)}}),function(){var t='<span id="{id}" class="cke_combo cke_combo__{name} {cls}" role="presentation"><span id="{id}_label" class="cke_combo_label">{label}</span><a class="cke_combo_button" title="{title}" tabindex="-1"'+(CKEDITOR.env.gecko&&!CKEDITOR.env.hc?"":" href=\"javascript:void('{titleJs}')\"")+' hidefocus="true" role="button" aria-labelledby="{id}_label" aria-haspopup="true"';CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(t+=' onkeypress="return false;"'),CKEDITOR.env.gecko&&(t+=' onblur="this.style.cssText = this.style.cssText;"');t=t+' onkeydown="return CKEDITOR.tools.callFunction({keydownFn},event,this);" onfocus="return CKEDITOR.tools.callFunction({focusFn},event);" '+(CKEDITOR.env.ie?'onclick="return false;" onmouseup':"onclick")+'="CKEDITOR.tools.callFunction({clickFn},this);return false;"><span id="{id}_text" class="cke_combo_text cke_combo_inlinelabel">{label}</span><span class="cke_combo_open"><span class="cke_combo_arrow">'+(CKEDITOR.env.hc?"&#9660;":CKEDITOR.env.air?"&nbsp;":"")+"</span></span></a></span>";var u=CKEDITOR.addTemplate("combo",t);CKEDITOR.UI_RICHCOMBO="richcombo",CKEDITOR.ui.richCombo=CKEDITOR.tools.createClass({$:function(t){CKEDITOR.tools.extend(this,t,{canGroup:!1,title:t.label,modes:{wysiwyg:1},editorFocus:1}),t=this.panel||{},delete this.panel,this.id=CKEDITOR.tools.getNextNumber(),this.document=t.parent&&t.parent.getDocument()||CKEDITOR.document,t.className="cke_combopanel",t.block={multiSelect:t.multiSelect,attributes:t.attributes},t.toolbarRelated=!0,this._={panelDefinition:t,items:{}}},proto:{renderHtml:function(t){var e=[];return this.render(t,e),e.join("")},render:function(i,t){function e(){if(this.getState()!=CKEDITOR.TRISTATE_ON){var t=this.modes[i.mode]?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED;i.readOnly&&!this.readOnly&&(t=CKEDITOR.TRISTATE_DISABLED),this.setState(t),this.setValue(""),t!=CKEDITOR.TRISTATE_DISABLED&&this.refresh&&this.refresh()}}var n=CKEDITOR.env,o="cke_"+this.id,a=CKEDITOR.tools.addFunction(function(t){d&&(i.unlockSelection(1),d=0),s.execute(t)},this),r=this,s={id:o,combo:this,focus:function(){CKEDITOR.document.getById(o).getChild(1).focus()},execute:function(t){var e=r._;if(e.state!=CKEDITOR.TRISTATE_DISABLED)if(r.createPanel(i),e.on)e.panel.hide();else{r.commit();var n=r.getValue();n?e.list.mark(n):e.list.unmarkAll(),e.panel.showBlock(r.id,new CKEDITOR.dom.element(t),4)}},clickFn:a};i.on("activeFilterChange",e,this),i.on("mode",e,this),i.on("selectionChange",e,this),!this.readOnly&&i.on("readOnly",e,this);var l=CKEDITOR.tools.addFunction(function(t,e){var n=(t=new CKEDITOR.dom.event(t)).getKeystroke();switch(n){case 13:case 32:case 40:CKEDITOR.tools.callFunction(a,e);break;default:s.onkey(s,n)}t.preventDefault()}),c=CKEDITOR.tools.addFunction(function(){s.onfocus&&s.onfocus()}),d=0;return s.keyDownFn=l,n={id:o,name:this.name||this.command,label:this.label,title:this.title,cls:this.className||"",titleJs:n.gecko&&!n.hc?"":(this.title||"").replace("'",""),keydownFn:l,focusFn:c,clickFn:a},u.output(n,t),this.onRender&&this.onRender(),s},createPanel:function(e){if(!this._.panel){var t=this._.panelDefinition,n=this._.panelDefinition.block,i=t.parent||CKEDITOR.document.getBody(),o="cke_combopanel__"+this.name,a=new CKEDITOR.ui.floatPanel(e,i,t),r=(t=a.addListBlock(this.id,n),this);a.onShow=function(){this.element.addClass(o),r.setState(CKEDITOR.TRISTATE_ON),r._.on=1,r.editorFocus&&!e.focusManager.hasFocus&&e.focus(),r.onOpen&&r.onOpen()},a.onHide=function(t){this.element.removeClass(o),r.setState(r.modes&&r.modes[e.mode]?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED),r._.on=0,!t&&r.onClose&&r.onClose()},a.onEscape=function(){a.hide(1)},t.onClick=function(t,e){r.onClick&&r.onClick.call(r,t,e),a.hide()},this._.panel=a,this._.list=t,a.getBlock(this.id).onHide=function(){r._.on=0,r.setState(CKEDITOR.TRISTATE_OFF)},this.init&&this.init()}},setValue:function(t,e){this._.value=t;var n=this.document.getById("cke_"+this.id+"_text");n&&(t||e?n.removeClass("cke_combo_inlinelabel"):(e=this.label,n.addClass("cke_combo_inlinelabel")),n.setText(void 0!==e?e:t))},getValue:function(){return this._.value||""},unmarkAll:function(){this._.list.unmarkAll()},mark:function(t){this._.list.mark(t)},hideItem:function(t){this._.list.hideItem(t)},hideGroup:function(t){this._.list.hideGroup(t)},showAll:function(){this._.list.showAll()},add:function(t,e,n){this._.items[t]=n||t,this._.list.add(t,e,n)},startGroup:function(t){this._.list.startGroup(t)},commit:function(){this._.committed||(this._.list.commit(),this._.committed=1,CKEDITOR.ui.fire("ready",this)),this._.committed=1},setState:function(t){if(this._.state!=t){var e=this.document.getById("cke_"+this.id);e.setState(t,"cke_combo"),t==CKEDITOR.TRISTATE_DISABLED?e.setAttribute("aria-disabled",!0):e.removeAttribute("aria-disabled"),this._.state=t}},getState:function(){return this._.state},enable:function(){this._.state==CKEDITOR.TRISTATE_DISABLED&&this.setState(this._.lastState)},disable:function(){this._.state!=CKEDITOR.TRISTATE_DISABLED&&(this._.lastState=this._.state,this.setState(CKEDITOR.TRISTATE_DISABLED))}},statics:{handler:{create:function(t){return new CKEDITOR.ui.richCombo(t)}}}}),CKEDITOR.ui.prototype.addRichCombo=function(t,e){this.add(t,CKEDITOR.UI_RICHCOMBO,e)}}(),function(){function n(c,t,e,n,i,a,o,r){var s=c.config,l=new CKEDITOR.style(o),d=i.split(";");i=[];for(var u={},h=0;h<d.length;h++){if(f=d[h]){var f=f.split("/"),p={},m=d[h]=f[0];p[e]=i[h]=f[1]||m,u[m]=new CKEDITOR.style(o,p),u[m]._.definition.name=m}else d.splice(h--,1)}c.ui.addRichCombo(t,{label:n.label,title:n.panelTitle,toolbar:"styles,"+r,allowedContent:l,requiredContent:l,contentTransformations:[[{element:"font",check:"span",left:function(t){return!!t.attributes.size||!!t.attributes.align||!!t.attributes.face},right:function(t){var e=" x-small small medium large x-large xx-large 48px".split(" ");t.name="span",t.attributes.size&&(t.styles["font-size"]=e[t.attributes.size],delete t.attributes.size),t.attributes.align&&(t.styles["text-align"]=t.attributes.align,delete t.attributes.align),t.attributes.face&&(t.styles["font-family"]=t.attributes.face,delete t.attributes.face)}}]],panel:{css:[CKEDITOR.skin.getPath("editor")].concat(s.contentsCss),multiSelect:!1,attributes:{"aria-label":n.panelTitle}},init:function(){this.startGroup(n.panelTitle);for(var t=0;t<d.length;t++){var e=d[t];this.add(e,u[e].buildPreview(),e)}},onClick:function(t){c.focus(),c.fire("saveSnapshot");var e=this.getValue(),n=u[t];if(e&&t!=e){var i=u[e],o=c.getSelection().getRanges()[0];if(o.collapsed){var a=c.elementPath(),r=a.contains(function(t){return i.checkElementRemovable(t)});if(r){var s=o.checkBoundaryOfElement(r,CKEDITOR.START),l=o.checkBoundaryOfElement(r,CKEDITOR.END);if(s&&l){for(s=o.createBookmark();a=r.getFirst();)a.insertBefore(r);r.remove(),o.moveToBookmark(s)}else s||l?o.moveToPosition(r,s?CKEDITOR.POSITION_BEFORE_START:CKEDITOR.POSITION_AFTER_END):(o.splitElement(r),o.moveToPosition(r,CKEDITOR.POSITION_AFTER_END)),g(o,a.elements.slice(),r);c.getSelection().selectRanges([o])}}else c.removeStyle(i)}c[e==t?"removeStyle":"applyStyle"](n),c.fire("saveSnapshot")},onRender:function(){c.on("selectionChange",function(t){var e=this.getValue();t=t.data.path.elements;for(var n,i=0;i<t.length;i++)for(var o in n=t[i],u)if(u[o].checkElementMatch(n,!0,c))return void(o!=e&&this.setValue(o));this.setValue("",a)},this)},refresh:function(){c.activeFilter.check(l)||this.setState(CKEDITOR.TRISTATE_DISABLED)}})}function g(t,e,n){var i=e.pop();if(i){if(n)return g(t,e,i.equals(n)?null:n);n=i.clone(),t.insertNode(n),t.moveToPosition(n,CKEDITOR.POSITION_AFTER_START),g(t,e)}}CKEDITOR.plugins.add("font",{requires:"richcombo",init:function(t){var e=t.config;n(t,"Font","family",t.lang.font,e.font_names,e.font_defaultLabel,e.font_style,30),n(t,"FontSize","size",t.lang.font.fontSize,e.fontSize_sizes,e.fontSize_defaultLabel,e.fontSize_style,40)}})}(),CKEDITOR.config.font_names="Arial/Arial, Helvetica, sans-serif;Comic Sans MS/Comic Sans MS, cursive;Courier New/Courier New, Courier, monospace;Georgia/Georgia, serif;Lucida Sans Unicode/Lucida Sans Unicode, Lucida Grande, sans-serif;Tahoma/Tahoma, Geneva, sans-serif;Times New Roman/Times New Roman, Times, serif;Trebuchet MS/Trebuchet MS, Helvetica, sans-serif;Verdana/Verdana, Geneva, sans-serif",CKEDITOR.config.font_defaultLabel="",CKEDITOR.config.font_style={element:"span",styles:{"font-family":"#(family)"},overrides:[{element:"font",attributes:{face:null}}]},
CKEDITOR.config.fontSize_sizes="8/8px;9/9px;10/10px;11/11px;12/12px;14/14px;16/16px;18/18px;20/20px;22/22px;24/24px;26/26px;28/28px;36/36px;48/48px;72/72px",CKEDITOR.config.fontSize_defaultLabel="",CKEDITOR.config.fontSize_style={element:"span",styles:{"font-size":"#(size)"},overrides:[{element:"font",attributes:{size:null}}]},CKEDITOR.plugins.add("forms",{requires:"dialog,fakeobjects",onLoad:function(){CKEDITOR.addCss(".cke_editable form{border: 1px dotted #FF0000;padding: 2px;}\n"),CKEDITOR.addCss("img.cke_hidden{background-image: url("+CKEDITOR.getUrl(this.path+"images/hiddenfield.gif")+");background-position: center center;background-repeat: no-repeat;border: 1px solid #a9a9a9;width: 16px !important;height: 16px !important;}")},init:function(o){var a=o.lang,r=0,i={email:1,password:1,search:1,tel:1,text:1,url:1},s={checkbox:"input[type,name,checked,required]",radio:"input[type,name,checked,required]",textfield:"input[type,name,value,size,maxlength,required]",textarea:"textarea[cols,rows,name,required]",select:"select[name,size,multiple,required]; option[value,selected]",button:"input[type,name,value]",form:"form[action,name,id,enctype,target,method]",hiddenfield:"input[type,name,value]",imagebutton:"input[type,alt,src]{width,height,border,border-width,border-style,margin,float}"},l={checkbox:"input",radio:"input",textfield:"input",textarea:"textarea",select:"select",button:"input",form:"form",hiddenfield:"input",imagebutton:"input"},t=function(t,e,n){var i={allowedContent:s[e],requiredContent:l[e]};"form"==e&&(i.context="form"),o.addCommand(e,new CKEDITOR.dialogCommand(e,i)),o.ui.addButton&&o.ui.addButton(t,{label:a.common[t.charAt(0).toLowerCase()+t.slice(1)],command:e,toolbar:"forms,"+(r+=10)}),CKEDITOR.dialog.add(e,n)},e=this.path+"dialogs/";!o.blockless&&t("Form","form",e+"form.js"),t("Checkbox","checkbox",e+"checkbox.js"),t("Radio","radio",e+"radio.js"),t("TextField","textfield",e+"textfield.js"),t("Textarea","textarea",e+"textarea.js"),t("Select","select",e+"select.js"),t("Button","button",e+"button.js");var c=o.plugins.image;c&&!o.plugins.image2&&t("ImageButton","imagebutton",CKEDITOR.plugins.getPath("image")+"dialogs/image.js"),t("HiddenField","hiddenfield",e+"hiddenfield.js"),o.addMenuItems&&(t={checkbox:{label:a.forms.checkboxAndRadio.checkboxTitle,command:"checkbox",group:"checkbox"},radio:{label:a.forms.checkboxAndRadio.radioTitle,command:"radio",group:"radio"},textfield:{label:a.forms.textfield.title,command:"textfield",group:"textfield"},hiddenfield:{label:a.forms.hidden.title,command:"hiddenfield",group:"hiddenfield"},button:{label:a.forms.button.title,command:"button",group:"button"},select:{label:a.forms.select.title,command:"select",group:"select"},textarea:{label:a.forms.textarea.title,command:"textarea",group:"textarea"}},c&&(t.imagebutton={label:a.image.titleButton,command:"imagebutton",group:"imagebutton"}),!o.blockless&&(t.form={label:a.forms.form.menu,command:"form",group:"form"}),o.addMenuItems(t)),o.contextMenu&&(!o.blockless&&o.contextMenu.addListener(function(t,e,n){if((t=n.contains("form",1))&&!t.isReadOnly())return{form:CKEDITOR.TRISTATE_OFF}}),o.contextMenu.addListener(function(t){if(t&&!t.isReadOnly()){var e=t.getName();if("select"==e)return{select:CKEDITOR.TRISTATE_OFF};if("textarea"==e)return{textarea:CKEDITOR.TRISTATE_OFF};if("input"==e){var n=t.getAttribute("type")||"text";switch(n){case"button":case"submit":case"reset":return{button:CKEDITOR.TRISTATE_OFF};case"checkbox":return{checkbox:CKEDITOR.TRISTATE_OFF};case"radio":return{radio:CKEDITOR.TRISTATE_OFF};case"image":return c?{imagebutton:CKEDITOR.TRISTATE_OFF}:null}if(i[n])return{textfield:CKEDITOR.TRISTATE_OFF}}if("img"==e&&"hiddenfield"==t.data("cke-real-element-type"))return{hiddenfield:CKEDITOR.TRISTATE_OFF}}})),o.on("doubleclick",function(t){var e=t.data.element;if(!o.blockless&&e.is("form"))t.data.dialog="form";else if(e.is("select"))t.data.dialog="select";else if(e.is("textarea"))t.data.dialog="textarea";else if(e.is("img")&&"hiddenfield"==e.data("cke-real-element-type"))t.data.dialog="hiddenfield";else if(e.is("input")){switch(e=e.getAttribute("type")||"text"){case"button":case"submit":case"reset":t.data.dialog="button";break;case"checkbox":t.data.dialog="checkbox";break;case"radio":t.data.dialog="radio";break;case"image":t.data.dialog="imagebutton"}i[e]&&(t.data.dialog="textfield")}})},afterInit:function(e){var t=(n=e.dataProcessor)&&n.htmlFilter,n=n&&n.dataFilter;CKEDITOR.env.ie&&t&&t.addRules({elements:{input:function(t){var e=(t=t.attributes).type;e||(t.type="text"),"checkbox"!=e&&"radio"!=e||"on"!=t.value||delete t.value}}},{applyToAll:!0}),n&&n.addRules({elements:{input:function(t){if("hidden"==t.attributes.type)return e.createFakeParserElement(t,"cke_hidden","hiddenfield")}}},{applyToAll:!0})}}),CKEDITOR.plugins.add("format",{requires:"richcombo",init:function(i){if(!i.blockless){for(var t=i.config,n=i.lang.format,e=t.format_tags.split(";"),o={},a=0,r=[],s=0;s<e.length;s++){var l=e[s],c=new CKEDITOR.style(t["format_"+l]);i.filter.customConfig&&!i.filter.check(c)||(a++,o[l]=c,o[l]._.enterMode=i.config.enterMode,r.push(c))}0!==a&&i.ui.addRichCombo("Format",{label:n.label,title:n.panelTitle,toolbar:"styles,20",allowedContent:r,panel:{css:[CKEDITOR.skin.getPath("editor")].concat(t.contentsCss),multiSelect:!1,attributes:{"aria-label":n.panelTitle}},init:function(){for(var t in this.startGroup(n.panelTitle),o){var e=n["tag_"+t];this.add(t,o[t].buildPreview(e),e)}},onClick:function(t){i.focus(),i.fire("saveSnapshot"),t=o[t];var e=i.elementPath();i[t.checkActive(e,i)?"removeStyle":"applyStyle"](t),setTimeout(function(){i.fire("saveSnapshot")},0)},onRender:function(){i.on("selectionChange",function(t){var e=this.getValue();for(var n in t=t.data.path,this.refresh(),o)if(o[n].checkActive(t,i))return void(n!=e&&this.setValue(n,i.lang.format["tag_"+n]));this.setValue("")},this)},onOpen:function(){for(var t in this.showAll(),o)i.activeFilter.check(o[t])||this.hideItem(t)},refresh:function(){var t=i.elementPath();if(t){if(t.isContextFor("p"))for(var e in o)if(i.activeFilter.check(o[e]))return;this.setState(CKEDITOR.TRISTATE_DISABLED)}}})}}}),CKEDITOR.config.format_tags="p;h1;h2;h3;h4;h5;h6;pre;address;div",CKEDITOR.config.format_p={element:"p"},CKEDITOR.config.format_div={element:"div"},CKEDITOR.config.format_pre={element:"pre"},CKEDITOR.config.format_address={element:"address"},CKEDITOR.config.format_h1={element:"h1"},CKEDITOR.config.format_h2={element:"h2"},CKEDITOR.config.format_h3={element:"h3"},CKEDITOR.config.format_h4={element:"h4"},CKEDITOR.config.format_h5={element:"h5"},CKEDITOR.config.format_h6={element:"h6"},V={canUndo:!1,exec:function(t){var e=t.document.createElement("hr");t.insertElement(e)},allowedContent:"hr",requiredContent:"hr"},CKEDITOR.plugins.add("horizontalrule",{init:function(t){t.blockless||(t.addCommand("horizontalrule",V),t.ui.addButton&&t.ui.addButton("HorizontalRule",{label:t.lang.horizontalrule.toolbar,command:"horizontalrule",toolbar:"insert,40"}))}}),CKEDITOR.plugins.add("htmlwriter",{init:function(t){var e=new CKEDITOR.htmlWriter;e.forceSimpleAmpersand=t.config.forceSimpleAmpersand,e.indentationChars=t.config.dataIndentationChars||"\t",t.dataProcessor.writer=e}}),CKEDITOR.htmlWriter=CKEDITOR.tools.createClass({base:CKEDITOR.htmlParser.basicWriter,$:function(){this.base(),this.indentationChars="\t",this.selfClosingEnd=" />",this.lineBreakChars="\n",this.sortAttributes=1,this._.indent=0,this._.indentation="",this._.inPre=0,this._.rules={};var t,e=CKEDITOR.dtd;for(t in CKEDITOR.tools.extend({},e.$nonBodyContent,e.$block,e.$listItem,e.$tableContent))this.setRules(t,{indent:!e[t]["#"],breakBeforeOpen:1,breakBeforeClose:!e[t]["#"],breakAfterClose:1,needsSpace:t in e.$block&&!(t in{li:1,dt:1,dd:1})});this.setRules("br",{breakAfterOpen:1}),this.setRules("title",{indent:0,breakAfterOpen:0}),this.setRules("style",{indent:0,breakBeforeClose:1}),this.setRules("pre",{breakAfterOpen:1,indent:0})},proto:{openTag:function(t){var e=this._.rules[t];this._.afterCloser&&e&&e.needsSpace&&this._.needsSpace&&this._.output.push("\n"),this._.indent?this.indentation():e&&e.breakBeforeOpen&&(this.lineBreak(),this.indentation()),this._.output.push("<",t),this._.afterCloser=0},openTagClose:function(t,e){var n=this._.rules[t];e?(this._.output.push(this.selfClosingEnd),n&&n.breakAfterClose&&(this._.needsSpace=n.needsSpace)):(this._.output.push(">"),n&&n.indent&&(this._.indentation+=this.indentationChars)),n&&n.breakAfterOpen&&this.lineBreak(),"pre"==t&&(this._.inPre=1)},attribute:function(t,e){"string"==typeof e&&(this.forceSimpleAmpersand&&(e=e.replace(/&amp;/g,"&")),e=CKEDITOR.tools.htmlEncodeAttr(e)),this._.output.push(" ",t,'="',e,'"')},closeTag:function(t){var e=this._.rules[t];e&&e.indent&&(this._.indentation=this._.indentation.substr(this.indentationChars.length)),this._.indent?this.indentation():e&&e.breakBeforeClose&&(this.lineBreak(),this.indentation()),this._.output.push("</",t,">"),"pre"==t&&(this._.inPre=0),e&&e.breakAfterClose&&(this.lineBreak(),this._.needsSpace=e.needsSpace),this._.afterCloser=1},text:function(t){this._.indent&&(this.indentation(),!this._.inPre&&(t=CKEDITOR.tools.ltrim(t))),this._.output.push(t)},comment:function(t){this._.indent&&this.indentation(),this._.output.push("<!--",t,"-->")},lineBreak:function(){!this._.inPre&&0<this._.output.length&&this._.output.push(this.lineBreakChars),this._.indent=1},indentation:function(){!this._.inPre&&this._.indentation&&this._.output.push(this._.indentation),this._.indent=0},reset:function(){this._.output=[],this._.indent=0,this._.indentation="",this._.afterCloser=0,this._.inPre=0,this._.needsSpace=0},setRules:function(t,e){var n=this._.rules[t];n?CKEDITOR.tools.extend(n,e,!0):this._.rules[t]=e}}}),CKEDITOR.plugins.add("iframe",{requires:"dialog,fakeobjects",onLoad:function(){CKEDITOR.addCss("img.cke_iframe{background-image: url("+CKEDITOR.getUrl(this.path+"images/placeholder.png")+");background-position: center center;background-repeat: no-repeat;border: 1px solid #a9a9a9;width: 80px;height: 80px;}")},init:function(t){var e=t.lang.iframe,n="iframe[align,longdesc,frameborder,height,name,scrolling,src,title,width]";t.plugins.dialogadvtab&&(n+=";iframe"+t.plugins.dialogadvtab.allowedContent({id:1,classes:1,styles:1})),CKEDITOR.dialog.add("iframe",this.path+"dialogs/iframe.js"),t.addCommand("iframe",new CKEDITOR.dialogCommand("iframe",{allowedContent:n,requiredContent:"iframe"})),t.ui.addButton&&t.ui.addButton("Iframe",{label:e.toolbar,command:"iframe",toolbar:"insert,80"}),t.on("doubleclick",function(t){var e=t.data.element;e.is("img")&&"iframe"==e.data("cke-real-element-type")&&(t.data.dialog="iframe")}),t.addMenuItems&&t.addMenuItems({iframe:{label:e.title,command:"iframe",group:"image"}}),t.contextMenu&&t.contextMenu.addListener(function(t){if(t&&t.is("img")&&"iframe"==t.data("cke-real-element-type"))return{iframe:CKEDITOR.TRISTATE_OFF}})},afterInit:function(e){var t=e.dataProcessor;(t=t&&t.dataFilter)&&t.addRules({elements:{iframe:function(t){return e.createFakeParserElement(t,"cke_iframe","iframe",!0)}}})}}),function(){function e(t){function e(n){var i=!1;r.attachListener(r,"keydown",function(){var t=o.getBody().getElementsByTag(n);if(!i){for(var e=0;e<t.count();e++)t.getItem(e).setCustomData("retain",!0);i=!0}},null,null,1),r.attachListener(r,"keyup",function(){var t=o.getElementsByTag(n);i&&(1!=t.count()||t.getItem(0).getCustomData("retain")||t.getItem(0).hasAttribute("data-cke-temp")||t.getItem(0).remove(1),i=!1)})}var i=this.editor,o=t.document,n=o.body,a=o.getElementById("cke_actscrpt");a&&a.parentNode.removeChild(a),(a=o.getElementById("cke_shimscrpt"))&&a.parentNode.removeChild(a),(a=o.getElementById("cke_basetagscrpt"))&&a.parentNode.removeChild(a),n.contentEditable=!0,CKEDITOR.env.ie&&(n.hideFocus=!0,n.disabled=!0,n.removeAttribute("disabled")),delete this._.isLoadingData,this.$=n,o=new CKEDITOR.dom.document(o),this.setup(),this.fixInitialSelection();var r=this;CKEDITOR.env.ie&&!CKEDITOR.env.edge&&o.getDocumentElement().addClass(o.$.compatMode),CKEDITOR.env.ie&&!CKEDITOR.env.edge&&i.enterMode!=CKEDITOR.ENTER_P?e("p"):CKEDITOR.env.edge&&i.enterMode!=CKEDITOR.ENTER_DIV&&e("div"),(CKEDITOR.env.webkit||CKEDITOR.env.ie&&10<CKEDITOR.env.version)&&o.getDocumentElement().on("mousedown",function(t){t.data.getTarget().is("html")&&setTimeout(function(){i.editable().focus()})}),l(i);try{i.document.$.execCommand("2D-position",!1,!0)}catch(s){}(CKEDITOR.env.gecko||CKEDITOR.env.ie&&"CSS1Compat"==i.document.$.compatMode)&&this.attachListener(this,"keydown",function(t){var e=t.data.getKeystroke();if(33==e||34==e)if(CKEDITOR.env.ie)setTimeout(function(){i.getSelection().scrollIntoView()},0);else if(i.window.$.innerHeight>this.$.offsetHeight){var n=i.createRange();n[33==e?"moveToElementEditStart":"moveToElementEditEnd"](this),n.select(),t.data.preventDefault()}}),CKEDITOR.env.ie&&this.attachListener(o,"blur",function(){try{o.$.selection.empty()}catch(t){}}),CKEDITOR.env.iOS&&this.attachListener(o,"touchend",function(){t.focus()}),(n=i.document.getElementsByTag("title").getItem(0)).data("cke-title",n.getText()),CKEDITOR.env.ie&&(i.document.$.title=this._.docTitle),CKEDITOR.tools.setTimeout(function(){"unloaded"==this.status&&(this.status="ready"),i.fire("contentDom"),this._.isPendingFocus&&(i.focus(),this._.isPendingFocus=!1),setTimeout(function(){i.fire("dataReady")},0)},0,this)}function l(n){function t(){var e;n.editable().attachListener(n,"selectionChange",function(){var t=n.getSelection().getSelectedElement();t&&(e&&(e.detachEvent("onresizestart",i),e=null),t.$.attachEvent("onresizestart",i),e=t.$)})}function i(t){t.returnValue=!1}if(CKEDITOR.env.gecko)try{var e=n.document.$;e.execCommand("enableObjectResizing",!1,!n.config.disableObjectResizing),e.execCommand("enableInlineTableEditing",!1,!n.config.disableNativeTableHandles)}catch(o){}else CKEDITOR.env.ie&&CKEDITOR.env.version<11&&n.config.disableObjectResizing&&t(n)}function c(){var t=[];if(8<=CKEDITOR.document.$.documentMode){t.push("html.CSS1Compat [contenteditable=false]{min-height:0 !important}");var e,n=[];for(e in CKEDITOR.dtd.$removeEmpty)n.push("html.CSS1Compat "+e+"[contenteditable=false]");t.push(n.join(",")+"{display:inline-block}")}else CKEDITOR.env.gecko&&(t.push("html{height:100% !important}"),t.push("img:-moz-broken{-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}"));return t.push("html{cursor:text;*cursor:auto}"),t.push("img,input,textarea{cursor:default}"),t.join("\n")}var d;CKEDITOR.plugins.add("wysiwygarea",{init:function(l){l.config.fullPage&&l.addFeature({allowedContent:"html head title; style [media,type]; body (*)[id]; meta link [*]",requiredContent:"body"}),l.addMode("wysiwyg",function(e){function t(t){t&&t.removeListener(),l.editable(new d(l,i.$.contentWindow.document.body)),l.setData(l.getData(1),e)}var n="document.open();"+(CKEDITOR.env.ie?"("+CKEDITOR.tools.fixDomain+")();":"")+"document.close();",i=(n=CKEDITOR.env.air?"javascript:void(0)":CKEDITOR.env.ie&&!CKEDITOR.env.edge?"javascript:void(function(){"+encodeURIComponent(n)+"}())":"",CKEDITOR.dom.element.createFromHtml('<iframe src="'+n+'" frameBorder="0"></iframe>'));i.setStyles({width:"100%",height:"100%"}),i.addClass("cke_wysiwyg_frame").addClass("cke_reset"),(n=l.ui.space("contents")).append(i);var o=CKEDITOR.env.ie&&!CKEDITOR.env.edge||CKEDITOR.env.gecko;o&&i.on("load",t);var a=l.title,r=l.fire("ariaEditorHelpLabel",{}).label;if(a&&(CKEDITOR.env.ie&&r&&(a+=", "+r),i.setAttribute("title",a)),r){a=CKEDITOR.tools.getNextId();var s=CKEDITOR.dom.element.createFromHtml('<span id="'+a+'" class="cke_voice_label">'+r+"</span>");n.append(s,1),i.setAttribute("aria-describedby",a)}l.on("beforeModeUnload",function(t){t.removeListener(),s&&s.remove()}),i.setAttributes({tabIndex:l.tabIndex,allowTransparency:"true"}),!o&&t(),l.fire("ariaWidget",i)})}}),CKEDITOR.editor.prototype.addContentsCss=function(t){var e=this.config,n=e.contentsCss;CKEDITOR.tools.isArray(n)||(e.contentsCss=n?[n]:[]),e.contentsCss.push(t)},d=CKEDITOR.tools.createClass({$:function(){this.base.apply(this,arguments),this._.frameLoadedHandler=CKEDITOR.tools.addFunction(function(t){CKEDITOR.tools.setTimeout(e,0,this,t)},this),this._.docTitle=this.getWindow().getFrame().getAttribute("title")},base:CKEDITOR.editable,proto:{setData:function(t,e){var n=this.editor;if(e)this.setHtml(t),this.fixInitialSelection(),n.fire("dataReady");else{this._.isLoadingData=!0,n._.dataStore={id:1};var i=n.config,o=i.fullPage,a=i.docType,r=CKEDITOR.tools.buildStyleHtml(c()).replace(/<style>/,'<style data-cke-temp="1">');o||(r+=CKEDITOR.tools.buildStyleHtml(n.config.contentsCss));var s=i.baseHref?'<base href="'+i.baseHref+'" data-cke-temp="1" />':"";o&&(t=t.replace(/<!DOCTYPE[^>]*>/i,function(t){return n.docType=a=t,""}).replace(/<\?xml\s[^\?]*\?>/i,function(t){return n.xmlDeclaration=t,""})),t=n.dataProcessor.toHtml(t),o?(/<body[\s|>]/.test(t)||(t="<body>"+t),/<html[\s|>]/.test(t)||(t="<html>"+t+"</html>"),/<head[\s|>]/.test(t)?/<title[\s|>]/.test(t)||(t=t.replace(/<head[^>]*>/,"$&<title></title>")):t=t.replace(/<html[^>]*>/,"$&<head><title></title></head>"),s&&(t=t.replace(/<head[^>]*?>/,"$&"+s)),t=t.replace(/<\/head\s*>/,r+"$&"),t=a+t):t=i.docType+'<html dir="'+i.contentsLangDirection+'" lang="'+(i.contentsLanguage||n.langCode)+'"><head><title>'+this._.docTitle+"</title>"+s+r+"</head><body"+(i.bodyId?' id="'+i.bodyId+'"':"")+(i.bodyClass?' class="'+i.bodyClass+'"':"")+">"+t+"</body></html>",CKEDITOR.env.gecko&&(t=t.replace(/<body/,'<body contenteditable="true" '),CKEDITOR.env.version<2e4&&(t=t.replace(/<body[^>]*>/,"$&<!-- cke-content-start -->"))),i='<script id="cke_actscrpt" type="text/javascript"'+(CKEDITOR.env.ie?' defer="defer" ':"")+">var wasLoaded=0;function onload(){if(!wasLoaded)window.parent.CKEDITOR.tools.callFunction("+this._.frameLoadedHandler+",window);wasLoaded=1;}"+(CKEDITOR.env.ie?"onload();":'document.addEventListener("DOMContentLoaded", onload, false );')+"</script>",CKEDITOR.env.ie&&CKEDITOR.env.version<9&&(i+='<script id="cke_shimscrpt">window.parent.CKEDITOR.tools.enableHtml5Elements(document)</script>'),s&&CKEDITOR.env.ie&&CKEDITOR.env.version<10&&(i+='<script id="cke_basetagscrpt">var baseTag = document.querySelector( "base" );baseTag.href = baseTag.href;</script>'),t=t.replace(/(?=\s*<\/(:?head)>)/,i),this.clearCustomData(),this.clearListeners(),n.fire("contentDomUnload");var l=this.getDocument();try{l.write(t)}catch(d){setTimeout(function(){l.write(t)},0)}}},getData:function(t){if(t)return this.getHtml();var e=(t=this.editor).config,n=(a=e.fullPage)&&t.docType,i=a&&t.xmlDeclaration,o=this.getDocument(),a=a?o.getDocumentElement().getOuterHtml():o.getBody().getHtml();return CKEDITOR.env.gecko&&e.enterMode!=CKEDITOR.ENTER_BR&&(a=a.replace(/<br>(?=\s*(:?$|<\/body>))/,"")),a=t.dataProcessor.toDataFormat(a),i&&(a=i+"\n"+a),n&&(a=n+"\n"+a),a},focus:function(){this._.isLoadingData?this._.isPendingFocus=!0:d.baseProto.focus.call(this)},detach:function(){var t,e=this.editor,n=e.document;try{t=e.window.getFrame()}catch(i){}d.baseProto.detach.call(this),this.clearCustomData(),n.getDocumentElement().clearCustomData(),CKEDITOR.tools.removeFunction(this._.frameLoadedHandler),t&&t.getParent()?(t.clearCustomData(),(e=t.removeCustomData("onResize"))&&e.removeListener(),t.remove()):CKEDITOR.warn("editor-destroy-iframe")}}})}(),CKEDITOR.config.disableObjectResizing=!1,CKEDITOR.config.disableNativeTableHandles=!0,CKEDITOR.config.disableNativeSpellChecker=!0,function(){function o(t,e){if(e||(e=t.getSelection().getSelectedElement()),e&&e.is("img")&&!e.data("cke-realelement")&&!e.isReadOnly())return e}function a(t){var e=t.getStyle("float");return"inherit"!=e&&"none"!=e||(e=0),e||(e=t.getAttribute("align")),e}CKEDITOR.plugins.add("image",{requires:"dialog",init:function(e){if(!e.plugins.image2){CKEDITOR.dialog.add("image",this.path+"dialogs/image.js");var t="img[alt,!src]{border-style,border-width,float,height,margin,margin-bottom,margin-left,margin-right,margin-top,width}";CKEDITOR.dialog.isTabEnabled(e,"image","advanced")&&(t="img[alt,dir,id,lang,longdesc,!src,title]{*}(*)"),e.addCommand("image",new CKEDITOR.dialogCommand("image",{allowedContent:t,requiredContent:"img[alt,src]",contentTransformations:[["img{width}: sizeToStyle","img[width]: sizeToAttribute"],["img{float}: alignmentToStyle","img[align]: alignmentToAttribute"]]})),e.ui.addButton&&e.ui.addButton("Image",{label:e.lang.common.image,command:"image",toolbar:"insert,10"}),e.on("doubleclick",function(t){var e=t.data.element;!e.is("img")||e.data("cke-realelement")||e.isReadOnly()||(t.data.dialog="image")}),e.addMenuItems&&e.addMenuItems({image:{label:e.lang.image.menu,command:"image",group:"image"}}),e.contextMenu&&e.contextMenu.addListener(function(t){if(o(e,t))return{image:CKEDITOR.TRISTATE_OFF}})}},afterInit:function(i){function t(n){var t=i.getCommand("justify"+n);t&&("left"!=n&&"right"!=n||t.on("exec",function(t){var e=o(i);e&&(a(e)==n?(e.removeStyle("float"),n==a(e)&&e.removeAttribute("align")):e.setStyle("float",n),t.cancel())}),t.on("refresh",function(t){var e=o(i);e&&(e=a(e),this.setState(e==n?CKEDITOR.TRISTATE_ON:"right"==n||"left"==n?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED),t.cancel())}))}i.plugins.image2||(t("left"),t("right"),t("center"),t("block"))}})}(),CKEDITOR.config.image_removeLinkByEmptyURL=!0,function(){function e(e,t){var n,i;t.on("refresh",function(t){var e,n=[o];for(e in t.data.states)n.push(t.data.states[e]);this.setState(CKEDITOR.tools.search(n,a)?a:o)},t,null,100),t.on("exec",function(t){n=e.getSelection(),i=n.createBookmarks(1),t.data||(t.data={}),t.data.done=!1},t,null,0),t.on("exec",function(){e.forceNextSelectionCheck(),n.selectBookmarks(i)},t,null,100)}var o=CKEDITOR.TRISTATE_DISABLED,a=CKEDITOR.TRISTATE_OFF;CKEDITOR.plugins.add("indent",{init:function(l){var t=CKEDITOR.plugins.indent.genericDefinition;e(l,l.addCommand("indent",new t(!0))),e(l,l.addCommand("outdent",new t)),l.ui.addButton&&(l.ui.addButton("Indent",{label:l.lang.indent.indent,command:"indent",directional:!0,toolbar:"indent,20"}),l.ui.addButton("Outdent",{label:l.lang.indent.outdent,command:"outdent",directional:!0,toolbar:"indent,10"})),l.on("dirChanged",function(t){var e=l.createRange(),n=t.data.node;e.setStartBefore(n),e.setEndAfter(n);for(var i,o=new CKEDITOR.dom.walker(e);i=o.next();)if(i.type==CKEDITOR.NODE_ELEMENT)if(!i.equals(n)&&i.getDirection())e.setStartAfter(i),o=new CKEDITOR.dom.walker(e);else{var a=l.config.indentClasses;if(a)for(var r="ltr"==t.data.dir?["_rtl",""]:["","_rtl"],s=0;s<a.length;s++)i.hasClass(a[s]+r[0])&&(i.removeClass(a[s]+r[0]),i.addClass(a[s]+r[1]));a=i.getStyle("margin-right"),r=i.getStyle("margin-left"),a?i.setStyle("margin-left",a):i.removeStyle("margin-left"),r?i.setStyle("margin-right",r):i.removeStyle("margin-right")}})}}),CKEDITOR.plugins.indent={genericDefinition:function(t){this.isIndent=!!t,this.startDisabled=!this.isIndent},specificDefinition:function(t,e,n){this.name=e,this.editor=t,this.jobs={},this.enterBr=t.config.enterMode==CKEDITOR.ENTER_BR,this.isIndent=!!n,this.relatedGlobal=n?"indent":"outdent",this.indentKey=n?9:CKEDITOR.SHIFT+9,this.database={}},registerCommands:function(t,e){t.on("pluginsLoaded",function(){for(var t in e)!function(e,n){var i,t=e.getCommand(n.relatedGlobal);for(i in n.jobs)t.on("exec",function(t){t.data.done||(e.fire("lockSnapshot"),n.execJob(e,i)&&(t.data.done=!0),e.fire("unlockSnapshot"),CKEDITOR.dom.element.clearAllMarkers(n.database))},this,null,i),t.on("refresh",function(t){t.data.states||(t.data.states={}),t.data.states[n.name+"@"+i]=n.refreshJob(e,i,t.data.path)},this,null,i);e.addFeature(n)}(this,e[t])})}},CKEDITOR.plugins.indent.genericDefinition.prototype={context:"p",exec:function(){}},CKEDITOR.plugins.indent.specificDefinition.prototype={execJob:function(t,e){var n=this.jobs[e];if(n.state!=o)return n.exec.call(this,t)},refreshJob:function(t,e,n){return e=this.jobs[e],t.activeFilter.checkFeature(this)?e.state=e.refresh.call(this,t,n):e.state=o,e.state},getContext:function(t){return t.contains(this.context)}}}(),function(){function i(t,e,n){if(!t.getCustomData("indent_processed")){var i=this.editor,o=this.isIndent;if(e){if(n=0,(i=t.$.className.match(this.classNameRegex))&&(i=i[1],n=CKEDITOR.tools.indexOf(e,i)+1),(n+=o?1:-1)<0)return;n=Math.min(n,e.length),n=Math.max(n,0),t.$.className=CKEDITOR.tools.ltrim(t.$.className.replace(this.classNameRegex,"")),0<n&&t.addClass(e[n-1])}else{e=r(t,n),n=parseInt(t.getStyle(e),10);var a=i.config.indentOffset||40;if(isNaN(n)&&(n=0),(n+=(o?1:-1)*a)<0)return;n=Math.max(n,0),n=Math.ceil(n/a)*a,t.setStyle(e,n?n+(i.config.indentUnit||"px"):""),""===t.getAttribute("style")&&t.removeAttribute("style")}CKEDITOR.dom.element.setMarker(this.database,t,"indent_processed",1)}}function r(t,e){return"ltr"==(e||t.getComputedStyle("direction"))?"margin-left":"margin-right"}var s=CKEDITOR.dtd.$listItem,o=CKEDITOR.dtd.$list,l=CKEDITOR.TRISTATE_DISABLED,c=CKEDITOR.TRISTATE_OFF;CKEDITOR.plugins.add("indentblock",{requires:"indent",init:function(t){function e(){n.specificDefinition.apply(this,arguments),this.allowedContent={"div h1 h2 h3 h4 h5 h6 ol p pre ul":{propertiesOnly:!0,styles:a?null:"margin-left,margin-right",classes:a||null}},this.contentTransformations=[["div: splitMarginShorthand"],["h1: splitMarginShorthand"],["h2: splitMarginShorthand"],["h3: splitMarginShorthand"],["h4: splitMarginShorthand"],["h5: splitMarginShorthand"],["h6: splitMarginShorthand"],["ol: splitMarginShorthand"],["p: splitMarginShorthand"],["pre: splitMarginShorthand"],["ul: splitMarginShorthand"]],this.enterBr&&(this.allowedContent.div=!0),this.requiredContent=(this.enterBr?"div":"p")+(a?"("+a.join(",")+")":"{margin-left}"),this.jobs={20:{refresh:function(t,e){if(!(n=e.block||e.blockLimit).is(s))var n=(i=n.getAscendant(s))&&e.contains(i)||n;if(n.is(s)&&(n=n.getParent()),this.enterBr||this.getContext(e)){if(a){var i=a,o=(n=n.$.className.match(this.classNameRegex),this.isIndent);return(i=n?!o||n[1]!=i.slice(-1):o)?c:l}return this.isIndent?c:n?CKEDITOR[(parseInt(n.getStyle(r(n)),10)||0)<=0?"TRISTATE_DISABLED":"TRISTATE_OFF"]:l}return l},exec:function(t){var e,n=(n=t.getSelection())&&n.getRanges()[0];if(e=t.elementPath().contains(o))i.call(this,e,a);else for(n=n.createIterator(),t=t.config.enterMode,n.enforceRealBlocks=!0,n.enlargeBr=t!=CKEDITOR.ENTER_BR;e=n.getNextParagraph(t==CKEDITOR.ENTER_P?"p":"div");)e.isReadOnly()||i.call(this,e,a);return!0}}}}var n=CKEDITOR.plugins.indent,a=t.config.indentClasses;n.registerCommands(t,{indentblock:new e(t,"indentblock",!0),outdentblock:new e(t,"outdentblock")}),CKEDITOR.tools.extend(e.prototype,n.specificDefinition.prototype,{context:{div:1,dl:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,ul:1,ol:1,p:1,pre:1,table:1},classNameRegex:a?new RegExp("(?:^|\\s+)("+a.join("|")+")(?=$|\\s)"):null})}})}(),function(){function o(d){function t(t){for(var e=u.startContainer,n=u.endContainer;e&&!e.getParent().equals(t);)e=e.getParent();for(;n&&!n.getParent().equals(t);)n=n.getParent();if(!e||!n)return!1;for(var i=e,o=(e=[],!1);!o;)i.equals(n)&&(o=!0),e.push(i),i=i.getNext();if(e.length<1)return!1;for(i=t.getParents(!0),n=0;n<i.length;n++)if(i[n].getName&&p[i[n].getName()]){t=i[n];break}i=h.isIndent?1:-1,n=e[0],e=e[e.length-1];var a=(o=CKEDITOR.plugins.list.listToArray(t,f))[e.getCustomData("listarray_index")].indent;for(n=n.getCustomData("listarray_index");n<=e.getCustomData("listarray_index");n++)if(o[n].indent+=i,0<i){var r=o[n].parent;o[n].parent=new CKEDITOR.dom.element(r.getName(),r.getDocument())}for(n=e.getCustomData("listarray_index")+1;n<o.length&&o[n].indent>a;n++)o[n].indent+=i;var s;if((e=CKEDITOR.plugins.list.arrayToList(o,f,null,d.config.enterMode,t.getDirection()),!h.isIndent)&&((s=t.getParent())&&s.is("li"))){var l,c=[];for(n=(i=e.listNode.getChildren()).count()-1;0<=n;n--)(l=i.getItem(n))&&l.is&&l.is("li")&&c.push(l)}if(e&&e.listNode.replace(t),c&&c.length)for(n=0;n<c.length;n++){for(l=t=c[n];(l=l.getNext())&&l.is&&l.getName()in p;)CKEDITOR.env.needsNbspFiller&&!t.getFirst(m)&&t.append(u.document.createText("\xa0")),t.append(l);t.insertAfter(s)}return e&&d.fire("contentDomInvalidated"),!0}for(var u,h=this,f=this.database,p=this.context,e=((e=d.getSelection())&&e.getRanges()).createIterator();u=e.getNextRange();){for(var n=u.getCommonAncestor();n&&(n.type!=CKEDITOR.NODE_ELEMENT||!p[n.getName()]);){if(d.editable().equals(n)){n=!1;break}n=n.getParent()}if(n||(n=u.startPath().contains(p))&&u.setEndAt(n,CKEDITOR.POSITION_BEFORE_END),!n){var i=u.getEnclosedNode();i&&i.type==CKEDITOR.NODE_ELEMENT&&i.getName()in p&&(u.setStartAt(i,CKEDITOR.POSITION_AFTER_START),u.setEndAt(i,CKEDITOR.POSITION_BEFORE_END),n=i)}if(n&&u.startContainer.type==CKEDITOR.NODE_ELEMENT&&u.startContainer.getName()in p&&((i=new CKEDITOR.dom.walker(u)).evaluator=a,u.startContainer=i.next()),n&&u.endContainer.type==CKEDITOR.NODE_ELEMENT&&u.endContainer.getName()in p&&((i=new CKEDITOR.dom.walker(u)).evaluator=a,u.endContainer=i.previous()),n)return t(n)}return 0}function a(t){return t.type==CKEDITOR.NODE_ELEMENT&&t.is("li")}function m(t){return e(t)&&n(t)}var e=CKEDITOR.dom.walker.whitespaces(!0),n=CKEDITOR.dom.walker.bookmark(!1,!0),r=CKEDITOR.TRISTATE_DISABLED,s=CKEDITOR.TRISTATE_OFF;CKEDITOR.plugins.add("indentlist",{requires:"indent",init:function(t){function e(i){n.specificDefinition.apply(this,arguments),this.requiredContent=["ul","ol"],i.on("key",function(t){var e=i.elementPath();if("wysiwyg"==i.mode&&t.data.keyCode==this.indentKey&&e){var n=this.getContext(e);!n||this.isIndent&&CKEDITOR.plugins.indentList.firstItemInPath(this.context,e,n)||(i.execCommand(this.relatedGlobal),t.cancel())}},this),this.jobs[this.isIndent?10:30]={refresh:this.isIndent?function(t,e){var n=this.getContext(e),i=CKEDITOR.plugins.indentList.firstItemInPath(this.context,e,n);return n&&this.isIndent&&!i?s:r}:function(t,e){return!this.getContext(e)||this.isIndent?r:s},exec:CKEDITOR.tools.bind(o,this)}}var n=CKEDITOR.plugins.indent;n.registerCommands(t,{indentlist:new e(t,"indentlist",!0),outdentlist:new e(t,"outdentlist")}),CKEDITOR.tools.extend(e.prototype,n.specificDefinition.prototype,{context:{ol:1,ul:1}})}}),CKEDITOR.plugins.indentList={},CKEDITOR.plugins.indentList.firstItemInPath=function(t,e,n){var i=e.contains(a);return n||(n=e.contains(t)),n&&i&&i.equals(n.getFirst(a))}}(),CKEDITOR.plugins.add("smiley",{requires:"dialog",init:function(t){t.config.smiley_path=t.config.smiley_path||this.path+"images/",t.addCommand("smiley",new CKEDITOR.dialogCommand("smiley",{allowedContent:"img[alt,height,!src,title,width]",requiredContent:"img"})),t.ui.addButton&&t.ui.addButton("Smiley",{label:t.lang.smiley.toolbar,command:"smiley",toolbar:"insert,50"}),CKEDITOR.dialog.add("smiley",this.path+"dialogs/smiley.js")}}),CKEDITOR.config.smiley_images="regular_smile.png sad_smile.png wink_smile.png teeth_smile.png confused_smile.png tongue_smile.png embarrassed_smile.png omg_smile.png whatchutalkingabout_smile.png angry_smile.png angel_smile.png shades_smile.png devil_smile.png cry_smile.png lightbulb.png thumbs_down.png thumbs_up.png heart.png broken_heart.png kiss.png envelope.png".split(" "),CKEDITOR.config.smiley_descriptions="smiley;sad;wink;laugh;frown;cheeky;blush;surprise;indecision;angry;angel;cool;devil;crying;enlightened;no;yes;heart;broken heart;kiss;mail".split(";"),function(){function h(t,e){var n;if(e=void 0===e||e)n=t.getComputedStyle("text-align");else{for(;(!t.hasAttribute||!t.hasAttribute("align")&&!t.getStyle("text-align"))&&(n=t.getParent());)t=n;n=t.getStyle("text-align")||t.getAttribute("align")||""}return n&&(n=n.replace(/(?:-(?:moz|webkit)-)?(?:start|auto)/i,"")),!n&&e&&(n="rtl"==t.getComputedStyle("direction")?"right":"left"),n}function a(t,e,n){this.editor=t,this.name=e,this.value=n,this.context="p",e=t.config.justifyClasses;var i=t.config.enterMode==CKEDITOR.ENTER_P?"p":"div";if(e){switch(n){case"left":this.cssClassName=e[0];break;case"center":this.cssClassName=e[1];break;case"right":this.cssClassName=e[2];break;case"justify":this.cssClassName=e[3]}this.cssClassRegex=new RegExp("(?:^|\\s+)(?:"+e.join("|")+")(?=$|\\s)"),this.requiredContent=i+"("+this.cssClassName+")"}else this.requiredContent=i+"{text-align}";this.allowedContent={"caption div h1 h2 h3 h4 h5 h6 p pre td th li":{propertiesOnly:!0,styles:this.cssClassName?null:"text-align",classes:this.cssClassName||null}},t.config.enterMode==CKEDITOR.ENTER_BR&&(this.allowedContent.div=!0)}function r(t){var e=t.editor,n=e.createRange();n.setStartBefore(t.data.node),n.setEndAfter(t.data.node);for(var i,o=new CKEDITOR.dom.walker(n);i=o.next();)if(i.type==CKEDITOR.NODE_ELEMENT)if(!i.equals(t.data.node)&&i.getDirection())n.setStartAfter(i),o=new CKEDITOR.dom.walker(n);else{var a=e.config.justifyClasses;a&&(i.hasClass(a[0])?(
i.removeClass(a[0]),i.addClass(a[2])):i.hasClass(a[2])&&(i.removeClass(a[2]),i.addClass(a[0]))),"left"==(a=i.getStyle("text-align"))?i.setStyle("text-align","right"):"right"==a&&i.setStyle("text-align","left")}}a.prototype={exec:function(t){var e=t.getSelection(),n=t.config.enterMode;if(e){for(var i,o,a=e.createBookmarks(),r=e.getRanges(),s=this.cssClassName,l=void 0===(l=t.config.useComputedState)||l,c=r.length-1;0<=c;c--)for((i=r[c].createIterator()).enlargeBr=n!=CKEDITOR.ENTER_BR;o=i.getNextParagraph(n==CKEDITOR.ENTER_P?"p":"div");)if(!o.isReadOnly()){o.removeAttribute("align"),o.removeStyle("text-align");var d=s&&(o.$.className=CKEDITOR.tools.ltrim(o.$.className.replace(this.cssClassRegex,""))),u=this.state==CKEDITOR.TRISTATE_OFF&&(!l||h(o,!0)!=this.value);s?u?o.addClass(s):d||o.removeAttribute("class"):u&&o.setStyle("text-align",this.value)}t.focus(),t.forceNextSelectionCheck(),e.selectBookmarks(a)}},refresh:function(t,e){var n=e.block||e.blockLimit;this.setState("body"!=n.getName()&&h(n,this.editor.config.useComputedState)==this.value?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF)}},CKEDITOR.plugins.add("justify",{init:function(t){if(!t.blockless){var e=new a(t,"justifyleft","left"),n=new a(t,"justifycenter","center"),i=new a(t,"justifyright","right"),o=new a(t,"justifyblock","justify");t.addCommand("justifyleft",e),t.addCommand("justifycenter",n),t.addCommand("justifyright",i),t.addCommand("justifyblock",o),t.ui.addButton&&(t.ui.addButton("JustifyLeft",{label:t.lang.justify.left,command:"justifyleft",toolbar:"align,10"}),t.ui.addButton("JustifyCenter",{label:t.lang.justify.center,command:"justifycenter",toolbar:"align,20"}),t.ui.addButton("JustifyRight",{label:t.lang.justify.right,command:"justifyright",toolbar:"align,30"}),t.ui.addButton("JustifyBlock",{label:t.lang.justify.block,command:"justifyblock",toolbar:"align,40"})),t.on("dirChanged",r)}}})}(),CKEDITOR.plugins.add("menubutton",{requires:"button,menu",onLoad:function(){var e=function(e){var n=this._,t=n.menu;n.state!==CKEDITOR.TRISTATE_DISABLED&&(n.on&&t?t.hide():(n.previousState=n.state,t||((t=n.menu=new CKEDITOR.menu(e,{panel:{className:"cke_menu_panel",attributes:{"aria-label":e.lang.common.options}}})).onHide=CKEDITOR.tools.bind(function(){var t=this.command?e.getCommand(this.command).modes:this.modes;this.setState(!t||t[e.mode]?n.previousState:CKEDITOR.TRISTATE_DISABLED),n.on=0},this),this.onMenu&&t.addListener(this.onMenu)),this.setState(CKEDITOR.TRISTATE_ON),n.on=1,setTimeout(function(){t.show(CKEDITOR.document.getById(n.id),4)},0)))};CKEDITOR.ui.menuButton=CKEDITOR.tools.createClass({base:CKEDITOR.ui.button,$:function(t){delete t.panel,this.base(t),this.hasArrow=!0,this.click=e},statics:{handler:{create:function(t){return new CKEDITOR.ui.menuButton(t)}}}})},beforeInit:function(t){t.ui.addHandler(CKEDITOR.UI_MENUBUTTON,CKEDITOR.ui.menuButton.handler)}}),CKEDITOR.UI_MENUBUTTON="menubutton",CKEDITOR.plugins.add("language",{requires:"menubutton",init:function(i){var t,e,n,o,a=i.config.language_list||["ar:Arabic:rtl","fr:French","es:Spanish"],r=this,s=i.lang.language,l={};for(i.addCommand("language",{allowedContent:"span[!lang,!dir]",requiredContent:"span[lang,dir]",contextSensitive:!0,exec:function(t,e){var n=l["language_"+e];n&&t[n.style.checkActive(t.elementPath(),t)?"removeStyle":"applyStyle"](n.style)},refresh:function(t){this.setState(r.getCurrentLangElement(t)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF)}}),o=0;o<a.length;o++)e=(t=a[o].split(":"))[0],l[n="language_"+e]={label:t[1],langId:e,group:"language",order:o,ltr:"rtl"!=(""+t[2]).toLowerCase(),onClick:function(){i.execCommand("language",this.langId)},role:"menuitemcheckbox"},l[n].style=new CKEDITOR.style({element:"span",attributes:{lang:e,dir:l[n].ltr?"ltr":"rtl"}});l.language_remove={label:s.remove,group:"language_remove",state:CKEDITOR.TRISTATE_DISABLED,order:l.length,onClick:function(){var t=r.getCurrentLangElement(i);t&&i.execCommand("language",t.getAttribute("lang"))}},i.addMenuGroup("language",1),i.addMenuGroup("language_remove"),i.addMenuItems(l),i.ui.add("Language",CKEDITOR.UI_MENUBUTTON,{label:s.button,allowedContent:"span[!lang,!dir]",requiredContent:"span[lang,dir]",toolbar:"bidi,30",command:"language",onMenu:function(){var t,e={},n=r.getCurrentLangElement(i);for(t in l)e[t]=CKEDITOR.TRISTATE_OFF;return e.language_remove=n?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,n&&(e["language_"+n.getAttribute("lang")]=CKEDITOR.TRISTATE_ON),e}})},getCurrentLangElement:function(t){var e,n=t.elementPath();if(t=n&&n.elements,n)for(var i=0;i<t.length;i++)n=t[i],!e&&"span"==n.getName()&&n.hasAttribute("dir")&&n.hasAttribute("lang")&&(e=n);return e}}),function(){function u(t){return t.replace(/'/g,"\\$&")}function h(t){for(var e,n=t.length,i=[],o=0;o<n;o++)e=t.charCodeAt(o),i.push(e);return"String.fromCharCode("+i.join(",")+")"}function f(t,e){var n,i,o=t.plugins.link,a=o.compiledProtectionFunction.params;i=[o.compiledProtectionFunction.name,"("];for(var r=0;r<a.length;r++)n=e[o=a[r].toLowerCase()],0<r&&i.push(","),i.push("'",n?u(encodeURIComponent(e[o])):"","'");return i.push(")"),i.join("")}function e(t){var i;return(t=t.config.emailProtection||"")&&"encode"!=t&&(i={},t.replace(/^([^(]+)\(([^)]+)\)$/,function(t,e,n){i.name=e,i.params=[],n.replace(/[^,\s]+/g,function(t){i.params.push(t)})})),i}CKEDITOR.plugins.add("link",{requires:"dialog,fakeobjects",onLoad:function(){function t(t){return n.replace(/%1/g,"rtl"==t?"right":"left").replace(/%2/g,"cke_contents_"+t)}var e="background:url("+CKEDITOR.getUrl(this.path+"images"+(CKEDITOR.env.hidpi?"/hidpi":"")+"/anchor.png")+") no-repeat %1 center;border:1px dotted #00f;background-size:16px;",n=".%2 a.cke_anchor,.%2 a.cke_anchor_empty,.cke_editable.%2 a[name],.cke_editable.%2 a[data-cke-saved-name]{"+e+"padding-%1:18px;cursor:auto;}.%2 img.cke_anchor{"+e+"width:16px;min-height:15px;height:1.15em;vertical-align:text-bottom;}";CKEDITOR.addCss(t("ltr")+t("rtl"))},init:function(n){var t="a[!href]";CKEDITOR.dialog.isTabEnabled(n,"link","advanced")&&(t=t.replace("]",",accesskey,charset,dir,id,lang,name,rel,tabindex,title,type,download]{*}(*)")),CKEDITOR.dialog.isTabEnabled(n,"link","target")&&(t=t.replace("]",",target,onclick]")),n.addCommand("link",new CKEDITOR.dialogCommand("link",{allowedContent:t,requiredContent:"a[href]"})),n.addCommand("anchor",new CKEDITOR.dialogCommand("anchor",{allowedContent:"a[!name,id]",requiredContent:"a[name]"})),n.addCommand("unlink",new CKEDITOR.unlinkCommand),n.addCommand("removeAnchor",new CKEDITOR.removeAnchorCommand),n.setKeystroke(CKEDITOR.CTRL+76,"link"),n.ui.addButton&&(n.ui.addButton("Link",{label:n.lang.link.toolbar,command:"link",toolbar:"links,10"}),n.ui.addButton("Unlink",{label:n.lang.link.unlink,command:"unlink",toolbar:"links,20"}),n.ui.addButton("Anchor",{label:n.lang.link.anchor.toolbar,command:"anchor",toolbar:"links,30"})),CKEDITOR.dialog.add("link",this.path+"dialogs/link.js"),CKEDITOR.dialog.add("anchor",this.path+"dialogs/anchor.js"),n.on("doubleclick",function(t){var e=CKEDITOR.plugins.link.getSelectedLink(n)||t.data.element.getAscendant("a",1);e&&!e.isReadOnly()&&(e.is("a")?(t.data.dialog=!e.getAttribute("name")||e.getAttribute("href")&&e.getChildCount()?"link":"anchor",t.data.link=e):CKEDITOR.plugins.link.tryRestoreFakeAnchor(n,e)&&(t.data.dialog="anchor"))},null,null,0),n.on("doubleclick",function(t){t.data.dialog in{link:1,anchor:1}&&t.data.link&&n.getSelection().selectElement(t.data.link)},null,null,20),n.addMenuItems&&n.addMenuItems({anchor:{label:n.lang.link.anchor.menu,command:"anchor",group:"anchor",order:1},removeAnchor:{label:n.lang.link.anchor.remove,command:"removeAnchor",group:"anchor",order:5},link:{label:n.lang.link.menu,command:"link",group:"link",order:1},unlink:{label:n.lang.link.unlink,command:"unlink",group:"link",order:5}}),n.contextMenu&&n.contextMenu.addListener(function(t){if(!t||t.isReadOnly())return null;if(!(t=CKEDITOR.plugins.link.tryRestoreFakeAnchor(n,t))&&!(t=CKEDITOR.plugins.link.getSelectedLink(n)))return null;var e={};return t.getAttribute("href")&&t.getChildCount()&&(e={link:CKEDITOR.TRISTATE_OFF,unlink:CKEDITOR.TRISTATE_OFF}),t&&t.hasAttribute("name")&&(e.anchor=e.removeAnchor=CKEDITOR.TRISTATE_OFF),e}),this.compiledProtectionFunction=e(n)},afterInit:function(n){n.dataProcessor.dataFilter.addRules({elements:{a:function(t){return t.attributes.name?t.children.length?null:n.createFakeParserElement(t,"cke_anchor","anchor"):null}}});var t=n._.elementsPath&&n._.elementsPath.filters;t&&t.push(function(t,e){if("a"==e&&(CKEDITOR.plugins.link.tryRestoreFakeAnchor(n,t)||t.getAttribute("name")&&(!t.getAttribute("href")||!t.getChildCount())))return"anchor"})}});var c=/^javascript:/,d=/^mailto:([^?]+)(?:\?(.+))?$/,p=/subject=([^;?:@&=$,\/]*)/i,m=/body=([^;?:@&=$,\/]*)/i,g=/^#(.*)$/,v=/^((?:http|https|ftp|news):\/\/)?(.*)$/,E=/^(_(?:self|top|parent|blank))$/,T=/^javascript:void\(location\.href='mailto:'\+String\.fromCharCode\(([^)]+)\)(?:\+'(.*)')?\)$/,b=/^javascript:([^(]+)\(([^)]+)\)$/,C=/\s*window.open\(\s*this\.href\s*,\s*(?:'([^']*)'|null)\s*,\s*'([^']*)'\s*\)\s*;\s*return\s*false;*\s*/,y=/(?:^|,)([^=]+)=(\d+|yes|no)/gi,D={id:"advId",dir:"advLangDir",accessKey:"advAccessKey",name:"advName",lang:"advLangCode",tabindex:"advTabIndex",title:"advTitle",type:"advContentType","class":"advCSSClasses",charset:"advCharset",style:"advStyles",rel:"advRel"};CKEDITOR.plugins.link={getSelectedLink:function(t,e){var n,i=t.getSelection(),o=i.getSelectedElement(),a=i.getRanges(),r=[];if(!e&&o&&o.is("a"))return o;for(o=0;o<a.length;o++)if((n=i.getRanges()[o]).shrink(CKEDITOR.SHRINK_TEXT,!1,{skipBogus:!0}),(n=t.elementPath(n.getCommonAncestor()).contains("a",1))&&e)r.push(n);else if(n)return n;return e?r:null},getEditorAnchors:function(t){for(var e,n=(i=(n=t.editable()).isInline()&&!t.plugins.divarea?t.document:n).getElementsByTag("a"),i=i.getElementsByTag("img"),o=[],a=0;e=n.getItem(a++);)(e.data("cke-saved-name")||e.hasAttribute("name"))&&o.push({name:e.data("cke-saved-name")||e.getAttribute("name"),id:e.getAttribute("id")});for(a=0;e=i.getItem(a++);)(e=this.tryRestoreFakeAnchor(t,e))&&o.push({name:e.getAttribute("name"),id:e.getAttribute("id")});return o},fakeAnchor:!0,tryRestoreFakeAnchor:function(t,e){if(e&&e.data("cke-real-element-type")&&"anchor"==e.data("cke-real-element-type")){var n=t.restoreRealElement(e);if(n.data("cke-saved-name"))return n}},parseLinkAttributes:function(t,e){var n,i=e&&(e.data("cke-saved-href")||e.getAttribute("href"))||"",r=t.plugins.link.compiledProtectionFunction,o=t.config.emailProtection,s={};if(i.match(c)&&("encode"==o?i=i.replace(T,function(t,e,n){return n=n||"","mailto:"+String.fromCharCode.apply(String,e.split(","))+n.replace(/\\'/g,"'")}):o&&i.replace(b,function(t,e,n){if(e==r.name){s.type="email",t=s.email={},e=/(^')|('$)/g;for(var i,o=(n=n.match(/[^,\s]+/g)).length,a=0;a<o;a++)i=decodeURIComponent(i=n[a].replace(e,"").replace(/\\'/g,"'")),t[r.params[a].toLowerCase()]=i;t.address=[t.name,t.domain].join("@")}})),!s.type)if(o=i.match(g))s.type="anchor",s.anchor={},s.anchor.name=s.anchor.id=o[1];else if(o=i.match(d)){n=i.match(p),i=i.match(m),s.type="email";var a=s.email={};a.address=o[1],n&&(a.subject=decodeURIComponent(n[1])),i&&(a.body=decodeURIComponent(i[1]))}else i&&(n=i.match(v))&&(s.type="url",s.url={},s.url.protocol=n[1],s.url.url=n[2]);if(e){if(i=e.getAttribute("target"))s.target={type:i.match(E)?i:"frame",name:i};else if(i=(i=e.data("cke-pa-onclick")||e.getAttribute("onclick"))&&i.match(C))for(s.target={type:"popup",name:i[1]};o=y.exec(i[2]);)"yes"!=o[2]&&"1"!=o[2]||o[1]in{height:1,width:1,top:1,left:1}?isFinite(o[2])&&(s.target[o[1]]=o[2]):s.target[o[1]]=!0;null!==e.getAttribute("download")&&(s.download=!0);var l;i={};for(l in D)(o=e.getAttribute(l))&&(i[D[l]]=o);(l=e.data("cke-saved-name")||i.advName)&&(i.advName=l),CKEDITOR.tools.isEmpty(i)||(s.advanced=i)}return s},getLinkAttributes:function(t,e){var n=t.config.emailProtection||"",i={};switch(e.type){case"url":n=e.url&&void 0!==e.url.protocol?e.url.protocol:"http://";var o=e.url&&CKEDITOR.tools.trim(e.url.url)||"";i["data-cke-saved-href"]=0===o.indexOf("/")?o:n+o;break;case"anchor":n=e.anchor&&e.anchor.id,i["data-cke-saved-href"]="#"+(e.anchor&&e.anchor.name||n||"");break;case"email":o=(s=e.email).address;switch(n){case"":case"encode":var a=encodeURIComponent(s.subject||""),r=encodeURIComponent(s.body||""),s=[];a&&s.push("subject="+a),r&&s.push("body="+r),s=s.length?"?"+s.join("&"):"","encode"==n?(n=["javascript:void(location.href='mailto:'+",h(o)],s&&n.push("+'",u(s),"'"),n.push(")")):n=["mailto:",o,s];break;default:n=o.split("@",2),s.name=n[0],s.domain=n[1],n=["javascript:",f(t,s)]}i["data-cke-saved-href"]=n.join("")}if(e.target)if("popup"==e.target.type){n=["window.open(this.href, '",e.target.name||"","', '"];var l="resizable status location toolbar menubar fullscreen scrollbars dependent".split(" ");for(o=l.length,a=function(t){e.target[t]&&l.push(t+"="+e.target[t])},s=0;s<o;s++)l[s]+=e.target[l[s]]?"=yes":"=no";a("width"),a("left"),a("height"),a("top"),n.push(l.join(","),"'); return false;"),i["data-cke-pa-onclick"]=n.join("")}else"notSet"!=e.target.type&&e.target.name&&(i.target=e.target.name);if(e.download&&(i.download=""),e.advanced){for(var c in D)(n=e.advanced[D[c]])&&(i[c]=n);i.name&&(i["data-cke-saved-name"]=i.name)}for(var d in i["data-cke-saved-href"]&&(i.href=i["data-cke-saved-href"]),c={target:1,onclick:1,"data-cke-pa-onclick":1,"data-cke-saved-name":1,download:1},e.advanced&&CKEDITOR.tools.extend(c,D),i)delete c[d];return{set:i,removed:CKEDITOR.tools.objectKeys(c)}},showDisplayTextForElement:function(t,e){var n={img:1,table:1,tbody:1,thead:1,tfoot:1,input:1,select:1,textarea:1},i=e.getSelection();return!(e.widgets&&e.widgets.focused||i&&1<i.getRanges().length)&&(!t||!t.getName||!t.is(n))}},CKEDITOR.unlinkCommand=function(){},CKEDITOR.unlinkCommand.prototype={exec:function(t){if(CKEDITOR.env.ie){var e,n=t.getSelection().getRanges()[0],i=n.getPreviousEditableNode()&&n.getPreviousEditableNode().getAscendant("a",!0)||n.getNextEditableNode()&&n.getNextEditableNode().getAscendant("a",!0);n.collapsed&&i&&(e=n.createBookmark(),n.selectNodeContents(i),n.select())}i=new CKEDITOR.style({element:"a",type:CKEDITOR.STYLE_INLINE,alwaysRemoveElement:1}),t.removeStyle(i),e&&(n.moveToBookmark(e),n.select())},refresh:function(t,e){var n=e.lastElement&&e.lastElement.getAscendant("a",!0);n&&"a"==n.getName()&&n.getAttribute("href")&&n.getChildCount()?this.setState(CKEDITOR.TRISTATE_OFF):this.setState(CKEDITOR.TRISTATE_DISABLED)},contextSensitive:1,startDisabled:1,requiredContent:"a[href]",editorFocus:1},CKEDITOR.removeAnchorCommand=function(){},CKEDITOR.removeAnchorCommand.prototype={exec:function(t){var e,n=t.getSelection(),i=n.createBookmarks();n&&(e=n.getSelectedElement())&&(e.getChildCount()?e.is("a"):CKEDITOR.plugins.link.tryRestoreFakeAnchor(t,e))?e.remove(1):(e=CKEDITOR.plugins.link.getSelectedLink(t))&&(e.hasAttribute("href")?(e.removeAttributes({name:1,"data-cke-saved-name":1}),e.removeClass("cke_anchor")):e.remove(1)),n.selectBookmarks(i)},requiredContent:"a[name]"},CKEDITOR.tools.extend(CKEDITOR.config,{linkShowAdvancedTab:!0,linkShowTargetTab:!0})}(),function(){function v(e,n,t){function i(t){!(l=d[t?"getFirst":"getLast"]())||l.is&&l.isBlockBoundary()||!(c=n.root[t?"getPrevious":"getNext"](CKEDITOR.dom.walker.invisible(!0)))||c.is&&c.isBlockBoundary({br:1})||e.document.createElement("br")[t?"insertBefore":"insertAfter"](l)}for(var o=CKEDITOR.plugins.list.listToArray(n.root,t),a=[],r=0;r<n.contents.length;r++){var s=n.contents[r];(s=s.getAscendant("li",!0))&&!s.getCustomData("list_item_processed")&&(a.push(s),CKEDITOR.dom.element.setMarker(t,s,"list_item_processed",!0))}for(s=null,r=0;r<a.length;r++)o[s=a[r].getCustomData("listarray_index")].indent=-1;for(r=s+1;r<o.length;r++)if(o[r].indent>o[r-1].indent+1){for(a=o[r-1].indent+1-o[r].indent,s=o[r].indent;o[r]&&o[r].indent>=s;)o[r].indent+=a,r++;r--}var l,c,d=CKEDITOR.plugins.list.arrayToList(o,t,null,e.config.enterMode,n.root.getAttribute("dir")).listNode;i(!0),i(),d.replace(n.root),e.fire("contentDomInvalidated")}function t(t,e){this.name=t,this.context=this.type=e,this.allowedContent=e+" li",this.requiredContent=e}function c(t,e,n,i){for(var o,a;o=t[i?"getLast":"getFirst"](r);)(a=o.getDirection(1))!==e.getDirection(1)&&o.setAttribute("dir",a),o.remove(),n?o[i?"insertBefore":"insertAfter"](n):e.append(o,i)}function E(n){function t(t){var e=n[t?"getPrevious":"getNext"](R);e&&e.type==CKEDITOR.NODE_ELEMENT&&e.is(n.getName())&&(c(n,e,null,!t),n.remove(),n=e)}t(),t(1)}function u(t){return t.type==CKEDITOR.NODE_ELEMENT&&(t.getName()in CKEDITOR.dtd.$block||t.getName()in CKEDITOR.dtd.$listItem)&&CKEDITOR.dtd[t.getName()]["#"]}function h(t,e,n){t.fire("saveSnapshot"),n.enlarge(CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS);var i=n.extractContents();e.trim(!1,!0);var o=e.createBookmark(),a=(r=new CKEDITOR.dom.elementPath(e.startContainer)).block,r=r.lastElement.getAscendant("li",1)||a,s=(l=new CKEDITOR.dom.elementPath(n.startContainer)).contains(CKEDITOR.dtd.$listItem),l=l.contains(CKEDITOR.dtd.$list);for(a?(a=a.getBogus())&&a.remove():l&&(a=l.getPrevious(R))&&p(a)&&a.remove(),(a=i.getLast())&&a.type==CKEDITOR.NODE_ELEMENT&&a.is("br")&&a.remove(),(a=e.startContainer.getChild(e.startOffset))?i.insertBefore(a):e.startContainer.append(i),s&&(i=f(s))&&(r.contains(s)?(c(i,s.getParent(),s),i.remove()):r.append(i));n.checkStartOfBlock()&&n.checkEndOfBlock()&&(i=(l=n.startPath()).block);)i.is("li")&&(r=i.getParent(),i.equals(r.getLast(R))&&i.equals(r.getFirst(R))&&(i=r)),n.moveToPosition(i,CKEDITOR.POSITION_BEFORE_START),i.remove();n=n.clone(),i=t.editable(),n.setEndAt(i,CKEDITOR.POSITION_BEFORE_END),(n=new CKEDITOR.dom.walker(n)).evaluator=function(t){return R(t)&&!p(t)},(n=n.next())&&n.type==CKEDITOR.NODE_ELEMENT&&n.getName()in CKEDITOR.dtd.$list&&E(n),e.moveToBookmark(o),e.select(),t.fire("saveSnapshot")}function f(t){return(t=t.getLast(R))&&t.type==CKEDITOR.NODE_ELEMENT&&t.getName()in I?t:null}var I={ol:1,ul:1},e=CKEDITOR.dom.walker.whitespaces(),O=CKEDITOR.dom.walker.bookmark(),R=function(t){return!(e(t)||O(t))},p=CKEDITOR.dom.walker.bogus();CKEDITOR.plugins.list={listToArray:function(t,e,n,i,o){if(!I[t.getName()])return[];i||(i=0),n||(n=[]);for(var a=0,r=t.getChildCount();a<r;a++){var s=t.getChild(a);if(s.type==CKEDITOR.NODE_ELEMENT&&s.getName()in CKEDITOR.dtd.$list&&CKEDITOR.plugins.list.listToArray(s,e,n,i+1),"li"==s.$.nodeName.toLowerCase()){var l={parent:t,indent:i,element:s,contents:[]};o?l.grandparent=o:(l.grandparent=t.getParent(),l.grandparent&&"li"==l.grandparent.$.nodeName.toLowerCase()&&(l.grandparent=l.grandparent.getParent())),e&&CKEDITOR.dom.element.setMarker(e,s,"listarray_index",n.length),n.push(l);for(var c,d=0,u=s.getChildCount();d<u;d++)(c=s.getChild(d)).type==CKEDITOR.NODE_ELEMENT&&I[c.getName()]?CKEDITOR.plugins.list.listToArray(c,e,n,i+1,l.grandparent):l.contents.push(c)}}return n},arrayToList:function(t,e,n,i,o){if(n||(n=0),!t||t.length<n+1)return null;for(var a,r,s,l=t[n].parent.getDocument(),c=new CKEDITOR.dom.documentFragment(l),d=null,u=n,h=Math.max(t[n].indent,0),f=null,p=i==CKEDITOR.ENTER_P?"p":"div";;){var m=t[u];if(a=m.grandparent,r=m.element.getDirection(1),m.indent==h){for(d&&t[u].parent.getName()==d.getName()||(d=t[u].parent.clone(!1,1),o&&d.setAttribute("dir",o),c.append(d)),f=d.append(m.element.clone(0,1)),r!=d.getDirection(1)&&f.setAttribute("dir",r),a=0;a<m.contents.length;a++)f.append(m.contents[a].clone(1,1));u++}else if(m.indent==Math.max(h,0)+1)m=t[u-1].element.getDirection(1),u=CKEDITOR.plugins.list.arrayToList(t,null,u,i,m!=r?r:null),!f.getChildCount()&&CKEDITOR.env.needsNbspFiller&&l.$.documentMode<=7&&f.append(l.createText("\xa0")),f.append(u.listNode),u=u.nextIndex;else{if(-1!=m.indent||n||!a)return null;I[a.getName()]?(f=m.element.clone(!1,!0),r!=a.getDirection(1)&&f.setAttribute("dir",r)):f=new CKEDITOR.dom.documentFragment(l);d=a.getDirection(1)!=r;var g,v,E=m.element,T=E.getAttribute("class"),b=E.getAttribute("style"),C=f.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT&&(i!=CKEDITOR.ENTER_BR||d||b||T),y=m.contents.length;for(a=0;a<y;a++)if(g=m.contents[a],O(g)&&1<y)C?v=g.clone(1,1):f.append(g.clone(1,1));else if(g.type==CKEDITOR.NODE_ELEMENT&&g.isBlockBoundary()){d&&!g.getDirection()&&g.setAttribute("dir",r),s=g;var D=E.getAttribute("style");D&&s.setAttribute("style",D.replace(/([^;])$/,"$1;")+(s.getAttribute("style")||"")),T&&g.addClass(T),s=null,v&&(f.append(v),v=null),f.append(g.clone(1,1))}else C?(s||(s=l.createElement(p),f.append(s),d&&s.setAttribute("dir",r)),b&&s.setAttribute("style",b),T&&s.setAttribute("class",T),v&&(s.append(v),v=null),s.append(g.clone(1,1))):f.append(g.clone(1,1));v&&((s||f).append(v),v=null),f.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT&&u!=t.length-1&&(CKEDITOR.env.needsBrFiller&&(r=f.getLast())&&r.type==CKEDITOR.NODE_ELEMENT&&r.is("br")&&r.remove(),(r=f.getLast(R))&&r.type==CKEDITOR.NODE_ELEMENT&&r.is(CKEDITOR.dtd.$block)||f.append(l.createElement("br"))),"div"!=(r=f.$.nodeName.toLowerCase())&&"p"!=r||f.appendBogus(),c.append(f),d=null,u++}if(s=null,t.length<=u||Math.max(t[u].indent,0)<h)break}if(e)for(t=c.getFirst();t;){if(t.type==CKEDITOR.NODE_ELEMENT&&(CKEDITOR.dom.element.clearMarkers(e,t),t.getName()in CKEDITOR.dtd.$listItem&&(l=o=i=void 0,i=(n=t).getDirection()))){for(o=n.getParent();o&&!(l=o.getDirection());)o=o.getParent();i==l&&n.removeAttribute("dir")}t=t.getNextSourceNode()}return{listNode:c,nextIndex:u}}};var T=/^h[1-6]$/,r=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_ELEMENT);t.prototype={exec:function(t){this.refresh(t,t.elementPath());var e=t.config,n=t.getSelection(),i=n&&n.getRanges();if(this.state==CKEDITOR.TRISTATE_OFF)if((a=t.editable()).getFirst(R)){var o=1==i.length&&i[0];(e=o&&o.getEnclosedNode())&&e.is&&this.type==e.getName()&&this.setState(CKEDITOR.TRISTATE_ON)}else e.enterMode==CKEDITOR.ENTER_BR?a.appendBogus():i[0].fixBlock(1,e.enterMode==CKEDITOR.ENTER_P?"p":"div"),n.selectRanges(i);e=n.createBookmarks(!0);for(var a=[],r={},s=(i=i.createIterator(),0);(o=i.getNextRange())&&++s;){var l=(m=o.getBoundaryNodes()).startNode,c=m.endNode;for(l.type==CKEDITOR.NODE_ELEMENT&&"td"==l.getName()&&o.setStartAt(m.startNode,CKEDITOR.POSITION_AFTER_START),c.type==CKEDITOR.NODE_ELEMENT&&"td"==c.getName()&&o.setEndAt(m.endNode,CKEDITOR.POSITION_BEFORE_END),(o=o.createIterator()).forceBrBreak=this.state==CKEDITOR.TRISTATE_OFF;m=o.getNextParagraph();)if(!m.getCustomData("list_block")){CKEDITOR.dom.element.setMarker(r,m,"list_block",1);l=(u=t.elementPath(m)).elements,c=0;for(var d,u=u.blockLimit,h=l.length-1;0<=h&&(d=l[h]);h--)if(I[d.getName()]&&u.contains(d)){u.removeCustomData("list_group_object_"+s),(l=d.getCustomData("list_group_object"))?l.contents.push(m):(l={root:d,contents:[m]},a.push(l),CKEDITOR.dom.element.setMarker(r,d,"list_group_object",l)),c=1;break}c||((c=u).getCustomData("list_group_object_"+s)?c.getCustomData("list_group_object_"+s).contents.push(m):(l={root:c,contents:[m]},CKEDITOR.dom.element.setMarker(r,c,"list_group_object_"+s,l),a.push(l)))}}for(d=[];0<a.length;)if(l=a.shift(),this.state==CKEDITOR.TRISTATE_OFF)if(I[l.root.getName()]){for(i=t,s=l,l=r,o=d,c=CKEDITOR.plugins.list.listToArray(s.root,l),u=[],m=0;m<s.contents.length;m++)(h=(h=s.contents[m]).getAscendant("li",!0))&&!h.getCustomData("list_item_processed")&&(u.push(h),CKEDITOR.dom.element.setMarker(l,h,"list_item_processed",!0));h=s.root.getDocument();for(var f=void 0,p=void 0,m=0;m<u.length;m++){var g=u[m].getCustomData("listarray_index");(f=c[g].parent).is(this.type)||(p=h.createElement(this.type),f.copyAttributes(p,{start:1,type:1}),p.removeStyle("list-style-type"),c[g].parent=p)}for(l=CKEDITOR.plugins.list.arrayToList(c,l,null,i.config.enterMode),c=void 0,u=l.listNode.getChildCount(),m=0;m<u&&(c=l.listNode.getChild(m));m++)c.getName()==this.type&&o.push(c);l.listNode.replace(s.root),i.fire("contentDomInvalidated")}else{for(c=t,m=d,u=(o=l).contents,i=o.root.getDocument(),s=[],1==u.length&&u[0].equals(o.root)&&(l=i.createElement("div"),u[0].moveChildren&&u[0].moveChildren(l),u[0].append(l),u[0]=l),o=o.contents[0].getParent(),h=0;h<u.length;h++)o=o.getCommonAncestor(u[h].getParent());for(f=c.config.useComputedState,c=l=void 0,f=void 0===f||f,h=0;h<u.length;h++)for(p=u[h];g=p.getParent();){if(g.equals(o)){s.push(p),!c&&p.getDirection()&&(c=1),p=p.getDirection(f),null!==l&&(l=l&&l!=p?null:p);break}p=g}if(!(s.length<1)){for(u=s[s.length-1].getNext(),h=i.createElement(this.type),m.push(h),f=m=void 0;s.length;)m=s.shift(),f=i.createElement("li"),(p=m).is("pre")||T.test(p.getName())||"false"==p.getAttribute("contenteditable")?m.appendTo(f):(m.copyAttributes(f),l&&m.getDirection()&&(f.removeStyle("direction"),f.removeAttribute("dir")),m.moveChildren(f),m.remove()),f.appendTo(h);l&&c&&h.setAttribute("dir",l),u?h.insertBefore(u):h.appendTo(o)}}else this.state==CKEDITOR.TRISTATE_ON&&I[l.root.getName()]&&v.call(this,t,l,r);for(h=0;h<d.length;h++)E(d[h]);CKEDITOR.dom.element.clearAllMarkers(r),n.selectBookmarks(e),t.focus()},refresh:function(t,e){var n=e.contains(I,1),i=e.blockLimit||e.root;n&&i.contains(n)?this.setState(n.is(this.type)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF):this.setState(CKEDITOR.TRISTATE_OFF)}},CKEDITOR.plugins.add("list",{requires:"indentlist",init:function(d){d.blockless||(d.addCommand("numberedlist",new t("numberedlist","ol")),d.addCommand("bulletedlist",new t("bulletedlist","ul")),d.ui.addButton&&(d.ui.addButton("NumberedList",{label:d.lang.list.numberedlist,command:"numberedlist",directional:!0,toolbar:"list,10"}),d.ui.addButton("BulletedList",{label:d.lang.list.bulletedlist,command:"bulletedlist",directional:!0,toolbar:"list,20"})),d.on("key",function(t){var e,n=t.data.domEvent.getKey();if("wysiwyg"==d.mode&&n in{8:1,46:1}){var i=d.getSelection().getRanges()[0],o=i&&i.startPath();if(i&&i.collapsed){var a,r=8==n,s=d.editable(),l=new CKEDITOR.dom.walker(i.clone());if(l.evaluator=function(t){return R(t)&&!p(t)},l.guard=function(t,e){return!(e&&t.type==CKEDITOR.NODE_ELEMENT&&t.is("table"))},n=i.clone(),r)if((a=o.contains(I))&&i.checkBoundaryOfElement(a,CKEDITOR.START)&&(a=a.getParent())&&a.is("li")&&(a=f(a))?(a=(e=a).getPrevious(R),n.moveToPosition(a&&p(a)?a:e,CKEDITOR.POSITION_BEFORE_START)):(l.range.setStartAt(s,CKEDITOR.POSITION_AFTER_START),l.range.setEnd(i.startContainer,i.startOffset),(a=l.previous())&&a.type==CKEDITOR.NODE_ELEMENT&&(a.getName()in I||a.is("li"))&&(a.is("li")||(l.range.selectNodeContents(a),l.reset(),l.evaluator=u,a=l.previous()),e=a,n.moveToElementEditEnd(e),n.moveToPosition(n.endPath().block,CKEDITOR.POSITION_BEFORE_END))),e)h(d,n,i),t.cancel();else{var c=o.contains(I);c&&i.checkBoundaryOfElement(c,CKEDITOR.START)&&(e=c.getFirst(R),i.checkBoundaryOfElement(e,CKEDITOR.START)&&(a=c.getPrevious(R),f(e)?a&&(i.moveToElementEditEnd(a),i.select()):d.execCommand("outdent"),t.cancel()))}else if(e=o.contains("li")){if(l.range.setEndAt(s,CKEDITOR.POSITION_BEFORE_END),r=(s=e.getLast(R))&&u(s)?s:e,o=0,(a=l.next())&&a.type==CKEDITOR.NODE_ELEMENT&&a.getName()in I&&a.equals(s)?(o=1,a=l.next()):i.checkBoundaryOfElement(r,CKEDITOR.END)&&(o=2),o&&a){if((i=i.clone()).moveToElementEditStart(a),1==o&&(n.optimize(),!n.startContainer.equals(e))){for(e=n.startContainer;e.is(CKEDITOR.dtd.$inline);)e=(c=e).getParent();c&&n.moveToPosition(c,CKEDITOR.POSITION_AFTER_END)}2==o&&(n.moveToPosition(n.endPath().block,CKEDITOR.POSITION_BEFORE_END),i.endPath().block&&i.moveToPosition(i.endPath().block,CKEDITOR.POSITION_AFTER_START)),h(d,n,i),t.cancel()}}else l.range.setEndAt(s,CKEDITOR.POSITION_BEFORE_END),(a=l.next())&&a.type==CKEDITOR.NODE_ELEMENT&&a.is(I)&&(a=a.getFirst(R),o.block&&i.checkStartOfBlock()&&i.checkEndOfBlock()?(o.block.remove(),i.moveToElementEditStart(a),i.select()):f(a)?(i.moveToElementEditStart(a),i.select()):((i=i.clone()).moveToElementEditStart(a),h(d,n,i)),t.cancel());setTimeout(function(){d.selectionChange(1)})}}}))}})}(),CKEDITOR.plugins.liststyle={requires:"dialog,contextmenu",init:function(t){var e;t.blockless||(e=new CKEDITOR.dialogCommand("numberedListStyle",{requiredContent:"ol",allowedContent:"ol{list-style-type}[start]; li{list-style-type}[value]",contentTransformations:[["ol: listTypeToStyle"]]}),e=t.addCommand("numberedListStyle",e),t.addFeature(e),CKEDITOR.dialog.add("numberedListStyle",this.path+"dialogs/liststyle.js"),e=new CKEDITOR.dialogCommand("bulletedListStyle",{requiredContent:"ul",allowedContent:"ul{list-style-type}",contentTransformations:[["ul: listTypeToStyle"]]}),e=t.addCommand("bulletedListStyle",e),t.addFeature(e),CKEDITOR.dialog.add("bulletedListStyle",this.path+"dialogs/liststyle.js"),t.addMenuGroup("list",108),t.addMenuItems({numberedlist:{label:t.lang.liststyle.numberedTitle,group:"list",command:"numberedListStyle"},bulletedlist:{label:t.lang.liststyle.bulletedTitle,group:"list",command:"bulletedListStyle"}}),t.contextMenu.addListener(function(t){if(!t||t.isReadOnly())return null;for(;t;){var e=t.getName();if("ol"==e)return{numberedlist:CKEDITOR.TRISTATE_OFF};if("ul"==e)return{bulletedlist:CKEDITOR.TRISTATE_OFF};t=t.getParent()}return null}))}},CKEDITOR.plugins.add("liststyle",CKEDITOR.plugins.liststyle),function(){function d(t,e,n){return T(e)&&T(n)&&n.equals(e.getNext(function(t){return!(Z(t)||Q(t)||b(t))}))}function u(t){this.upper=t[0],this.lower=t[1],this.set.apply(this,t.slice(2))}function c(t){var e=t.element;if(e&&T(e)&&(e=e.getAscendant(t.triggers,!0))&&t.editable.contains(e)){var n=r(e);if("true"==n.getAttribute("contenteditable"))return e;if(n.is(t.triggers))return n}return null}function h(t,e,n){return _(t,e),_(t,n),t=e.size.bottom,n=n.size.top,t&&n?0|(t+n)/2:t||n}function f(e,t,n){return t[n?"getPrevious":"getNext"](function(t){return t&&t.type==CKEDITOR.NODE_TEXT&&!Z(t)||T(t)&&!b(t)&&!E(e,t)})}function p(t,e,n){return e<t&&t<n}function r(t,e){if(t.data("cke-editable"))return null;for(e||(t=t.getParent());t&&!t.data("cke-editable");){if(t.hasAttribute("contenteditable"))return t;t=t.getParent()}return null}function m(c){var t=c.doc,e=i('<span contenteditable="false" style="'+U+"position:absolute;border-top:1px dashed "+c.boxColor+'"></span>',t),n=CKEDITOR.getUrl(this.path+"images/"+(N.hidpi?"hidpi/":"")+"icon"+(c.rtl?"-rtl":"")+".png");for(S(e,{attach:function(){return this.wrap.getParent()||this.wrap.appendTo(c.editable,!0),this},lineChildren:[S(i('<span title="'+c.editor.lang.magicline.title+'" contenteditable="false">&#8629;</span>',t),{base:U+"height:17px;width:17px;"+(c.rtl?"left":"right")+":17px;background:url("+n+") center no-repeat "+c.boxColor+";cursor:pointer;"+(N.hc?"font-size: 15px;line-height:14px;border:1px solid #fff;text-align:center;":"")+(N.hidpi?"background-size: 9px 10px;":""),looks:["top:-8px; border-radius: 2px;","top:-17px; border-radius: 2px 2px 0px 0px;","top:-1px; border-radius: 0px 0px 2px 2px;"]}),S(i(G,t),{base:Y+"left:0px;border-left-color:"+c.boxColor+";",looks:["border-width:8px 0 8px 8px;top:-8px","border-width:8px 0 0 8px;top:-8px","border-width:0 0 8px 8px;top:0px"]}),S(i(G,t),{base:Y+"right:0px;border-right-color:"+c.boxColor+";",looks:["border-width:8px 8px 8px 0;top:-8px","border-width:8px 8px 0 0;top:-8px","border-width:0 8px 8px 0;top:0px"]})],detach:function(){return this.wrap.getParent()&&this.wrap.remove(),this},mouseNear:function(){_(c,this);var t=c.holdDistance,e=this.size;return!!(e&&p(c.mouse.y,e.top-t,e.bottom+t)&&p(c.mouse.x,e.left-t,e.right+t))},place:function(){var t=c.view,e=c.editable,n=c.trigger,i=n.upper,o=n.lower,a=i||o,r=a.getParent(),s={};for(var l in this.trigger=n,i&&_(c,i,!0),o&&_(c,o,!0),_(c,r,!0),c.inInlineMode&&x(c,!0),r.equals(e)?(s.left=t.scroll.x,s.right=-t.scroll.x,s.width=""):(s.left=a.size.left-a.size.margin.left+t.scroll.x-(c.inInlineMode?t.editable.left+t.editable.border.left:0),s.width=a.size.outerWidth+a.size.margin.left+a.size.margin.right+t.scroll.x,s.right=""),i&&o?s.top=i.size.margin.bottom===o.size.margin.top?0|i.size.bottom+i.size.margin.bottom/2:i.size.margin.bottom<o.size.margin.top?i.size.bottom+i.size.margin.bottom:i.size.bottom+i.size.margin.bottom-o.size.margin.top:i?o||(s.top=i.size.bottom+i.size.margin.bottom):s.top=o.size.top-o.size.margin.top,n.is($)||p(s.top,t.scroll.y-15,t.scroll.y+5)?(s.top=c.inInlineMode?0:t.scroll.y,this.look($)):n.is(H)||p(s.top,t.pane.bottom-5,t.pane.bottom+15)?(s.top=c.inInlineMode?t.editable.height+t.editable.padding.top+t.editable.padding.bottom:t.pane.bottom-1,this.look(H)):(c.inInlineMode&&(s.top-=t.editable.top+t.editable.border.top),this.look(z)),c.inInlineMode&&(s.top--,s.top+=t.editable.scroll.top,s.left+=t.editable.scroll.left),s)s[l]=CKEDITOR.tools.cssLength(s[l]);this.setStyles(s)},look:function(t){if(this.oldLook!=t){for(var e,n=this.lineChildren.length;n--;)(e=this.lineChildren[n]).setAttribute("style",e.base+e.looks[0|t/2])
;this.oldLook=t}},wrap:new s("span",c.doc)}),t=e.lineChildren.length;t--;)e.lineChildren[t].appendTo(e);e.look(z),e.appendTo(e.wrap),e.unselectable(),e.lineChildren[0].on("mouseup",function(t){e.detach(),g(c,function(t){var e=c.line.trigger;t[e.is(L)?"insertBefore":"insertAfter"](e.is(L)?e.lower:e.upper)},!0),c.editor.focus(),N.ie||c.enterMode==CKEDITOR.ENTER_BR||c.hotNode.scrollIntoView(),t.data.preventDefault(!0)}),e.on("mousedown",function(t){t.data.preventDefault(!0)}),c.line=e}function g(t,e,n){var i,o=new CKEDITOR.dom.range(t.doc),a=t.editor;N.ie&&t.enterMode==CKEDITOR.ENTER_BR?i=t.doc.createText(q):(i=(i=r(t.element,!0))&&i.data("cke-enter-mode")||t.enterMode,(i=new s(l[i],t.doc)).is("br")||t.doc.createText(q).appendTo(i)),n&&a.fire("saveSnapshot"),e(i),o.moveToPosition(i,CKEDITOR.POSITION_AFTER_START),a.getSelection().selectRanges([o]),t.hotNode=i,n&&a.fire("saveSnapshot")}function v(o,a){return{canUndo:!0,modes:{wysiwyg:1},exec:function(){function i(e){var t=N.ie&&N.version<9?" ":q,n=o.hotNode&&o.hotNode.getText()==t&&o.element.equals(o.hotNode)&&o.lastCmdDirection===!!a;g(o,function(t){n&&o.hotNode&&o.hotNode.remove(),t[a?"insertAfter":"insertBefore"](e),t.setAttributes({"data-cke-magicline-hot":1,"data-cke-magicline-dir":!!a}),o.lastCmdDirection=!!a}),N.ie||o.enterMode==CKEDITOR.ENTER_BR||o.hotNode.scrollIntoView(),o.line.detach()}return function(t){var e,n;(t=(t=t.getSelection().getStartElement()).getAscendant(V,1),D(o,t)||!t||t.equals(o.editable)||t.contains(o.editable))||((e=r(t))&&"false"==e.getAttribute("contenteditable")&&(t=e),o.element=t,T(e=f(o,t,!a))&&e.is(o.triggers)&&e.is(j)&&(!f(o,e,!a)||(n=f(o,e,!a))&&T(n)&&n.is(o.triggers))?i(e):T(n=c(o,t))&&(f(o,n,!a)?(t=f(o,n,!a))&&T(t)&&t.is(o.triggers)&&i(n):i(n)))}}()}}function E(t,e){if(!e||e.type!=CKEDITOR.NODE_ELEMENT||!e.$)return!1;var n=t.line;return n.wrap.equals(e)||n.wrap.contains(e)}function T(t){return t&&t.type==CKEDITOR.NODE_ELEMENT&&t.$}function b(t){return!!T(t)&&((e=C(t))||(T(t)?e=!(!(e={left:1,right:1,center:1})[t.getComputedStyle("float")]&&!e[t.getAttribute("align")]):e=!1),e);var e}function C(t){return!!{absolute:1,fixed:1}[t.getComputedStyle("position")]}function y(t,e){return T(e)?e.is(t.triggers):null}function D(t,e){if(!e)return!1;for(var n=e.getParents(1),i=n.length;i--;)for(var o=t.tabuList.length;o--;)if(n[i].hasAttribute(t.tabuList[o]))return!0;return!1}function I(e,t,n){return!!(t=t[n?"getLast":"getFirst"](function(t){return e.isRelevant(t)&&!t.is(o)}))&&(_(e,t),n?t.size.top>e.mouse.y:t.size.bottom<e.mouse.y)}function O(t){var e=t.editable,n=t.mouse,i=t.view,o=t.triggerOffset;x(t);var a=n.y>(t.inInlineMode?i.editable.top+i.editable.height/2:Math.min(i.editable.height,i.pane.height)/2);return(e=e[a?"getLast":"getFirst"](function(t){return!(Z(t)||Q(t))}))?(E(t,e)&&(e=t.line.wrap[a?"getPrevious":"getNext"](function(t){return!(Z(t)||Q(t))})),T(e)&&!b(e)&&y(t,e)?(_(t,e),!a&&0<=e.size.top&&p(n.y,0,e.size.top+o)?(t=t.inInlineMode||0===i.scroll.y?$:z,new u([null,e,L,B,t])):a&&e.size.bottom<=i.pane.height&&p(n.y,e.size.bottom-o,i.pane.height)?(t=t.inInlineMode||p(e.size.bottom,i.pane.height-o,i.pane.height)?H:z,new u([e,null,F,B,t])):null):null):null}function R(t){var e=t.mouse,n=t.view,i=t.triggerOffset,o=c(t);if(!o)return null;_(t,o);i=Math.min(i,0|o.size.outerHeight/2);var a,r,s=[];if(p(e.y,o.size.top-1,o.size.top+i))r=!1;else{if(!p(e.y,o.size.bottom-i,o.size.bottom+1))return null;r=!0}if(b(o)||I(t,o,r)||o.getParent().is(W))return null;var l=f(t,o,!r);if(l){if(l&&l.type==CKEDITOR.NODE_TEXT)return null;if(T(l)){if(b(l)||!y(t,l)||l.getParent().is(W))return null;s=[l,o][r?"reverse":"concat"]().concat([P,B])}}else o.equals(t.editable[r?"getLast":"getFirst"](t.isRelevant))?(x(t),r&&p(e.y,o.size.bottom-i,n.pane.height)&&p(o.size.bottom,n.pane.height-i,n.pane.height)?a=H:p(e.y,0,o.size.top+i)&&(a=$)):a=z,s=[null,o][r?"reverse":"concat"]().concat([r?F:L,B,a,o.equals(t.editable[r?"getLast":"getFirst"](t.isRelevant))?r?H:$:z]);return 0 in s?new u(s):null}function k(t,e,n,i){for(var o=e.getDocumentPosition(),a={},r={},s={},l={},c=tt.length;c--;)a[tt[c]]=parseInt(e.getComputedStyle.call(e,"border-"+tt[c]+"-width"),10)||0,s[tt[c]]=parseInt(e.getComputedStyle.call(e,"padding-"+tt[c]),10)||0,r[tt[c]]=parseInt(e.getComputedStyle.call(e,"margin-"+tt[c]),10)||0;return n&&!i||w(t,i),l.top=o.y-(n?0:t.view.scroll.y),l.left=o.x-(n?0:t.view.scroll.x),l.outerWidth=e.$.offsetWidth,l.outerHeight=e.$.offsetHeight,l.height=l.outerHeight-(s.top+s.bottom+a.top+a.bottom),l.width=l.outerWidth-(s.left+s.right+a.left+a.right),l.bottom=l.top+l.outerHeight,l.right=l.left+l.outerWidth,t.inInlineMode&&(l.scroll={top:e.$.scrollTop,left:e.$.scrollLeft}),S({border:a,padding:s,margin:r,ignoreScroll:n},l,!0)}function _(t,e,n){if(!T(e))return e.size=null;if(e.size){if(e.size.ignoreScroll==n&&e.size.date>new Date-a)return null}else e.size={};return S(e.size,k(t,e,n),{date:+new Date},!0)}function x(t,e){t.view.editable=k(t,t.editable,e,!0)}function w(t,e){t.view||(t.view={});var n=t.view;if(!(!e&&n&&n.date>new Date-a)){n=(i=t.win).getScrollPosition();var i=i.getViewPaneSize();S(t.view,{scroll:{x:n.x,y:n.y,width:t.doc.$.documentElement.scrollWidth-i.width,height:t.doc.$.documentElement.scrollHeight-i.height},pane:{width:i.width,height:i.height,bottom:i.height+n.y},date:+new Date},!0)}}function K(t,e,n,i){for(var o=i,a=i,r=0,s=!1,l=!1,c=t.view.pane.height,d=t.mouse;d.y+r<c&&0<d.y-r&&(s||(s=e(o,i)),l||(l=e(a,i)),!s&&0<d.y-r&&(o=n(t,{x:d.x,y:d.y-r})),!l&&d.y+r<c&&(a=n(t,{x:d.x,y:d.y+r})),!s||!l);)r+=2;return new u([o,a,null,null])}CKEDITOR.plugins.add("magicline",{init:function(o){var i,a,r,s=o.config,t=s.magicline_triggerOffset||30,l={editor:o,enterMode:s.enterMode,triggerOffset:t,holdDistance:0|t*(s.magicline_holdDistance||.5),boxColor:s.magicline_color||"#ff0000",rtl:"rtl"==s.contentsLangDirection,tabuList:["data-cke-hidden-sel"].concat(s.magicline_tabuList||[]),triggers:s.magicline_everywhere?V:{table:1,hr:1,div:1,ul:1,ol:1,dl:1,form:1,blockquote:1}};l.isRelevant=function(t){return T(t)&&!E(l,t)&&!b(t)},o.on("contentDom",function(){var t=o.editable(),e=o.document,n=o.window;S(l,{editable:t,inInlineMode:t.isInline(),doc:e,win:n,hotNode:null},!0),l.boundary=l.inInlineMode?l.editable:l.doc.getDocumentElement(),t.is(M.$inline)||(l.inInlineMode&&!C(t)&&t.setStyles({position:"relative",top:null,left:null}),m.call(this,l),w(l),t.attachListener(o,"beforeUndoImage",function(){l.line.detach()}),t.attachListener(o,"beforeGetData",function(){l.line.wrap.getParent()&&(l.line.detach(),o.once("getData",function(){l.line.attach()},null,null,1e3))},null,null,0),t.attachListener(l.inInlineMode?e:e.getWindow().getFrame(),"mouseout",function(t){if("wysiwyg"==o.mode)if(l.inInlineMode){var e=t.data.$.clientX;t=t.data.$.clientY,w(l),x(l,!0);var n=l.view.editable,i=l.view.scroll;e>n.left-i.x&&e<n.right-i.x&&t>n.top-i.y&&t<n.bottom-i.y||(clearTimeout(r),r=null,l.line.detach())}else clearTimeout(r),r=null,l.line.detach()}),t.attachListener(t,"keyup",function(){l.hiddenMode=0}),t.attachListener(t,"keydown",function(t){if("wysiwyg"==o.mode)switch(t.data.getKeystroke()){case 2228240:case 16:l.hiddenMode=1,l.line.detach()}}),t.attachListener(l.inInlineMode?t:e,"mousemove",function(t){if(a=!0,"wysiwyg"==o.mode&&!o.readOnly&&!r){var e={x:t.data.$.clientX,y:t.data.$.clientY};r=setTimeout(function(){l.mouse=e,r=l.trigger=null,w(l),a&&!l.hiddenMode&&o.focusManager.hasFocus&&!l.line.mouseNear()&&(l.element=X(l,!0))&&((l.trigger=O(l)||R(l)||J(l))&&!D(l,l.trigger.upper||l.trigger.lower)?l.line.attach().place():(l.trigger=null,l.line.detach()),a=!1)},30)}}),t.attachListener(n,"scroll",function(){"wysiwyg"==o.mode&&(l.line.detach(),N.webkit&&(l.hiddenMode=1,clearTimeout(i),i=setTimeout(function(){l.mouseDown||(l.hiddenMode=0)},50)))}),t.attachListener(A?e:n,"mousedown",function(){"wysiwyg"==o.mode&&(l.line.detach(),l.hiddenMode=1,l.mouseDown=1)}),t.attachListener(A?e:n,"mouseup",function(){l.hiddenMode=0,l.mouseDown=0}),o.addCommand("accessPreviousSpace",v(l)),o.addCommand("accessNextSpace",v(l,!0)),o.setKeystroke([[s.magicline_keystrokePrevious,"accessPreviousSpace"],[s.magicline_keystrokeNext,"accessNextSpace"]]),o.on("loadSnapshot",function(){var t,e,n,i;for(i in{p:1,br:1,div:1})for(n=(t=o.document.getElementsByTag(i)).count();n--;)if((e=t.getItem(n)).data("cke-magicline-hot"))return l.hotNode=e,void(l.lastCmdDirection="true"===e.data("cke-magicline-dir"))}),this.backdoor={accessFocusSpace:g,boxTrigger:u,isLine:E,getAscendantTrigger:c,getNonEmptyNeighbour:f,getSize:k,that:l,triggerEdge:R,triggerEditable:O,triggerExpand:J})},this)}});var S=CKEDITOR.tools.extend,s=CKEDITOR.dom.element,i=s.createFromHtml,N=CKEDITOR.env,A=CKEDITOR.env.ie&&CKEDITOR.env.version<9,M=CKEDITOR.dtd,l={},L=128,F=64,P=32,B=16,$=4,H=2,z=1,q="\xa0",W=M.$listItem,o=M.$tableContent,j=S({},M.$nonEditable,M.$empty),V=M.$block,a=100,U="width:0px;height:0px;padding:0px;margin:0px;display:block;z-index:9999;color:#fff;position:absolute;font-size: 0px;line-height:0px;",Y=U+"border-color:transparent;display:block;border-style:solid;",G="<span>"+q+"</span>";l[CKEDITOR.ENTER_BR]="br",l[CKEDITOR.ENTER_P]="p",l[CKEDITOR.ENTER_DIV]="div",u.prototype={set:function(t,e,n){return this.properties=t+e+(n||z),this},is:function(t){return(this.properties&t)==t}};var X=function(){function r(t,e){var n=t.$.elementFromPoint(e.x,e.y);return n&&n.nodeType?new CKEDITOR.dom.element(n):null}return function(t,e,n){if(!t.mouse)return null;var i=t.doc,o=t.line.wrap,a=r(i,n=n||t.mouse);return e&&E(t,a)&&(o.hide(),a=r(i,n),o.show()),!a||a.type!=CKEDITOR.NODE_ELEMENT||!a.$||N.ie&&N.version<9&&!t.boundary.equals(a)&&!t.boundary.contains(a)?null:a}}(),Z=CKEDITOR.dom.walker.whitespaces(),Q=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_COMMENT),J=function(){function o(e){var t,n,i;if(!T(l=e.element)||l.contains(e.editable)||l.isReadOnly())return null;if(t=(i=K(e,function(t,e){return!e.equals(t)},function(t,e){return X(t,!0,e)},l)).upper,n=i.lower,d(e,t,n))return i.set(P,8);if(t&&l.contains(t))for(;!t.getParent().equals(l);)t=t.getParent();else t=l.getFirst(function(t){return c(e,t)});if(n&&l.contains(n))for(;!n.getParent().equals(l);)n=n.getParent();else n=l.getLast(function(t){return c(e,t)});if(!t||!n)return null;if(_(e,t),_(e,n),!p(e.mouse.y,t.size.top,n.size.bottom))return null;for(var o,a,r,s,l=Number.MAX_VALUE;n&&!n.equals(t)&&(a=t.getNext(e.isRelevant));)(o=Math.abs(h(e,t,a)-e.mouse.y))<l&&(l=o,r=t,s=a),_(e,t=a);return r&&s&&p(e.mouse.y,r.size.top,s.size.bottom)?(i.upper=r,i.lower=s,i.set(P,8)):null}function c(t,e){return!(e&&e.type==CKEDITOR.NODE_TEXT||Q(e)||b(e)||E(t,e)||e.type==CKEDITOR.NODE_ELEMENT&&e.$&&e.is("br"))}return function(t){var e,n=o(t);if(e=n){e=n.upper;var i=n.lower;e=!(!e||!i||b(i)||b(e)||i.equals(e)||e.equals(i)||i.contains(e)||e.contains(i))&&!!(y(t,e)&&y(t,i)&&d(t,e,i))}return e?n:null}}(),tt=["top","left","right","bottom"]}(),CKEDITOR.config.magicline_keystrokePrevious=CKEDITOR.CTRL+CKEDITOR.SHIFT+51,CKEDITOR.config.magicline_keystrokeNext=CKEDITOR.CTRL+CKEDITOR.SHIFT+52,function(){function a(t){if(!t||t.type!=CKEDITOR.NODE_ELEMENT||"form"!=t.getName())return[];for(var e=[],n=["style","className"],i=0;i<n.length;i++){var o=t.$.elements.namedItem(n[i]);o&&(o=new CKEDITOR.dom.element(o),e.push([o,o.nextSibling]),o.remove())}return e}function r(t,e){if(t&&t.type==CKEDITOR.NODE_ELEMENT&&"form"==t.getName()&&0<e.length)for(var n=e.length-1;0<=n;n--){var i=e[n][0],o=e[n][1];o?i.insertBefore(o):i.appendTo(t)}}function p(t,e){var n=a(t),i={},o=t.$;return e||(i["class"]=o.className||"",o.className=""),i.inline=o.style.cssText||"",e||(o.style.cssText="position: static; overflow: visible"),r(n),i}function m(t,e){var n=a(t),i=t.$;"class"in e&&(i.className=e["class"]),"inline"in e&&(i.style.cssText=e.inline),r(n)}function g(t){if(!t.editable().isInline()){var e,n=CKEDITOR.instances;for(e in n){var i=n[e];"wysiwyg"!=i.mode||i.readOnly||((i=i.document.getBody()).setAttribute("contentEditable",!1),i.setAttribute("contentEditable",!0))}t.editable().hasFocus&&(t.toolbox.focus(),t.focus())}}CKEDITOR.plugins.add("maximize",{init:function(a){function r(){var t=h.getViewPaneSize();a.resize(t.width,t.height,null,!0)}if(a.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE){var s,l,c,d=a.lang,u=CKEDITOR.document,h=u.getWindow(),f=CKEDITOR.TRISTATE_OFF;a.addCommand("maximize",{modes:{wysiwyg:!CKEDITOR.env.iOS,source:!CKEDITOR.env.iOS},readOnly:1,editorFocus:!1,exec:function(){var t=a.container.getFirst(function(t){return t.type==CKEDITOR.NODE_ELEMENT&&t.hasClass("cke_inner")}),e=a.ui.space("contents");if("wysiwyg"==a.mode){var n=a.getSelection();s=n&&n.getRanges(),l=h.getScrollPosition()}else{var i=a.editable().$;s=!CKEDITOR.env.ie&&[i.selectionStart,i.selectionEnd],l=[i.scrollLeft,i.scrollTop]}if(this.state==CKEDITOR.TRISTATE_OFF){for(h.on("resize",r),c=h.getScrollPosition(),n=a.container;n=n.getParent();)n.setCustomData("maximize_saved_styles",p(n)),n.setStyle("z-index",a.config.baseFloatZIndex-5);e.setCustomData("maximize_saved_styles",p(e,!0)),t.setCustomData("maximize_saved_styles",p(t,!0)),e={overflow:CKEDITOR.env.webkit?"":"hidden",width:0,height:0},u.getDocumentElement().setStyles(e),!CKEDITOR.env.gecko&&u.getDocumentElement().setStyle("position","fixed"),CKEDITOR.env.gecko&&CKEDITOR.env.quirks||u.getBody().setStyles(e),CKEDITOR.env.ie?setTimeout(function(){h.$.scrollTo(0,0)},0):h.$.scrollTo(0,0),t.setStyle("position",CKEDITOR.env.gecko&&CKEDITOR.env.quirks?"fixed":"absolute"),t.$.offsetLeft,t.setStyles({"z-index":a.config.baseFloatZIndex-5,left:"0px",top:"0px"}),t.addClass("cke_maximized"),r(),e=t.getDocumentPosition(),t.setStyles({left:-1*e.x+"px",top:-1*e.y+"px"}),CKEDITOR.env.gecko&&g(a)}else if(this.state==CKEDITOR.TRISTATE_ON){h.removeListener("resize",r);n=[e,t];for(var o=0;o<n.length;o++)m(n[o],n[o].getCustomData("maximize_saved_styles")),n[o].removeCustomData("maximize_saved_styles");for(n=a.container;n=n.getParent();)m(n,n.getCustomData("maximize_saved_styles")),n.removeCustomData("maximize_saved_styles");CKEDITOR.env.ie?setTimeout(function(){h.$.scrollTo(c.x,c.y)},0):h.$.scrollTo(c.x,c.y),t.removeClass("cke_maximized"),CKEDITOR.env.webkit&&(t.setStyle("display","inline"),setTimeout(function(){t.setStyle("display","block")},0)),a.fire("resize",{outerHeight:a.container.$.offsetHeight,contentsHeight:e.$.offsetHeight,outerWidth:a.container.$.offsetWidth})}this.toggleState(),(n=this.uiItems[0])&&(e=this.state==CKEDITOR.TRISTATE_OFF?d.maximize.maximize:d.maximize.minimize,(n=CKEDITOR.document.getById(n._.id)).getChild(1).setHtml(e),n.setAttribute("title",e),n.setAttribute("href",'javascript:void("'+e+'");')),"wysiwyg"==a.mode?s?(CKEDITOR.env.gecko&&g(a),a.getSelection().selectRanges(s),(i=a.getSelection().getStartElement())&&i.scrollIntoView(!0)):h.$.scrollTo(l.x,l.y):(s&&(i.selectionStart=s[0],i.selectionEnd=s[1]),i.scrollLeft=l[0],i.scrollTop=l[1]),s=l=null,f=this.state,a.fire("maximize",this.state)},canUndo:!1}),a.ui.addButton&&a.ui.addButton("Maximize",{label:d.maximize.maximize,command:"maximize",toolbar:"tools,10"}),a.on("mode",function(){var t=a.getCommand("maximize");t.setState(t.state==CKEDITOR.TRISTATE_DISABLED?CKEDITOR.TRISTATE_DISABLED:f)},null,null,100)}}})}(),CKEDITOR.plugins.add("newpage",{init:function(t){t.addCommand("newpage",{modes:{wysiwyg:1,source:1},exec:function(t){var e=this;t.setData(t.config.newpage_html||"",function(){t.focus(),setTimeout(function(){t.fire("afterCommandExec",{name:"newpage",command:e}),t.selectionChange()},200)})},async:!0}),t.ui.addButton&&t.ui.addButton("NewPage",{label:t.lang.newpage.toolbar,command:"newpage",toolbar:"document,20"})}}),function(){function r(t){return{"aria-label":t,"class":"cke_pagebreak",contenteditable:"false","data-cke-display-name":"pagebreak","data-cke-pagebreak":1,style:"page-break-after: always",title:t}}CKEDITOR.plugins.add("pagebreak",{requires:"fakeobjects",onLoad:function(){var t=("background:url("+CKEDITOR.getUrl(this.path+"images/pagebreak.gif")+") no-repeat center center;clear:both;width:100%;border-top:#999 1px dotted;border-bottom:#999 1px dotted;padding:0;height:7px;cursor:default;").replace(/;/g," !important;");CKEDITOR.addCss("div.cke_pagebreak{"+t+"}")},init:function(e){e.blockless||(e.addCommand("pagebreak",CKEDITOR.plugins.pagebreakCmd),e.ui.addButton&&e.ui.addButton("PageBreak",{label:e.lang.pagebreak.toolbar,command:"pagebreak",toolbar:"insert,70"}),CKEDITOR.env.webkit&&e.on("contentDom",function(){e.document.on("click",function(t){(t=t.data.getTarget()).is("div")&&t.hasClass("cke_pagebreak")&&e.getSelection().selectElement(t)})}))},afterInit:function(e){function n(t){CKEDITOR.tools.extend(t.attributes,r(e.lang.pagebreak.alt),!0),t.children.length=0}var t=(i=e.dataProcessor)&&i.dataFilter,i=i&&i.htmlFilter,o=/page-break-after\s*:\s*always/i,a=/display\s*:\s*none/i;i&&i.addRules({attributes:{"class":function(t,e){var n=t.replace("cke_pagebreak","");if(n!=t){var i=CKEDITOR.htmlParser.fragment.fromHtml('<span style="display: none;">&nbsp;</span>').children[0];e.children.length=0,e.add(i),delete(i=e.attributes)["aria-label"],delete i.contenteditable,delete i.title}return n}}},{applyToAll:!0,priority:5}),t&&t.addRules({elements:{div:function(t){if(t.attributes["data-cke-pagebreak"])n(t);else if(o.test(t.attributes.style)){var e=t.children[0];e&&"span"==e.name&&a.test(e.attributes.style)&&n(t)}}}})}}),CKEDITOR.plugins.pagebreakCmd={exec:function(t){var e=t.document.createElement("div",{attributes:r(t.lang.pagebreak.alt)});t.insertElement(e)},context:"div",allowedContent:{div:{styles:"!page-break-after"},span:{match:function(t){return(t=t.parent)&&"div"==t.name&&t.styles&&t.styles["page-break-after"]},styles:"display"}},requiredContent:"div{page-break-after}"}}(),U={canUndo:!1,async:!0,exec:function(t,e){var n=t.lang,i=CKEDITOR.tools.keystrokeToString(n.common.keyboard,t.getCommandKeystroke(CKEDITOR.env.ie?t.commands.paste:this)),o=e&&"undefined"!=typeof e.notification?e.notification:!e||!e.from||"keystrokeHandler"===e.from&&CKEDITOR.env.ie;n=o&&"string"==typeof o?o:n.pastetext.pasteNotification.replace(/%1/,'<kbd aria-label="'+i.aria+'">'+i.display+"</kbd>");t.execCommand("paste",{type:"text",notification:!!o&&n})}},CKEDITOR.plugins.add("pastetext",{requires:"clipboard",init:function(e){var t=CKEDITOR.env.safari?CKEDITOR.CTRL+CKEDITOR.ALT+CKEDITOR.SHIFT+86:CKEDITOR.CTRL+CKEDITOR.SHIFT+86;e.addCommand("pastetext",U),e.setKeystroke(t,"pastetext"),e.ui.addButton&&e.ui.addButton("PasteText",{label:e.lang.pastetext.button,command:"pastetext",toolbar:"clipboard,40"}),e.config.forcePasteAsPlainText&&e.on("beforePaste",function(t){"html"!=t.data.type&&(t.data.type="text")}),e.on("pasteState",function(t){e.getCommand("pastetext").setState(t.data)})}}),function(){function c(t,e,n){var i=CKEDITOR.cleanWord;return i?n():(t=CKEDITOR.getUrl(t.config.pasteFromWordCleanupFile||e+"filter/default.js"),CKEDITOR.scriptLoader.load(t,n,null,!0)),!i}CKEDITOR.plugins.add("pastefromword",{requires:"clipboard",init:function(r){var s=0,l=this.path;r.addCommand("pastefromword",{canUndo:!1,async:!0,exec:function(t,e){s=1,t.execCommand("paste",{type:"html",notification:!e||"undefined"==typeof e.notification||e.notification})}}),r.ui.addButton&&r.ui.addButton("PasteFromWord",{label:r.lang.pastefromword.toolbar,command:"pastefromword",toolbar:"clipboard,50"}),r.on("paste",function(t){var e=t.data,n=(CKEDITOR.plugins.clipboard.isCustomDataTypesSupported?e.dataTransfer.getData("text/html",!0):null)||e.dataValue,i={dataValue:n},o=/(class=\"?Mso|style=(?:\"|\')[^\"]*?\bmso\-|w:WordDocument|<o:\w+>|<\/font>)/;o=/<meta\s*name=(?:\"|\')?generator(?:\"|\')?\s*content=(?:\"|\')?microsoft/gi.test(n)||o.test(n);if(n&&(s||o)&&(!1!==r.fire("pasteFromWord",i)||s)){e.dontFilter=!0;var a=c(r,l,function(){a?r.fire("paste",e):(!r.config.pasteFromWordPromptCleanup||s||confirm(r.lang.pastefromword.confirmCleanup))&&(i.dataValue=CKEDITOR.cleanWord(i.dataValue,r),r.fire("afterPasteFromWord",i),e.dataValue=i.dataValue),s=0});a&&t.cancel()}},null,null,3)}})}(),G={modes:{wysiwyg:1,source:1},canUndo:!1,readOnly:1,exec:function(t){var e,n=(i=t.config).baseHref?'<base href="'+i.baseHref+'"/>':"";if(i.fullPage)e=t.getData().replace(/<head>/,"$&"+n).replace(/[^>]*(?=<\/title>)/,"$& &mdash; "+t.lang.preview.preview);else{var i="<body ";(a=t.document&&t.document.getBody())&&(a.getAttribute("id")&&(i+='id="'+a.getAttribute("id")+'" '),a.getAttribute("class")&&(i+='class="'+a.getAttribute("class")+'" ')),i+=">",e=t.config.docType+'<html dir="'+t.config.contentsLangDirection+'"><head>'+n+"<title>"+t.lang.preview.preview+"</title>"+CKEDITOR.tools.buildStyleHtml(t.config.contentsCss)+"</head>"+i+t.getData()+"</body></html>"}n=640,i=420,a=80;try{var o=window.screen,a=(n=Math.round(.8*o.width),i=Math.round(.7*o.height),Math.round(.1*o.width))}catch(G){}if(!1===t.fire("contentPreview",t={dataValue:e}))return!1;var r;o="";return CKEDITOR.env.ie&&(window._cke_htmlToLoad=t.dataValue,r="javascript:void( (function(){document.open();"+("("+CKEDITOR.tools.fixDomain+")();").replace(/\/\/.*?\n/g,"").replace(/parent\./g,"window.opener.")+"document.write( window.opener._cke_htmlToLoad );document.close();window.opener._cke_htmlToLoad = null;})() )",o=""),CKEDITOR.env.gecko&&(window._cke_htmlToLoad=t.dataValue,o=CKEDITOR.getUrl(Y+"preview.html")),o=window.open(o,null,"toolbar=yes,location=no,status=yes,menubar=yes,scrollbars=yes,resizable=yes,width="+n+",height="+i+",left="+a),CKEDITOR.env.ie&&o&&(o.location=r),CKEDITOR.env.ie||CKEDITOR.env.gecko||((r=o.document).open(),r.write(t.dataValue),r.close()),!0}},CKEDITOR.plugins.add("preview",{init:function(t){t.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE&&(Y=this.path,t.addCommand("preview",G),t.ui.addButton&&t.ui.addButton("Preview",{label:t.lang.preview.preview,command:"preview",toolbar:"document,40"}))}}),CKEDITOR.plugins.add("print",{init:function(t){t.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE&&(t.addCommand("print",CKEDITOR.plugins.print),t.ui.addButton&&t.ui.addButton("Print",{label:t.lang.print.toolbar,command:"print",toolbar:"document,50"}))}}),CKEDITOR.plugins.print={exec:function(t){CKEDITOR.env.gecko?t.window.$.print():t.document.$.execCommand("Print")},canUndo:!1,readOnly:1,modes:{wysiwyg:1}},CKEDITOR.plugins.add("removeformat",{init:function(t){t.addCommand("removeFormat",CKEDITOR.plugins.removeformat.commands.removeformat),t.ui.addButton&&t.ui.addButton("RemoveFormat",{label:t.lang.removeformat.toolbar,command:"removeFormat",toolbar:"cleanup,10"})}}),CKEDITOR.plugins.removeformat={commands:{removeformat:{exec:function(a){for(var t,r=a._.removeFormatRegex||(a._.removeFormatRegex=new RegExp("^(?:"+a.config.removeFormatTags.replace(/,/g,"|")+")$","i")),e=a._.removeAttributes||(a._.removeAttributes=a.config.removeFormatAttributes.split(",")),s=CKEDITOR.plugins.removeformat.filter,n=a.getSelection().getRanges(),i=n.createIterator(),o=function(t){return t.type==CKEDITOR.NODE_ELEMENT};t=i.getNextRange();){t.collapsed||t.enlarge(CKEDITOR.ENLARGE_ELEMENT);var l=t.createBookmark(),c=l.startNode,d=l.endNode,u=function(t){for(var e,n=a.elementPath(t),i=n.elements,o=1;(e=i[o])&&!e.equals(n.block)&&!e.equals(n.blockLimit);o++)r.test(e.getName())&&s(a,e)&&t.breakParent(e)};if(u(c),d)for(u(d),c=c.getNextSourceNode(!0,CKEDITOR.NODE_ELEMENT);c&&!c.equals(d);)if(c.isReadOnly()){if(c.getPosition(d)&CKEDITOR.POSITION_CONTAINS)break;c=c.getNext(o)}else u=c.getNextSourceNode(!1,CKEDITOR.NODE_ELEMENT),"img"==c.getName()&&c.data("cke-realelement")||!s(a,c)||(r.test(c.getName())?c.remove(1):(c.removeAttributes(e),a.fire("removeFormatCleanup",c))),c=u;t.moveToBookmark(l)}a.forceNextSelectionCheck(),a.getSelection().selectRanges(n)}}},filter:function(t,e){for(var n=t._.removeFormatFilters||[],i=0;i<n.length;i++)if(!1===n[i](e))return!1;return!0}},CKEDITOR.editor.prototype.addRemoveFormatFilter=function(t){this._.removeFormatFilters||(this._.removeFormatFilters=[]),this._.removeFormatFilters.push(t)},CKEDITOR.config.removeFormatTags="b,big,cite,code,del,dfn,em,font,i,ins,kbd,q,s,samp,small,span,strike,strong,sub,sup,tt,u,var",CKEDITOR.config.removeFormatAttributes="class,style,lang,width,height,align,hspace,valign",X={readOnly:1,exec:function(t){if(t.fire("save")&&(t=t.element.$.form))try{t.submit()}catch(X){t.submit.click&&t.submit.click()}}},CKEDITOR.plugins.add("save",{init:function(t){t.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE&&(t.addCommand("save",X).modes={wysiwyg:!!t.element.$.form},t.ui.addButton&&t.ui.addButton("Save",{label:t.lang.save.toolbar,command:"save",toolbar:"document,10"}))}}),CKEDITOR.plugins.add("selectall",{init:function(t){t.addCommand("selectAll",{modes:{wysiwyg:1,source:1},exec:function(t){var e=t.editable();if(e.is("textarea"))t=e.$,CKEDITOR.env.ie?t.createTextRange().execCommand("SelectAll"):(t.selectionStart=0,t.selectionEnd=t.value.length),t.focus();else{if(e.is("body"))t.document.$.execCommand("SelectAll",!1,null);else{var n=t.createRange();n.selectNodeContents(e),n.select()}t.forceNextSelectionCheck(),t.selectionChange()}},canUndo:!1}),t.ui.addButton&&t.ui.addButton("SelectAll",{label:t.lang.selectall.toolbar,command:"selectAll",toolbar:"selection,10"})}}),Z={readOnly:1,preserveState:!0,editorFocus:!1,exec:function(t){this.toggleState(),this.refresh(t)},refresh:function(t){if(t.document){var e=this.state!=CKEDITOR.TRISTATE_ON||t.elementMode==CKEDITOR.ELEMENT_MODE_INLINE&&!t.focusManager.hasFocus?"removeClass":"attachClass";t.editable()[e]("cke_show_blocks")}}},CKEDITOR.plugins.add("showblocks",{onLoad:function(){var t,e,n,i,o,a,r="p div pre address blockquote h1 h2 h3 h4 h5 h6".split(" "),s=CKEDITOR.getUrl(this.path),l=!(CKEDITOR.env.ie&&CKEDITOR.env.version<9),c=l?":not([contenteditable=false]):not(.cke_show_blocks_off)":"";for(t=e=n=i="";o=r.pop();)t+=".cke_show_blocks "+o+c+(a=r.length?",":""),n+=".cke_show_blocks.cke_contents_ltr "+o+c+a,i+=".cke_show_blocks.cke_contents_rtl "+o+c+a,e+=".cke_show_blocks "+o+c+"{background-image:url("+CKEDITOR.getUrl(s+"images/block_"+o+".png")+")}";CKEDITOR.addCss((t+"{background-repeat:no-repeat;border:1px dotted gray;padding-top:8px}").concat(e,n+"{background-position:top left;padding-left:8px}",i+"{background-position:top right;padding-right:8px}")),l||CKEDITOR.addCss(".cke_show_blocks [contenteditable=false],.cke_show_blocks .cke_show_blocks_off{border:none;padding-top:0;background-image:none}.cke_show_blocks.cke_contents_rtl [contenteditable=false],.cke_show_blocks.cke_contents_rtl .cke_show_blocks_off{padding-right:0}.cke_show_blocks.cke_contents_ltr [contenteditable=false],.cke_show_blocks.cke_contents_ltr .cke_show_blocks_off{padding-left:0}")},init:function(t){function e(){n.refresh(t)}if(!t.blockless){var n=t.addCommand("showblocks",Z);n.canUndo=!1,t.config.startupOutlineBlocks&&n.setState(CKEDITOR.TRISTATE_ON),t.ui.addButton&&t.ui.addButton("ShowBlocks",{label:t.lang.showblocks.toolbar,command:"showblocks",toolbar:"tools,20"}),t.on("mode",function(){n.state!=CKEDITOR.TRISTATE_DISABLED&&n.refresh(t)}),t.elementMode==CKEDITOR.ELEMENT_MODE_INLINE&&(t.on("focus",e),t.on("blur",e)),t.on("contentDom",function(){n.state!=CKEDITOR.TRISTATE_DISABLED&&n.refresh(t)})}}}),Q={preserveState:!0,editorFocus:!1,readOnly:1,exec:function(t){this.toggleState(),this.refresh(t)},refresh:function(t){if(t.document){var e=this.state==CKEDITOR.TRISTATE_ON?"attachClass":"removeClass";t.editable()[e]("cke_show_borders")}}},CKEDITOR.plugins.add("showborders",{modes:{wysiwyg:1},onLoad:function(){var t;t=(CKEDITOR.env.ie6Compat?[".%1 table.%2,",".%1 table.%2 td, .%1 table.%2 th","{","border : #d3d3d3 1px dotted","}"]:".%1 table.%2,;.%1 table.%2 > tr > td, .%1 table.%2 > tr > th,;.%1 table.%2 > tbody > tr > td, .%1 table.%2 > tbody > tr > th,;.%1 table.%2 > thead > tr > td, .%1 table.%2 > thead > tr > th,;.%1 table.%2 > tfoot > tr > td, .%1 table.%2 > tfoot > tr > th;{;border : #d3d3d3 1px dotted;}".split(";")).join("").replace(/%2/g,"cke_show_border").replace(/%1/g,"cke_show_borders "),CKEDITOR.addCss(t)},init:function(e){var t=e.addCommand("showborders",Q);(t.canUndo=!1)!==e.config.startupShowBorders&&t.setState(CKEDITOR.TRISTATE_ON),e.on("mode",function(){t.state!=CKEDITOR.TRISTATE_DISABLED&&t.refresh(e)},null,null,100),e.on("contentDom",function(){t.state!=CKEDITOR.TRISTATE_DISABLED&&t.refresh(e)}),e.on("removeFormatCleanup",function(t){t=t.data,e.getCommand("showborders").state==CKEDITOR.TRISTATE_ON&&t.is("table")&&(!t.hasAttribute("border")||parseInt(t.getAttribute("border"),10)<=0)&&t.addClass("cke_show_border")})},afterInit:function(t){var e=t.dataProcessor;t=e&&e.dataFilter,e=e&&e.htmlFilter,t&&t.addRules({elements:{table:function(t){var e=(t=t.attributes)["class"],n=parseInt(t.border,10);n&&!(n<=0)||e&&-1!=e.indexOf("cke_show_border")||(t["class"]=(e||"")+" cke_show_border")}}}),e&&e.addRules({elements:{table:function(t){var e=(t=t.attributes)["class"];e&&(t["class"]=e.replace("cke_show_border","").replace(/\s{2}/," ").replace(/^\s+|\s+$/,""))}}})}}),CKEDITOR.on("dialogDefinition",function(t){var e=t.data.name;"table"!=e&&"tableProperties"!=e||((e=(t=t.data.definition).getContents("info").get("txtBorder")).commit=CKEDITOR.tools.override(e.commit,function(i){return function(t,e){i.apply(this,arguments);var n=parseInt(this.getValue(),10);e[!n||n<=0?"addClass":"removeClass"]("cke_show_border")}}),(t=(t=t.getContents("advanced"))&&t.get("advCSSClasses"))&&(t.setup=CKEDITOR.tools.override(t.setup,function(t){return function(){t.apply(this,arguments),this.setValue(this.getValue().replace(/cke_show_border/,""))}}),t.commit=CKEDITOR.tools.override(t.commit,function(n){return function(t,e){n.apply(this,arguments),parseInt(e.getAttribute("border"),10)||e.addClass("cke_show_border")}})))}),function(){CKEDITOR.plugins.add("sourcearea",{init:function(n){function i(){var t=e&&this.equals(CKEDITOR.document.getActive());this.hide(),this.setStyle("height",this.getParent().$.clientHeight+"px"),this.setStyle("width",this.getParent().$.clientWidth+"px"),this.show(),t&&this.focus()}if(n.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE){var t=CKEDITOR.plugins.sourcearea;n.addMode("source",function(t){var e=n.ui.space("contents").getDocument().createElement("textarea");e.setStyles(CKEDITOR.tools.extend({width:CKEDITOR.env.ie7Compat?"99%":"100%",height:"100%",resize:"none",outline:"none","text-align":"left"},CKEDITOR.tools.cssVendorPrefix("tab-size",n.config.sourceAreaTabSize||4))),e.setAttribute("dir","ltr"),e.addClass("cke_source").addClass("cke_reset").addClass("cke_enable_context_menu"),n.ui.space("contents").append(e),(e=n.editable(new o(n,e))).setData(n.getData(1)),CKEDITOR.env.ie&&(e.attachListener(n,"resize",i,e),e.attachListener(CKEDITOR.document.getWindow(),"resize",i,e),CKEDITOR.tools.setTimeout(i,0,e)),n.fire("ariaWidget",this),t()}),n.addCommand("source",t.commands.source),n.ui.addButton&&n.ui.addButton("Source",{label:n.lang.sourcearea.toolbar,command:"source",toolbar:"mode,10"}),n.on("mode",function(){n.getCommand("source").setState("source"==n.mode?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF)});var e=CKEDITOR.env.ie&&9==CKEDITOR.env.version}}});var o=CKEDITOR.tools.createClass({base:CKEDITOR.editable,proto:{setData:function(t){this.setValue(t),this.status="ready",this.editor.fire("dataReady")},getData:function(){return this.getValue()},insertHtml:function(){},insertElement:function(){},insertText:function(){},setReadOnly:function(t){this[(t?"set":"remove")+"Attribute"]("readOnly","readonly")},detach:function(){o.baseProto.detach.call(this),this.clearCustomData(),this.remove()}}})}(),CKEDITOR.plugins.sourcearea={commands:{source:{modes:{wysiwyg:1,source:1},editorFocus:!1,readOnly:1,exec:function(t){"wysiwyg"==t.mode&&t.fire("saveSnapshot"),t.getCommand("source").setState(CKEDITOR.TRISTATE_DISABLED),t.setMode("source"==t.mode?"wysiwyg":"source")},canUndo:!1}}},CKEDITOR.plugins.add("specialchar",{availableLangs:{af:1,ar:1,az:1,bg:1,ca:1,cs:1,cy:1,da:1,de:1,"de-ch":1,el:1,en:1,"en-au":1,"en-ca":1,"en-gb":1,eo:1,es:1,"es-mx":1,et:1,eu:1,fa:1,fi:1,fr:1,"fr-ca":1,gl:1,he:1,hr:1,hu:1,id:1,it:1,ja:1,km:1,ko:1,ku:1,lt:1,lv:1,nb:1,nl:1,no:1,oc:1,pl:1,pt:1,"pt-br":1,ru:1,si:1,sk:1,sl:1,sq:1,sv:1,th:1,tr:1,tt:1,ug:1,uk:1,vi:1,zh:1,"zh-cn":1},requires:"dialog",init:function(e){var n=this;CKEDITOR.dialog.add("specialchar",this.path+"dialogs/specialchar.js"),e.addCommand("specialchar",{exec:function(){var t=e.langCode;t=n.availableLangs[t]?t:n.availableLangs[t.replace(/-.*/,"")]?t.replace(/-.*/,""):"en";CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(n.path+"dialogs/lang/"+t+".js"),function(){CKEDITOR.tools.extend(e.lang.specialchar,n.langEntries[t]),e.openDialog("specialchar")})},modes:{wysiwyg:1},canUndo:!1}),e.ui.addButton&&e.ui.addButton("SpecialChar",{label:e.lang.specialchar.toolbar,command:"specialchar",toolbar:"insert,50"})}}),
CKEDITOR.config.specialChars="! &quot; # $ % &amp; ' ( ) * + - . / 0 1 2 3 4 5 6 7 8 9 : ; &lt; = &gt; ? @ A B C D E F G H I J K L M N O P Q R S T U V W X Y Z [ ] ^ _ ` a b c d e f g h i j k l m n o p q r s t u v w x y z { | } ~ &euro; &lsquo; &rsquo; &ldquo; &rdquo; &ndash; &mdash; &iexcl; &cent; &pound; &curren; &yen; &brvbar; &sect; &uml; &copy; &ordf; &laquo; &not; &reg; &macr; &deg; &sup2; &sup3; &acute; &micro; &para; &middot; &cedil; &sup1; &ordm; &raquo; &frac14; &frac12; &frac34; &iquest; &Agrave; &Aacute; &Acirc; &Atilde; &Auml; &Aring; &AElig; &Ccedil; &Egrave; &Eacute; &Ecirc; &Euml; &Igrave; &Iacute; &Icirc; &Iuml; &ETH; &Ntilde; &Ograve; &Oacute; &Ocirc; &Otilde; &Ouml; &times; &Oslash; &Ugrave; &Uacute; &Ucirc; &Uuml; &Yacute; &THORN; &szlig; &agrave; &aacute; &acirc; &atilde; &auml; &aring; &aelig; &ccedil; &egrave; &eacute; &ecirc; &euml; &igrave; &iacute; &icirc; &iuml; &eth; &ntilde; &ograve; &oacute; &ocirc; &otilde; &ouml; &divide; &oslash; &ugrave; &uacute; &ucirc; &uuml; &yacute; &thorn; &yuml; &OElig; &oelig; &#372; &#374 &#373 &#375; &sbquo; &#8219; &bdquo; &hellip; &trade; &#9658; &bull; &rarr; &rArr; &hArr; &diams; &asymp;".split(" "),CKEDITOR.plugins.add("scayt",{requires:"menubutton,dialog",tabToOpen:null,dialogName:"scaytDialog",onLoad:function(t){CKEDITOR.plugins.scayt.onLoadTimestamp=(new Date).getTime(),"moono-lisa"==(CKEDITOR.skinName||t.config.skin)&&CKEDITOR.document.appendStyleSheet(this.path+"skins/"+CKEDITOR.skin.name+"/scayt.css"),CKEDITOR.document.appendStyleSheet(this.path+"dialogs/dialog.css")},init:function(i){var o=this,n=CKEDITOR.plugins.scayt;this.bindEvents(i),this.parseConfig(i),this.addRule(i),CKEDITOR.dialog.add(this.dialogName,CKEDITOR.getUrl(this.path+"dialogs/options.js")),this.addMenuItems(i);var t=i.lang.scayt,e=CKEDITOR.env;i.ui.add("Scayt",CKEDITOR.UI_MENUBUTTON,{label:t.text_title,title:i.plugins.wsc?i.lang.wsc.title:t.text_title,modes:{wysiwyg:!(e.ie&&(e.version<8||e.quirks))},toolbar:"spellchecker,20",refresh:function(){var t=i.ui.instances.Scayt.getState();i.scayt&&(t=n.state.scayt[i.name]?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF),i.fire("scaytButtonState",t)},onRender:function(){var e=this;i.on("scaytButtonState",function(t){void 0!==typeof t.data&&e.setState(t.data)})},onMenu:function(){var t=i.scayt;i.getMenuItem("scaytToggle").label=i.lang.scayt[t&&n.state.scayt[i.name]?"btn_disable":"btn_enable"];var e={scaytToggle:CKEDITOR.TRISTATE_OFF,scaytOptions:t?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,scaytLangs:t?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,scaytDict:t?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,scaytAbout:t?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,WSC:i.plugins.wsc?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED};return i.config.scayt_uiTabs[0]||delete e.scaytOptions,i.config.scayt_uiTabs[1]||delete e.scaytLangs,i.config.scayt_uiTabs[2]||delete e.scaytDict,t&&!CKEDITOR.plugins.scayt.isNewUdSupported(t)&&(delete e.scaytDict,i.config.scayt_uiTabs[2]=0,CKEDITOR.plugins.scayt.alarmCompatibilityMessage()),e}}),i.contextMenu&&i.addMenuItems&&(i.contextMenu.addListener(function(){var t,e,n=i.scayt;return n&&(e=n.getSelectionNode())&&(t=o.menuGenerator(i,e),n.showBanner("."+i.contextMenu._.definition.panel.className.split(" ").join(" ."))),t}),i.contextMenu._.onHide=CKEDITOR.tools.override(i.contextMenu._.onHide,function(e){return function(){var t=i.scayt;return t&&t.hideBanner(),e.apply(this)}}))},addMenuItems:function(i){var e=this,n=CKEDITOR.plugins.scayt;i.addMenuGroup("scaytButton");for(var t=i.config.scayt_contextMenuItemsOrder.split("|"),o=0;o<t.length;o++)t[o]="scayt_"+t[o];if((t=["grayt_description","grayt_suggest","grayt_control"].concat(t))&&t.length)for(o=0;o<t.length;o++)i.addMenuGroup(t[o],o-10);i.addCommand("scaytToggle",{exec:function(t){var e=t.scayt;n.state.scayt[t.name]=!n.state.scayt[t.name],!0===n.state.scayt[t.name]?e||n.createScayt(t):e&&n.destroy(t)}}),i.addCommand("scaytAbout",{exec:function(t){t.scayt.tabToOpen="about",t.lockSelection(),t.openDialog(e.dialogName)}}),i.addCommand("scaytOptions",{exec:function(t){t.scayt.tabToOpen="options",t.lockSelection(),t.openDialog(e.dialogName)}}),i.addCommand("scaytLangs",{exec:function(t){t.scayt.tabToOpen="langs",t.lockSelection(),t.openDialog(e.dialogName)}}),i.addCommand("scaytDict",{exec:function(t){t.scayt.tabToOpen="dictionaries",t.lockSelection(),t.openDialog(e.dialogName)}}),t={scaytToggle:{label:i.lang.scayt.btn_enable,group:"scaytButton",command:"scaytToggle"},scaytAbout:{label:i.lang.scayt.btn_about,group:"scaytButton",command:"scaytAbout"},scaytOptions:{label:i.lang.scayt.btn_options,group:"scaytButton",command:"scaytOptions"},scaytLangs:{label:i.lang.scayt.btn_langs,group:"scaytButton",command:"scaytLangs"},scaytDict:{label:i.lang.scayt.btn_dictionaries,group:"scaytButton",command:"scaytDict"}},i.plugins.wsc&&(t.WSC={label:i.lang.wsc.toolbar,group:"scaytButton",onClick:function(){var t=CKEDITOR.plugins.scayt,e=i.scayt,n=i.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?i.container.getText():i.document.getBody().getText();(n=n.replace(/\s/g,""))?(e&&t.state.scayt[i.name]&&e.setMarkupPaused&&e.setMarkupPaused(!0),i.lockSelection(),i.execCommand("checkspell")):alert("Nothing to check!")}}),i.addMenuItems(t)},bindEvents:function(a){var r=CKEDITOR.plugins.scayt,o=a.elementMode==CKEDITOR.ELEMENT_MODE_INLINE,e=function(){r.destroy(a)},s=function(){!r.state.scayt[a.name]||a.readOnly||a.scayt||r.createScayt(a)},n=function(){var t=a.editable();t.attachListener(t,"focus",function(t){var e,n;if(CKEDITOR.plugins.scayt&&!a.scayt&&setTimeout(s,0),t=CKEDITOR.plugins.scayt&&CKEDITOR.plugins.scayt.state.scayt[a.name]&&a.scayt,(o||t)&&a._.savedSelection){t=!(t=a._.savedSelection.getSelectedElement())&&a._.savedSelection.getRanges();for(var i=0;i<t.length;i++)"string"==typeof(n=t[i]).startContainer.$.nodeValue&&(((e=n.startContainer.getText().length)<n.startOffset||e<n.endOffset)&&a.unlockSelection(!1))}},this,null,-10)},t=function(){o?a.config.scayt_inlineModeImmediateMarkup?s():(a.on("blur",function(){setTimeout(e,0)}),a.on("focus",s),a.focusManager.hasFocus&&s()):s(),n();var t=a.editable();t.attachListener(t,"mousedown",function(t){t=t.data.getTarget();var e=a.widgets&&a.widgets.getByElement(t);e&&(e.wrapper=t.getAscendant(function(t){return t.hasAttribute("data-cke-widget-wrapper")},!0))},this,null,-10)};a.on("contentDom",t),a.on("beforeCommandExec",function(t){var e=a.scayt,n=!1,i=!1,o=!0;t.data.name in r.options.disablingCommandExec&&"wysiwyg"==a.mode?e&&(r.destroy(a),a.fire("scaytButtonState",CKEDITOR.TRISTATE_DISABLED)):"bold"!==t.data.name&&"italic"!==t.data.name&&"underline"!==t.data.name&&"strike"!==t.data.name&&"subscript"!==t.data.name&&"superscript"!==t.data.name&&"enter"!==t.data.name&&"cut"!==t.data.name&&"language"!==t.data.name||!e||("cut"===t.data.name&&(i=!(o=!1)),"language"===t.data.name&&(i=n=!0),a.fire("reloadMarkupScayt",{removeOptions:{removeInside:o,forceBookmark:i,language:n},timeout:0}))}),a.on("beforeSetMode",function(t){"source"==t.data&&((t=a.scayt)&&(r.destroy(a),a.fire("scaytButtonState",CKEDITOR.TRISTATE_DISABLED)),a.document&&a.document.getBody().removeAttribute("_jquid"))}),a.on("afterCommandExec",function(t){"wysiwyg"!=a.mode||"undo"!=t.data.name&&"redo"!=t.data.name||setTimeout(function(){r.reloadMarkup(a.scayt)},250)}),a.on("readOnly",function(t){var e;t&&(e=a.scayt,!0===t.editor.readOnly?e&&e.fire("removeMarkupInDocument",{}):e?r.reloadMarkup(e):"wysiwyg"==t.editor.mode&&!0===r.state.scayt[t.editor.name]&&(r.createScayt(a),t.editor.fire("scaytButtonState",CKEDITOR.TRISTATE_ON)))}),a.on("beforeDestroy",e),a.on("setData",function(){e(),(a.elementMode==CKEDITOR.ELEMENT_MODE_INLINE||a.plugins.divarea)&&t()},this,null,50),a.on("reloadMarkupScayt",function(t){var e=t.data&&t.data.removeOptions,n=t.data&&t.data.timeout,i=t.data&&t.data.language,o=a.scayt;o&&setTimeout(function(){i&&(e.selectionNode=a.plugins.language.getCurrentLangElement(a),e.selectionNode=e.selectionNode&&e.selectionNode.$||null),o.removeMarkupInSelectionNode(e),r.reloadMarkup(o)},n||0)}),a.on("insertElement",function(){a.fire("reloadMarkupScayt",{removeOptions:{forceBookmark:!0}})},this,null,50),a.on("insertHtml",function(){a.scayt&&a.scayt.setFocused&&a.scayt.setFocused(!0),a.fire("reloadMarkupScayt")},this,null,50),a.on("insertText",function(){a.scayt&&a.scayt.setFocused&&a.scayt.setFocused(!0),a.fire("reloadMarkupScayt")},this,null,50),a.on("scaytDialogShown",function(t){t.data.selectPage(a.scayt.tabToOpen)})},parseConfig:function(t){if((i=CKEDITOR.plugins.scayt).replaceOldOptionsNames(t.config),"boolean"!=typeof t.config.scayt_autoStartup&&(t.config.scayt_autoStartup=!1),i.state.scayt[t.name]=t.config.scayt_autoStartup,"boolean"!=typeof t.config.grayt_autoStartup&&(t.config.grayt_autoStartup=!1),"boolean"!=typeof t.config.scayt_inlineModeImmediateMarkup&&(t.config.scayt_inlineModeImmediateMarkup=!1),i.state.grayt[t.name]=t.config.grayt_autoStartup,t.config.scayt_contextCommands||(t.config.scayt_contextCommands="ignore|ignoreall|add"),t.config.scayt_contextMenuItemsOrder||(t.config.scayt_contextMenuItemsOrder="suggest|moresuggest|control"),t.config.scayt_sLang||(t.config.scayt_sLang="en_US"),(void 0===t.config.scayt_maxSuggestions||"number"!=typeof t.config.scayt_maxSuggestions||t.config.scayt_maxSuggestions<0)&&(t.config.scayt_maxSuggestions=5),(void 0===t.config.scayt_minWordLength||"number"!=typeof t.config.scayt_minWordLength||t.config.scayt_minWordLength<1)&&(t.config.scayt_minWordLength=4),void 0!==t.config.scayt_customDictionaryIds&&"string"==typeof t.config.scayt_customDictionaryIds||(t.config.scayt_customDictionaryIds=""),void 0!==t.config.scayt_userDictionaryName&&"string"==typeof t.config.scayt_userDictionaryName||(t.config.scayt_userDictionaryName=null),"string"==typeof t.config.scayt_uiTabs&&3===t.config.scayt_uiTabs.split(",").length){var e=[],n=[];t.config.scayt_uiTabs=t.config.scayt_uiTabs.split(","),CKEDITOR.tools.search(t.config.scayt_uiTabs,function(t){1===Number(t)||0===Number(t)?(n.push(!0),e.push(Number(t))):n.push(!1)}),null===CKEDITOR.tools.search(n,!1)?t.config.scayt_uiTabs=e:t.config.scayt_uiTabs=[1,1,1]}else t.config.scayt_uiTabs=[1,1,1];if("string"!=typeof t.config.scayt_serviceProtocol&&(t.config.scayt_serviceProtocol=null),"string"!=typeof t.config.scayt_serviceHost&&(t.config.scayt_serviceHost=null),"string"!=typeof t.config.scayt_servicePort&&(t.config.scayt_servicePort=null),"string"!=typeof t.config.scayt_servicePath&&(t.config.scayt_servicePath=null),t.config.scayt_moreSuggestions||(t.config.scayt_moreSuggestions="on"),"string"!=typeof t.config.scayt_customerId&&(t.config.scayt_customerId="1:WvF0D4-UtPqN1-43nkD4-NKvUm2-daQqk3-LmNiI-z7Ysb4-mwry24-T8YrS3-Q2tpq2"),"string"!=typeof t.config.scayt_customPunctuation&&(t.config.scayt_customPunctuation="-"),"string"!=typeof t.config.scayt_srcUrl&&(i=-1!=(i=document.location.protocol).search(/https?:/)?i:"http:",t.config.scayt_srcUrl=i+"//svc.webspellchecker.net/spellcheck31/lf/scayt3/ckscayt/ckscayt.js"),"boolean"!=typeof CKEDITOR.config.scayt_handleCheckDirty&&(CKEDITOR.config.scayt_handleCheckDirty=!0),"boolean"!=typeof CKEDITOR.config.scayt_handleUndoRedo&&(CKEDITOR.config.scayt_handleUndoRedo=!0),CKEDITOR.config.scayt_handleUndoRedo=!!CKEDITOR.plugins.undo&&CKEDITOR.config.scayt_handleUndoRedo,"boolean"!=typeof t.config.scayt_multiLanguageMode&&(t.config.scayt_multiLanguageMode=!1),"object"!=typeof t.config.scayt_multiLanguageStyles&&(t.config.scayt_multiLanguageStyles={}),t.config.scayt_ignoreAllCapsWords&&"boolean"!=typeof t.config.scayt_ignoreAllCapsWords&&(t.config.scayt_ignoreAllCapsWords=!1),t.config.scayt_ignoreDomainNames&&"boolean"!=typeof t.config.scayt_ignoreDomainNames&&(t.config.scayt_ignoreDomainNames=!1),t.config.scayt_ignoreWordsWithMixedCases&&"boolean"!=typeof t.config.scayt_ignoreWordsWithMixedCases&&(t.config.scayt_ignoreWordsWithMixedCases=!1),t.config.scayt_ignoreWordsWithNumbers&&"boolean"!=typeof t.config.scayt_ignoreWordsWithNumbers&&(t.config.scayt_ignoreWordsWithNumbers=!1),t.config.scayt_disableOptionsStorage){var i=CKEDITOR.tools.isArray(t.config.scayt_disableOptionsStorage)?t.config.scayt_disableOptionsStorage:"string"==typeof t.config.scayt_disableOptionsStorage?[t.config.scayt_disableOptionsStorage]:void 0,a="all options lang ignore-all-caps-words ignore-domain-names ignore-words-with-mixed-cases ignore-words-with-numbers".split(" "),r=["lang","ignore-all-caps-words","ignore-domain-names","ignore-words-with-mixed-cases","ignore-words-with-numbers"],s=CKEDITOR.tools.search,l=CKEDITOR.tools.indexOf;t.config.scayt_disableOptionsStorage=function(t){for(var e=[],n=0;n<t.length;n++){var i=t[n],o=!!s(t,"options");if(!s(a,i)||o&&s(r,function(t){if("lang"===t)return!1}))return;if(s(r,i)&&r.splice(l(r,i),1),"all"===i||o&&s(t,"lang"))return[];"options"===i&&(r=["lang"])}return e.concat(r)}(i)}},addRule:function(n){var i=CKEDITOR.plugins.scayt,t=(o=n.dataProcessor)&&o.htmlFilter,e=n._.elementsPath&&n._.elementsPath.filters,o=o&&o.dataFilter,a=n.addRemoveFormatFilter,r=function(t){if(n.scayt&&(t.hasAttribute(i.options.data_attribute_name)||t.hasAttribute(i.options.problem_grammar_data_attribute)))return!1},s=function(t){var e=!0;return n.scayt&&(t.hasAttribute(i.options.data_attribute_name)||t.hasAttribute(i.options.problem_grammar_data_attribute))&&(e=!1),e};e&&e.push(r),o&&o.addRules({elements:{span:function(t){var e=t.hasClass(i.options.misspelled_word_class)&&t.attributes[i.options.data_attribute_name],n=t.hasClass(i.options.problem_grammar_class)&&t.attributes[i.options.problem_grammar_data_attribute];return i&&(e||n)&&delete t.name,t}}}),t&&t.addRules({elements:{span:function(t){var e=t.hasClass(i.options.misspelled_word_class)&&t.attributes[i.options.data_attribute_name],n=t.hasClass(i.options.problem_grammar_class)&&t.attributes[i.options.problem_grammar_data_attribute];return i&&(e||n)&&delete t.name,t}}}),a&&a.call(n,s)},scaytMenuDefinition:function(t){var e=this;return{scayt:{scayt_ignore:{label:(t=t.scayt).getLocal("btn_ignore"),group:"scayt_control",order:1,exec:function(t){t.scayt.ignoreWord()}},scayt_ignoreall:{label:t.getLocal("btn_ignoreAll"),group:"scayt_control",order:2,exec:function(t){t.scayt.ignoreAllWords()}},scayt_add:{label:t.getLocal("btn_addWord"),group:"scayt_control",order:3,exec:function(t){var e=t.scayt;setTimeout(function(){e.addWordToUserDictionary()},10)}},scayt_option:{label:t.getLocal("btn_options"),group:"scayt_control",order:4,exec:function(t){t.scayt.tabToOpen="options",t.lockSelection(),t.openDialog(e.dialogName)},verification:function(t){return 1==t.config.scayt_uiTabs[0]}},scayt_language:{label:t.getLocal("btn_langs"),group:"scayt_control",order:5,exec:function(t){t.scayt.tabToOpen="langs",t.lockSelection(),t.openDialog(e.dialogName)},verification:function(t){return 1==t.config.scayt_uiTabs[1]}},scayt_dictionary:{label:t.getLocal("btn_dictionaries"),group:"scayt_control",order:6,exec:function(t){t.scayt.tabToOpen="dictionaries",t.lockSelection(),t.openDialog(e.dialogName)},verification:function(t){return 1==t.config.scayt_uiTabs[2]}},scayt_about:{label:t.getLocal("btn_about"),group:"scayt_control",order:7,exec:function(t){t.scayt.tabToOpen="about",t.lockSelection(),t.openDialog(e.dialogName)}}},grayt:{grayt_problemdescription:{label:"Grammar problem description",group:"grayt_description",order:1,state:CKEDITOR.TRISTATE_DISABLED,exec:function(){}},grayt_ignore:{label:t.getLocal("btn_ignore"),group:"grayt_control",order:2,exec:function(t){t.scayt.ignorePhrase()}}}}},buildSuggestionMenuItems:function(t,e,n){var i={},o={},a=n?"word":"phrase",r=n?"startGrammarCheck":"startSpellCheck",s=t.scayt;if(0<e.length&&"no_any_suggestions"!==e[0])if(n)for(n=0;n<e.length;n++){var l="scayt_suggest_"+CKEDITOR.plugins.scayt.suggestions[n].replace(" ","_");t.addCommand(l,this.createCommand(CKEDITOR.plugins.scayt.suggestions[n],a,r)),n<t.config.scayt_maxSuggestions?(t.addMenuItem(l,{label:e[n],command:l,group:"scayt_suggest",order:n+1}),i[l]=CKEDITOR.TRISTATE_OFF):(t.addMenuItem(l,{label:e[n],command:l,group:"scayt_moresuggest",order:n+1}),o[l]=CKEDITOR.TRISTATE_OFF,"on"===t.config.scayt_moreSuggestions&&(t.addMenuItem("scayt_moresuggest",{label:s.getLocal("btn_moreSuggestions"),group:"scayt_moresuggest",order:10,getItems:function(){return o}}),i.scayt_moresuggest=CKEDITOR.TRISTATE_OFF))}else for(n=0;n<e.length;n++)l="grayt_suggest_"+CKEDITOR.plugins.scayt.suggestions[n].replace(" ","_"),t.addCommand(l,this.createCommand(CKEDITOR.plugins.scayt.suggestions[n],a,r)),t.addMenuItem(l,{label:e[n],command:l,group:"grayt_suggest",order:n+1}),i[l]=CKEDITOR.TRISTATE_OFF;else i.no_scayt_suggest=CKEDITOR.TRISTATE_DISABLED,t.addCommand("no_scayt_suggest",{exec:function(){}}),t.addMenuItem("no_scayt_suggest",{label:s.getLocal("btn_noSuggestions")||"no_scayt_suggest",command:"no_scayt_suggest",group:"scayt_suggest",order:0});return i},menuGenerator:function(t,e){var n,i,o=t.scayt,a=this.scaytMenuDefinition(t),r={},s=t.config.scayt_contextCommands.split("|"),l=e.getAttribute(o.getLangAttribute())||o.getLang();if(n=o.isScaytNode(e),i=o.isGraytNode(e),n?(a=a.scayt,r=e.getAttribute(o.getScaytNodeAttributeName()),o.fire("getSuggestionsList",{lang:l,word:r}),r=this.buildSuggestionMenuItems(t,CKEDITOR.plugins.scayt.suggestions,n)):i&&(a=a.grayt,r=e.getAttribute(o.getGraytNodeAttributeName()),i=o.getProblemDescriptionText(r,l),a.grayt_problemdescription&&i&&(a.grayt_problemdescription.label=i),o.fire("getGrammarSuggestionsList",{lang:l,phrase:r}),r=this.buildSuggestionMenuItems(t,CKEDITOR.plugins.scayt.suggestions,n)),n&&"off"==t.config.scayt_contextCommands)return r;for(var c in a)n&&-1==CKEDITOR.tools.indexOf(s,c.replace("scayt_",""))&&"all"!=t.config.scayt_contextCommands||(r[c]="undefined"!=typeof a[c].state?a[c].state:CKEDITOR.TRISTATE_OFF,"function"!=typeof a[c].verification||a[c].verification(t)||delete r[c],t.addCommand(c,{exec:a[c].exec}),t.addMenuItem(c,{label:t.lang.scayt[a[c].label]||a[c].label,command:c,group:a[c].group,order:a[c].order}));return r},createCommand:function(n,i,o){return{exec:function(t){t=t.scayt;var e={};e[i]=n,t.replaceSelectionNode(e),"startGrammarCheck"===o&&t.removeMarkupInSelectionNode({grammarOnly:!0}),t.fire(o)}}}}),CKEDITOR.plugins.scayt={charsToObserve:[{charName:"cke-fillingChar",charCode:function(){var t;if(n=(n=CKEDITOR.version.match(/^\d(\.\d*)*/))&&n[0]){t="4.5.7";var e,n=n.replace(/\./g,"");t=t.replace(/\./g,""),e=0<=(e=n.length-t.length)?e:0,t=parseInt(n)>=parseInt(t)*Math.pow(10,e)}return t?Array(7).join(String.fromCharCode(8203)):String.fromCharCode(8203)}()}],onLoadTimestamp:"",state:{scayt:{},grayt:{}},warningCounter:0,suggestions:[],options:{disablingCommandExec:{source:!0,newpage:!0,templates:!0},data_attribute_name:"data-scayt-word",misspelled_word_class:"scayt-misspell-word",problem_grammar_data_attribute:"data-grayt-phrase",problem_grammar_class:"gramm-problem"},backCompatibilityMap:{scayt_service_protocol:"scayt_serviceProtocol",scayt_service_host:"scayt_serviceHost",scayt_service_port:"scayt_servicePort",scayt_service_path:"scayt_servicePath",scayt_customerid:"scayt_customerId"},alarmCompatibilityMessage:function(){this.warningCounter<5&&(console.warn("You are using the latest version of SCAYT plugin for CKEditor with the old application version. In order to have access to the newest features, it is recommended to upgrade the application version to latest one as well. Contact us for more details at support@webspellchecker.net."),this.warningCounter+=1)},isNewUdSupported:function(t){return!!t.getUserDictionary},reloadMarkup:function(t){var e;t&&(e=t.getScaytLangList(),t.reloadMarkup?t.reloadMarkup():(this.alarmCompatibilityMessage(),e&&e.ltr&&e.rtl&&t.fire("startSpellCheck, startGrammarCheck")))},replaceOldOptionsNames:function(t){for(var e in t)e in this.backCompatibilityMap&&(t[this.backCompatibilityMap[e]]=t[e],delete t[e])},createScayt:function(t){var a=this,r=CKEDITOR.plugins.scayt;this.loadScaytLibrary(t,function(i){function t(t){return new SCAYT.CKSCAYT(t,function(){},function(){})}var e=i.window&&i.window.getFrame()||i.editable();if(e){var n;e={lang:i.config.scayt_sLang,container:e.$,customDictionary:i.config.scayt_customDictionaryIds,userDictionaryName:i.config.scayt_userDictionaryName,localization:i.langCode,customer_id:i.config.scayt_customerId,customPunctuation:i.config.scayt_customPunctuation,debug:i.config.scayt_debug,data_attribute_name:a.options.data_attribute_name,misspelled_word_class:a.options.misspelled_word_class,problem_grammar_data_attribute:a.options.problem_grammar_data_attribute,problem_grammar_class:a.options.problem_grammar_class,"options-to-restore":i.config.scayt_disableOptionsStorage,focused:i.editable().hasFocus,ignoreElementsRegex:i.config.scayt_elementsToIgnore,ignoreGraytElementsRegex:i.config.grayt_elementsToIgnore,minWordLength:i.config.scayt_minWordLength,multiLanguageMode:i.config.scayt_multiLanguageMode,multiLanguageStyles:i.config.scayt_multiLanguageStyles,graytAutoStartup:r.state.grayt[i.name],charsToObserve:r.charsToObserve},i.config.scayt_serviceProtocol&&(e.service_protocol=i.config.scayt_serviceProtocol),i.config.scayt_serviceHost&&(e.service_host=i.config.scayt_serviceHost),i.config.scayt_servicePort&&(e.service_port=i.config.scayt_servicePort),i.config.scayt_servicePath&&(e.service_path=i.config.scayt_servicePath),"boolean"==typeof i.config.scayt_ignoreAllCapsWords&&(e["ignore-all-caps-words"]=i.config.scayt_ignoreAllCapsWords),"boolean"==typeof i.config.scayt_ignoreDomainNames&&(e["ignore-domain-names"]=i.config.scayt_ignoreDomainNames),"boolean"==typeof i.config.scayt_ignoreWordsWithMixedCases&&(e["ignore-words-with-mixed-cases"]=i.config.scayt_ignoreWordsWithMixedCases),"boolean"==typeof i.config.scayt_ignoreWordsWithNumbers&&(e["ignore-words-with-numbers"]=i.config.scayt_ignoreWordsWithNumbers);try{n=t(e)}catch(o){a.alarmCompatibilityMessage(),delete e.charsToObserve,n=t(e)}n.subscribe("suggestionListSend",function(t){for(var e={},n=[],i=0;i<t.suggestionList.length;i++)e["word_"+t.suggestionList[i]]||(e["word_"+t.suggestionList[i]]=t.suggestionList[i],n.push(t.suggestionList[i]));CKEDITOR.plugins.scayt.suggestions=n}),n.subscribe("selectionIsChanged",function(){i.getSelection().isLocked&&i.lockSelection()}),n.subscribe("graytStateChanged",function(t){r.state.grayt[i.name]=t.state}),n.addMarkupHandler&&n.addMarkupHandler(function(t){var e=i.editable(),n=e.getCustomData(t.charName);n&&(n.$=t.node,e.setCustomData(t.charName,n))}),i.scayt=n,i.fire("scaytButtonState",i.readOnly?CKEDITOR.TRISTATE_DISABLED:CKEDITOR.TRISTATE_ON)}else r.state.scayt[i.name]=!1})},destroy:function(t){t.scayt&&t.scayt.destroy(),delete t.scayt,t.fire("scaytButtonState",CKEDITOR.TRISTATE_OFF)},loadScaytLibrary:function(t,e){var n,i=function(){CKEDITOR.fireOnce("scaytReady"),t.scayt||"function"==typeof e&&e(t)};"undefined"==typeof window.SCAYT||"function"!=typeof window.SCAYT.CKSCAYT?(n=t.config.scayt_srcUrl+"?"+this.onLoadTimestamp,CKEDITOR.scriptLoader.load(n,function(t){t&&i()})):window.SCAYT&&"function"==typeof window.SCAYT.CKSCAYT&&i()}},CKEDITOR.on("dialogDefinition",function(t){var e=t.data.name;t=t.data.definition.dialog,"scaytDialog"===e&&t.on("cancel",function(){return!1},this,null,-1),"checkspell"===e&&t.on("cancel",function(t){t=t.sender&&t.sender.getParentEditor();var e=CKEDITOR.plugins.scayt,n=t.scayt;n&&e.state.scayt[t.name]&&n.setMarkupPaused&&n.setMarkupPaused(!1),t.unlockSelection()},this,null,-2),"link"===e&&t.on("ok",function(t){var e=t.sender&&t.sender.getParentEditor();e&&setTimeout(function(){e.fire("reloadMarkupScayt",{removeOptions:{removeInside:!0,forceBookmark:!0},timeout:0})},0)})}),CKEDITOR.on("scaytReady",function(){!0===CKEDITOR.config.scayt_handleCheckDirty&&((t=CKEDITOR.editor.prototype).checkDirty=CKEDITOR.tools.override(t.checkDirty,function(i){return function(){var t=null,e=this.scayt;if(CKEDITOR.plugins.scayt&&CKEDITOR.plugins.scayt.state.scayt[this.name]&&this.scayt){if(t="ready"==this.status){var n=e.removeMarkupFromString(this.getSnapshot());e=e.removeMarkupFromString(this._.previousValue),t=t&&e!==n}}else t=i.call(this);return t}}),t.resetDirty=CKEDITOR.tools.override(t.resetDirty,function(e){return function(){var t=this.scayt;CKEDITOR.plugins.scayt&&CKEDITOR.plugins.scayt.state.scayt[this.name]&&this.scayt?this._.previousValue=t.removeMarkupFromString(this.getSnapshot()):e.call(this)}}));if(!0===CKEDITOR.config.scayt_handleUndoRedo){var t,e="function"==typeof(t=CKEDITOR.plugins.undo.Image.prototype).equalsContent?"equalsContent":"equals";t[e]=CKEDITOR.tools.override(t[e],function(a){return function(t){var e=t.editor.scayt,n=this.contents,i=t.contents,o=null;return CKEDITOR.plugins.scayt&&CKEDITOR.plugins.scayt.state.scayt[t.editor.name]&&t.editor.scayt&&(this.contents=e.removeMarkupFromString(n)||"",t.contents=e.removeMarkupFromString(i)||""),o=a.apply(this,arguments),this.contents=n,t.contents=i,o}})}}),CKEDITOR.plugins.add("stylescombo",{requires:"richcombo",init:function(r){var s=r.config,l=r.lang.stylescombo,c={},d=[],u=[];r.on("stylesSet",function(t){if(t=t.data.styles){for(var e,n,i,o=0,a=t.length;o<a;o++)e=t[o],r.blockless&&e.element in CKEDITOR.dtd.$block||"string"==typeof e.type&&!CKEDITOR.style.customHandlers[e.type]||(n=e.name,e=new CKEDITOR.style(e),r.filter.customConfig&&!r.filter.check(e))||(e._name=n,e._.enterMode=s.enterMode,e._.type=i=e.assignedTo||e.type,e._.weight=o+1e3*(i==CKEDITOR.STYLE_OBJECT?1:i==CKEDITOR.STYLE_BLOCK?2:3),c[n]=e,d.push(e),u.push(e));d.sort(function(t,e){return t._.weight-e._.weight})}}),r.ui.addRichCombo("Styles",{label:l.label,title:l.panelTitle,toolbar:"styles,10",allowedContent:u,panel:{css:[CKEDITOR.skin.getPath("editor")].concat(s.contentsCss),multiSelect:!0,attributes:{"aria-label":l.panelTitle}},init:function(){var t,e,n,i,o,a;for(o=0,a=d.length;o<a;o++)e=(t=d[o])._name,(i=t._.type)!=n&&(this.startGroup(l["panelTitle"+String(i)]),n=i),this.add(e,t.type==CKEDITOR.STYLE_OBJECT?e:t.buildPreview(),e);this.commit()},onClick:function(t){r.focus(),r.fire("saveSnapshot"),t=c[t];var e=r.elementPath();t.group&&t.removeStylesFromSameGroup(r)?r.applyStyle(t):r[t.checkActive(e,r)?"removeStyle":"applyStyle"](t),r.fire("saveSnapshot")},onRender:function(){r.on("selectionChange",function(t){for(var e,n=this.getValue(),i=0,o=(t=t.data.path.elements).length;i<o;i++)for(var a in e=t[i],c)if(c[a].checkElementRemovable(e,!0,r))return void(a!=n&&this.setValue(a));this.setValue("")},this)},onOpen:function(){var t=r.getSelection().getSelectedElement(),e=(t=r.elementPath(t),[0,0,0,0]);for(var n in this.showAll(),this.unmarkAll(),c){var i=c[n],o=i._.type;i.checkApplicable(t,r,r.activeFilter)?e[o]++:this.hideItem(n),i.checkActive(t,r)&&this.mark(n)}e[CKEDITOR.STYLE_BLOCK]||this.hideGroup(l["panelTitle"+String(CKEDITOR.STYLE_BLOCK)]),e[CKEDITOR.STYLE_INLINE]||this.hideGroup(l["panelTitle"+String(CKEDITOR.STYLE_INLINE)]),e[CKEDITOR.STYLE_OBJECT]||this.hideGroup(l["panelTitle"+String(CKEDITOR.STYLE_OBJECT)])},refresh:function(){var t=r.elementPath();if(t){for(var e in c)if(c[e].checkApplicable(t,r,r.activeFilter))return;this.setState(CKEDITOR.TRISTATE_DISABLED)}},reset:function(){c={},d=[]}})}}),function(){function o(s){return{editorFocus:!1,canUndo:!1,modes:{wysiwyg:1},exec:function(t){if(t.editable().hasFocus){var e,n=t.getSelection();if(e=new CKEDITOR.dom.elementPath(n.getCommonAncestor(),n.root).contains({td:1,th:1},1)){n=t.createRange();if((o=CKEDITOR.tools.tryThese(function(){var t=e.getParent().$.cells[e.$.cellIndex+(s?-1:1)];return t.parentNode.parentNode,t},function(){var t;return(t=(t=e.getParent()).getAscendant("table").$.rows[t.$.rowIndex+(s?-1:1)]).cells[s?t.cells.length-1:0]}))||s){if(!o)return!0;o=new CKEDITOR.dom.element(o),n.moveToElementEditStart(o),n.checkStartOfBlock()&&n.checkEndOfBlock()||n.selectNodeContents(o)}else{for(var i=e.getAscendant("table").$,o=e.getParent().$.cells,a=(i=new CKEDITOR.dom.element(i.insertRow(-1),t.document),0),r=o.length;a<r;a++)i.append(new CKEDITOR.dom.element(o[a],t.document).clone(!1,!1)).appendBogus();n.moveToElementEditStart(i)}return n.select(!0),!0}}return!1}}}var a={editorFocus:!1,modes:{wysiwyg:1,source:1}},r={exec:function(t){t.container.focusNext(!0,t.tabIndex)}},s={exec:function(t){t.container.focusPrevious(!0,t.tabIndex)}};CKEDITOR.plugins.add("tab",{init:function(e){for(var t=!1!==e.config.enableTabKeyTools,n=e.config.tabSpaces||0,i="";n--;)i+="\xa0";i&&e.on("key",function(t){9==t.data.keyCode&&(e.insertText(i),t.cancel())}),t&&e.on("key",function(t){(9==t.data.keyCode&&e.execCommand("selectNextCell")||t.data.keyCode==CKEDITOR.SHIFT+9&&e.execCommand("selectPreviousCell"))&&t.cancel()}),e.addCommand("blur",CKEDITOR.tools.extend(r,a)),e.addCommand("blurBack",CKEDITOR.tools.extend(s,a)),e.addCommand("selectNextCell",o()),e.addCommand("selectPreviousCell",o(!0))}})}(),CKEDITOR.dom.element.prototype.focusNext=function(t,e){var n,i,o,a,r,s,l=void 0===e?this.getTabIndex():e;if(l<=0)for(r=this.getNextSourceNode(t,CKEDITOR.NODE_ELEMENT);r;){if(r.isVisible()&&0===r.getTabIndex()){o=r;break}r=r.getNextSourceNode(!1,CKEDITOR.NODE_ELEMENT)}else for(r=this.getDocument().getBody().getFirst();r=r.getNextSourceNode(!1,CKEDITOR.NODE_ELEMENT);){if(!n)if(!i&&r.equals(this)){if(i=!0,t){if(!(r=r.getNextSourceNode(!0,CKEDITOR.NODE_ELEMENT)))break;n=1}}else i&&!this.contains(r)&&(n=1);if(r.isVisible()&&!((s=r.getTabIndex())<0)){if(n&&s==l){o=r;break}l<s&&(!o||!a||s<a)?(o=r,a=s):o||0!==s||(o=r,a=s)}}o&&o.focus()},CKEDITOR.dom.element.prototype.focusPrevious=function(t,e){for(var n,i,o,a,r=void 0===e?this.getTabIndex():e,s=0,l=this.getDocument().getBody().getLast();l=l.getPreviousSourceNode(!1,CKEDITOR.NODE_ELEMENT);){if(!n)if(!i&&l.equals(this)){if(i=!0,t){if(!(l=l.getPreviousSourceNode(!0,CKEDITOR.NODE_ELEMENT)))break;n=1}}else i&&!this.contains(l)&&(n=1);if(l.isVisible()&&!((a=l.getTabIndex())<0))if(r<=0){if(n&&0===a){o=l;break}s<a&&(o=l,s=a)}else{if(n&&a==r){o=l;break}a<r&&(!o||s<a)&&(o=l,s=a)}}o&&o.focus()},CKEDITOR.plugins.add("table",{requires:"dialog",init:function(t){function e(t){return CKEDITOR.tools.extend(t||{},{contextSensitive:1,refresh:function(t,e){this.setState(e.contains("table",1)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED)}})}if(!t.blockless){var n=t.lang.table;t.addCommand("table",new CKEDITOR.dialogCommand("table",{context:"table",allowedContent:"table{width,height}[align,border,cellpadding,cellspacing,summary];caption tbody thead tfoot;th td tr[scope];"+(t.plugins.dialogadvtab?"table"+t.plugins.dialogadvtab.allowedContent():""),requiredContent:"table",contentTransformations:[["table{width}: sizeToStyle","table[width]: sizeToAttribute"],["td: splitBorderShorthand"],[{element:"table",right:function(t){t.styles&&(t.styles.border&&t.styles.border.match(/solid/)&&(t.attributes.border=1),"collapse"==t.styles["border-collapse"]&&(t.attributes.cellspacing=0))}}]]})),t.addCommand("tableProperties",new CKEDITOR.dialogCommand("tableProperties",e())),t.addCommand("tableDelete",e({exec:function(t){var e=t.elementPath().contains("table",1);if(e){var n=e.getParent(),i=t.editable();1!=n.getChildCount()||n.is("td","th")||n.equals(i)||(e=n),(t=t.createRange()).moveToPosition(e,CKEDITOR.POSITION_BEFORE_START),e.remove(),t.select()}}})),t.ui.addButton&&t.ui.addButton("Table",{label:n.toolbar,command:"table",toolbar:"insert,30"}),CKEDITOR.dialog.add("table",this.path+"dialogs/table.js"),CKEDITOR.dialog.add("tableProperties",this.path+"dialogs/table.js"),t.addMenuItems&&t.addMenuItems({table:{label:n.menu,command:"tableProperties",group:"table",order:5},tabledelete:{label:n.deleteTable,command:"tableDelete",group:"table",order:1}}),t.on("doubleclick",function(t){t.data.element.is("table")&&(t.data.dialog="tableProperties")}),t.contextMenu&&t.contextMenu.addListener(function(){return{tabledelete:CKEDITOR.TRISTATE_OFF,table:CKEDITOR.TRISTATE_OFF}})}}}),function(){function C(t,e){function n(t){return!e||e.contains(t)&&t.getAscendant("table",!0).equals(e)}function i(t){0<a.length||t.type!=CKEDITOR.NODE_ELEMENT||!m.test(t.getName())||t.getCustomData("selected_cell")||(CKEDITOR.dom.element.setMarker(r,t,"selected_cell",!0),a.push(t))}if(t){for(var o=t.getRanges(),a=[],r={},s=0;s<o.length;s++){var l,c;if((l=o[s]).collapsed)(l=l.getCommonAncestor().getAscendant({td:1,th:1},!0))&&n(l)&&a.push(l);else for((l=new CKEDITOR.dom.walker(l)).guard=i;c=l.next();)c.type==CKEDITOR.NODE_ELEMENT&&c.is(CKEDITOR.dtd.table)||(c=c.getAscendant({td:1,th:1},!0))&&!c.getCustomData("selected_cell")&&n(c)&&(CKEDITOR.dom.element.setMarker(r,c,"selected_cell",!0),a.push(c))}return CKEDITOR.dom.element.clearAllMarkers(r),a}}function a(t,e){var n=(i=(r=g(t)?t:C(t))[0]).getAscendant("table"),i=i.getDocument(),o=(s=r[0].getParent()
).$.rowIndex,a=(r=r[r.length-1]).getParent().$.rowIndex+r.$.rowSpan-1,r=new CKEDITOR.dom.element(n.$.rows[a]),s=(o=e?o:a,e?s:r);for(n=(r=CKEDITOR.tools.buildTableMap(n))[o],o=e?r[o-1]:r[o+1],r=r[0].length,i=i.createElement("tr"),a=0;n[a]&&a<r;a++){var l;1<n[a].rowSpan&&o&&n[a]==o[a]?(l=n[a]).rowSpan+=1:((l=new CKEDITOR.dom.element(n[a]).clone()).removeAttribute("rowSpan"),l.appendBogus(),i.append(l),l=l.$),a+=l.colSpan-1}e?i.insertBefore(s):i.insertAfter(s)}function h(t){if(t instanceof CKEDITOR.dom.selection){var e=t.getRanges(),n=(r=C(t))[0].getAscendant("table"),i=CKEDITOR.tools.buildTableMap(n),o=r[0].getParent().$.rowIndex,a=(r=r[r.length-1]).getParent().$.rowIndex+r.$.rowSpan-1,r=[];for(t.reset(),t=o;t<=a;t++){for(var s=i[t],l=new CKEDITOR.dom.element(n.$.rows[t]),c=0;c<s.length;c++){var d=new CKEDITOR.dom.element(s[c]),u=d.getParent().$.rowIndex;1==d.$.rowSpan?d.remove():(--d.$.rowSpan,u==t&&((u=i[t+1])[c-1]?d.insertAfter(new CKEDITOR.dom.element(u[c-1])):new CKEDITOR.dom.element(n.$.rows[t+1]).append(d,1))),c+=d.$.colSpan-1}r.push(l)}for(i=n.$.rows,e[0].moveToPosition(n,CKEDITOR.POSITION_BEFORE_START),o=new CKEDITOR.dom.element(i[a+1]||(0<o?i[o-1]:null)||n.$.parentNode),t=r.length;0<=t;t--)h(r[t]);return n.$.parentNode?o:(e[0].select(),null)}return t instanceof CKEDITOR.dom.element&&(1==(n=t.getAscendant("table")).$.rows.length?n.remove():t.remove()),null}function r(t,e){for(var n=t.getParent().$.cells,i=0,o=0;o<n.length;o++){var a=n[o];i=i+(e?1:a.colSpan);if(a==t.$)break}return i-1}function l(t,e){for(var n=e?Infinity:0,i=0;i<t.length;i++){var o=r(t[i],e);(e?o<n:n<o)&&(n=o)}return n}function s(t,e){for(var n=(o=g(t)?t:C(t))[0].getAscendant("table"),i=l(o,1),o=l(o),a=e?i:o,r=CKEDITOR.tools.buildTableMap(n),s=(n=[],i=[],o=r.length,0);s<o;s++)n.push(r[s][a]),i.push(e?r[s][a-1]:r[s][a+1]);for(s=0;s<o;s++)n[s]&&(1<n[s].colSpan&&i[s]==n[s]?(r=n[s]).colSpan+=1:((r=(a=new CKEDITOR.dom.element(n[s])).clone()).removeAttribute("colSpan"),r.appendBogus(),r[e?"insertBefore":"insertAfter"].call(r,a),r=r.$),s+=r.rowSpan-1)}function c(t,e){var n=t.getStartElement().getAscendant({td:1,th:1},!0);if(n){var i=n.clone();i.appendBogus(),e?i.insertBefore(n):i.insertAfter(n)}}function d(t){if(t instanceof CKEDITOR.dom.selection){var e,n=t.getRanges(),i=C(t),o=i[0]&&i[0].getAscendant("table");t:{var a=0;e=i.length-1;for(var r,s,l={};r=i[a++];)CKEDITOR.dom.element.setMarker(l,r,"delete_cell",!0);for(a=0;r=i[a++];)if((s=r.getPrevious())&&!s.getCustomData("delete_cell")||(s=r.getNext())&&!s.getCustomData("delete_cell")){CKEDITOR.dom.element.clearAllMarkers(l),e=s;break t}CKEDITOR.dom.element.clearAllMarkers(l),(a=(a=i[0].getParent()).getPrevious())?e=a.getLast():e=(a=(a=i[e].getParent()).getNext())?a.getChild(0):null}for(t.reset(),t=i.length-1;0<=t;t--)d(i[t]);e?y(e,!0):o&&(n[0].moveToPosition(o,CKEDITOR.POSITION_BEFORE_START),n[0].select(),o.remove())}else t instanceof CKEDITOR.dom.element&&(1==(n=t.getParent()).getChildCount()?n.remove():t.remove())}function y(t,e){var n=t.getDocument(),i=CKEDITOR.document;CKEDITOR.env.ie&&10==CKEDITOR.env.version&&(i.focus(),n.focus()),(n=new CKEDITOR.dom.range(n))["moveToElementEdit"+(e?"End":"Start")](t)||(n.selectNodeContents(t),n.collapse(!e)),n.select(!0)}function D(t,e,n){if(t=t[e],void 0===n)return t;for(e=0;t&&e<t.length;e++){if(n.is&&t[e]==n.$)return e;if(e==n)return new CKEDITOR.dom.element(t[e])}return n.is?-1:null}function u(t,e,n){var i,o,a=C(t);if((e?1!=a.length:a.length<2)||(i=t.getCommonAncestor())&&i.type==CKEDITOR.NODE_ELEMENT&&i.is("table"))return!1;i=(t=a[0]).getAscendant("table");var r=CKEDITOR.tools.buildTableMap(i),s=r.length,l=r[0].length,c=t.getParent().$.rowIndex,d=D(r,c,t);if(e){var u;try{var h=parseInt(t.getAttribute("rowspan"),10)||1;o=parseInt(t.getAttribute("colspan"),10)||1,u=r["up"==e?c-h:"down"==e?c+h:c]["left"==e?d-o:"right"==e?d+o:d]}catch(y){return!1}if(!u||t.$==u)return!1;a["up"==e||"left"==e?"unshift":"push"](new CKEDITOR.dom.element(u))}e=t.getDocument();var f=c,p=(h=u=0,!n&&new CKEDITOR.dom.documentFragment(e)),m=0;for(e=0;e<a.length;e++){var g=(o=a[e]).getParent(),v=o.getFirst(),E=o.$.colSpan,T=o.$.rowSpan,b=D(r,g=g.$.rowIndex,o);m=m+E*T,h=Math.max(h,b-d+E);u=Math.max(u,g-c+T),n||((T=(E=o).getBogus())&&T.remove(),E.trim(),o.getChildren().count()&&(g==f||!v||v.isBlockBoundary&&v.isBlockBoundary({br:1})||(!(f=p.getLast(CKEDITOR.dom.walker.whitespaces(!0)))||f.is&&f.is("br")||p.append("br")),o.moveChildren(p)),e?o.remove():o.setHtml("")),f=g}if(n)return u*h==m;for(p.moveChildren(t),t.appendBogus(),l<=h?t.removeAttribute("rowSpan"):t.$.rowSpan=u,s<=u?t.removeAttribute("colSpan"):t.$.colSpan=h,e=(a=(n=new CKEDITOR.dom.nodeList(i.$.rows)).count())-1;0<=e;e--)(i=n.getItem(e)).$.cells.length||(i.remove(),a++);return t}function f(t,e){if(1<(n=C(t)).length)return!1;if(e)return!0;var n,i,o=(l=(n=n[0]).getParent()).getAscendant("table"),a=D(c=CKEDITOR.tools.buildTableMap(o),d=l.$.rowIndex,n);if(1<(s=n.$.rowSpan)){i=Math.ceil(s/2);for(var r,s=Math.floor(s/2),l=d+i,c=(o=new CKEDITOR.dom.element(o.$.rows[l]),D(c,l)),d=(l=n.clone(),0);d<c.length;d++){if((r=c[d]).parentNode==o.$&&a<d){l.insertBefore(new CKEDITOR.dom.element(r));break}r=null}r||o.append(l)}else for(s=i=1,(o=l.clone()).insertAfter(l),o.append(l=n.clone()),r=D(c,d),a=0;a<r.length;a++)r[a].rowSpan++;return l.appendBogus(),n.$.rowSpan=i,l.$.rowSpan=s,1==i&&n.removeAttribute("rowSpan"),1==s&&l.removeAttribute("rowSpan"),l}function p(t,e){if(1<(n=C(t)).length)return!1;if(e)return!0;var n,i=(n=n[0]).getParent(),o=i.getAscendant("table"),a=D(o=CKEDITOR.tools.buildTableMap(o),i.$.rowIndex,n);if(1<(r=n.$.colSpan))i=Math.ceil(r/2),r=Math.floor(r/2);else{for(var r=i=1,s=[],l=0;l<o.length;l++){var c=o[l];s.push(c[a]),1<c[a].rowSpan&&(l+=c[a].rowSpan-1)}for(o=0;o<s.length;o++)s[o].colSpan++}return(o=n.clone()).insertAfter(n),o.appendBogus(),n.$.colSpan=i,o.$.colSpan=r,1==i&&n.removeAttribute("colSpan"),1==r&&o.removeAttribute("colSpan"),o}var m=/^(?:td|th)$/,g=CKEDITOR.tools.isArray;CKEDITOR.plugins.tabletools={requires:"table,dialog,contextmenu",init:function(i){function t(t){return CKEDITOR.tools.extend(t||{},{contextSensitive:1,refresh:function(t,e){this.setState(e.contains({td:1,th:1},1)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED)}})}function e(t,e){var n=i.addCommand(t,e);i.addFeature(n)}var n=i.lang.table,o=CKEDITOR.tools.style.parse;e("cellProperties",new CKEDITOR.dialogCommand("cellProperties",t({allowedContent:"td th{width,height,border-color,background-color,white-space,vertical-align,text-align}[colspan,rowspan]",requiredContent:"table",contentTransformations:[[{element:"td",left:function(t){return t.styles.background&&o.background(t.styles.background).color},right:function(t){t.styles["background-color"]=o.background(t.styles.background).color}},{element:"td",check:"td{vertical-align}",left:function(t){return t.attributes&&t.attributes.valign},right:function(t){t.styles["vertical-align"]=t.attributes.valign,delete t.attributes.valign}}],[{element:"tr",check:"td{height}",left:function(t){return t.styles&&t.styles.height},right:function(e){CKEDITOR.tools.array.forEach(e.children,function(t){t.name in{td:1,th:1}&&(t.attributes["cke-row-height"]=e.styles.height)}),delete e.styles.height}}],[{element:"td",check:"td{height}",left:function(t){return(t=t.attributes)&&t["cke-row-height"]},right:function(t){t.styles.height=t.attributes["cke-row-height"],delete t.attributes["cke-row-height"]}}]]}))),CKEDITOR.dialog.add("cellProperties",this.path+"dialogs/tableCell.js"),e("rowDelete",t({requiredContent:"table",exec:function(t){(t=h(t=t.getSelection()))&&y(t)}})),e("rowInsertBefore",t({requiredContent:"table",exec:function(t){a(t=C(t=t.getSelection()),!0)}})),e("rowInsertAfter",t({requiredContent:"table",exec:function(t){a(t=C(t=t.getSelection()))}})),e("columnDelete",t({requiredContent:"table",exec:function(t){t=(c=t.getSelection()).getRanges();var e,n,i=(a=C(c))[0],o=a[a.length-1],a=i.getAscendant("table"),r=CKEDITOR.tools.buildTableMap(a),s=[];c.reset();for(var l=0,c=r.length;l<c;l++)for(var d=0,u=r[l].length;d<u;d++)r[l][d]==i.$&&(e=d),r[l][d]==o.$&&(n=d);for(l=e;l<=n;l++)for(d=0;d<r.length;d++)o=r[d],i=new CKEDITOR.dom.element(a.$.rows[d]),(o=new CKEDITOR.dom.element(o[l])).$&&(1==o.$.colSpan?o.remove():--o.$.colSpan,d+=o.$.rowSpan-1,i.$.cells.length||s.push(i));n=a.$.rows[0]&&a.$.rows[0].cells,e=new CKEDITOR.dom.element(n[e]||(e?n[e-1]:a.$.parentNode)),s.length==c&&(t[0].moveToPosition(a,CKEDITOR.POSITION_AFTER_END),t[0].select(),a.remove()),e&&y(e,!0)}})),e("columnInsertBefore",t({requiredContent:"table",exec:function(t){s(t=C(t=t.getSelection()),!0)}})),e("columnInsertAfter",t({requiredContent:"table",exec:function(t){s(t=C(t=t.getSelection()))}})),e("cellDelete",t({requiredContent:"table",exec:function(t){d(t=t.getSelection())}})),e("cellMerge",t({allowedContent:"td[colspan,rowspan]",requiredContent:"td[colspan,rowspan]",exec:function(t,e){e.cell=u(t.getSelection()),y(e.cell,!0)}})),e("cellMergeRight",t({allowedContent:"td[colspan]",requiredContent:"td[colspan]",exec:function(t,e){e.cell=u(t.getSelection(),"right"),y(e.cell,!0)}})),e("cellMergeDown",t({allowedContent:"td[rowspan]",requiredContent:"td[rowspan]",exec:function(t,e){e.cell=u(t.getSelection(),"down"),y(e.cell,!0)}})),e("cellVerticalSplit",t({allowedContent:"td[rowspan]",requiredContent:"td[rowspan]",exec:function(t){y(p(t.getSelection()))}})),e("cellHorizontalSplit",t({allowedContent:"td[colspan]",requiredContent:"td[colspan]",exec:function(t){y(f(t.getSelection()))}})),e("cellInsertBefore",t({requiredContent:"table",exec:function(t){c(t=t.getSelection(),!0)}})),e("cellInsertAfter",t({requiredContent:"table",exec:function(t){c(t=t.getSelection())}})),i.addMenuItems&&i.addMenuItems({tablecell:{label:n.cell.menu,group:"tablecell",order:1,getItems:function(){var t=i.getSelection(),e=C(t);return{tablecell_insertBefore:CKEDITOR.TRISTATE_OFF,tablecell_insertAfter:CKEDITOR.TRISTATE_OFF,tablecell_delete:CKEDITOR.TRISTATE_OFF,tablecell_merge:u(t,null,!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_merge_right:u(t,"right",!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_merge_down:u(t,"down",!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_split_vertical:p(t,!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_split_horizontal:f(t,!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_properties:0<e.length?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED}}},tablecell_insertBefore:{label:n.cell.insertBefore,group:"tablecell",command:"cellInsertBefore",order:5},tablecell_insertAfter:{label:n.cell.insertAfter,group:"tablecell",command:"cellInsertAfter",order:10},tablecell_delete:{label:n.cell.deleteCell,group:"tablecell",command:"cellDelete",order:15},tablecell_merge:{label:n.cell.merge,group:"tablecell",command:"cellMerge",order:16},tablecell_merge_right:{label:n.cell.mergeRight,group:"tablecell",command:"cellMergeRight",order:17},tablecell_merge_down:{label:n.cell.mergeDown,group:"tablecell",command:"cellMergeDown",order:18},tablecell_split_horizontal:{label:n.cell.splitHorizontal,group:"tablecell",command:"cellHorizontalSplit",order:19},tablecell_split_vertical:{label:n.cell.splitVertical,group:"tablecell",command:"cellVerticalSplit",order:20},tablecell_properties:{label:n.cell.title,group:"tablecellproperties",command:"cellProperties",order:21},tablerow:{label:n.row.menu,group:"tablerow",order:1,getItems:function(){return{tablerow_insertBefore:CKEDITOR.TRISTATE_OFF,tablerow_insertAfter:CKEDITOR.TRISTATE_OFF,tablerow_delete:CKEDITOR.TRISTATE_OFF}}},tablerow_insertBefore:{label:n.row.insertBefore,group:"tablerow",command:"rowInsertBefore",order:5},tablerow_insertAfter:{label:n.row.insertAfter,group:"tablerow",command:"rowInsertAfter",order:10},tablerow_delete:{label:n.row.deleteRow,group:"tablerow",command:"rowDelete",order:15},tablecolumn:{label:n.column.menu,group:"tablecolumn",order:1,getItems:function(){return{tablecolumn_insertBefore:CKEDITOR.TRISTATE_OFF,tablecolumn_insertAfter:CKEDITOR.TRISTATE_OFF,tablecolumn_delete:CKEDITOR.TRISTATE_OFF}}},tablecolumn_insertBefore:{label:n.column.insertBefore,group:"tablecolumn",command:"columnInsertBefore",order:5},tablecolumn_insertAfter:{label:n.column.insertAfter,group:"tablecolumn",command:"columnInsertAfter",order:10},tablecolumn_delete:{label:n.column.deleteColumn,group:"tablecolumn",command:"columnDelete",order:15}}),i.contextMenu&&i.contextMenu.addListener(function(t,e,n){return(t=n.contains({td:1,th:1},1))&&!t.isReadOnly()?{tablecell:CKEDITOR.TRISTATE_OFF,tablerow:CKEDITOR.TRISTATE_OFF,tablecolumn:CKEDITOR.TRISTATE_OFF}:null})},getCellColIndex:r,insertRow:a,insertColumn:s,getSelectedCells:C},CKEDITOR.plugins.add("tabletools",CKEDITOR.plugins.tabletools)}(),CKEDITOR.tools.buildTableMap=function(t,e,n,i,o){t=t.$.rows,n=n||0,i="number"==typeof i?i:t.length-1,o="number"==typeof o?o:-1;var a=-1,r=[];for(e=e||0;e<=i;e++){!r[++a]&&(r[a]=[]);for(var s=-1,l=n;l<=(-1===o?t[e].cells.length-1:o);l++){if(!(d=t[e].cells[l]))break;for(s++;r[a][s];)s++;for(var c=isNaN(d.colSpan)?1:d.colSpan,d=isNaN(d.rowSpan)?1:d.rowSpan,u=0;u<d&&!(i<e+u);u++){r[a+u]||(r[a+u]=[]);for(var h=0;h<c;h++)r[a+u][s+h]=t[e].cells[l]}if(s+=c-1,-1!==o&&o<=s)break}}return r},function(){function T(t,e){var n,i,o=t.getAscendant("table"),a=e.getAscendant("table"),r=CKEDITOR.tools.buildTableMap(o),s=t.getAscendant("tr",!0).$.rowIndex,l=e.getAscendant("tr",!0).$.rowIndex,c=[],d={};for(o.contains(a)&&(l=(e=e.getAscendant({td:1,th:1})).getAscendant("tr",!0).$.rowIndex),l<s&&(o=s,s=l,l=o,o=t,t=e,e=o),o=0;o<r[s].length;o++)if(t.$===r[s][o]){n=o;break}for(o=0;o<r[l].length;o++)if(e.$===r[l][o]){i=o;break}for(i<n&&(o=n,n=i,i=o),o=s;o<=l;o++)for(s=n;s<=i;s++)(a=new CKEDITOR.dom.element(r[o][s])).$&&!a.getCustomData("selected_cell")&&(c.push(a),CKEDITOR.dom.element.setMarker(d,a,"selected_cell",!0));return CKEDITOR.dom.element.clearAllMarkers(d),c}function d(t){return t=t.data.$,CKEDITOR.env.ie&&CKEDITOR.env.version<9?1===t.button:0===t.button}function u(t){return(t=t.editable().findOne(".cke_table-faked-selection"))&&t.getAscendant("table")}function h(t,e){var n,i=t.editable().find(".cke_table-faked-selection");for(t.fire("lockSnapshot"),t.editable().removeClass("cke_table-faked-selection-editor"),n=0;n<i.count();n++)i.getItem(n).removeClass("cke_table-faked-selection");0<i.count()&&i.getItem(0).getAscendant("table").removeClass("cke_table-faked-selection-table"),t.fire("unlockSnapshot"),e&&(g={active:!1},t.getSelection().isInTable()&&t.getSelection().reset())}function b(t,e){var n,i,o=[];for(i=0;i<e.length;i++)(n=t.createRange()).setStartBefore(e[i]),n.setEndAfter(e[i]),o.push(n);t.getSelection().selectRanges(o)}function f(t){var e=t.editable().find(".cke_table-faked-selection");e.count()<1||b(t,e=T(e.getItem(0),e.getItem(e.count()-1)))}function p(t,e,n){var i,o=C(t.getSelection(!0));if(e=e.is("table")?null:e,(i=g.active&&!g.first)&&!(i=e)&&(i=t.getSelection().getRanges(),i=!!(1<o.length||i[0]&&!i[0].collapsed)),i)g.first=e||o[0],g.dirty=!e&&1!==o.length;else if(g.active&&e&&g.first.getAscendant("table").equals(e.getAscendant("table"))){if(o=T(g.first,e),!g.dirty&&1===o.length)return h(t,"mouseup"===n.name);g.dirty=!0,g.last=e,b(t,o)}}function o(t){var e,n=(t=t.editor||t.sender.editor)&&t.getSelection(),i=n&&n.getRanges()||[];if(n&&(h(t),n.isInTable()&&n.isFake)){for(1===i.length&&i[0]._getTableElement()&&i[0]._getTableElement().is("table")&&(e=i[0]._getTableElement()),e=C(n,e),t.fire("lockSnapshot"),n=0;n<e.length;n++)e[n].addClass("cke_table-faked-selection");0<e.length&&(t.editable().addClass("cke_table-faked-selection-editor"),e[0].getAscendant("table").addClass("cke_table-faked-selection-table")),t.fire("unlockSnapshot")}}function m(t){function o(t,e){return!(!t||!e)&&(t.equals(e)||t.contains(e)||e.contains(t)||t.getCommonAncestor(e).is(c))}function a(t){return!t.getAscendant("table",!0)&&t.getDocument().equals(n.document)}function e(t,e,n,i){return!(("mousedown"!==t.name||!d(t)&&i)&&("mouseup"!==t.name||a(t.data.getTarget())||o(n,i)))}if(t.data.getTarget().getName){var n=t.editor||t.listenerData.editor,i=n.getSelection(1),r=u(n),s=(l=t.data.getTarget())&&l.getAscendant({td:1,th:1},!0),l=l&&l.getAscendant("table",!0),c={table:1,thead:1,tbody:1,tfoot:1,tr:1,td:1,th:1};e(t,i,r,l)&&h(n,!0),!g.active&&"mousedown"===t.name&&d(t)&&l&&(g={active:!0},CKEDITOR.document.on("mouseup",m,null,{editor:n})),(s||l)&&p(n,s||l,t),"mouseup"===t.name&&(d(t)&&(a(t.data.getTarget())||o(r,l))&&f(n),g={active:!1},CKEDITOR.document.removeListener("mouseup",m))}}function a(t){var e=t.data.getTarget().getAscendant({td:1,th:1},!0);e&&!e.hasClass("cke_table-faked-selection")&&(t.cancel(),t.data.preventDefault())}function n(t,e){function n(t){t.cancel()}var i,o,a,r,s=t.getSelection(),l=s.createBookmarks(),c=t.document,d=t.createRange(),u=c.getDocumentElement().$,h=CKEDITOR.env.ie&&CKEDITOR.env.version<9,f=t.blockless||CKEDITOR.env.ie?"span":"div";c.getById("cke_table_copybin")||(i=c.createElement(f),(o=c.createElement(f)).setAttributes({id:"cke_table_copybin","data-cke-temp":"1"}),i.setStyles({position:"absolute",width:"1px",height:"1px",overflow:"hidden"}),i.setStyle("ltr"==t.config.contentsLangDirection?"left":"right","-5000px"),i.setHtml(t.getSelectedHtml(!0)),t.fire("lockSnapshot"),o.append(i),t.editable().append(o),r=t.on("selectionChange",n,null,null,0),h&&(a=u.scrollTop),d.selectNodeContents(i),d.select(),h&&(u.scrollTop=a),setTimeout(function(){o.remove(),s.selectBookmarks(l),r.removeListener(),t.fire("unlockSnapshot"),e&&(t.extractSelectedHtml(),t.fire("saveSnapshot"))},100))}function r(t){var e=t.editor||t.sender.editor;e.getSelection().isInTable()&&n(e,"cut"===t.name)}function t(t){function e(t){var e=(t=t.getRanges()[0]).endContainer.getAscendant("tr",!0);if(e&&t.collapsed){if(t.checkBoundaryOfElement(e,CKEDITOR.START))return 1;if(t.checkBoundaryOfElement(e,CKEDITOR.END))return 2}return 0}function n(t){var e,n=0;for(e=0;e<t.length;e++)t[e].length>n&&(n=t[e].length);return n}function i(t){var e,n=t.getAscendant("table"),i=t.getParent().$.rowIndex;n=CKEDITOR.tools.buildTableMap(n);for(e=0;e<n[i].length;e++)if(new CKEDITOR.dom.element(n[i][e]).equals(t))return e}var o,a,r,s,l,c,d=t.editor,u=d.dataProcessor,h=d.getSelection(),f=new CKEDITOR.dom.element("body"),p=0,m=0,g=0,v=0,E={};if(u||(u=new CKEDITOR.htmlDataProcessor(d)),f.setHtml(u.toHtml(t.data.dataValue),{fixForBody:!1}),v=f.findOne("table"),h.getRanges().length&&(h.isInTable()||(o=e(h)))&&(a=C(h)).length){if(t.stop(),t=a[0].getAscendant("table"),g=(r=(a=C(h,t))[0]).getParent(),l=(s=a[a.length-1]).getParent(),!o)for(u=0;u<a.length;u++)a[u].setHtml("");if(1<f.getChildCount()||!v)a[0].setHtml(f.getHtml()),d.fire("saveSnapshot");else{if(o){for(a=g.getChildCount(),(g=l=new CKEDITOR.dom.element("tr"))["insert"+(1===o?"Before":"After")](r.getParent()),u=0;u<a;u++)(r=new CKEDITOR.dom.element("td")).appendTo(g);r=g.getFirst(),s=g.getLast(),h.selectElement(g),a=C(h)}if(o=CKEDITOR.tools.buildTableMap(t,g.$.rowIndex,y(r,!0),l.$.rowIndex,i(s)),g=n(h=CKEDITOR.tools.buildTableMap(v)),v=n(o),h.length>o.length)for(p=h.length-o.length,u=0;u<p;u++)D(a);if(v<g)for(m=g-v,u=0;u<m;u++)I(a);for(g=(r=a[0]).getParent(),s=a[a.length-1],s=(l=new CKEDITOR.dom.element(t.$.rows[s.getParent().$.rowIndex+p])).getChild(s.$.cellIndex+m),p=y(a[0],!0),a=i(s),o=CKEDITOR.tools.buildTableMap(t,g.$.rowIndex,p,l.$.rowIndex,a),u=0;u<h.length;u++)for(m=new CKEDITOR.dom.element(t.$.rows[g.$.rowIndex+u]),a=0;a<h[u].length;a++)c=new CKEDITOR.dom.element(h[u][a]),f=o[u]&&o[u][a]?new CKEDITOR.dom.element(o[u][a]):null,c&&!c.getCustomData("processed")?(f&&f.getParent()?c.replace(f):(0===a||h[u][a-1])&&((f=0!==a?new CKEDITOR.dom.element(h[u][a-1]):null)&&m.equals(f.getParent())?c.insertAfter(f):0<p?c.insertAfter(new CKEDITOR.dom.element(m.$.cells[p])):m.append(c,!0)),CKEDITOR.dom.element.setMarker(E,c,"processed",!0)):c.getCustomData("processed")&&f&&f.remove();CKEDITOR.dom.element.clearAllMarkers(E),b(d,T(new CKEDITOR.dom.element(h[0][0]),c)),d.fire("saveSnapshot"),setTimeout(function(){d.fire("afterPaste")},0)}}}function e(e,n,i){e.on("beforeCommandExec",function(t){-1!==CKEDITOR.tools.array.indexOf(n,t.data.name)&&(t.data.selectedCells=C(e.getSelection()))}),e.on("afterCommandExec",function(t){-1!==CKEDITOR.tools.array.indexOf(n,t.data.name)&&i(e,t.data)})}var i,C,y,D,I,g={active:!1};CKEDITOR.plugins.tableselection={getCellsBetween:T,keyboardIntegration:function(o){function c(t){t.getEnclosedNode()?t.getEnclosedNode().setText(""):t.deleteContents(),CKEDITOR.tools.array.forEach(t._find("td"),function(t){t.appendBogus()})}var t=o.editable();t.attachListener(t,"keydown",function(d){function s(t,e){if(!e.length)return null;var n=d.createRange(),i=CKEDITOR.dom.range.mergeRanges(e);CKEDITOR.tools.array.forEach(i,function(t){t.enlarge(CKEDITOR.ENLARGE_ELEMENT)});var o=(a=i[0].getBoundaryNodes()).startNode,a=a.endNode;if(o&&o.is&&o.is(u)){for(var r=o.getAscendant("table",!0),s=o.getPreviousSourceNode(!1,CKEDITOR.NODE_ELEMENT,r),l=!1,c=function(t){return!o.contains(t)&&t.is&&t.is("td","th")};s&&!c(s);)s=s.getPreviousSourceNode(!1,CKEDITOR.NODE_ELEMENT,r);return!s&&a&&a.is&&!a.is("table")&&a.getNext()&&(s=a.getNext().findOne("td, th"),l=!0),s?n["moveToElementEdit"+(l?"Start":"End")](s):(n.setStartBefore(o.getAscendant("table",!0)),n.collapse(!0)),i[0].deleteContents(),[n]}return o?(n.moveToElementEditablePosition(o),[n]):void 0}var l={37:1,38:1,39:1,40:1,8:1,46:1},u=CKEDITOR.tools.extend({table:1},CKEDITOR.dtd.$tableContent);return delete u.td,delete u.th,function(t){var e,n,i,o,a=t.data.getKey(),r=37===a||38==a;if(l[a]&&(e=d.getSelection())&&e.isInTable()&&e.isFake)if(i=(n=e.getRanges())[0]._getTableElement(),o=n[n.length-1]._getTableElement(),t.data.preventDefault(),t.cancel(),8<a&&a<46)n[0].moveToElementEditablePosition(r?i:o,!r),e.selectRanges([n[0]]);else{for(t=0;t<n.length;t++)c(n[t]);(t=s(i,n))?n=t:n[0].moveToElementEditablePosition(i),e.selectRanges(n),d.fire("saveSnapshot")}}}(o),null,null,-1),t.attachListener(t,"keypress",function(t){var e,n=o.getSelection(),i=t.data.$.charCode||13===t.data.getKey();if(n&&n.isInTable()&&n.isFake&&i&&!(t.data.getKeystroke()&CKEDITOR.CTRL)){for(i=(t=n.getRanges())[0].getEnclosedNode().getAscendant({td:1,th:1},!0),e=0;e<t.length;e++)c(t[e]);t[0].moveToElementEditablePosition(i),n.selectRanges([t[0]])}},null,null,-1)},isSupportedEnvironment:!(CKEDITOR.env.ie&&CKEDITOR.env.version<11)},CKEDITOR.plugins.add("tableselection",{requires:"clipboard,tabletools",onLoad:function(){i=CKEDITOR.plugins.tabletools,C=i.getSelectedCells,y=i.getCellColIndex,D=i.insertRow,I=i.insertColumn,CKEDITOR.document.appendStyleSheet(this.path+"/styles/tableselection.css")},init:function(i){CKEDITOR.plugins.tableselection.isSupportedEnvironment&&(i.addContentsCss&&i.addContentsCss(this.path+"/styles/tableselection.css"),i.on("contentDom",function(){var t=i.editable(),e=t.isInline()?t:i.document,n={editor:i};t.attachListener(e,"mousedown",m,null,n),t.attachListener(e,"mousemove",m,null,n),t.attachListener(e,"mouseup",m,null,n),t.attachListener(t,"dragstart",a),t.attachListener(i,"selectionCheck",o),CKEDITOR.plugins.tableselection.keyboardIntegration(i),CKEDITOR.plugins.clipboard&&!CKEDITOR.plugins.clipboard.isCustomCopyCutSupported&&(t.attachListener(t,"cut",r),t.attachListener(t,"copy",r))}),i.on("paste",t),e(i,"rowInsertBefore rowInsertAfter columnInsertBefore columnInsertAfter cellInsertBefore cellInsertAfter".split(" "),function(t,e){b(t,e.selectedCells)}),e(i,["cellMerge","cellMergeRight","cellMergeDown"],function(t,e){b(t,[e.commandData.cell])}),e(i,["cellDelete"],function(t){h(t,!0)}))}})}(),function(){var s=[CKEDITOR.CTRL+90,CKEDITOR.CTRL+89,CKEDITOR.CTRL+CKEDITOR.SHIFT+90],n={8:1,46:1};CKEDITOR.plugins.add("undo",{init:function(t){function e(t){i.enabled&&!1!==t.data.command.canUndo&&i.save()}function n(){i.enabled=!t.readOnly&&"wysiwyg"==t.mode,i.onChange()}var i=t.undoManager=new l(t),o=i.editingHandler=new c(i),a=t.addCommand("undo",{exec:function(){i.undo()&&(t.selectionChange(),this.fire("afterUndo"))},startDisabled:!0,canUndo:!1}),r=t.addCommand("redo",{exec:function(){i.redo()&&(t.selectionChange(),this.fire("afterRedo"))},startDisabled:!0,canUndo:!1});t.setKeystroke([[s[0],"undo"],[s[1],"redo"],[s[2],"redo"]]),i.onChange=function(){a.setState(i.undoable()?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED),r.setState(i.redoable()?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED)},t.on("beforeCommandExec",e),t.on("afterCommandExec",e),t.on("saveSnapshot",function(t){i.save(t.data&&t.data.contentOnly)}),t.on("contentDom",o.attachListeners,o),t.on("instanceReady",function(){t.fire("saveSnapshot")}),t.on("beforeModeUnload",function(){"wysiwyg"==t.mode&&i.save(!0)}),t.on("mode",n),t.on("readOnly",n),t.ui.addButton&&(t.ui.addButton("Undo",{label:t.lang.undo.undo,command:"undo",toolbar:"undo,10"}),t.ui.addButton("Redo",{label:t.lang.undo.redo,command:"redo",toolbar:"undo,20"})),t.resetUndo=function(){i.reset(),t.fire("saveSnapshot")},t.on("updateSnapshot",function(){i.currentImage&&i.update()}),t.on("lockSnapshot",function(t){t=t.data,i.lock(t&&t.dontUpdate,t&&t.forceUpdate)}),t.on("unlockSnapshot",i.unlock,i)}}),CKEDITOR.plugins.undo={};var l=CKEDITOR.plugins.undo.UndoManager=function(t){this.strokesRecorded=[0,0],this.locked=null,this.previousKeyGroup=-1,this.limit=t.config.undoStackSize||20,this.strokesLimit=25,this.editor=t,this.reset()};l.prototype={type:function(t,e){var n=l.getKeyGroup(t),i=this.strokesRecorded[n]+1;e=e||i>=this.strokesLimit,this.typing||(this.hasUndo=this.typing=!0,this.hasRedo=!1,this.onChange()),e?(i=0,this.editor.fire("saveSnapshot")):this.editor.fire("change"),this.strokesRecorded[n]=i,this.previousKeyGroup=n},keyGroupChanged:function(t){return l.getKeyGroup(t)!=this.previousKeyGroup},reset:function(){this.snapshots=[],this.index=-1,this.currentImage=null,this.hasRedo=this.hasUndo=!1,this.locked=null,this.resetType()},resetType:function(){this.strokesRecorded=[0,0],this.typing=!1,this.previousKeyGroup=-1},refreshState:function(){this.hasUndo=!!this.getNextImage(!0),this.hasRedo=!!this.getNextImage(!1),this.resetType(),this.onChange()},save:function(t,e,n){var i=this.editor;if(this.locked||"ready"!=i.status||"wysiwyg"!=i.mode)return!1;var o=i.editable();if(!o||"ready"!=o.status)return!1;if(o=this.snapshots,e||(e=new a(i)),!1===e.contents)return!1;if(this.currentImage)if(e.equalsContent(this.currentImage)){if(t||e.equalsSelection(this.currentImage))return!1}else!1!==n&&i.fire("change");return o.splice(this.index+1,o.length-this.index-1),o.length==this.limit&&o.shift(),this.index=o.push(e)-1,this.currentImage=e,!1!==n&&this.refreshState(),!0},restoreImage:function(t){var e,n=this.editor;t.bookmarks&&(n.focus(),e=n.getSelection()),this.locked={level:999},this.editor.loadSnapshot(t.contents),t.bookmarks?e.selectBookmarks(t.bookmarks):CKEDITOR.env.ie&&((e=this.editor.document.getBody().$.createTextRange()).collapse(!0),e.select()),this.locked=null,this.index=t.index,this.currentImage=this.snapshots[this.index],this.update(),this.refreshState(),n.fire("change")},getNextImage:function(t){var e,n=this.snapshots,i=this.currentImage;if(i)if(t){for(e=this.index-1;0<=e;e--)if(t=n[e],!i.equalsContent(t))return t.index=e,t}else for(e=this.index+1;e<n.length;e++)if(t=n[e],!i.equalsContent(t))return t.index=e,t;return null},redoable:function(){return this.enabled&&this.hasRedo},undoable:function(){return this.enabled&&this.hasUndo},undo:function(){if(this.undoable()){this.save(!0);var t=this.getNextImage(!0);if(t)return this.restoreImage(t),!0}return!1},redo:function(){if(this.redoable()&&(this.save(!0),this.redoable())){var t=this.getNextImage(!1);if(t)return this.restoreImage(t),!0}return!1},update:function(t){if(!this.locked){t||(t=new a(this.editor));for(var e=this.index,n=this.snapshots;0<e&&this.currentImage.equalsContent(n[e-1]);)--e;n.splice(e,this.index-e+1,t),this.index=e,this.currentImage=t}},updateSelection:function(t){if(!this.snapshots.length)return!1;var e=this.snapshots,n=e[e.length-1];return!(!n.equalsContent(t)||n.equalsSelection(t))&&(this.currentImage=e[e.length-1]=t,!0)},lock:function(t,e){if(this.locked)this.locked.level++;else if(t)this.locked={level:1};else{var n=null;if(e)n=!0;else{var i=new a(this.editor,!0);this.currentImage&&this.currentImage.equalsContent(i)&&(n=i)}this.locked={update:n,level:1}}},unlock:function(){if(this.locked&&!--this.locked.level){var t=this.locked.update;if(!(this.locked=null)===t)this.update();else if(t){var e=new a(this.editor,!0);t.equalsContent(e)||this.update()}}}},l.navigationKeyCodes={37:1,38:1,39:1,40:1,36:1,35:1,33:1,34:1},l.keyGroups={PRINTABLE:0,FUNCTIONAL:1},l.isNavigationKey=function(t){return!!l.navigationKeyCodes[t]},l.getKeyGroup=function(t){var e=l.keyGroups;return n[t]?e.FUNCTIONAL:e.PRINTABLE},l.getOppositeKeyGroup=function(t){var e=l.keyGroups;return t==e.FUNCTIONAL?e.PRINTABLE:e.FUNCTIONAL},l.ieFunctionalKeysBug=function(t){return CKEDITOR.env.ie&&l.getKeyGroup(t)==l.keyGroups.FUNCTIONAL};var a=CKEDITOR.plugins.undo.Image=function(t,e){(this.editor=t).fire("beforeUndoImage");var n=t.getSnapshot();CKEDITOR.env.ie&&n&&(n=n.replace(/\s+data-cke-expando=".*?"/g,"")),this.contents=n,e||(this.bookmarks=(n=n&&t.getSelection())&&n.createBookmarks2(!0)),t.fire("afterUndoImage")},i=/\b(?:href|src|name)="[^"]*?"/gi;a.prototype={equalsContent:function(t){var e=this.contents;return t=t.contents,CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)&&(e=e.replace(i,""),t=t.replace(i,"")),e==t},equalsSelection:function(t){var e=this.bookmarks;if(t=t.bookmarks,e||t){if(!e||!t||e.length!=t.length)return!1;for(var n=0;n<e.length;n++){var i=e[n],o=t[n];if(i.startOffset!=o.startOffset||i.endOffset!=o.endOffset||!CKEDITOR.tools.arrayCompare(i.start,o.start)||!CKEDITOR.tools.arrayCompare(i.end,o.end))return!1}}return!0}};var c=CKEDITOR.plugins.undo.NativeEditingHandler=function(t){this.undoManager=t,this.ignoreInputEvent=!1,this.keyEventsStack=new e,this.lastKeydownImage=null};c.prototype={onKeydown:function(t){var e=t.data.getKey();229!==e&&(-1<CKEDITOR.tools.indexOf(s,t.data.getKeystroke())?t.data.preventDefault():(this.keyEventsStack.cleanUp(t),t=this.undoManager,this.keyEventsStack.getLast(e)||this.keyEventsStack.push(e),this.lastKeydownImage=new a(t.editor),(l.isNavigationKey(e)||this.undoManager.keyGroupChanged(e))&&(t.strokesRecorded[0]||t.strokesRecorded[1])&&(t.save(!1,this.lastKeydownImage,!1),t.resetType())))},onInput:function(){if(this.ignoreInputEvent)this.ignoreInputEvent=!1;else{var t=this.keyEventsStack.getLast();t||(t=this.keyEventsStack.push(0)),this.keyEventsStack.increment(t.keyCode),this.keyEventsStack.getTotalInputs()>=this.undoManager.strokesLimit&&(this.undoManager.type(t.keyCode,!0),this.keyEventsStack.resetInputs())}},onKeyup:function(t){var e=this.undoManager;t=t.data.getKey();var n=this.keyEventsStack.getTotalInputs();this.keyEventsStack.remove(t),l.ieFunctionalKeysBug(t)&&this.lastKeydownImage&&this.lastKeydownImage.equalsContent(new a(e.editor,!0))||(0<n?e.type(t):l.isNavigationKey(t)&&this.onNavigationKey(!0))},onNavigationKey:function(t){var e=this.undoManager;!t&&e.save(!0,null,!1)||e.updateSelection(new a(e.editor)),e.resetType()},ignoreInputEventListener:function(){this.ignoreInputEvent=!0},attachListeners:function(){var t=this.undoManager.editor,e=t.editable(),n=this;e.attachListener(e,"keydown",function(t){n.onKeydown(t),l.ieFunctionalKeysBug(t.data.getKey())&&n.onInput()},null,null,999),e.attachListener(e,CKEDITOR.env.ie?"keypress":"input",n.onInput,n,null,999),e.attachListener(e,"keyup",n.onKeyup,n,null,999),e.attachListener(e,"paste",n.ignoreInputEventListener,n,null,999),e.attachListener(e,"drop",n.ignoreInputEventListener,n,null,999),e.attachListener(e.isInline()?e:t.document.getDocumentElement(),"click",function(){n.onNavigationKey()},null,null,999),e.attachListener(this.undoManager.editor,"blur",function(){n.keyEventsStack.remove(9)},null,null,999)}};var e=CKEDITOR.plugins.undo.KeyEventsStack=function(){this.stack=[]};e.prototype={push:function(t){return t=this.stack.push({keyCode:t,inputs:0}),this.stack[t-1]},getLastIndex:function(t){if("number"!=typeof t)return this.stack.length-1;for(var e=this.stack.length;e--;)if(this.stack[e].keyCode==t)return e;return-1},getLast:function(t){return-1!=(t=this.getLastIndex(t))?this.stack[t]:null},increment:function(t){this.getLast(t).inputs++},remove:function(t){-1!=(t=this.getLastIndex(t))&&this.stack.splice(t,1)},resetInputs:function(t){if("number"==typeof t)this.getLast(t).inputs=0;else for(t=this.stack.length;t--;)this.stack[t].inputs=0},getTotalInputs:function(){for(var t=this.stack.length,e=0;t--;)e+=this.stack[t].inputs;return e},cleanUp:function(t){(
t=t.data.$).ctrlKey||t.metaKey||this.remove(17),t.shiftKey||this.remove(16),t.altKey||this.remove(18)}}}(),CKEDITOR.plugins.add("wsc",{requires:"dialog",parseApi:function(t){t.config.wsc_onFinish="function"==typeof t.config.wsc_onFinish?t.config.wsc_onFinish:function(){},t.config.wsc_onClose="function"==typeof t.config.wsc_onClose?t.config.wsc_onClose:function(){}},parseConfig:function(t){t.config.wsc_customerId=t.config.wsc_customerId||CKEDITOR.config.wsc_customerId||"1:ua3xw1-2XyGJ3-GWruD3-6OFNT1-oXcuB1-nR6Bp4-hgQHc-EcYng3-sdRXG3-NOfFk",t.config.wsc_customDictionaryIds=t.config.wsc_customDictionaryIds||CKEDITOR.config.wsc_customDictionaryIds||"",t.config.wsc_userDictionaryName=t.config.wsc_userDictionaryName||CKEDITOR.config.wsc_userDictionaryName||"",t.config.wsc_customLoaderScript=t.config.wsc_customLoaderScript||CKEDITOR.config.wsc_customLoaderScript,t.config.wsc_interfaceLang=t.config.wsc_interfaceLang,CKEDITOR.config.wsc_cmd=t.config.wsc_cmd||CKEDITOR.config.wsc_cmd||"spell",CKEDITOR.config.wsc_version="v4.3.0-master-d769233",CKEDITOR.config.wsc_removeGlobalVariable=!0},onLoad:function(t){"moono-lisa"==(CKEDITOR.skinName||t.config.skin)&&CKEDITOR.document.appendStyleSheet(this.path+"skins/"+CKEDITOR.skin.name+"/wsc.css")},init:function(t){var e=CKEDITOR.env;this.parseConfig(t),this.parseApi(t),t.addCommand("checkspell",new CKEDITOR.dialogCommand("checkspell")).modes={wysiwyg:!(CKEDITOR.env.opera||CKEDITOR.env.air||document.domain!=window.location.hostname||e.ie&&(e.version<8||e.quirks))},"undefined"==typeof t.plugins.scayt&&t.ui.addButton&&t.ui.addButton("SpellChecker",{label:t.lang.wsc.toolbar,click:function(t){var e=t.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?t.container.getText():t.document.getBody().getText();(e=e.replace(/\s/g,""))?t.execCommand("checkspell"):alert("Nothing to check!")},toolbar:"spellchecker,10"}),CKEDITOR.dialog.add("checkspell",this.path+(CKEDITOR.env.ie&&CKEDITOR.env.version<=7?"dialogs/wsc_ie.js":window.postMessage?"dialogs/wsc.js":"dialogs/wsc_ie.js"))}}),CKEDITOR.config.plugins="dialogui,dialog,about,a11yhelp,dialogadvtab,basicstyles,bidi,blockquote,button,toolbar,notification,clipboard,panelbutton,panel,floatpanel,colorbutton,colordialog,templates,menu,contextmenu,copyformatting,div,resize,elementspath,enterkey,entities,popup,filebrowser,find,fakeobjects,flash,floatingspace,listblock,richcombo,font,forms,format,horizontalrule,htmlwriter,iframe,wysiwygarea,image,indent,indentblock,indentlist,smiley,justify,menubutton,language,link,list,liststyle,magicline,maximize,newpage,pagebreak,pastetext,pastefromword,preview,print,removeformat,save,selectall,showblocks,showborders,sourcearea,specialchar,scayt,stylescombo,tab,table,tabletools,tableselection,undo,wsc",CKEDITOR.config.skin="moono-lisa",J=function(t,e){var n=CKEDITOR.getUrl("plugins/"+e);t=t.split(",");for(var i=0;i<t.length;i++)CKEDITOR.skin.icons[t[i]]={path:n,offset:-t[++i],bgsize:t[++i]}},CKEDITOR.env.hidpi?J("about,0,,bold,24,,italic,48,,strike,72,,subscript,96,,superscript,120,,underline,144,,bidiltr,168,,bidirtl,192,,blockquote,216,,copy-rtl,240,,copy,264,,cut-rtl,288,,cut,312,,paste-rtl,336,,paste,360,,bgcolor,384,,textcolor,408,,templates-rtl,432,,templates,456,,copyformatting,480,,creatediv,504,,find-rtl,528,,find,552,,replace,576,,flash,600,,button,624,,checkbox,648,,form,672,,hiddenfield,696,,imagebutton,720,,radio,744,,select-rtl,768,,select,792,,textarea-rtl,816,,textarea,840,,textfield-rtl,864,,textfield,888,,horizontalrule,912,,iframe,936,,image,960,,indent-rtl,984,,indent,1008,,outdent-rtl,1032,,outdent,1056,,smiley,1080,,justifyblock,1104,,justifycenter,1128,,justifyleft,1152,,justifyright,1176,,language,1200,,anchor-rtl,1224,,anchor,1248,,link,1272,,unlink,1296,,bulletedlist-rtl,1320,,bulletedlist,1344,,numberedlist-rtl,1368,,numberedlist,1392,,maximize,1416,,newpage-rtl,1440,,newpage,1464,,pagebreak-rtl,1488,,pagebreak,1512,,pastetext-rtl,1536,,pastetext,1560,,pastefromword-rtl,1584,,pastefromword,1608,,preview-rtl,1632,,preview,1656,,print,1680,,removeformat,1704,,save,1728,,selectall,1752,,showblocks-rtl,1776,,showblocks,1800,,source-rtl,1824,,source,1848,,specialchar,1872,,scayt,1896,,table,1920,,redo-rtl,1944,,redo,1968,,undo-rtl,1992,,undo,2016,,spellchecker,2040,","icons_hidpi.png"):J("about,0,auto,bold,24,auto,italic,48,auto,strike,72,auto,subscript,96,auto,superscript,120,auto,underline,144,auto,bidiltr,168,auto,bidirtl,192,auto,blockquote,216,auto,copy-rtl,240,auto,copy,264,auto,cut-rtl,288,auto,cut,312,auto,paste-rtl,336,auto,paste,360,auto,bgcolor,384,auto,textcolor,408,auto,templates-rtl,432,auto,templates,456,auto,copyformatting,480,auto,creatediv,504,auto,find-rtl,528,auto,find,552,auto,replace,576,auto,flash,600,auto,button,624,auto,checkbox,648,auto,form,672,auto,hiddenfield,696,auto,imagebutton,720,auto,radio,744,auto,select-rtl,768,auto,select,792,auto,textarea-rtl,816,auto,textarea,840,auto,textfield-rtl,864,auto,textfield,888,auto,horizontalrule,912,auto,iframe,936,auto,image,960,auto,indent-rtl,984,auto,indent,1008,auto,outdent-rtl,1032,auto,outdent,1056,auto,smiley,1080,auto,justifyblock,1104,auto,justifycenter,1128,auto,justifyleft,1152,auto,justifyright,1176,auto,language,1200,auto,anchor-rtl,1224,auto,anchor,1248,auto,link,1272,auto,unlink,1296,auto,bulletedlist-rtl,1320,auto,bulletedlist,1344,auto,numberedlist-rtl,1368,auto,numberedlist,1392,auto,maximize,1416,auto,newpage-rtl,1440,auto,newpage,1464,auto,pagebreak-rtl,1488,auto,pagebreak,1512,auto,pastetext-rtl,1536,auto,pastetext,1560,auto,pastefromword-rtl,1584,auto,pastefromword,1608,auto,preview-rtl,1632,auto,preview,1656,auto,print,1680,auto,removeformat,1704,auto,save,1728,auto,selectall,1752,auto,showblocks-rtl,1776,auto,showblocks,1800,auto,source-rtl,1824,auto,source,1848,auto,specialchar,1872,auto,scayt,1896,auto,table,1920,auto,redo-rtl,1944,auto,redo,1968,auto,undo-rtl,1992,auto,undo,2016,auto,spellchecker,2040,auto","icons.png"),CKEDITOR.lang.languages={af:1,sq:1,ar:1,az:1,eu:1,bn:1,bs:1,bg:1,ca:1,"zh-cn":1,zh:1,hr:1,cs:1,da:1,nl:1,en:1,"en-au":1,"en-ca":1,"en-gb":1,eo:1,et:1,fo:1,fi:1,fr:1,"fr-ca":1,gl:1,ka:1,de:1,"de-ch":1,el:1,gu:1,he:1,hi:1,hu:1,is:1,id:1,it:1,ja:1,km:1,ko:1,ku:1,lv:1,lt:1,mk:1,ms:1,mn:1,no:1,nb:1,oc:1,fa:1,pl:1,"pt-br":1,pt:1,ro:1,ru:1,sr:1,"sr-latn":1,si:1,sk:1,sl:1,es:1,"es-mx":1,sv:1,tt:1,th:1,tr:1,ug:1,uk:1,vi:1,cy:1})}();